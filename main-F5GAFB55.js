var rhe=Object.create;var HM=Object.defineProperty,she=Object.defineProperties,ohe=Object.getOwnPropertyDescriptor,ahe=Object.getOwnPropertyDescriptors,lhe=Object.getOwnPropertyNames,uV=Object.getOwnPropertySymbols,che=Object.getPrototypeOf,dV=Object.prototype.hasOwnProperty,uhe=Object.prototype.propertyIsEnumerable;var zM=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t);var hV=(t,e,n)=>e in t?HM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ue=(t,e)=>{for(var n in e||={})dV.call(e,n)&&hV(t,n,e[n]);if(uV)for(var n of uV(e))uhe.call(e,n)&&hV(t,n,e[n]);return t},ti=(t,e)=>she(t,ahe(e));var pV=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var hhe=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of lhe(e))!dV.call(t,l)&&l!==n&&HM(t,l,{get:()=>e[l],enumerable:!(r=ohe(e,l))||r.enumerable});return t};var fV=(t,e,n)=>(n=t!=null?rhe(che(t)):{},hhe(e||!t||!t.__esModule?HM(n,"default",{value:t,enumerable:!0}):n,t));var dhe=function(t,e){this[0]=t,this[1]=e};var r2=t=>{var e=t[zM("asyncIterator")],n=!1,r,l={};return e==null?(e=t[zM("iterator")](),r=c=>l[c]=h=>e[c](h)):(e=e.call(t),r=c=>l[c]=h=>{if(n){if(n=!1,c==="throw")throw h;return h}return n=!0,{done:!1,value:new dhe(new Promise(p=>{var m=e[c](h);if(!(m instanceof Object))throw TypeError("Object expected");p(m)}),1)}}),l[zM("iterator")]=()=>l,r("next"),"throw"in e?r("throw"):l.throw=c=>{throw c},"return"in e&&r("return"),l};var mQ=pV((WYe,fQ)=>{"use strict";fQ.exports=eTe;function Q0(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function eTe(t){if(t=t||{},t.circles)return tTe(t);return t.proto?r:n;function e(l,c){for(var h=Object.keys(l),p=new Array(h.length),m=0;m<h.length;m++){var g=h[m],y=l[g];typeof y!="object"||y===null?p[g]=y:y instanceof Date?p[g]=new Date(y):ArrayBuffer.isView(y)?p[g]=Q0(y):p[g]=c(y)}return p}function n(l){if(typeof l!="object"||l===null)return l;if(l instanceof Date)return new Date(l);if(Array.isArray(l))return e(l,n);if(l instanceof Map)return new Map(e(Array.from(l),n));if(l instanceof Set)return new Set(e(Array.from(l),n));var c={};for(var h in l)if(Object.hasOwnProperty.call(l,h)!==!1){var p=l[h];typeof p!="object"||p===null?c[h]=p:p instanceof Date?c[h]=new Date(p):p instanceof Map?c[h]=new Map(e(Array.from(p),n)):p instanceof Set?c[h]=new Set(e(Array.from(p),n)):ArrayBuffer.isView(p)?c[h]=Q0(p):c[h]=n(p)}return c}function r(l){if(typeof l!="object"||l===null)return l;if(l instanceof Date)return new Date(l);if(Array.isArray(l))return e(l,r);if(l instanceof Map)return new Map(e(Array.from(l),r));if(l instanceof Set)return new Set(e(Array.from(l),r));var c={};for(var h in l){var p=l[h];typeof p!="object"||p===null?c[h]=p:p instanceof Date?c[h]=new Date(p):p instanceof Map?c[h]=new Map(e(Array.from(p),r)):p instanceof Set?c[h]=new Set(e(Array.from(p),r)):ArrayBuffer.isView(p)?c[h]=Q0(p):c[h]=r(p)}return c}}function tTe(t){var e=[],n=[];return t.proto?c:l;function r(h,p){for(var m=Object.keys(h),g=new Array(m.length),y=0;y<m.length;y++){var _=m[y],C=h[_];if(typeof C!="object"||C===null)g[_]=C;else if(C instanceof Date)g[_]=new Date(C);else if(ArrayBuffer.isView(C))g[_]=Q0(C);else{var S=e.indexOf(C);S!==-1?g[_]=n[S]:g[_]=p(C)}}return g}function l(h){if(typeof h!="object"||h===null)return h;if(h instanceof Date)return new Date(h);if(Array.isArray(h))return r(h,l);if(h instanceof Map)return new Map(r(Array.from(h),l));if(h instanceof Set)return new Set(r(Array.from(h),l));var p={};e.push(h),n.push(p);for(var m in h)if(Object.hasOwnProperty.call(h,m)!==!1){var g=h[m];if(typeof g!="object"||g===null)p[m]=g;else if(g instanceof Date)p[m]=new Date(g);else if(g instanceof Map)p[m]=new Map(r(Array.from(g),l));else if(g instanceof Set)p[m]=new Set(r(Array.from(g),l));else if(ArrayBuffer.isView(g))p[m]=Q0(g);else{var y=e.indexOf(g);y!==-1?p[m]=n[y]:p[m]=l(g)}}return e.pop(),n.pop(),p}function c(h){if(typeof h!="object"||h===null)return h;if(h instanceof Date)return new Date(h);if(Array.isArray(h))return r(h,c);if(h instanceof Map)return new Map(r(Array.from(h),c));if(h instanceof Set)return new Set(r(Array.from(h),c));var p={};e.push(h),n.push(p);for(var m in h){var g=h[m];if(typeof g!="object"||g===null)p[m]=g;else if(g instanceof Date)p[m]=new Date(g);else if(g instanceof Map)p[m]=new Map(r(Array.from(g),c));else if(g instanceof Set)p[m]=new Set(r(Array.from(g),c));else if(ArrayBuffer.isView(g))p[m]=Q0(g);else{var y=e.indexOf(g);y!==-1?p[m]=n[y]:p[m]=c(g)}}return e.pop(),n.pop(),p}}});var nte=pV((iT,mv)=>{"use strict";(function(t,e){typeof iT=="object"&&typeof mv<"u"?e(iT):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.JSC={}))})(iT,function(t){function e(s,o){function i(){this.constructor=s}lA(s,o),s.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}function n(s,o,i,a){var u=arguments.length,d=3>u?o:a===null?a=Object.getOwnPropertyDescriptor(o,i):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(s,o,i,a);else for(var v=s.length-1;0<=v;v--)(f=s[v])&&(d=(3>u?f(d):3<u?f(o,i,d):f(o,i))||d);return 3<u&&d&&Object.defineProperty(o,i,d),d}function r(s){var o=typeof Symbol=="function"&&s[Symbol.iterator],i=0;return o?o.call(s):{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}}}function l(s,o){var i=typeof Symbol=="function"&&s[Symbol.iterator];if(!i)return s;s=i.call(s);var a,u=[];try{for(;(o===void 0||0<o--)&&!(a=s.next()).done;)u.push(a.value)}catch(f){var d={error:f}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(d)throw d.error}}return u}function c(){for(var s=[],o=0;o<arguments.length;o++)s=s.concat(l(arguments[o]));return s}function h(s){return s!==void 0}function p(s,o){return Tse.call(s,o)}function m(s,o){return o=s&&s.indexOf(o),-1<o&&s.splice(o,1),o}function g(s,o){if(o){o=o.split(".");for(var i=0;s!==void 0&&i<o.length;i++)s=s[o[i]]}return s}function y(s,o){if(o)for(var i=0;s!==void 0&&i<o.length;i++)s=s[o[i]];return s}function _(s){return s===null}function C(s){var o=typeof s;if(o!=="undefined"){if(o==="boolean")return"boolean";if(o==="number")return"number";if(o==="function")return"function";if(s&&s.pop)return"array";if(o==="string")return"string";if(s===null)return"null";if(o==="object")return s&&s.getUTCMilliseconds?"date":"object"}return"undefined"}function S(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Mse.call(s)}function A(s,o){return function(i){return s(o(i))}}function E(s){return s!=null&&typeof s=="object"}function L(s){return s==null?"":qu(s)}function P(s){return!E(s)||S(s)!="[object Object]"?!1:(s=uA(s),s===null?!0:(s=ks.call(s,"constructor")&&s.constructor,typeof s=="function"&&s instanceof s&&q_.call(s)==Ese))}function R(s,o){for(var i=-1,a=s==null?0:s.length,u=0,d=[];++i<a;){var f=s[i];o(f,i,s)&&(d[u++]=f)}return d}function V(s,o){for(var i=-1,a=Array(s);++i<s;)a[i]=o(i);return a}function z(s){return E(s)&&S(s)=="[object Arguments]"}function H(){return!1}function U(s,o){return o=o??9007199254740991,!!o&&(typeof s=="number"||Lse.test(s))&&-1<s&&s%1==0&&s<o}function X(s){return typeof s=="number"&&-1<s&&s%1==0&&9007199254740991>=s}function Q(s){return E(s)&&X(s.length)&&!!bi[S(s)]}function Z(s){return function(o){return s(o)}}function ie(s,o){var i=yr(s),a=!i&&_m(s),u=!i&&!a&&wm(s),d=!i&&!a&&!u&&Z_(s);a=(i=i||a||u||d)?V(s.length,String):[];var f=a.length,v;for(v in s)!o&&!ks.call(s,v)||i&&(v=="length"||u&&(v=="offset"||v=="parent")||d&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||U(v,f))||a.push(v);return a}function ne(s){var o=s&&s.constructor;return s===(typeof o=="function"&&o.prototype||ny)}function de(s){if(!ne(s))return Ise(s);var o=[],i;for(i in Object(s))ks.call(s,i)&&i!="constructor"&&o.push(i);return o}function ue(s){var o=typeof s;return s!=null&&(o=="object"||o=="function")}function ge(s){return ue(s)?(s=S(s),s=="[object Function]"||s=="[object GeneratorFunction]"||s=="[object AsyncFunction]"||s=="[object Proxy]"):!1}function De(s){return s!=null&&X(s.length)&&!ge(s)}function Ce(s){return De(s)?ie(s):de(s)}function Pe(s,o){var i=[];return Q_(s,function(a,u,d){o(a,u,d)&&i.push(a)}),i}function Ve(s,o){return s===o||s!==s&&o!==o}function Ie(s,o){for(var i=s.length;i--;)if(Ve(s[i][0],o))return i;return-1}function Ne(s){var o=-1,i=s==null?0:s.length;for(this.clear();++o<i;){var a=s[o];this.set(a[0],a[1])}}function Xe(s){if(s!=null){try{return q_.call(s)}catch{}return s+""}return""}function Qe(s,o){return s=s?.[o],(o=!ue(s)||rF&&rF in s?!1:(ge(s)?Pse:Rse).test(Xe(s)))?s:void 0}function Wt(s){var o=-1,i=s==null?0:s.length;for(this.clear();++o<i;){var a=s[o];this.set(a[0],a[1])}}function Ut(s,o){s=s.__data__;var i=typeof o;return(i=="string"||i=="number"||i=="symbol"||i=="boolean"?o!=="__proto__":o===null)?s[typeof o=="string"?"string":"hash"]:s.map}function rn(s){var o=-1,i=s==null?0:s.length;for(this.clear();++o<i;){var a=s[o];this.set(a[0],a[1])}}function we(s){this.size=(this.__data__=new Ne(s)).size}function lt(s){var o=-1,i=s==null?0:s.length;for(this.__data__=new rn;++o<i;)this.add(s[o])}function zt(s,o){for(var i=-1,a=s==null?0:s.length;++i<a;)if(o(s[i],i,s))return!0;return!1}function be(s,o){return s.has(o)}function Ge(s,o,i,a,u,d){var f=i&1,v=s.length,x=o.length;if(v!=x&&!(f&&x>v))return!1;if((x=d.get(s))&&d.get(o))return x==o;x=-1;var b=!0,w=i&2?new lt:void 0;for(d.set(s,o),d.set(o,s);++x<v;){var k=s[x],D=o[x];if(a)var T=f?a(D,k,x,o,s,d):a(k,D,x,s,o,d);if(T!==void 0){if(T)continue;b=!1;break}if(w){if(!zt(o,function(M,I){if(!w.has(I)&&(k===M||u(k,M,i,a,d)))return w.push(I)})){b=!1;break}}else if(k!==D&&!u(k,D,i,a,d)){b=!1;break}}return d.delete(s),d.delete(o),b}function tt(s){var o=-1,i=Array(s.size);return s.forEach(function(a,u){i[++o]=[u,a]}),i}function me(s){var o=-1,i=Array(s.size);return s.forEach(function(a){i[++o]=a}),i}function $t(s,o,i,a,u,d,f){switch(i){case"[object DataView]":if(s.byteLength!=o.byteLength||s.byteOffset!=o.byteOffset)break;s=s.buffer,o=o.buffer;case"[object ArrayBuffer]":if(s.byteLength!=o.byteLength||!d(new ew(s),new ew(o)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Ve(+s,+o);case"[object Error]":return s.name==o.name&&s.message==o.message;case"[object RegExp]":case"[object String]":return s==o+"";case"[object Map]":var v=tt;case"[object Set]":if(v||(v=me),s.size!=o.size&&!(a&1))break;return(i=f.get(s))?i==o:(a|=2,f.set(s,o),o=Ge(v(s),v(o),a,u,d,f),f.delete(s),o);case"[object Symbol]":if(sy)return sy.call(s)==sy.call(o)}return!1}function At(s,o){for(var i=-1,a=o.length,u=s.length;++i<a;)s[u+i]=o[i];return s}function Tn(s,o,i){return o=o(s),yr(s)?o:At(o,i(s))}function Ai(){return[]}function Je(s){return Tn(s,Ce,gA)}function sn(s,o,i,a,u){if(s===o)return!0;if(s==null||o==null||!E(s)&&!E(o))return s!==s&&o!==o;e:{var d=yr(s),f=yr(o),v=d?"[object Array]":Tl(s),x=f?"[object Array]":Tl(o);v=v=="[object Arguments]"?"[object Object]":v,x=x=="[object Arguments]"?"[object Object]":x;var b=v=="[object Object]";if(f=x=="[object Object]",(x=v==x)&&wm(s)){if(!wm(o)){o=!1;break e}d=!0,b=!1}if(x&&!b)u||(u=new we),o=d||Z_(s)?Ge(s,o,i,a,sn,u):$t(s,o,v,i,a,sn,u);else if(i&1||(d=b&&ks.call(s,"__wrapped__"),v=f&&ks.call(o,"__wrapped__"),!d&&!v))if(x)t:if(u||(u=new we),d=i&1,v=Je(s),f=v.length,x=Je(o).length,f==x||d){for(b=f;b--;){var w=v[b];if(!(d?w in o:ks.call(o,w))){o=!1;break t}}if((x=u.get(s))&&u.get(o))o=x==o;else{x=!0,u.set(s,o),u.set(o,s);for(var k=d;++b<f;){w=v[b];var D=s[w],T=o[w];if(a)var M=d?a(T,D,w,o,s,u):a(D,T,w,s,o,u);if(M===void 0?D!==T&&!sn(D,T,i,a,u):!M){x=!1;break}k||(k=w=="constructor")}x&&!k&&(i=s.constructor,a=o.constructor,i!=a&&"constructor"in s&&"constructor"in o&&!(typeof i=="function"&&i instanceof i&&typeof a=="function"&&a instanceof a)&&(x=!1)),u.delete(s),u.delete(o),o=x}}else o=!1;else o=!1;else s=d?s.value():s,o=v?o.value():o,u||(u=new we),o=sn(s,o,i,a,u)}return o}function uo(s,o,i,a){var u=i.length,d=u,f=!a;if(s==null)return!d;for(s=Object(s);u--;){var v=i[u];if(f&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++u<d;){v=i[u];var x=v[0],b=s[x],w=v[1];if(f&&v[2]){if(b===void 0&&!(x in s))return!1}else{if(v=new we,a)var k=a(b,w,x,s,o,v);if(k===void 0?!sn(w,b,3,a,v):!k)return!1}}return!0}function bs(s){for(var o=Ce(s),i=o.length;i--;){var a=o[i],u=s[a];o[i]=[a,u,u===u&&!ue(u)]}return o}function Yf(s,o){return function(i){return i==null?!1:i[s]===o&&(o!==void 0||s in Object(i))}}function yd(s){var o=bs(s);return o.length==1&&o[0][2]?Yf(o[0][0],o[0][1]):function(i){return i===s||uo(i,s,o)}}function Ma(s){return typeof s=="symbol"||E(s)&&S(s)=="[object Symbol]"}function Tc(s,o){if(yr(s))return!1;var i=typeof s;return i=="number"||i=="symbol"||i=="boolean"||s==null||Ma(s)?!0:jse.test(s)||!Hse.test(s)||o!=null&&s in Object(o)}function zs(s,o){for(var i=-1,a=s==null?0:s.length,u=Array(a);++i<a;)u[i]=o(s[i],i,s);return u}function qu(s){if(typeof s=="string")return s;if(yr(s))return zs(s,qu)+"";if(Ma(s))return sF?sF.call(s):"";var o=s+"";return o=="0"&&1/s==-oy?"-0":o}function Wb(s,o){return yr(s)?s:Tc(s,o)?[s]:$se(L(s))}function gv(s){if(typeof s=="string"||Ma(s))return s;var o=s+"";return o=="0"&&1/s==-oy?"-0":o}function sT(s,o){o=Wb(o,s);for(var i=0,a=o.length;s!=null&&i<a;)s=s[gv(o[i++])];return i&&i==a?s:void 0}function ute(s,o){return Tc(s)&&o===o&&!ue(o)?Yf(gv(s),o):function(i){var a=i==null?void 0:sT(i,s);if(a=a===void 0?void 0:a,a===void 0&&a===o){if(a=i!=null){a=s,a=Wb(a,i);for(var u=-1,d=a.length,f=!1;++u<d;){var v=gv(a[u]);if(!(f=i!=null&&i!=null&&v in Object(i)))break;i=i[v]}f||++u!=d?a=f:(d=i==null?0:i.length,a=!!d&&X(d)&&U(v,d)&&(yr(i)||_m(i)))}v=a}else v=sn(o,a,3);return v}}function xd(s){return s}function Q6(s){return function(o){return o?.[s]}}function hte(s){return function(o){return sT(o,s)}}function bd(s,o){return typeof s=="function"?s:s==null?xd:typeof s=="object"?yr(s)?ute(s[0],s[1]):yd(s):Tc(s)?Q6(gv(s)):hte(s)}function J6(s,o,i,a){var u=s.length;for(i+=a?1:-1;a?i--:++i<u;)if(o(s[i],i,s))return i;return-1}function Ub(s){if(typeof s=="number")return s;if(Ma(s))return _A;if(ue(s)&&(s=typeof s.valueOf=="function"?s.valueOf():s,s=ue(s)?s+"":s),typeof s!="string")return s===0?s:+s;s=s.replace(oF,"");var o=Xse.test(s);return o||qse.test(s)?Kse(s.slice(2),o?2:8):Yse.test(s)?_A:+s}function Xf(s){s?(s=Ub(s),s=s===oy||s===-oy?17976931348623157e292*(0>s?-1:1):s===s?s:0):s=s===0?s:0;var o=s%1;return s===s?o?s-o:s:0}function eR(s,o,i){var a=s==null?0:s.length;return a?(i=i==null?0:Xf(i),0>i&&(i=nw(a+i,0)),J6(s,bd(o),i)):-1}function oT(s,o,i){switch(i.length){case 0:return s.call(o);case 1:return s.call(o,i[0]);case 2:return s.call(o,i[0],i[1]);case 3:return s.call(o,i[0],i[1],i[2])}return s.apply(o,i)}function aT(s,o,i){o=="__proto__"&&iw?iw(s,o,{configurable:!0,enumerable:!0,value:i,writable:!0}):s[o]=i}function tR(s,o,i){var a=s[o];ks.call(s,o)&&Ve(a,i)&&(i!==void 0||o in s)||aT(s,o,i)}function _d(s,o,i,a){var u=!i;i||(i={});for(var d=-1,f=o.length;++d<f;){var v=o[d],x=a?a(i[v],s[v],v,i,s):void 0;x===void 0&&(x=s[v]),u?aT(i,v,x):tR(i,v,x)}return i}function nR(s,o,i){return o=nw(o===void 0?s.length-1:o,0),function(){for(var a=arguments,u=-1,d=nw(a.length-o,0),f=Array(d);++u<d;)f[u]=a[o+u];for(u=-1,d=Array(o+1);++u<o;)d[u]=a[u];return d[o]=i(f),oT(s,this,d)}}function dte(s){return function(){return s}}function wd(s,o){return aF(nR(s,o,xd),s+"")}function $b(s,o,i){if(!ue(i))return!1;var a=typeof o;return(a=="number"?De(i)&&U(o,i.length):a=="string"&&o in i)?Ve(i[o],s):!1}function lT(s){return wd(function(o,i){var a=-1,u=i.length,d=1<u?i[u-1]:void 0,f=2<u?i[2]:void 0;for(d=3<s.length&&typeof d=="function"?(u--,d):void 0,f&&$b(i[0],i[1],f)&&(d=3>u?void 0:d,u=1),o=Object(o);++a<u;)(f=i[a])&&s(o,f,a,d);return o})}function Cd(s){if(De(s))s=ie(s,!0);else if(ue(s)){var o=ne(s),i=[];for(a in s)(a!="constructor"||!o&&ks.call(s,a))&&i.push(a);s=i}else{var a=[];if(s!=null)for(o in Object(s))a.push(o);s=a}return s}function pte(s,o,i,a){return s===void 0||Ve(s,ny[i])&&!ks.call(a,i)?o:s}function iR(s,o,i){(i===void 0||Ve(s[o],i))&&(i!==void 0||o in s)||aT(s,o,i)}function rR(s,o){return o?s.slice():(o=s.length,o=nF?nF(o):new s.constructor(o),s.copy(o),o)}function cT(s){var o=new s.constructor(s.byteLength);return new ew(o).set(new ew(s)),o}function sR(s,o){return o=o?cT(s.buffer):s.buffer,new s.constructor(o,s.byteOffset,s.length)}function oR(s,o){var i=-1,a=s.length;for(o||(o=Array(a));++i<a;)o[i]=s[i];return o}function aR(s){return typeof s.constructor!="function"||ne(s)?{}:toe(uA(s))}function vv(s){return E(s)&&De(s)}function Yb(s,o,i,a,u){s!==o&&hA(o,function(d,f){if(ue(d)){u||(u=new we),d=u;var v=s[f],x=o[f],b=d.get(x);if(!b){b=a?a(v,x,f+"",s,o,d):void 0;var w=b===void 0;if(w){var k=yr(x),D=!k&&wm(x),T=!k&&!D&&Z_(x);b=x,k||D||T?yr(v)?b=v:vv(v)?b=oR(v):D?(w=!1,b=rR(x,!0)):T?(w=!1,b=sR(x,!0)):b=[]:P(x)||_m(x)?(b=v,_m(v)?b=_d(v,Cd(v)):(!ue(v)||i&&ge(v))&&(b=aR(x))):w=!1}w&&(d.set(x,b),Yb(b,x,i,a,d),d.delete(x))}iR(s,f,b)}else v=a?a(s[f],d,f+"",s,o,u):void 0,v===void 0&&(v=d),iR(s,f,v)},Cd)}function lR(s,o,i,a,u,d){return ue(s)&&ue(o)&&(d.set(o,s),Yb(s,o,void 0,lR,d),d.delete(o)),s}function cR(s,o){for(var i=-1,a=s==null?0:s.length;++i<a&&o(s[i],i,s)!==!1;);return s}function fte(s,o){return s&&_d(o,Ce(o),s)}function mte(s,o){return s&&_d(o,Cd(o),s)}function gte(s,o){return _d(s,gA(s),o)}function vte(s,o){return _d(s,cF(s),o)}function uR(s){return Tn(s,Cd,cF)}function yte(s){var o=s.length,i=s.constructor(o);return o&&typeof s[0]=="string"&&ks.call(s,"index")&&(i.index=s.index,i.input=s.input),i}function xte(s,o){return s.set(o[0],o[1]),s}function uT(s,o,i,a){var u=-1,d=s==null?0:s.length;for(a&&d&&(i=s[++u]);++u<d;)i=o(i,s[u],u,s);return i}function bte(s,o){return s.add(o),s}function _te(s,o,i,a){var u=s.constructor;switch(o){case"[object ArrayBuffer]":return cT(s);case"[object Boolean]":case"[object Date]":return new u(+s);case"[object DataView]":return o=a?cT(s.buffer):s.buffer,new s.constructor(o,s.byteOffset,s.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return sR(s,a);case"[object Map]":return o=a?i(tt(s),1):tt(s),uT(o,xte,new s.constructor);case"[object Number]":case"[object String]":return new u(s);case"[object RegExp]":return o=new s.constructor(s.source,noe.exec(s)),o.lastIndex=s.lastIndex,o;case"[object Set]":return o=a?i(me(s),1):me(s),uT(o,bte,new s.constructor);case"[object Symbol]":return sy?Object(sy.call(s)):{}}}function yv(s,o,i,a,u,d){var f,v=o&1,x=o&2,b=o&4;if(i&&(f=u?i(s,a,u,d):i(s)),f!==void 0)return f;if(!ue(s))return s;if(a=yr(s)){if(f=yte(s),!v)return oR(s,f)}else{var w=Tl(s),k=w=="[object Function]"||w=="[object GeneratorFunction]";if(wm(s))return rR(s,v);if(w=="[object Object]"||w=="[object Arguments]"||k&&!u){if(f=x||k?{}:aR(s),!v)return x?vte(s,mte(f,s)):gte(s,fte(f,s))}else{if(!oi[w])return u?s:{};f=_te(s,w,yv,v)}}if(d||(d=new we),u=d.get(s))return u;d.set(s,f),x=b?x?uR:Je:x?Cd:Ce;var D=a?void 0:x(s);return cR(D||s,function(T,M){D&&(M=T,T=s[M]),tR(f,M,yv(T,o,i,M,s,d))}),f}function hT(s){return typeof s=="function"?s:xd}function hR(s,o){var i=-1,a=De(s)?Array(s.length):[];return Q_(s,function(u,d,f){a[++i]=o(u,d,f)}),a}function wte(s,o,i,a,u){return u(s,function(d,f,v){i=a?(a=!1,d):o(i,d,f,v)}),i}function Cte(s){return s!==s}function dT(s,o,i){if(o===o)e:{--i;for(var a=s.length;++i<a;)if(s[i]===o){s=i;break e}s=-1}else s=J6(s,Cte,i);return s}function Xb(s,o){return!(s==null||!s.length)&&-1<dT(s,o,0)}function kte(){}function Dte(s){return yr(s)||_m(s)||!!(uF&&s&&s[uF])}function qb(s,o,i,a,u){var d=-1,f=s.length;for(i||(i=Dte),u||(u=[]);++d<f;){var v=s[d];0<o&&i(v)?1<o?qb(v,o-1,i,a,u):At(u,v):a||(u[u.length]=v)}return u}function Ste(s,o){var i=s.length;for(s.sort(o);i--;)s[i]=s[i].value;return s}function Tte(s,o,i){var a=-1;return o=zs(o.length?o:[xd],Z(bd)),s=hR(s,function(u,d,f){return{criteria:zs(o,function(v){return v(u)}),index:++a,value:u}}),Ste(s,function(u,d){e:{for(var f=-1,v=u.criteria,x=d.criteria,b=v.length,w=i.length;++f<b;){t:{var k=v[f],D=x[f];if(k!==D){var T=k!==void 0,M=k===null,I=k===k,O=Ma(k),F=D!==void 0,N=D===null,j=D===D,W=Ma(D);if(!N&&!W&&!O&&k>D||O&&F&&j&&!N&&!W||M&&F&&j||!T&&j||!I){k=1;break t}if(!M&&!O&&!W&&k<D||W&&T&&I&&!M&&!O||N&&T&&I||!F&&I||!j){k=-1;break t}}k=0}if(k){if(f>=w){u=k;break e}u=k*(i[f]=="desc"?-1:1);break e}}u=u.index-d.index}return u})}function pT(s,o,i){var a=-1,u=s.length;for(0>o&&(o=-o>u?0:u+o),i=i>u?u:i,0>i&&(i+=u),u=o>i?0:i-o>>>0,o>>>=0,i=Array(u);++a<u;)i[a]=s[a+o];return i}function dR(s,o){o=Wb(o,s),s=2>o.length?s:sT(s,pT(o,0,-1));var i;return(i=s==null)||(i=o==null?0:o.length,i=delete s[gv(i?o[i-1]:void 0)]),i}function Ate(s){return vv(s)?s:[]}function Mte(s){return P(s)?void 0:s}function Ete(s){return s!=null&&s.length?qb(s,1):[]}function fT(s,o,i){return s===s&&(i!==void 0&&(s=s<=i?s:i),o!==void 0&&(s=s>=o?s:o)),s}function pR(s,o){for(var i,a=-1,u=s.length;++a<u;){var d=o(s[a]);d!==void 0&&(i=i===void 0?d:i+d)}return i}function fR(s,o){for(var i={},a=0;a<s.length;a++){var u=s[a],d=o(u,a);h(d)&&(i[d]=u)}return i}function $o(s,o,i,a,u,d,f){if(i&&(s.length||o.length)){var v=function(w){(w=i(w))&&o.push(w)},x=function(w){m(o,w),u&&u(w),w.destroy&&w.destroy()};if(!o.length)return K(s,v),o;s=fR(s,d||vF),f=fR(o,f||vF);for(var b in s)p(f,b)?a&&a(s[b],f[b]):v(s[b]);for(b in f)!p(s,b)&&x(f[b]);return o}}function Lte(s){return typeof s=="number"&&isNaN(s)}function gl(s,o,i){}function ho(s,o,i){return s}function kd(s,o){return s.indexOf?-1<s.indexOf(o):p(s,o)}function Kb(s,o){var i;if(s){if(p(s,o))return o;s=$n(s),o=o.toLowerCase();try{for(var a=r(s),u=a.next();!u.done;u=a.next()){var d=u.value;if(d.toLowerCase()===o)return d}}catch(v){var f={error:v}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(f)throw f.error}}}}function xi(s,o){for(var i in s)o(i)}function ke(s,o){for(var i in o)s[i]=o[i];return s}function ht(s,o){return ke(ke({},s),o)}function Ii(s,o){return Vi({},s,o)}function Vi(s,o,i){if(!i)return ke(s,o);for(var a in o)ah.call(i,a)&&(s[a]=o[a]);return s}function Ac(s,o,i){if(!i)return ke(s,o);for(var a in o)ah.call(i,a)||(s[a]=o[a]);return s}function Dd(s,o,i){return Ac(ke({},s),o,i)}function qf(s,o,i){return Vi(ke({},s),o,i)}function po(s,o){var i={},a;for(a in s)ah.call(o,a)||(i[a]=s[a]);return i}function un(s){for(var o={},i=0;i<s.length;i++)o[s[i]]=void 0;return o}function Mc(s){return s.length?s.length===1?s[0]:foe.apply([],s):[]}function mT(s){return un(s.split(","))}function gT(s,o){return fe(s,function(i,a){return i+o[a]})}function it(s){return s[s.length-1]}function vT(s,o,i,a,u){var d=null,f;for(f in o){var v=null;(!ah.call(s,f)||(i&&ah.call(i,f)?v=!sn(s[f],o[f]):s[f]!==o[f]))&&(d=d||{},d[f]=v?bn(o[f]):o[f],a||(s[f]=d[f]))}if(u)for(f in s)ah.call(o,f)||(d=d||{},d[f]=null,a||delete s[f]);return d}function le(s,o,i,a,u){s=arguments;var d;for(d=0;d<s.length;d++){var f=s[d];if(h(f)&&f!==null)return f}}function _s(s,o,i,a,u){s=arguments;var d;for(d=0;d<s.length;d++){var f=s[d];if(h(f)&&f!==null&&(!isNaN(f)||Array.isArray(f)))return f}}function Be(s){return typeof s=="string"}function Xi(s){return s&&typeof s=="object"}function nt(s){return s===void 0}function Qn(s){return s===null||nt(s)}function $n(s){return Object.keys(s)}function mR(s,o){o===void 0&&(o=".");var i=function(a,u,d){if(d===void 0&&(d=[]),typeof a!="object")return u&&d.push(u),d;for(var f=Object.keys(a),v=0,x=f.length;v<x;v++){var b=f[v];i(a[b],(u?u+o:"")+b,d)}return d};return i(s)}function vl(s,o){return!!We(s,function(i){return h(o[i])})}function gR(s,o){for(var i in s)if(ah.call(o,i))return!0;return!1}function yT(s,o){var i={},a;return K(o,function(u){(a=g(s,u))&&(i[u]=a)}),i}function St(s,o,i){if(s&&o&&typeof i<"u"){o=o.split(".");var a=o.length-1,u;for(u=0;u<a;u++){var d=o[u];s=s[d]===void 0?s[d]={}:s[d]}return s[o[a]]=i}}function Kf(s,o,i){if(s&&o&&typeof i<"u"){var a=o.length-1,u;for(u=0;u<a;u++){var d=o[u];s=s[d]===void 0?s[d]={}:s[d]}return s[o[a]]=i}}function yl(s,o,i,a,u,d){if(o=g(o,a),h(o))return o=u?u(o):o,typeof i=="function"?i(s,o):St(s,i,o),!0}function vR(s,o,i,a){if(o=y(o,a),h(o))return Kf(s,i,o),!0}function Zb(s,o,i){for(var a=0,u=s.length;a<u;a++)if(s[a][o]===i)return s[a]}function Zf(s,o){if(!s||o.length!==s.length)return!1;for(var i=0,a=o.length;i<a;i++)if(o[i]instanceof Array&&s[i]instanceof Array){if(!o[i].equals(s[i]))return!1}else if(o[i]!=s[i])return!1;return!0}function yR(s){var o=s.name;return o||(o=(s=s.toString().match(poe))&&s[1]),o}function xT(s){return window.eval(s)}function xR(s){if(!s)return s;for(var o=[],i=0;i<s.length;i++){var a=s[i],u=a.toLowerCase(),d=a===" ";0<i&&(d||a!==u)&&o.push("-"),!d&&o.push(u)}return o.join("")}function Qf(s,o,i){return s=rw(s),s.split(o,i)}function fo(s,o){return K(Qf(s,","),o)}function xl(s){if(!s)return[0,0,0,0];if(s.length===4&&s.push)return s;switch(C(s)){case"number":return[s,s,s,s];case"object":return[s.top||0,s.right||0,s.bottom||0,s.left||0];case"array":return Ite(s);case"string":return xl(bT(s))}return s}function Ite(s){switch(s.length){case 1:var o=s[0]||0;return[o,o,o,o];case 2:return o=s[0],s=s[1],[o,s,o,s];case 3:return o=s[1],[s[0],o,s[2],o]}return s}function bT(s){return fe(s.match(goe),function(o){return Number(o)})}function bR(s,o){for(var i=[],a=0;a<s;a++)i.push(o(a));return i}function nr(s,o,i){var a;(a=o)&&Be(a)&&(a=a.split(","));var u=a?function(d){if(-1<a.indexOf(d))return!0}:function(d){return!1};return dF(s,function(d,f,v){if(!u(f)){var x=-1<f.indexOf("_")?f.replace(voe,"$1."):f,b=C(d);if(-1<x.indexOf(".")){var w=g(v,x);nt(w)?St(v,x,d):b==="object"&&Xi(w)&&(d=se(w,d)),delete v[f]}b==="object"?nr(d,i&&a):b==="array"&&K(d,function(k){return nr(k,i&&a)})}}),s}function Sd(s){return 0<s?1:0>s?-1:0}function vn(s,o){return o===void 0&&(o=0),Math.round(s*Math.pow(10,o))/Math.pow(10,o)}function Qb(s){s=s.slice();var o=Xt;return s.sort(function(i,a){return o(s,function(u){return u===i}).length-o(s,function(u){return u===a}).length}).pop()}function Jb(s){s=s.slice(),s.sort(function(i,a){return i-a});var o=Jo.floor(s.length/2);return s.length%2?s[o]:(s[o-1]+s[o])/2}function Ote(s,o){var i,a=o.length;if(a===0)return 0;for(s.pop&&(s=rr(s)/s.length),o=o.slice(),o.sort(function(u,d){return u-d}),i=0;i<a&&!(o[i]>s);i++);return i/a*100}function Jf(s){return s.length&&rr(s)/s.length}function _T(s,o){return Math.round(s*Math.pow(10,o))/Math.pow(10,o)}function rt(s,o,i,a,u){return DT(i,a)?s:s+(u-i)/(a-i)*(o-s)}function wT(s){return s===null||(s=parseInt(s),s===0||ei(s))?"00":(s=Math.round(s),"0123456789ABCDEF".charAt((s-s%16)/16)+"0123456789ABCDEF".charAt(s%16))}function e_(s){if(s.pop){for(var o=0,i=s.length;o<i;o++)if(!CT(s[o]))return!1;return!0}return CT(s)}function CT(s){return!ei(s)&&h(s)&&s!==null}function kT(s,o){return s<o?-1:s>o?1:0}function yn(s,o){return s>o?s-o:o-s}function _R(s){return s*s*Math.PI}function xv(s){return Jo.max.apply(Jo,c(fe(s,function(o){return uy(o)})))}function wR(s,o){var i=s,a=[],u=function(){return i=(9301*i+49297)%233280,i/233280};for(s===-1&&(u=function(){return Math.random()}),s=0;s<o;s++)a[s]=u();return a}function DT(s,o,i){return i===void 0&&(i=SA),yn(s,o)<i}function em(s){var o=s.charCodeAt(0);return 64<o&&91>o?String.fromCharCode(o+32).concat(s.substr(1)):s}function Td(s){s===void 0&&(s=7);for(var o="";s--;)o+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[Math.floor(51*Math.random())];return o}function ST(s){return!ei(parseFloat(s))&&isFinite(parseFloat(s))}function CR(s,o,i,a){a===void 0&&(a=!0),i=i||o;for(var u=!1;!u;){u=s.indexOf(o);var d=s.indexOf(i,u+1);-1<u&&-1<d?(a?d++:u++,s=s.slice(0,u)+s.slice(d,s.length),u=!0):u=void 0,u=!u}return s}function kR(s){return 180*s/Math.PI}function Hs(s){return s*Math.PI/180}function t_(s){return s===360?s:(s+36e3)%360}function Ad(s,o,i,a){return{x:s+a*Math.cos(i),y:o+a*Math.sin(i)}}function Ec(s,o,i,a){return Ad(s,o,Hs(i),a)}function jn(s,o,i){return mo(s,Hs(o),i)}function mo(s,o,i){return[s[0]+i*Math.cos(o),s[1]+i*Math.sin(o)]}function TT(s,o){return[(s[0]+o[0])/2,(s[1]+o[1])/2]}function AT(s,o,i){return i===void 0&&(i=.5),[s[0]+(o[0]-s[0])*i,s[1]+(o[1]-s[1])*i]}function Mi(s,o){return s=Yo(s),o=Yo(o),(180*Math.atan2(o.y-s.y,o.x-s.x)/Math.PI+360)%360}function go(s,o){s=Yo(s),o=Yo(o);var i=o.x-s.x;return s=o.y-s.y,Math.sqrt(i*i+s*s)}function Ea(s,o){var i=o[0]-s[0];return s=o[1]-s[1],Math.sqrt(i*i+s*s)}function tm(s,o,i,a){s=Yo(s),o=Yo(o),i=Yo(i),a=Yo(a);var u=s.x;s=s.y;var d=i.x,f=i.y;i={x:null,y:null,onLine1:!1,onLine2:!1};var v=a.x-d;a=a.y-f;var x=o.x-u,b=o.y-s;if(o=a*x-v*b,o==0)return!bl(a)||!bl(v)||bl(x)&&bl(b)||!bl((d-u)*b-(f-s)*x)?!bl(b)||!bl(x)||bl(v)&&bl(a)||!bl((u-d)*a-(s-f)*v)?i:{x:u,y:s,onLine1:!0,onLine2:!0}:{x:d,y:f,onLine1:!0,onLine2:!0};f=s-f,d=u-d;var w=x*f-b*d;return f=(v*f-a*d)/o,d=w/o,i.x=u+f*x,i.y=s+f*b,0<f&&1>f&&(i.onLine1=!0),0<d&&1>d&&(i.onLine2=!0),i}function DR(s,o,i){var a=Mi(s,o);return i=Yo(i),a=Ad(i.x,i.y,Hs(a+90),5),a=tm(s,o,i,a),go(i,a)}function bv(s,o){var i=s[0];s=s[1];for(var a=!1,u=0,d=o.length-1;u<o.length;d=u++){var f=o[u][0],v=o[u][1],x=o[d][0];d=o[d][1],v>s!=d>s&&i<(x-f)*(s-v)/(d-v)+f&&(a=!a)}return a}function Rte(s,o){var i;try{for(var a=r(s),u=a.next();!u.done;u=a.next())if(bv(u.value,o))return!0}catch(f){var d={error:f}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(d)throw d.error}}}function SR(s,o,i){return s=Yo(s),o=Yo(o),i=Yo(i),s=(o.x-s.x)*(i.y-s.y)-(o.y-s.y)*(i.x-s.x),-1e-11>s?-1:1e-11<s?1:0}function _v(s,o,i,a){return function(u){if(0>=u){var d=0;return 0<s?d=o/s:!o&&0<i&&(d=a/i),d*u}if(1<=u)return d=0,1>i?d=(a-1)/(i-1):i===1&&1>s&&(d=(o-1)/(s-1)),1+d*(u-1);d=0;for(var f=1,v=0;d<f;){v=(d+f)/2;var x=3*s*(1-v)*(1-v)*v+3*i*(1-v)*v*v+v*v*v;if(1e-5>Math.abs(u-x))break;x<u?d=v:f=v}return 3*o*(1-v)*(1-v)*v+3*a*(1-v)*v*v+v*v*v}}function MT(s,o){o===void 0&&(o=1);var i=l(s[0],2),a=i[0];i=i[1];var u=l(s[1],2),d=u[0];u=u[1];var f=l(s[2],2),v=f[0];f=f[1];var x=l(s[3],2);s=x[0],x=x[1],o/=2;for(var b=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],w=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],k=0,D=0;12>D;D++){var T=o*b[D]+o,M=T*(T*(-3*a+9*d-9*v+3*s)+6*a-12*d+6*v)-3*a+3*d;T=T*(T*(-3*i+9*u-9*f+3*x)+6*i-12*u+6*f)-3*i+3*u,k+=w[D]*Math.sqrt(M*M+T*T)}return o*k}function ET(s,o){var i=l(s[0],2),a=i[0];i=i[1];var u=l(s[1],2),d=u[0],f=u[1];u=l(s[2],2);var v=u[0],x=u[1];u=l(s[3],2),s=u[0],u=u[1];var b=(d-a)*o+a,w=(f-i)*o+i;d=(v-d)*o+d,f=(x-f)*o+f,v=(s-v)*o+v,x=(u-x)*o+x;var k=(d-b)*o+b,D=(f-w)*o+w;return d=(v-d)*o+d,f=(x-f)*o+f,[[a,i],[b,w],[k,D],[(d-k)*o+k,(f-D)*o+D],[d,f],[v,x],[s,u]]}function Pte(s,o,i,a,u,d){var f=[];e:{var v=s[0];s=s[1];var x=o[0];o=o[1];var b=i[0];i=i[1];var w=a[0];a=a[1];var k=u[0];u=u[1];var D=d[0];d=d[1];var T=Math.min(k,D),M=Math.min(u,d),I=Math.max(k,D),O=Math.max(u,d),F,N=u-d,j=D-k;N=[N*(-1*v+3*x+-3*b+w)+j*(-1*s+3*o+-3*i+a),N*(3*v+-6*x+3*b)+j*(3*s+-6*o+3*i),N*(-3*v+3*x)+j*(-3*s+3*o),N*v+j*s+(k*d-D*u)],j=F=N.length-1;for(var W=[],$=0;$<=F&&1e-8>=Math.abs(N[$]);$++)F--;switch(F){case 1:F=N[j-1],$=W,$===void 0&&($=[]),F!==0&&$.push(-N[j]/F);break;case 2:var Y=N[j-2];F=W,F===void 0&&(F=[]),$=N[j-1]/Y,N=$*$-N[j]/Y*4,0<N?(N=Math.sqrt(N),F.push(.5*(-$+N)),F.push(.5*(-$-N))):N===0&&F.push(.5*-$);break;case 3:var te=N[j-3];F=W,F===void 0&&(F=[]),Y=N[j-2]/te;var ee=N[j-1]/te;$=(3*ee-Y*Y)/3,j=(2*Y*Y*Y-9*ee*Y+N[j]/te*27)/27,N=Y/3,Y=j*j/4+$*$*$/27,j/=2,1e-6>=Math.abs(Y)&&(Y=0),0<Y?(te=Math.sqrt(Y),$=-j+te,Y=0<=$?Math.pow($,1/3):-Math.pow(-$,1/3),$=-j-te,Y=0<=$?Y+Math.pow($,1/3):Y-Math.pow(-$,1/3),F.push(Y-N)):0>Y?($=Math.sqrt(-$/3),Y=Math.atan2(Math.sqrt(-Y),-j)/3,j=Math.cos(Y),Y=Math.sin(Y),te=Math.sqrt(3),F.push(2*$*j-N),F.push(-$*(j+te*Y)-N),F.push(-$*(j-te*Y)-N)):($=0<=j?-Math.pow(j,1/3):Math.pow(-j,1/3),F.push(2*$-N),F.push(-$-N))}for(F=0;F<W.length;F++)if(N=W[F],0<=N&&1>=N){if(te=v+(x-v)*N,Y=s+(o-s)*N,$=x+(b-x)*N,j=o+(i-o)*N,te+=($-te)*N,Y+=(j-Y)*N,$=te+($+(b+(w-b)*N-$)*N-te)*N,N=Y+(j+(i+(a-i)*N-j)*N-Y)*N,1e-7>Math.abs(k-D)){if(M<=N&&N<=O)if(f)f.push([$,N]);else break e}else if(1e-7>Math.abs(u-d)){if(T<=$&&$<=I)if(f)f.push([$,N]);else break e}else if($>=T&&N>=M&&$<=I&&N<=O)if(f)f.push([$,N]);else break e}}return f}function Fte(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var i=l(s[0],2);o=i[0],i=i[1];var a=l(s[1],2),u=a[0];a=a[1];var d=l(s[2],2),f=d[0];d=d[1],s=l(s[3],2);var v=s[0],x=s[1],b,w,k=b=Number.POSITIVE_INFINITY,D=w=Number.NEGATIVE_INFINITY;s=u-o;var T=a-i,M=f-u,I=d-a;v-=f,x-=d;for(var O=0;1.001>O;O+=.025){var F=o+O*s,N=i+O*T,j=u+O*M,W=a+O*I,$=f+O*v,Y=d+O*x,te=j-F,ee=W-N;$-=j,Y-=W,F+=O*te,N+=O*ee,j+=O*$,W+=O*Y,j-=F,W-=N,j=F+O*j,W=N+O*W,k=Math.min(k,j),b=Math.min(b,W),D=Math.max(D,j),w=Math.max(w,W)}return[k,b,D-k,w-b]}function Yo(s){return s.pop&&(s={x:s[0],y:s[1]}),s}function Nte(s,o,i,a,u,d){return d===void 0&&(d=0),d=((0>u?i:a)[1]-d)/Math.abs(Math.sin(Hs(u))),d=Math.min(d,(0<=u?i:a)[0]),o-s<d}function TR(s){var o=t_(s);return 90<o&&270>o?t_(o+180):s}function bl(s){return 1e-7>Math.abs(s)}function wv(s,o){return We(s,function(i){return wo(i,o)})}function Md(s,o){if(o=l(LR([Am(s),Am(o)]),2),s=o[0],o=o[1],SF(s,o))return o;if(SF(o,s))return s;if(o[0]<s[1])return[o[0],s[1]]}function Cv(s,o){var i=[];return nm(s,function(a){return Dm(i,Md(a,o))}),i}function LT(s,o){var i=0,a=o[0]-s[0],u=s[1]-o[1],d=(s[1]+s[0])/2,f=(o[1]+o[0])/2;return o[1]-o[0]>s[1]-s[0]?i=d-f:0>a?i=-a:0>u&&(i=u),o[0]+=i,o[1]+=i,o}function AR(s,o){for(var i=0;i<s.length;i++)if(wo(Am(s[i]),o))return i;return-1}function Bte(s,o){return nm(o,function(i){var a;try{for(var u=r(s),d=u.next();!d.done;d=u.next()){var f=d.value,v=f,x=i;if(Yd(v,x[0])||Yd(v,x[1])){if(v=f,x=i,Yd(v,x[0])&&Yd(v,x[1]))var b=f,w=[[f[0],i[0]],[i[1],f[1]]];else var k=f;break}}}catch(T){var D={error:T}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(D)throw D.error}}return b&&(D=s.indexOf(b),s.splice.apply(s,c([D,1],w))),k&&(w=s.indexOf(k),i=Yd(k,i[0])?[k[0],i[0]]:Yd(k,i[1])?[i[1],k[1]]:void 0,s[w]=i),s}),s}function IT(s,o,i){var a;i/=2;var u=[];try{for(var d=r(s),f=d.next();!f.done;f=d.next()){var v=f.value;u.push([Mn(v-i,o[0],o[1]),Mn(v+i,o[0],o[1])])}}catch(b){var x={error:b}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(x)throw x.error}}return u}function kv(s,o){var i=[],a;if(s=IR(s)?s:LR(s.slice(0)),IR(s))return o=o||Vte(s),nm(s,function(u,d,f){!d&&u[0]>o[0]?i.push([o[0],Math.min(u[0],o[1])]):d&&u[0]>o[0]&&a[1]!==u[0]&&i.push([Math.max(a[1],o[0]),Math.min(u[0],o[1])]),f&&u[1]<o[1]&&i.push([Math.max(o[0],u[1]),o[1]]),a=u}),i}function Vte(s){return s=MR(s),[Math.min.apply(Math,c(s)),Math.max.apply(Math,c(s))]}function zte(s){var o;return nm(s,function(i){return o=o&&yn(o[0],o[1])>yn(i[0],i[1])?o:i}),o}function MR(s){var o=[];return nm(s,function(i){return o.push.apply(o,c(i))}),o}function ER(s){var o=0;return nm(s,function(i){return o+=i[1]-i[0]}),o}function LR(s,o){return o===void 0&&(o=!1),s.sort(function(i,a){return o?a[0]-i[0]:i[0]-a[0]})}function nm(s,o){for(var i=0,a=s.length;i<a&&o(s[i],i,i===s.length-1,i?s[i-1]:void 0)!==!1;i++);}function IR(s){for(var o=0,i=s.length;o<i;o++)if(o&&s[o][0]<s[o-1][0])return!1;return!0}function OR(s,o,i){i&&(s=RR(s,i),o=RR(o,i)),i=s;var a=o;return i=i[2]*i[3]===a[2]*a[3]&&i[2]===a[2]?0:i<a?-1:i>a?1:0,i===0&&s[0]===o[0]&&s[1]===o[1]?0:i===0?-1:i}function RR(s,o){return fe(s,function(i){return vn(i,o)})}function ws(s,o){return[s[0]+o,s[1]+o,s[2]-2*o,s[3]-2*o]}function Ed(s,o){return Vr(On(s),o)}function Yn(s){var o=[],i;if(s&&s.length){for(var a=0,u=s.length;a<u;a++)(i=s[a])&&(o.push([i[0],i[1]]),o.push([i[0]+i[2],i[1]+i[3]]));return ir(o)}}function PR(s){for(var o=s[0],i=1,a=s.length;i<a;i++)if(o=i_(o,s[i]),0>=o[2]||0>=o[3]){o=null;break}return o}function ir(s){if(!s.length)return[0,0,0,0];var o=s[0],i=o[0],a=o[0],u=o[1];o=o[1];for(var d,f,v=0,x=s.length;v<x;v++){var b=s[v];(d=b[0])>a&&(a=d),d<i&&(i=d),(f=b[1])>o&&(o=f),f<u&&(u=f)}return[i,u,a-i,o-u]}function Hte(s,o){return Yn([s,ir(o)])}function n_(s,o){return Vr(On(s),[Math.max(s[2],o[0]),Math.max(s[3],o[1])])}function FR(s,o){var i=l(s,4);i[0],i[1],s=i[2];var a=i[3];i=l(o,4),i[0],i[1],o=i[2],i=i[3],s=a/s,a=s*i;var u=o/s;return a>o?a=s*u:u>i&&(u=a/s),[u,a]}function jte(s,o){var i=l(s,4);return i[0],i[1],s=i[2],i=i[3],o=l(o,4),o[0],o[1],o=Math.min(o[3]/i,o[2]/s),[s*o,i*o]}function On(s){return[$c(s),Yc(s)]}function i_(s,o){return s=s.slice(0),o=ta(o),s=OT(s,o[0]),s=RT(s,o[1]),s=PT(s,o[2]),FT(s,o[3])}function OT(s,o){var i=ci(s);return s[0]=s[0]<o?o:s[0],s[2]=i<o?o-s[0]:i-s[0],s}function RT(s,o){var i=li(s);return s[1]=s[1]<o?o:s[1],s[3]=i<o?o-s[1]:i-s[1],s}function PT(s,o){var i=ci(s);return s[0]=s[0]>o?o:s[0],s[2]=i>o?o-s[0]:i-s[0],s}function FT(s,o){var i=li(s);return s[1]=s[1]>o?o:s[1],s[3]=i>o?o-s[1]:i-s[1],s}function NR(s,o){return Ed(s,[s[2]+o[0]+o[2],s[3]+o[1]+o[3]])}function BR(s,o){return NR(s,o.map(function(i){return-i}))}function Rt(s){return[s.x,s.y,s.width,s.height]}function Vr(s,o){return[s[0]-o[0]/2,s[1]-o[1]/2,o[0],o[1]]}function _l(s){var o;return s.length&&(o=s[0].pop?fe(s,function(i){return MF(i)}).join(" "):MF(s)),o}function Gte(s,o){var i=o[0][1]==o[1][1];(o[0][0]>o[1][0]||o[0][1]>o[1][1])&&(o=[o[1],o[0]]);var a=[],u,d;return i?(o[0][0]<s[0]&&(u=[o[0],[s[0],o[0][1]]]),o[1][0]>s[0]+s[2]&&(d=[[s[0]+s[2],o[1][1]],o[1]])):(o[0][1]<s[1]&&(u=[o[0],[o[0][0],s[1]]]),o[1][1]>s[1]+s[3]&&(d=[[o[1][0],s[1]+s[3]],o[1]])),u&&a.push(u),d&&a.push(d),a}function VR(s,o,i,a,u,d){return o=r_(s,o,[Xd.x(i),Xd.x(a),Xd.y(u),Xd.y(d)]),Il(s,o)}function Ld(s,o,i,a){return i=ea.x(i),a=ea.y(a),{box:Il(s,r_(s,o,[i[0],i[1],a[0],a[1]])),contentAlignment:[i[2],a[2]]}}function r_(s,o,i){var a=i[0];a=(0,i[1])(o)-a(s);var u=i[2];return s=(0,i[3])(o)-u(s),[a,s]}function NT(s,o){return[s[0]-o[0],s[1]-o[1]]}function BT(s,o,i,a){if(i===void 0&&(i="xy"),a===void 0&&(a="mcmc"),s.length){var u=i==="xy"||i==="x";i=i==="xy"||i==="y";var d=Yn(s),f=r_(d,o,ea.default(a,"tltr"));f[0]=u?f[0]:0,f[1]=i?f[1]:0,s.forEach(function(v){return lh(v,f)})}}function zR(s,o){s=Tv(s.slice(0),o);for(var i=[],a=0,u=s.length;a<u;a++){var d=s[a];if(a){var f=Dv(d,i,o);d[0]=f[0],d[1]=f[1]}i.push(d)}return i}function Dv(s,o,i){if(!Pc(o,s))return s;var a=[],u=!1,d={u:"v",d:"v",l:"h",r:"h"}[i]==="v",f=d?Ll:El;d=d?ci:li;for(var v=f(s),x=d(s),b=0,w=o.length;b<w;b++){var k=o[b];f(k)>x||d(k)<v||a.push(k)}for(a=Tv(a,i),o=0,s=s.slice(0);!u;){if(f=a[o++],Rc(s,f)&&(u=s,f=[f],d=i,v=1<f.length?Yn(f):f[0],Pc(f,u)))switch(d){case"u":u[1]=v[1]-u[3];break;case"l":u[0]=v[0]-u[2];break;case"d":u[1]=li(v);break;case"r":u[0]=ci(v)}u=!Pc(a.slice(o),s)||o>=a.length}return s}function VT(s,o){var i=On(s),a=ta(s);return K(o,function(u){if(Rc(Mm(a),u)){var d=On(u);d=NT(i,d),1<Math.abs(d[1])?0<d[1]?a[1]=li(u):a[3]=u[1]:1<Math.abs(d[0])&&(0>d[0]?a[2]=u[0]:a[0]=ci(u))}}),Mm(a)}function Sv(s,o,i){if(s&&s.length){s=Tv(s.slice(0),o);var a={u:{getter:li,next:El,perpRange:function(f){return[f[0],ci(f)]},mustMove:function(f){return li(f)>i},move:function(f,v){return 0<v&&lh(f,[0,-v])}},d:{getter:El,next:li,perpRange:function(f){return[f[0],ci(f)]},mustMove:function(f){return f[1]<i},move:function(f,v){return 0>v&&lh(f,[0,-v])}},l:{getter:ci,next:Ll,perpRange:function(f){return[f[1],li(f)]},mustMove:function(f){return ci(f)>i},move:function(f,v){return 0<v&&lh(f,[-v,0])}},r:{getter:Ll,next:ci,perpRange:function(f){return[f[1],li(f)]},mustMove:function(f){return f[0]<i},move:function(f,v){return 0>v&&lh(f,[-v,0])}}}[o],u=i,d=a.perpRange(s[0]);return K(s,function(f,v){v=a.perpRange(f);var x=a.getter(f);Md(d,v)?a.move(f,x-u):a.mustMove(f)&&a.move(f,x-i),u=a.next(f),d=v}),s}}function Tv(s,o){o={u:{getter:li,dir:"desc"},d:{getter:El},l:{getter:ci,dir:"desc"},r:{getter:Ll}}[o];var i=o.getter,a=function(u,d){return u=i(u),d=i(d),u<d?-1:u>d?1:0};return s.sort(o.dir==="desc"?function(u,d){return a(d,u)}:a),s}function Lc(s,o){return s=HR(s,o),jR(s,o)}function HR(s,o){return o=LT([o[0],ci(o)],[s[0],ci(s)]),[o[0],s[1],o[1]-o[0],s[3]]}function jR(s,o){return o=LT([o[1],li(o)],[s[1],li(s)]),[s[0],o[0],s[2],o[1]-o[0]]}function Ic(s,o){var i=s[0],a=o[0];return(i=!(a<i||a+o[2]>i+s[2]))&&(i=s[1],a=o[1],i=!(a<i||a+o[3]>i+s[3])),i}function Oc(s,o){return o[0]>s[0]&&o[0]<s[0]+s[2]&&o[1]>s[1]&&o[1]<s[1]+s[3]}function GR(s,o,i){return o[0]-s[0]>i&&s[0]+s[2]-o[0]>i&&o[1]-s[1]>i&&s[1]+s[3]-o[1]>i}function Rc(s,o){var i=s[0],a=o[0];return i+.01<a+o[2]&&i+s[2]>a+.01&&s[1]+.01<o[1]+o[3]&&s[1]+s[3]>o[1]+.01}function Wte(s,o){if(!Rc(s,o))return 0;var i=Math.max(s[0],o[0])-Math.min(ci(s),ci(o)),a=Math.max(s[1],o[1])-Math.min(li(s),li(o));return i*=a,i/(s[2]*s[3]+o[2]*o[3]-i)}function Pc(s,o,i){for(var a=0,u=s.length;a<u;a++)if((!i||s[a].id!==i)&&Rc(s[a],o))return!0}function WR(s){for(var o=0,i=s.length;o<i;o++)for(var a=o;a<i;a++)if(a!==o&&Rc(s[o],s[a]))return!0}function UR(s,o){var i=[],a=function(v){v=tm(v[0],v[1],o[0],o[1]),v.onLine1&&v.onLine2&&i.push([v.x,v.y])},u=qd(s,"bl,br"),d=qd(s,"tl,tr"),f=qd(s,"tr,br");return s=qd(s,"tl,bl"),a(d),a(f),a(u),a(s),i.length?i:void 0}function zT(s,o,i){return ir(HT(s,o,i))}function HT(s,o,i){var a=o[0],u=l(s,4);s=u[0];var d=u[1],f=s+u[2];u=d+u[3];var v=[s+o[1],d+o[2]];return o=[s,d],d=[f,d],f=[f,u],s=[s,u],i=fe(i?[o,s]:[o,d,f,s],function(x){return{x:x[0],y:x[1],angle:Mi(v,x),len:go(v,x)}}),i=fe(i,function(x){return x=Ec(v[0],v[1],x.angle+a,x.len),[x.x,x.y]})}function Ute(s,o){return K(s,function(i){Rn(i,function(a){return a[3]}),i.reverse()}),$te(s,o)}function $te(s,o){var i=o.limitBox,a,u,d=Math.max.apply(Math,c(fe(s,function(x){return it(x)[2]})));if(h(o.masterSet))var f=fe(s[o.masterSet],function(x){return[2]});else f=[],K(s,function(x){f.push.apply(f,c(fe(x,function(b){return b[2]})))});f=Uc(Xt(f,function(x){return x>=d}).sort(function(x,b){return x>b?1:-1}));var v=function(x){var b=[],w=fe(s,function(T){return T=T.slice(0),T=We(T,function(M){return M[2]<=x}),b.push(T[2]),T}),k=0;K(w,function(T){return k+=T[3]});var D=[0,0,Math.max.apply(Math,c(b)),k];return D.ids=fe(w,function(T){return T.id}),D};return K(f,function(x){if(x=v(x),x[3]<i[3])return a=x,!1;u=x}),a||u}function $R(s){for(var o=[],i=1,a=Math.round(Math.sqrt(s));i<=a;i++)o.push([i,Math.ceil(s/i)]);return s=fe(o,function(u){return[u[1],u[0]]}).reverse(),o.push.apply(o,c(s)),o}function Yte(s){return fe($R(s),function(o){return o[0]})}function YR(){if(EA)return EA;for(var s=Qt.getElementsByTagName("script"),o=0;o<s.length;o++){var i=s[o],a=i.getAttribute("src");if(a&&i.src.indexOf("file://")!==0&&(i=a.split("?")[0],a=i.split("/").slice(-1)[0].toLowerCase(),a==="jscharting.js"||a.indexOf("jscharting")===0&&a.indexOf(".js")===a.length-3))return EA=i.split("/").slice(0,-1).join("/")}}function Id(){return MA||(MA=YR()||"https://code.jscharting.com/3.4.0")}function XR(){var s=ct.JSC;return!YR()&&(!s||!s.chart)}function jT(s,o,i,a){s_(s,o,i,a,Kte)}function Xte(s,o,i,a){s_(s,o,i,a,function(u){return u})}function s_(s,o,i,a,u){Zte(s,{success:function(d){var f=d.responseText;if(f)try{f=u(f)}catch(v){i&&i({path:s,data:f,status:d.status,state:"parsererror",error:v})}o&&o({path:s,status:d.status,data:f})},error:function(d){i&&i({path:s,status:d.status})},async:!a})}function qte(s){return typeof HTMLElement=="object"?s instanceof HTMLElement:s&&typeof s=="object"&&s!==null&&s.nodeType===1&&typeof s.nodeName=="string"}function Kte(s){var o=Qt.createElement("script");o.type="text/javascript",o.text=s,Qt.head.appendChild(o).parentNode.removeChild(o)}function Zte(s,o){var i=new XMLHttpRequest,a=o||{};o=a.data;var u=a.success,d=a.error,f=C(o);if(a=a.async!==!1,i){if(f==="function")u=o,o=null;else if(f==="object"){f=[];for(var v in o)o.hasOwnProperty(v)&&f.push(encodeURIComponent(v)+"="+encodeURIComponent(o[v]));o=f.join("&")}return i.open(o?"POST":"GET",s,a),o&&(i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.setRequestHeader("Api-Key","foobar")),i.onreadystatechange=function(){if(i.readyState===4){var x=i.status;if(x=200<=x&&300>x||x===304,u&&x&&u(i),d&&!x)return d(i)}},i.readyState===4||i.send(o),i}}function Qte(s,o){function i(){new Date().getTime()-a>=o?s.call():u.value=ct.requestAnimationFrame(i)}var a=new Date().getTime(),u={};return u.value=ct.requestAnimationFrame(i),u}function Jte(s){s&&s.value&&ct.cancelAnimationFrame(s.value)}function qR(s,o){o===void 0&&(o=1);var i=o,a=function(){1>i?setTimeout(s,0):(i--,ct.requestAnimationFrame(a))};a()}function ene(s,o){return new lw.Intl.DateTimeFormat(s,o)}function tne(s,o){return new lw.Intl.NumberFormat(s,o)}function nne(s,o){var i=lw.Intl.Collator;return i?new i(s,o):null}function ine(s,o,i){var a=i._getNumberFormat(i.locale,i.options);if(a){if(o||i.formatString){var u=o||i.formatString;o=Oi.None;var d=Soe.exec(u)[0];switch(d.toLowerCase()){case"c":o=Oi.Currency;break;case"n":o=Oi.Number;break;case"p":o=Oi.Percent;break;case"f":o=Oi.Float;break;case"d":o=Oi.Decimal;break;case"e":o=Oi.Exponential;break;case"g":o=Oi.General;break;case"a":o=Oi.NumericSymbol;break;case"t":o=Oi.PowersOfTen;break;case"x":o=Oi.Hexadecimal;var f=d===d.toLowerCase()?"lower":"upper"}if(u=Toe.exec(u),u=u===null?null:parseInt(u[0]),f={type:o,specifier:u,charCase:f},f.type)return sne(f,s,i)}return a.format(s)}return s!==null?s.toLocaleString():""}function rne(s,o,i){if(o===void 0&&(o={}),!s)return"";var a=Be(o),u=a?o:o.formatString||i.formatString,d=Roe[u];if(d){var f=d.options;if(!f&&d.formatString)return KR(s,d.formatString,i);if(!f&&d.handler)return d.handler(s);o=ht(a?{}:o,f||{}),o=i._getDateTimeFormat(i.locale,o)}else o=i._getDateTimeFormat(i.locale,i.options);return o?u&&!d?KR(s,u,i):o.format(s):s.toLocaleDateString()}function sne(s,o,i){var a=function(w,k){return function(D){return Math.min(Math.max(parseInt(D||0),w),k)}},u=function(w){return a(0,20)(w)},d=function(w){return a(1,21)(w)},f=ht({minimumFractionDigits:0,maximumFractionDigits:2},i.options),v=!0,x=lw.Intl.NumberFormat;if(!x)return o;switch(s.type){case Oi.Number:case Oi.Float:f.style="decimal",s.specifier!==null&&(f.maximumFractionDigits=u(s.specifier),f.minimumFractionDigits=u(s.specifier));break;case Oi.Currency:f.style="currency",f.currency=Foe(i.locale),s=Qn(s.specifier)?2:s.specifier,f.minimumFractionDigits=u(s),f.maximumFractionDigits=u(s);break;case Oi.Percent:f.style="percent",s.specifier&&(f.minimumFractionDigits=u(s.specifier));break;case Oi.Decimal:f.style="decimal",f.useGrouping=f.useGrouping||!1,s.specifier!==null&&(f.maximumFractionDigits=u(s.specifier),f.minimumFractionDigits=u(s.specifier));break;case Oi.Exponential:o=o.toExponential(s.specifier),v=!1;break;case Oi.General:f.style="decimal",s.specifier&&(f.maximumSignificantDigits=d(s.specifier));break;case Oi.Hexadecimal:o=o.toString(16),s.specifier&&(o=na(o,s.specifier)),s.charCase==="upper"&&(o=o.toUpperCase()),v=!1;break;case Oi.NumericSymbol:o=Noe(o,s.specifier),v=!1;break;case Oi.PowersOfTen:if(o){v=Math.floor(_T(Math.log(Math.abs(o))/Math.log(10),6)),u=o/Math.pow(10,v);var b=s.specifier||0;s=1e-5>Math.abs(Math.abs(u)-1),d=u%1?2:0,(Math.abs(o)>=Math.pow(10,b)||Math.abs(o)<=Math.pow(10,-b))&&(o="10<sup>"+v+"</sup>",o=(s?0>u?"-":"":u.toFixed(d)+"\u22C5")+o)}v=!1}return v?(delete f.specifier,new x(i.locale,f).format(o)):o.toString()}function KR(s,o,i){var a=function(u,d){i.dateTimeFormatters[d]||(i.dateTimeFormatters[d]=i._getDateTimeFormat(i.locale,u))};return o.replace(Aoe,function(u){if(!u)return"";switch(u){case"h":case"hh":case"t":case"tt":a({hour12:!0,hour:"numeric"},u);break;case"MMM":a({month:"short"},u);break;case"MMMM":a({month:"long"},u);break;case"g":a({era:"short"},u);break;case"gg":a({era:"long"},u);break;case"ddd":a({weekday:"short"},u);break;case"dddd":a({weekday:"long"},u)}return ia[u](s,i.dateTimeFormatters[u])})}function one(s,o,i){var a=o.reverse(),u=function(){if(a.length===0)i();else{var d=a.pop();s(function(){d(),u()})}};u()}function zi(s,o,i,a){function u(f){function v(T){if(w&&w.kind==="Point"&&w.series.ctmIsType("calendar")&&!isNaN(T)){if(k){var M=k.calIndexer.viewRange;if(M.length===2&&(T<M[0].getTime()||T>M[1].getTime()))return}return We(b,function(I){return I.currentOptions.attributes.date<=T&&I.currentOptions.attributes.endDate>=T})}}var x=C(f),b=o(),w=b[0],k=w&&w.chart;if(x==="undefined")return d();if(x==="array"){if(o_(f)){x=i&&i.call(this,f);var D=d();return D.items=x||[],D}i&&i(f)}else{if(x==="number")return 0>f&&b.length&&(D=b[b.length+f]),D||b[f]||v(f);if(x==="string")return We(b,function(T){return T.currentOptions&&(T.currentOptions.name===f||T.currentOptions.id===f||T.currentOptions.key===f)||T.id===f||T.key===f||T.prefix===f})||v(Date.parse(f));if(x==="object"||x==="function")return d().filter(f)}}var d=function(){return new s(o(),a)};return u.add=a?function(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];return a.push.apply(a,c(f)),d()}:d,u.splice=a?function(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];return a.splice.apply(a,c(f)),d()}:d,u.remove=a?function(){for(var f,v=[],x=0;x<arguments.length;x++)v[x]=arguments[x];return x=d(),(f=a.remove).call.apply(f,c([x],v)),x}:d,u}function ZR(s,o){return function(){var i=[];return s.each(function(a){i.push.apply(i,c(o(a)))}),i}}function GT(s,o){return function(i){o(s,i)}}function o_(s){var o=function(d){return ai(d.map(function(f){return C(f)}))},i=function(d){return d=o(d),d.length===1&&d[0]==="string"};if(s.pop){var a=o(s);if(i(s))return{firstId:s[0],levels:1};if(a.length===1&&a[0]==="array"){var u=[];if(s.forEach(function(d){return u.push.apply(u,c(o(d)))}),u=ai(u),u.length===1&&u[0]==="string")return{firstId:s[0][0],levels:2}}}}function WT(s){return s.length&&s[s.length-1]!=="/"&&(s+="/"),s}function ane(s){if(!my){var o=fy?WT(fy)+"icons/":void 0;o||(o=(o=Id())?WT(o)+"icons/":null),my=o||"/dist/icons/"}return my=WT(my),my+s+".js"}function QR(s,o,i){if(o===void 0&&(o=null),i===void 0&&(i=null),s&&s!=="none"){var a=s.replace("{os}",Goe),u=Lm[a];return h(u)?u:(Lm[a]=null,u===void 0&&jT(ane(s),function(d){if(o){var f=!fy&&XR();d.displayCdnWarning=f,o(d)}},function(d){Lm[a]=null,i&&i(d)},!0),Lm[a])}}function UT(s,o){if(o===void 0&&(o=!1),s)for(var i=$n(s),a=0;a<i.length;a++){var u=i[a];(!Lm[u]||o)&&(Lm[u]=s[u])}}function Av(s,o){return ke(un(s),o)}function lne(s,o,i,a){a===void 0&&(a={});var u=a.noKerning||!1,d=a.delimiter||" ",f=new RegExp("([^"+d+"]+)"),v=o.fontSize||i.fontSize,x=eae(o,i);Be(v)&&(v=parseInt(v));var b=v*x.height;x={descent:x.descent*b,leading:(x.height-x.descent)*b,height:b,fontSize:v},b="\u2026";var w=Im(b,o,i,u);if(v=s,s=Im(s,o,i,u),a.ellipsisWidth&&s>a.ellipsisWidth){for(;v&&s+w>a.ellipsisWidth;)v=v.slice(0,v.length-1),s=Im(v,o,i,u);v+=b,s+=w}if(a={width:s,metrics:x,text:v,style:o,delimiter:{text:d,width:Im(d,o,i,u)},ellipsis:{text:b,width:w}},f=v.split(f),d=f.length)for(a.parts=[],s=0;s<d;s++)v=f[s],v!==void 0&&a.parts.push({text:v,width:Im(v,o,i,u)});return a}function JR(s,o){var i={font:s.fontFamily},a=[].concat(mw).concat(FA);a.push(". ."),a=$T(a,s,o);for(var u={},d={},f=0,v=mw.length;f<v;f++)u[mw[f]]=a[mw[f]];u[" "]=a[". ."]-2*a["."];var x=!1;for(f=0,v=FA.length;f<v;f++){var b=FA[f],w=a[b[0]]+a[b[1]];w-=a[b],.001<w&&(x=!0)}if(x)for(s=$T(PA,s,o),f=0,v=PA.length;f<v;f++)b=PA[f],w=a[b[0]]+a[b[1]],w-=s[b],.001<w&&(d[b]=w);return i.stringWidths=u,i.kerning=d,i}function a_(s){return s.getComputedTextLength?s.getComputedTextLength():0}function $T(s,o,i){var a={},u=Qt.createElementNS("http://www.w3.org/2000/svg","svg");i.fontFamily&&u.setAttribute("font-family",i.fontFamily),i.fontWeight&&u.setAttribute("font-weight",i.fontWeight),i.textRendering&&u.setAttribute("text-rendering",i.textRendering),i=Qt.createDocumentFragment();var d=Qt.createElementNS("http://www.w3.org/2000/svg","g");d.setAttribute("font-size","100px"),o.fontFamily&&d.setAttribute("font-family",o.fontFamily),o.fontWeight&&d.setAttribute("font-weight",o.fontWeight),i.appendChild(d),o=0;for(var f=s.length;o<f;o++)d.appendChild(YT(s[o]));for(u.appendChild(i),Qt.body.appendChild(u),i=u.childNodes[0].childNodes,o=0,f=i.length;o<f;o++)a[s[o]]=a_(i[o]);return u.parentNode.removeChild(u),a}function YT(s){var o=Qt.createElementNS("http://www.w3.org/2000/svg","text");return o.textContent=s,o}function XT(s,o){if(!NA){BA||(BA=cne());var i=BA,a=i.roundTarget==="fontSize"?function(u){return Math.round(u/i.roundStep)*i.roundStep}:function(u){return u};NA=function(u,d){return d=a(d),u*=d/100,i.roundTarget==="width"&&(!i.roundThreshold||d<i.roundThreshold)?Math.round(u/i.roundStep)*i.roundStep:u}}return NA(s,o)}function cne(){var s=1,o=0,i=Qt.createElementNS("http://www.w3.org/2000/svg","svg"),a=Qt.createDocumentFragment(),u=function(O){var F=YT("m");F.setAttribute("font-size",O+"px"),a.appendChild(F)};i.setAttribute("text-rendering","geometricPrecision"),u(100);for(var d=[100],f=10;11>=f;)u(f),d.push(f),f+=.25;for(f=13;20>f;)u(f),d.push(f),f+=1;i.appendChild(a),Qt.body.appendChild(i),u=!0;var v=!1;v=0,f=i.childNodes;for(var x=[],b=[],w=a_(f[0]),k=1;6>k;k++){var D=a_(f[k]),T=d[k]*w/100,M=x.length?+!(.01>=Math.abs(x[x.length-1]-D)):0;.1>=Math.abs(T-D)||(u=!1),.01>=Math.abs(T-D)&&v++,x.push(D),b.push(M)}if(v=2<=v,!u){if(v){var I="fontSize";d=b.join(""),d==="01010"?s=.5:d==="00100"&&(s=1)}else for(o=d[6],I="width",s=1,k=6;13>k;k++)if(D=a_(f[k]),T=d[k]*w/100,.1>=Math.abs(T-D)){o=d[k];break}}return i.parentNode.removeChild(i),{roundTarget:I,roundStep:s,roundThreshold:o}}function une(s,o){var i=hne(s,o);return function(a){return a===1?o:i(a)}}function hne(s,o){function i(f){for(var v=f.length,x,b=[],w=[];(x=iae.exec(f))!==null;)w.push({text:x[0],index:x.index,end:x.index+x[0].length});x=function(I,O,F){b.push({type:I,text:f.substring(O,F),index:O,end:F})};var k=0,D=!1;if(w.length)for(;!D&&k<v;){var T=We(w,function(I){return I.index===k}),M=void 0;T?(x("number",k,T.end),k=T.end):(M=We(w,function(I){return I.index>k}))?(x("text",k,M.index),k=M.index):(x("text",k,v),D=!0)}else x("text",0,v);return b}var a=i(s),u=i(o),d=function(){for(var f=function(T,M){return We(T,function(I,O){return O>M&&I.type==="number"})},v=0,x=0,b=!1,w=[];!b;){var k=a[v],D=u[x];if(!k&&!D){b=!0;break}k&&D?k.type===D.type?(k.type==="text"?w.push(Od(k.text,D.text)):w.push(dne(k.text,D.text)),v++,x++):k.type==="number"?(f(u,x)?w.push(Od("",D.text)):(w.push(Od(k.text,D.text)),v++),x++):f(a,v)?(w.push(Od(k.text,"")),v++):(w.push(Od(k.text,D.text)),v++,x++):(k?w.push(Od(k.text,"")):w.push(Od("",D.text)),v++,x++)}return w}();return function(f){return f=Mn(rt(0,1,0,.8,f),0,1),f===0?s:f===1?o:d.map(function(v){return v(f)}).join("")}}function Od(s,o){if(s===o)return function(b){return o};var i=s.length,a=o.length,u=Math.max(i,a),d=a>i,f=Math.max(a-o.trimStart().length,i-s.trimStart().length);i=Math.max(a-o.trimEnd().length,i-s.trimEnd().length);var v="                      ".substr(0,f),x="                      ".substr(0,i);return function(b){if(b===0)return s;if(1<=b)return o;var w=[];b=Math.round(b*u),d||(b=u-1-b);for(var k=0;k<u;k++){var D=d?k:u-1-k;w[D]=D<b?d?o[D]:s[D]:d?s[D]:o[D]}return w=v+w.join("").trim()+x,w.length>u?w.substring(0,u):w}}function dne(s,o){function i(k){var D=k.indexOf(","),T=k.indexOf("."),M=k.indexOf("0")===0?k.length:0;return{commas:-1<D,decimalPlaces:-1<T?k.length-1-T:0,leadingZero:M}}var a=/((-|\+?)([0-9]{1,3}(,?[0-9])*)(\.[0-9]+|\.)?|\.[0-9]+)/g,u=s.match(a)[0];o=o.match(a)[0],a=[s.indexOf(u),u.length];var d=a[0]+a[1],f=0<a[0]?s.substr(0,a[0]):"",v=d<s.length?s.substring(d,s.length):"",x=parseFloat(u.replace(/,/gi,"")),b=parseFloat(o.replace(/,/gi,""));s=i(u),u=i(o);var w=function(k,D){var T=k.decimalPlaces>D.decimalPlaces?k:D;return T.commas=k.commas||D.commas,T.leadingZero=k.leadingZero||D.leadingZero,T}(s,u);return function(k){return k=rt(x,b,0,1,k),k=dy(k,(w.commas?"n":"d")+w.decimalPlaces),w.leadingZero&&typeof k.padStart=="function"&&(k=k.padStart(w.leadingZero,"0")),f+k+v}}function Rd(s){if(s={chartType:{type:"enum",members:{vertical:{isDefault:!0,chain:"enum_seriesType"},horizontal:{chain:"enum_seriesType"},pie:{chain:"enum_pieType",enumAttributes:{seriesLayout:"visualShape",behavior:"colorByPoint,labelConnector,noNameGrouping"}},gauge:{chain:"enum_gaugeType",enumAttributes:{seriesLayout:"visualShape",behavior:"colorByPoint,noNameGrouping,snapToZero"}},radar:{chain:"enum_radarType",enumAttributes:{seriesLayout:"visualShape"}},funnel:{chain:"enum_funnelShapeType",enumAttributes:{seriesLayout:"visualShape",funnelNozzleType:"nozzle",behavior:"colorByPoint,labelConnector,noNameGrouping"}},pyramid:{chain:"enum_funnelOrientationType",enumAttributes:{funnelShapeType:"square",seriesLayout:"visualShape",behavior:"colorByPoint,labelConnector,noNameGrouping"}},cone:{chain:"enum_funnelOrientationType",enumAttributes:{funnelShapeType:"round",seriesLayout:"visualShape",behavior:"colorByPoint,labelConnector,noNameGrouping"}},heatmap:{chain:"enum_columnType",enumAttributes:{behavior:"colorByPoint"}},treemap:{chain:"enum_treemapMode",enumAttributes:{behavior:"noNameGrouping,tree"}},map:{chain:"enum_columnType",enumAttributes:{behavior:"noNameGrouping"}},organizational:{chain:"enum_organizationConnectorType",enumAttributes:{behavior:"annotation,tree,noNameGrouping,noLegend"}},venn:{chain:"enum_vennType",enumAttributes:{seriesLayout:"visualShape",behavior:"colorByPoint,noLegend"}},calendar:{chain:"enum_calendarType",enumAttributes:{}}},terminateAt:"enum_seriesType"},treemapMode:{members:{squarify:{isDefault:!0,chain:"enum_treemapDirection"},sliceanddice:{chain:"enum_treemapDirection"},stripes:{chain:"enum_treemapDirection"}}},treemapDirection:{members:{horizontal:{isDefault:!0,chain:"enum_columnType"},vertical:{chain:"enum_columnType"}}},radarType:{type:"enum",members:{auto:{isDefault:!0,chain:"enum_seriesType"},polar:{chain:"enum_seriesType"},spider:{chain:"enum_seriesType"}}},gaugeType:{type:"enum",members:{circular:{isDefault:!0,chain:"enum_circularGaugeType"},linear:{chain:"enum_linearGaugeType"}}},linearGaugeType:{type:"enum",members:{vertical:{isDefault:!0,chain:"enum_seriesType"},horizontal:{chain:"enum_seriesType"}}},seriesType:{type:"enum",members:{column:{chain:"enum_columnType",enumAttributes:{behavior:"snapToZero,clusters,drawRect"}},line:{isDefault:!0,chain:"enum_lineSeriesType",enumAttributes:{behavior:"drawMarker,drawLine"}},area:{chain:"enum_areaShadingType",enumAttributes:{behavior:"drawMarker,drawLine,drawArea,snapToZero"}},marker:{enumAttributes:{behavior:"drawMarker"}},bubble:{chain:"enum_bubbleSizingType",enumAttributes:{behavior:""}},ohlc:{enumAttributes:{behavior:"clusters"}},candlestick:{chain:"enum_columnType",enumAttributes:{behavior:"clusters,drawRect"}},map:{chain:"enum_columnType",enumAttributes:{behavior:"varyPalette"}},heatmap:{chain:"enum_columnType",enumAttributes:{}},calendar:{chain:"enum_calendarType",enumAttributes:{}},variwide:{chain:"enum_variwideType",enumAttributes:{behavior:"snapToZero,clusters,drawRect"}}}},bubbleSizingType:{type:"enum",members:{area:{isDefault:!0},width:{}}},areaShadingType:{type:"enum",members:{subtle:{isDefault:!0,chain:"enum_lineSeriesType"},none:{chain:"enum_lineSeriesType"}}},lineSeriesType:{type:"enum",members:{normal:{isDefault:!0},spline:{},step:{}}},circularGaugeType:{type:"enum",members:{clip:{isDefault:!0,chain:"enum_seriesType"},circle:{chain:"enum_seriesType"},arc:{chain:"enum_seriesType"}}},columnType:{type:"enum",members:{subtle:{isDefault:!0},solid:{},aqua:{},rounded:{},roundCaps:{},cushion:{}}},pieType:{type:"enum",members:{normal:{isDefault:!0},donut:{}}},vennType:{type:"enum",members:{normal:{isDefault:!0},colorbypoint:{}}},funnelOrientationType:{type:"enum",members:{normal:{isDefault:!0},inverted:{}}},funnelShapeType:{type:"enum",members:{round:{isDefault:!0,chain:"enum_funnelOrientationType"},square:{chain:"enum_funnelOrientationType"}}},organizationConnectorType:{type:"enum",members:{rightangle:{isDefault:!0,chain:"enum_organizationType"},straight:{chain:"enum_organizationType"}}},organizationType:{type:"enum",members:{down:{isDefault:!0},left:{},up:{},right:{}}},calendarType:{type:"enum",members:{auto:{isDefault:!0,chain:"enum_columnType"},decade:{chain:"enum_columnType"},years:{chain:"enum_columnType"},year:{chain:"enum_columnType"},quarter:{chain:"enum_columnType"},month:{chain:"enum_columnType"},week30min:{chain:"enum_columnType"},week:{chain:"enum_columnType"},dayminutes:{chain:"enum_columnType"},dayhours:{chain:"enum_columnType"},day30min:{chain:"enum_columnType"},day15min:{chain:"enum_columnType"},day5min:{chain:"enum_columnType"},day:{chain:"enum_columnType"},hourseconds:{chain:"enum_columnType"},hour30sec:{chain:"enum_columnType"},hour10sec:{chain:"enum_columnType"},hourminutes:{chain:"enum_columnType"},hour:{chain:"enum_columnType"},minute:{chain:"enum_columnType"}}},variwideType:{type:"enum",members:{subtle:{isDefault:!0},solid:{},aqua:{},rounded:{},roundCaps:{},cushion:{}}},nanoChartTypes:{type:"enum",members:"sparkline|arealine|bar|bullet|column|progress|pie|heatmap|scale|chart|barfull"},markerTypes:{type:"enum",members:"none|diamond|circle|arrow-down|arrow-up|five-point-star|four-point-star|merger|split-reverse|seven-point-star|six-point-star|spinoff|split|square|triangle|triangle-down"},emptyPointMode:{type:"enum",members:"default|ignore|treatAsZero"},projection:{type:"enum",members:"none|mercator|lambertConformalConic|lambertAzimuthalEqualArea|stereographic|orthographic"},scaleBreakType:{type:"enum",updated:"2.7",members:{zigzag:{isDefault:!0},gap:"",line:"",hidden:""}},scale:{type:"enum",updated:"2.6",members:{auto:{isDefault:!0},time:"",stacked:"",stackedFull:"",stackedLogarithmic:{},logarithmic:{},variwide:{}}},rangeMode:{type:"enum",updated:"2.8",members:{auto:{isDefault:!0},curly:"",measure:""}},colors:{type:"enum",caseInsensitive:!0,members:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},palette:{type:"enum",members:"default|spreadsheet|oceanMidtones|mutedRainbow|pastelContrast|rainforest|random|autumn|bright|lavender|midTones|mixed|pastel|poppies|spring|warmEarth|waterMeadow|darkRainbow|midRange|vividDark|fiveColor1|fiveColor2|fiveColor3|fiveColor4|fiveColor5|fiveColor6|fiveColor7|fiveColor8|fiveColor9|fiveColor10|fiveColor11|fiveColor12|fiveColor13|fiveColor14|fiveColor15|fiveColor16|fiveColor17|fiveColor18|fiveColor19|fiveColor20|fiveColor21|fiveColor22|fiveColor23|fiveColor24|fiveColor25|fiveColor26|fiveColor27|fiveColor28|fiveColor29|fiveColor30|fiveColor31|fiveColor32|fiveColor33|fiveColor34|fiveColor35|fiveColor36|fiveColor37|fiveColor38|fiveColor39|fiveColor40|fiveColor41|fiveColor42|fiveColor43|fiveColor44|fiveColor45|fiveColor46|colorVision1|colorVision2|colorVision3|colorVision4"},hatchStyle:{type:"enum",members:"none|horizontal|vertical|light-downward-diagonal|light-upward-diagonal|percent05|percent10|percent20|percent25|dashed-downward-diagonal|dashed-upward-diagonal|dashed-horizontal|dashed-vertical|forward-diagonal|backward-diagonal|large-horizontal|dark-downward-diagonal|dark-upward-diagonal|dark-horizontal|dark-vertical|wide-downward-diagonal|wide-upward-diagonal|narrow-horizontal|narrow-vertical|small-grid|large-grid|dotted-grid|cross-diagonal|outlined-diamond|dotted|dotted-diamond|solid-diamond|large-checker-board|small-checker-board|wave|zig-zag|diagonal-brick|horizontal-brick|weave"},cultures:{type:"enum",members:"af|af-ZA|ar|ar-AE|ar-BH|ar-DZ|ar-EG|ar-IQ|ar-JO|ar-KW|ar-LB|ar-LY|ar-MA|ar-OM|ar-QA|ar-SA|ar-SY|ar-TN|ar-YE|az|az-Cyrl-AZ|az-Latn-AZ|be|be-BY|bg|bg-BG|bs-Latn-BA|ca|ca-ES|cs|cs-CZ|cy-GB|da|da-DK|de|de-AT|de-DE|de-CH|de-LI|de-LU|dv|dv-MV|el|el-GR|en|en-029|en-AU|en-BZ|en-CA|en-GB|en-IE|en-JM|en-NZ|en-PH|en-TT|en-US|en-ZA|en-ZW|es|es-AR|es-BO|es-CL|es-CO|es-CR|es-DO|es-EC|es-ES|es-GT|es-HN|es-MX|es-NI|es-PA|es-PE|es-PR|es-PY|es-SV|es-UY|es-VE|et|et-EE|eu|eu-ES|fa|fa-IR|fi|fi-FI|fo|fo-FO|fr|fr-BE|fr-CA|fr-FR|fr-CH|fr-LU|fr-MC|gl|gl-ES|gu|gu-IN|he|he-IL|hi|hi-IN|hr|hr-BA|hr-HR|hu|hu-HU|hy|hy-AM|id|id-ID|is|is-IS|it|it-CH|it-IT|ja|ja-JP|ka|ka-GE|kk|kk-KZ|kn|kn-IN|ko|kok|kok-IN|ko-KR|ky|ky-KG|lt|lt-LT|lv|lv-LV|mi-NZ|mk|mk-MK|mn|mn-MN|mr|mr-IN|ms|ms-BN|ms-MY|mt-MT|nb-NO|nl|nl-BE|nl-NL|nn-NO|no|ns-ZA|pa|pa-IN|pl|pl-PL|pt|pt-BR|pt-PT|quz-BO|quz-EC|quz-PE|ro|ro-RO|ru|ru-RU|sa|sa-IN|se-FI|se-NO|se-SE|sk|sk-SK|sl|sl-SI|sma-NO|sma-SE|smj-NO|smj-SE|smn-FI|sms-FI|sq|sq-AL|sr|sr-Cyrl-BA|sr-Cyrl-CS|sr-Latn-BA|sr-Latn-CS|sv|sv-FI|sv-SE|sw|sw-KE|syr|syr-SY|ta|ta-IN|te|te-IN|th|th-TH|tn-ZA|tr|tr-TR|tt|tt-RU|uk|uk-UA|ur|ur-PK|uz|uz-Cyrl-UZ|uz-Latn-UZ|vi|vi-VN|xh-ZA|zh-CN|zh-HK|zh-CHS|zh-CHT|zh-MO|zh-SG|zh-TW|zu-ZA"},timeUnit:{type:"enum",members:"second|minute|hour|day|week|month|year"},zoomAxis:{type:"enum",members:"x|y|xy|none"},alignHorizontal:{type:"enum",members:"center|left|right"},alignVertical:{type:"enum",members:"top|middle|bottom"},directionalLayout:{type:"enum",members:"auto|vertical|horizontal"},orientation:{type:"enum",members:"none|left|right|top|bottom|topLeft|topRight|bottomRight|bottomLeft|opposite"},titlePosition:{type:"enum",members:"left|center|right|full"},placement:{type:"enum",members:"auto|inside|outside"},uiItemType:{type:"enum",updated:"2.7",members:{auto:{isDefault:!0},option:"",checkbox:"",toggle:"",radio:"",select:"",selectMultiple:"",range:"",file:""}},pointSelectionMode:{type:"enum",members:"auto|single|multiple"},hoverAction:{type:"enum",members:"none|highlightPoint|highlightSeries|highlightPointGroup"},fontWeight:{type:"enum",members:"normal|bold"},fontStyle:{type:"enum",members:"normal|italic"},fontFamily:{type:"enum",caseInsensitive:!0,members:"Tahoma|Arial|Verdana|Helvetica|Trebuchet MS|Arial Black|Comic Sans MS|Courier New|Georgia|Impact|Lucida Console|Lucida Sans Unicode|Lucida Grande|Geneva|Times New Roman|MS Sans Serif|MS Serif|Arial, Helvetica, sans-serif|Arial Black, Gadget, sans-serif|Comic Sans MS, cursive|Courier New, monospace|Georgia, serif|Impact, Charcoal, sans-serif|Lucida Console, Monaco, monospace|Lucida Sans Unicode, Lucida Grande, sans-serif|Palatino Linotype, Book Antiqua, Palatino, serif|Tahoma, Geneva, sans-serif|Times New Roman, Times, serif|Trebuchet MS, sans-serif|Verdana, Geneva, sans-serif|MS Sans Serif, Geneva, sans-serif|MS Serif, New York, serif"},textDecoration:{type:"enum",members:"overline|line-through|underline|underline overline"},cursor:{type:"enum",members:"none|default|pointer|help|crosshair|wait|progress|text|n-resize|ne-resize|nw-resize|e-resize|s-resize|se-resize|sw-resize|w-resize"},dashStyle:{type:"enum",caseInsensitive:!0,members:"Solid|ShortDash|ShortDot|ShortDashDot|ShortDashDotDot|Dot|Dash|LongDash|DashDot|DashDotDot|LongDashDot|LongDashDotDot"},boxCornerType:{type:"enum",members:"square|cut|round"},mimeType:{type:"enum",members:"image/png|image/jpeg|application/pdf|image/svg+xml"},animationEasing:{type:"enum",members:"easeInQuad|easeOutQuad|easeInCubic|easeOutCubic|easeInOutCubic|easeInQuart|easeOutQuart|easeInOutQuart|easeInQuint|easeOutQuint|easeInOutQuint|easeInSine|easeOutSine|easeInOutSine|easeInExpo|easeOutExpo|easeInOutExpo|easeInCirc|easeOutCirc|easeInOutCirc|easeInElastic|easeOutElastic|easeInOutElastic|easeInBack|easeOutBack|easeInOutBack|easeInBounce|easeOutBounce|easeInOutBounce"},calculation:{type:"enum",members:"sum|average|min|max"},funnelNozzleType:{type:"enum",members:{nozzle:{isDefault:!0},noNozzle:{}}},seriesLayout:{type:"enum",members:{XY:{isDefault:!0,chain:"enum_funnelOrientationType"},visualShape:{chain:"enum_funnelOrientationType"}}}}[s],typeof s.members=="string"){var o=s.members;o=o.split("|");for(var i={},a=0,u=o.length;a<u;a++)i[o[a]]="";s.members=i}return s}function An(s,o){if(s&&s.pop){if(o=o||s.kind,o==="rgba"&&!ei(s[3]))return"rgba("+parseInt(s[0])+","+parseInt(s[1])+","+parseInt(s[2])+","+vn(s[3],5)+")";if(2<s.length||o==="rgb")return"rgb("+parseInt(s[0])+","+parseInt(s[1])+","+parseInt(s[2])+")"}return s}function wl(s,o){return o.kind=s,o}function Fc(s,o,i){function a(b,w,k){return 0>k&&(k+=1),1<k&&--k,k<1/6?b+6*(w-b)*k:.5>k?w:k<2/3?b+(w-b)*(2/3-k)*6:b}var u,d,f=1;if(s&&s.pop){var v=l(s,4);s=v[0],o=v[1],i=v[2],f=v[3],h(f)||(f=1)}if(o===0)v=u=d=i;else{d=.5>i?i*(1+o):i+o-i*o;var x=2*i-d;v=a(x,d,s+1/3),u=a(x,d,s),d=a(x,d,s-1/3)}return v=wl("rgba",qF([v,u,d,f])),v.hsl=[s,o,i],v}function im(s,o,i){s/=255,o/=255,i/=255;var a=Math.max(s,o,i),u=Math.min(s,o,i),d=(a+u)/2;if(a===u)var f=u=0;else{var v=a-u;switch(u=.5<d?v/(2-a-u):v/(a+u),a){case s:f=(o-i)/v+(o<i?6:0);break;case o:f=(i-s)/v+2;break;case i:f=(s-o)/v+4}f/=6}return wl("hsl",[f,u,d])}function pne(s,o,i,a){s&&s.pop&&(a=l(s,4),s=a[0],o=a[1],i=a[2],a=a[3]),s/=255,o/=255,i/=255;var u=Math.max(s,o,i),d=Math.min(s,o,i),f=u-d;if(u===d)var v=0;else{switch(u){case s:v=(o-i)/f+(o<i?6:0);break;case o:v=(i-s)/f+2;break;case i:v=(s-o)/f+4}v/=6}return wl("hsv",[v,u===0?0:f/u,u,a])}function fne(s,o,i,a){s&&s.pop&&(a=l(s,4),s=a[0],o=a[1],i=a[2],a=a[3]);var u=Math.floor(6*s),d=6*s-u;s=i*(1-o);var f=i*(1-d*o);return o=i*(1-(1-d)*o),u=l([[i,o,s],[f,i,s],[s,i,o],[s,f,i],[o,s,i],[i,s,f]][u%6],3),i=u[0],o=u[1],u=u[2],1<i&&(i=1),1<o&&(o=1),1<u&&(u=1),wl("rgba",qF([i,o,u,a]))}function xn(s,o){var i,a,u,d;if(s){if(i=s.kind){if(i==="rgba")return s;if(i==="rgb")return 4>s.length&&(s[3]=1),s.kind="rgba",s}if(i=C(s),i==="array")return s.kind=s.length===4?"rgba":"rgb",s;if(i==="string"){var f=eN[s];if(f||(s[0]==="#"?f=VA(s):(i=sae[s.toLowerCase()])&&(f=VA(i)),f&&(eN[s]=f)),!f)if(s[0]==="h")s[3]==="a"?u=Om.hsla.exec(s):a=Om.hsl.exec(s);else{var v=tN[s];if(!v&&(v=Om.rgba.exec(s))&&(v=[parseInt(v[1]),parseInt(v[2]),parseInt(v[3]),parseFloat(v[4])],tN[s]=v),!v){var x=Om.rgb.exec(s);x||(f=VA(s))||(d=Om.hexShort.exec(s))}}}if(i="rgba",v)var b=v.slice(0);else if(f)b=f.slice(0),o!=="rgb"?b.push(1):i="rgb";else if(x)b=[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])],o!=="rgb"?b.push(1):i="rgb";else if(d)b=[17*parseInt(d[1],16),17*parseInt(d[2],16),17*parseInt(d[3],16)],o!=="rgb"?b.push(1):i="rgb";else{if(u)var w=[parseInt(u[1])/360,parseInt(u[2])/100,parseInt(u[3])/100,parseFloat(u[4])];else a?(w=[parseInt(a[1])/360,parseInt(a[2])/100,parseInt(a[3])/100,1],b=Fc(w)):b=s==="transparent"?[255,255,255,0]:[0,0,0,0];w&&(b=Fc(w))}b.kind=i}return b}function pn(s,o,i,a){var u=function(v){return Math.round(rt(d[v],f[v],0,100,i))};if(s&&o){var d=xn(s),f=xn(o);if(s=u(0),o=u(1),u=u(2),a||(a=rt(d[3],f[3],0,100,i)),u=[s,o,u,a],h(a))return wl(h(a)?"rgba":"rgb",u)}else{if(s)return s;if(o)return o}}function Mv(s){var o=[];if(typeof s=="object"&&s.stops){for(var i=0,a=s.stops.length;i<a;i++)o[i]=s.stops[i][1];return qT(o)}return typeof s.pop=="function"?qT(s):s}function qT(s){return s=fe(pF.apply(null,fe(s,xn)),function(o){return gF(o)}),An(s)}function Pd(s,o,i){var a={};if(a.tweenID=i&&i.id?i.id:Td(5),a.from=iP(s,a.tweenID),a.to=iP(o,a.tweenID),a.from.isComplex||a.to.isComplex){if(a.from.isComplex)if(a.to.isComplex)a.stepFn=a.from.type==="linear"?eP(a):tP(a);else var u=a.to,d=a.from;else u=a.from,d=a.to;d?(a.stepFn=d.type==="linear"?eP(a):tP(a),u&&vne(u,d)):a.from.type!==a.to.type&&(s=Mv(a.to.input),o=Mv(a.from.input),s=qT([s,o]),a.animations=[Pd(a.from.input,s),Pd(s,a.to.input)],a.stepFn=mne(a)),a.from.stops.length!=a.to.stops.length&&(s=a.from,o=a.to,s.stops.length!==o.stops.length&&(s.stops.length<o.stops.length&&(o=l([o,s],2),s=o[0],o=o[1]),u=sP(s),d=sP(o),i=$d(u,d),u=$d(d,u),oP(o,i),s.stops.length!==o.stops.length&&oP(s,u)))}return a.stepFn||gne(a)}function eP(s){return function(o){if(o==1)return s.to.input;var i=s.from.linearGradient,a=s.to.linearGradient;return i={linearGradient:[ra(i[0],a[0],o),ra(i[1],a[1],o),ra(i[2],a[2],o),ra(i[3],a[3],o)],stops:[]},nP(s,i.stops,o),i.tweenId=s.tweenID,i}}function tP(s){return function(o){if(o==1)return s.to.input;var i=s.from.radialGradient,a=s.to.radialGradient,u={radialGradient:{cx:ra(i.cx,a.cx,o),cy:ra(i.cy,a.cy,o),r:ra(i.r,a.r,o)},stops:[]};return h(a.fx)&&(u.radialGradient.fx=ra(le(i.fx,.5),a.fx,o)),h(a.fy)&&(u.radialGradient.fx=ra(le(i.fy,.5),a.fy,o)),nP(s,u.stops,o),u.tweenId=s.tweenID,u}}function nP(s,o,i){for(var a=function(w,k){return w.kind==="rgb"&&(k=h(k)?k:1,3<w.length?w[3]=k:w.push(k),w.kind="rgba"),w},u=0,d=s.from.stops.length;u<d;u++){var f=s.from.stops[u],v=s.to.stops[u],x=pn(a(f.color,f.opacity),a(v.color,v.opacity),100*i),b=void 0;x.kind==="rgba"&&(b="rgb"),o.push([100*ra(f.x,v.x,i)+"%",An(x,b),b?x[3]:ra(f.opacity,v.opacity,i)])}}function mne(s){return function(o){return o==1?s.to.input:(o=rt(0,s.animations.length,0,1,o),s.animations[Math.floor(o)](o%1))}}function gne(s){return function(o){return o==1?s.to.input:An(pn(s.from.stops[0].color,s.to.stops[0].color,100*o))}}function iP(s,o){var i={input:s,stops:[],id:o};if(o=function(v,x,b){v=xn(v,"rgb"),v.kind==="rgba"&&(v.kind="rgb",b=v[3]),i.stops.push({color:v,x,opacity:b})},C(s)=="string")o(s,0,1),i.type="color";else{for(var a=0,u=s.stops.length;a<u;a++){var d=s.stops[a],f=1;C(d[0])=="string"&&-1<d[0].indexOf("%")&&(f=100),o(d[1],parseFloat(d[0])/f,d[2])}i.isComplex=!0,s.linearGradient?(i.type="linear",i.linearGradient=rP(i,s.linearGradient)):s.radialGradient&&(i.type="radial",i.radialGradient=rP(i,s.radialGradient))}return i}function rP(s,o){var i=s.type=="radial"?{}:[];return K(o,function(a,u){var d=["x1","y1","x2","y2"].indexOf(u);a=C(a)==="number"?a:parseFloat(a)/(-1<a.indexOf("%")?100:1),i[d===-1?u:d]=a}),i}function sP(s){for(var o=[],i=0,a=s.stops.length;i<a;i++)o.push(s.stops[i].x);return o}function oP(s,o){for(var i=0,a=o.length;i<a;i++){var u=s,d=o[i],f=u.stops;if(1<f.length)for(var v=1,x=f.length;v<x;v++){var b=f[v],w=f[v-1];if(b.x>d&&w.x<d){var k=rt(0,1,w.x,b.x,d);b={color:pn(w.color,b.color,100*k),x:d,opacity:ra(w.opacity,b.opacity,k)},u.stops.splice(v,0,b)}}}}function vne(s,o){if(s.type!=="color")throw"matchStops called on a "+s.type;var i=s.stops[0].color,a=h(s.stops[0].opacity)?s.stops[0].opacity:1;s.stops=o.stops.slice(0),o.type=="linear"&&(s.linearGradient=bn(o.linearGradient)),o.type=="radial"&&(s.radialGradient=bn(o.radialGradient)),K(s.stops,function(u,d){s.stops[d]={x:o.stops[d].x,color:i,opacity:a}})}function yne(s,o,i){var a={};o=o.meta;var u=s&&s.meta&&s.meta.pattern;return a.pattern=o.pattern,a.colorAnim=Pd(u?s.meta.color:o.color,o.color,i),a.bgAnim=Pd(u?s.meta.backgroundColor:s,o.backgroundColor,i),function(d){return{pattern:a.pattern,color:a.colorAnim(d),backgroundColor:a.bgAnim(d)}}}function La(s){if(s)return s.pop?s.length===2&&s[1].toFixed?Yt(La(s[0]),1-s[1]):!1:s}function xne(s){return s=xn(s),"#"+KT(s[0],s[1],s[2])}function KT(s,o,i){return wT(Mn(s,0,255))+wT(Mn(o,0,255))+wT(Mn(i,0,255))}function ZT(s){if(s){var o=s.pop?s:xn(s);return s="#"+KT(o[0],o[1],o[2]),o=parseFloat(le(o[3],1)),{hex:s,opacity:o}}return{hex:"none",opacity:1}}function aP(s){s=xn(s);var o=l(vw(s),3);s=o[0];var i=o[1];return o=o[2],.2126*(.03928>=s?s/12.92:Math.pow((s+.055)/1.055,2.4))+.7152*(.03928>=i?i/12.92:Math.pow((i+.055)/1.055,2.4))+.0722*(.03928>=o?o/12.92:Math.pow((o+.055)/1.055,2.4))}function rm(s){return s=xn(s),KF(vw(s))}function QT(s,o){s=xn(s);var i=QF(vw(s));return i[0]=o,o=JF(i),s[0]=255*o[0],s[1]=255*o[1],s[2]=255*o[2],s}function JT(s,o){var i=rm(s);return QT(s,Mn(i+o,0,1))}function Nc(s,o){o=Mn(o,-100,100);var i=function(f){return Math.floor(Mn(f,0,255))},a=function(f){return i(d[f]+(255-d[f])*u)},u=o/100,d=xn(s);return 0<o?(s=a(0),o=a(1),a=a(2)):(u*=-1,u=1-u,s=i(d[0]*u),o=i(d[1]*u),a=i(d[2]*u)),wl("rgba",[s,o,a,d[3]])}function Fd(s,o,i){return i=0<i?"+"+i:i,Zd(s,"hsv("+{h:i+",,",s:","+i+",",v:",,"+i}[o]+")")}function l_(s){s=xn(s);var o=im(s[0],s[1],s[2]);return o[2]+=.007*Math.pow(100*o[2]-100,2)/200,o=Fc(o[0],o[1],o[2]),o[3]=s[3],o}function Nd(s,o){o===void 0&&(o=.7),s=xn(s);var i=im(s[0],s[1],s[2]);return i[2]+=Math.pow(i[2]-1,2)*o,o=Fc(i[0],i[1],i[2]),o[3]=s[3],o}function Bd(s){s=xn(s);var o=im(s[0],s[1],s[2]);return o[2]-=.007*Math.pow(100*o[2],2)/100,o=Fc(o),o[3]=s[3],o}function Ku(s,o){return s=xn(s),1<o&&(o=rt(0,1,0,255,o)),[s[0],s[1],s[2],o]}function Yt(s,o){return!o||!o.toFixed?s:(1>=o&&(o*=100),s=xn(s),wl("rgba",[s[0],s[1],s[2],(100-o)/100*s[3]]))}function Cl(s,o){return o&&o.toFixed?(1>=o&&(o*=100),s=xn(s),wl("rgba",[s[0],s[1],s[2],1-o/100])):s}function lP(s,o){return Iv(s,function(i){return Cl(i,o)})}function Ei(s){var o=Hs((s+360)%360+180),i=Math.cos(Math.abs((.5*(Math.floor(o/Math.PI*2)+2)+.25)*Math.PI-o))*Math.sqrt(2);s=i*Math.cos(o);var a=i*Math.sin(o);return o=0>a?1:0,i=0<=s?s:s+1,a=0<=a?a:a+1,[(0>s?1:0).toFixed(4),o.toFixed(4),i.toFixed(4),a.toFixed(4)]}function zr(s,o,i,a){return o.length&&o[0][1].pop&&K(o,e3),a&&(s.hash=a),{linearGradient:s,stops:o}}function e3(s){var o=ZT(s[1]);return s[1]=o.hex,s[2]=o.opacity,s}function cP(s,o,i,a){var u=o.length,d=zr(Ei(s),[]);for(s=0;s<u;s++){var f=xn(La(i[s])||i[s]),v=An(f);d.stops.push([o[s]/100,xne(v),f[3]])}return d.linearGradient.hash=a||"",d}function Ev(s,o,i,a){return o===void 0&&(o=[0,0]),i===void 0&&(i=2),o={cx:.5+2*o[0],cy:.5+2*o[1],r:2.75-i},i=xn(s),s=Nd(i),i=Bd(i),s=[["0%",s],["100%",i]],s.length&&s[0][1].pop&&K(s,e3),{radialGradient:o,stops:s}}function Lv(s,o,i,a){o===void 0&&(o=!1),i===void 0&&(i=!1),a===void 0&&(a=!1);var u=["aqua",s,o,i,a].join(""),d=0;if(typeof o=="object"&&o!==null)var f=!0,v=o;else{d=o?90:0;var x=Ei(d);v=o?0:90}s=xn(s),i&&(x=Ei(d+180),v=0);var b=a?pn(Bd(s),"#ffffff",10):Bd(s),w=a?pn(l_(s),"#ffffff",10):Nd(s);i=pn(b,w,.8,s[3]),d=pn(b,w,40,s[3]);var k=pn(b,"#fefefe",70.5,s[3]),D=pn(b,i,50,s[3]);D=pn(D,"#fefefe",39.2,s[3]),b=pn(b,i,60,s[3]),b=pn(b,"#fefefe",39.2,s[3]);var T=pn(i,"#fefefe",39.2,s[3]);return a&&(w=pn(w,"#f7ffe0",60,1),d=pn(d,"#f7ffe0",40,1)),a=[["0%",k],["25%",D],["30%",b],["49.99%",T],["50%",i],["70%",d],["100%",w]],f?(o=o.gradientDistance,25>o?(a[3][0]="47%",a[4][0]="53%"):50>o?(a[3][0]="48%",a[4][0]="52%"):(a[3][0]="49.5%",a[4][0]="50.5%"),zr(x,a,[v,"100%",s[3],s[3]])):zr(x,a,[v,"100%",s[3],s[3]],u)}function sm(s,o,i,a){o===void 0&&(o=!1),i===void 0&&(i=!1),a===void 0&&(a=!1);var u=["rounded",s,o,i,a].join(""),d=0;if(typeof o=="object"&&o!==null)var f=!0;else{d=o?90:0;var v=Ei(d);o=o?0:90}s=xn(s),i&&(v=Ei(d+180),o=0),i=a?pn(Bd(s),"#ffffff",5):Bd(s),d=a?pn(l_(s),"#ffffff",50):Nd(s);var x=pn(i,"#fefefe",25,s[3]),b=pn(i,d,18.75,s[3]),w=pn(b,"#fefefe",62.745,s[3]);b=pn(b,"#fefefe",54.90196,s[3]);var k=pn(i,d,31.25,s[3]);s=pn(k,"#fefefe",11.764705,s[3]);var D=i;return f&&(D=x=w,i=d),a&&(i=pn(i,"#f7ffe0",50,1),D=pn(D,"#f7ffe0",60,1)),a=[["0%",D],["5%",x],["20%",w],["20%",b],["30%",s],["30%",k],["85%",d],["100%",i]],f?zr(v,a):zr(v,a,[o,"100%",1,1],u)}function t3(s,o,i,a){o===void 0&&(o=!1),i===void 0&&(i=!1),a===void 0&&(a=!1);var u=Ei(o?90:0),d=o?0:90;o="subtl"+s+o+i;var f=.03,v=s=xn(s),x=rm(v),b=s[3];i&&(u=Ei(180),d=0),i=Zd,s=yw("hsv(,,+"+f+")");var w=yw("hsv(,,-"+f+")");f=yw("hsv(,,-"+2*f+")");var k=s(v),D=w(v);return s=f(v),k===v&&(s="#"+KT(D[0],D[1],D[2]),k=w(s),s=f(s)),a&&(.85<x?(f=1.4*-(x-.8),k=i(k,"hsv(,,"+(0>f?"-":"+")+Math.abs(f)+")")):(v=pn(v,"#f7ffe0",20,1),k=pn(k,"#f7ffe0",50,1),s=pn(s,"#f7ffe0",70,1))),a=[["0%",Cl(k,1-b)],["50%",Cl(An(v),1-b)],["90%",Cl(D,1-b)],["100%",Cl(s,1-b)]],zr(u,a,[d,"100%",v[3],v[3]],o)}function n3(s,o,i,a){o===void 0&&(o=!1),i===void 0&&(i=!1),a===void 0&&(a=!1);var u=Ei(o?90:0);o=o?0:90;var d="squ"+s+i+a,f=s=xn(s);return s=s[3],i&&(u=Ei(180),o=0),i=pn(f,a?"white":"black",20),i=[["0%",Cl(i,1-s)],["49.99%",Cl(i,1-s)],["50%",Cl(f,1-s)],["100%",Cl(f,1-s)]],zr(u,i,[o,"100%",f[3],f[3]],d)}function Iv(s,o,i){i===void 0&&(i=["val"]);for(var a,u=0,d=0,f=i.length;d<f;d++)if(i[d]==="val"){u=d;break}s.pop&&s.kind&&(s=An(s));var v=[];if(typeof s=="object"){if(s.stops){a=Object.create(s);var x=[];for(d=0,f=a.stops.length;d<f;d++){var b=a.stops[d];i[u]=b.length===3?An(Cl(b[1],1-b[2])):b[1],b=e3([b[0],o.apply(null,i)]),v.push(b[1]),x.push(b)}return a.stops=x,(o=p(s,"linearGradient")?"linearGradient":p(s,"radialGradient")?"radialGradient":void 0)&&(s=a[o]=s[o].slice(),s.hash=x.join("")+s.join("")),a}if(s.image)return"url('"+s.image+"')"}else return i[u]=s,o.apply(null,i)}function bne(s,o){function i(d){return Math.sqrt(d[0]*d[0]*.284+d[1]*d[1]*.72+d[2]*d[2]*.068)/255}o===void 0&&(o=.3);var a=s=xn(s);a[0]||a[1]||a[2]||(a[0]=a[1]=a[2]=5),s=i(a);var u=4.2*o;return o*=9,o=.49>=s?rt(.008*u,.115*u,0,.49,s):rt(-.08*o,-.09*o,.49,1,s),uP(function(d,f){var v=i(d);v=Mn(v+f,0,1),f=i(d),v-=f;var x=i(Nc(d,-10));return Nc(d,v/(x-f)*-10)}(a,o))}function vo(s,o){return s==="none"?"rgba(0,0,0,0)":(s=La(s),h(o)&&(s=lP(s,o)),An(s))}function om(s){return s=xn(La(s)),ZT(s)}function Xo(s,o,i,a,u){if(!h(s))return s;var d,f=s.length,v=[],x=[];if(s.pop){if(d=La(s))return i?Bc(i,Yt(d,o),a):An(Yt(d,o));if(f===2)return s[1]===!0?Bc(i,Yt(La(s[0]),o),a):Yt(La(s[0]),o);if(2<f){var b=s.join(""),w=s[f-1],k=100/(f-2);for(s=s.slice(0),a=La(s[0]),i=0;i<f-1;i++)s[i]=i||u?Mt(s[i],u||a):s[i],d=Yt(La(s[i]),o),x.push(An(d)),v.push(k*i);return cP(w,v,x,b)}}else{if(s.linearGradient&&s.linearGradient.pop)return h(o)?am(s,1-o):s;if(s.stops){if(s.hasOwnProperty("angle")&&s.stops){for(f=s.stops.length,w=s.stops,a=w[0][1],i=0;i<f;i++)d=w[i],typeof d[0]<"u"?v.push(100*d[0]):v.push(0),d=i||u?Mt(d[1],u||a):d[1],x.push(Yt(La(d),o));return cP(s.angle,v,x)}}else{if(s.image)return"url('"+s.image+"')";if(s.charAt)return i?Bc(i,Yt(s,o),a):Yt(s,o)}}}function Mt(s,o){return Iv(o,function(i){e:if(i){if(s!=="currentColor"){if(yy(s))var a=Zd(i,s);else if(Ri[s])switch(s){case Ri.crysDark:a=Bd(i);break;case Ri.crysBright:case Ri.select:a=Nd(i);break;case Ri.hover:var u=i?1-xn(i)[3]:void 0;a=rm(i),a=.59>a?QT(i,a+.15):QT(i,a-.15),a=lP(a,100*u);break;case Ri.outline:a=bne(i,.07);case Ri.outlineContrast:break;case Ri.label:a=Nc(i,-40);break;case Ri.labelContrast:var d=a=Zd(i,"contrast");u=aP(i),d=aP(d),u=(Math.max(u,d)+.05)/(Math.min(u,d)+.05),7>u&&(i=ZF(xn(i)),a=pn(a,.5>i[0]?"#fff":"#000",(8-u)/8*100));break;case Ri.seriesLine:a=JT(i,-.095);break;case Ri.hueEffect:a=Fd(i,"h",-23.4);break;case Ri.lightenDark:a=rm(i),a=JT(i,.5>a?.095:-.125);break;default:a=i}else{i=s;break e}i=An(a)}}else i=void 0;return i})}function Bc(s,o,i){if(!o||typeof o>"u"||(o==="none"&&(o="rgba(0,0,0,0)"),o.linearGradient))return o;if(o[1]===!1)return o[0];o.length&&!o.kind&&(o=vo(o));var a=s,u=xn(o)[3],d=1-u,f=Yt(o,d);a+=o+(i||0);var v=o;switch(s){case wi.gaugePolarBack:i=Yt(pn(o,"#ffffff",20),d),v=f;var x=Yt(Fd(o,"v",-.02),d);v=zr(Ei(90),[["0%",i],["40%",v],["100%",x]],[180,"0%",1,1],a);break;case wi.titleBox:i=Yt(pn(o,"#ffffff",20),d),v=f,x=Yt(Fd(o,"v",-.06),d),v=zr(Ei(90),[["0%",i],["40%",v],["100%",x]],[180,"0%",1,1],a);break;case wi.box:i=Yt(pn(o,"#ffffff",20),d),x=v=f,v=zr(Ei(90),[["0%",i],["40%",v],["100%",x]],[180,"0%",1,1],a);break;case wi.chartArea:i=Yt(pn(o,"#ffffff",20),d),u=x=v=f;var b=Yt(Nc(o,-5),d);v=zr(Ei(90),[["0%",i],["25%",v],["30%",x],["80%",u],["100%",b]],[180,"0%",1,1],a);break;case wi.altGridFillRad:v=An(Yt(Ku(o,105),d),"rgba");break;case wi.altGridFillY:case wi.altGridFillX:if(f=.04,0<i&&(f=Math.min(1.7/i,.34)),u===0)return vo(o,100);i=Yt(Ku("#ffffff",180),d),v=Yt(Ku("#ffffff",180),d),x=Yt(Ku(o,105),d),u=Yt(Ku(o,30),d),b=Yt(Ku(Nc(o,60),7.5),d),o=Yt(Ku(o,82.5),d),v=zr(Ei(s==="altGridFillY"?90:0),[["0%",i],[f+"%",v],[f+"%",x],["35%",u],["60%",b],["100%",o]],[s==="altGridFillY"?180:90,"50%",.35,.1],a);break;case wi.axisMarkerY:case wi.axisMarkerX:f=xn(o),u=Math.min(255*f[3]+20,255),i=Yt(Yt(Ku(Fd(o,"v",-.04),u),7),d),v=Yt(Yt(o,7),d),v=zr(Ei(s==="axisMarkerY"?90:0),[["0%",i],["20%",v],["80%",v],["100%",i]],[s==="axisMarkerY"?180:90,"0%",u/255,u/255],a);break;case wi.jsButton:i=Yt(Nc(o,-10),d),v=Yt(Nd(o),d),x=Yt(Nc(o,-20),d),v=zr(Ei(90),[["0%",i],["20%",v],["70%",o],["85%",o],["100%",x]],[180,"0%",1,1],a);break;case wi.jumpButton:i=Yt(Nc(o,-10),d),v=Yt(Nd(o),d),x=Yt(Nc(o,-20),d),v=zr(Ei(90),[["0%",i],["20%",o],["70%",v],["85%",o],["100%",x]],[180,"0%",1,1],a);break;case wi.areaFill:i=Yt(o,d),x=Fd(o,"v",.1),v=zr(Ei(90),[["0%",x],["70%",i],["80%",i],["100%",i]],[180,"0%",u,u],a);break;case wi.aqua:v=Lv(o);break;case wi.rounded:v=sm(o);break;case wi.subtle:v=t3(o);break;case wi.cushion:v=Ev(o);break;case wi.navBar:v=o}return v}function _ne(s,o){if(o){if(o.pop&&2<o.length)return o.map(function(i){return typeof i=="string"?Mt(i,s):i});o.stops&&(o=bn(o),o.stops=o.stops.map(function(i){i.splice(0)[1]=Mt(i[1],s)}))}return o}function am(s,o){return s&&Iv(s,function(i){return h(o)&&o.toFixed&&(i=xn(i),i=wl("rgba",[i[0],i[1],i[2],i[3]*o])),An(i)})}function Vd(s,o,i,a){return s=pn(s,o,i,a),An(s)}function i3(s){return s=La(s),xn(s)}function uP(s,o){return An(s,o)}function wne(s,o,i){function a(D,T,M,I){D&&(T&&D["stroke-width"]!==0&&(D.stroke=T),M&&(D.fill=M),I&&(D["stoke-width"]=I))}var u=i.horizontal,d=i.inverted,f=i.offsets,v=i.share,x=i.isRadial?i:u,b=i.strokeMode==="lighterOnDark"?Nd:Bd,w,k=!0;s==="aqua"?(a(o[""],o[""].stroke,Lv(o[""].fill,x,d)),(w=o.hover)&&a(w,w.stroke||Vd(b(w.fill),w.fill,50),Lv(w.fill,x,d,!0),2),(w=o.select)&&a(w,w.stroke||An(b(w.fill)),Lv(w.fill,x,d,!0))):s==="cushion"?(a(o[""],o[""].stroke,Ev(o[""].fill,f,v)),(w=o.hover)&&a(w,w.stroke||Vd(b(w.fill),w.fill,50),Ev(w.fill,f,v),2),(w=o.select)&&a(w,w.stroke||An(b(w.fill)),Ev(w.fill,f,v)),k=!1):s==="rounded"?(w=o[""],w.stroke=w.stroke||An(b(w.fill)),w.fill=sm(w.fill,x,d),(w=o.hover)&&(w.stroke=w.stroke||w.fill,w.fill=sm(w.fill,x,d,!0),w["stoke-width"]=2),(w=o.select)&&(w.stroke=w.stroke||An(b(w.fill)),w.fill=sm(w.fill,x,d,!0))):s==="subtle"?(w=o[""],w["stroke-width"]!==0&&(w.stroke=w.stroke||An(b(w.fill))),w.fill=t3(w.fill,x,d),(w=o.hover)&&(w["stroke-width"]!==0&&(w.stroke=w.stroke||w.fill),g(x,"isRadial")?(w.fill=Vd(l_(w.fill),"#ffffff",20),k=!1):w.fill=t3(w.fill,x,d,!0)),(w=o.select)&&(w["stroke-width"]!==0&&(w.stroke=w.stroke||An(b(w.fill))),w.fill=sm(w.fill,x,d,!0))):s==="square"?(w=o[""],w.stroke=w.stroke||An(b(w.fill)),w.fill=n3(w.fill,u,d),(w=o.hover)&&(w.stroke=w.stroke||w.fill,w.fill=n3(w.fill,u,d,!0)),(w=o.select)&&(w.stroke=w.stroke||An(b(w.fill)),w.fill=n3(w.fill,u,d,!0))):(w=o[""],w.stroke=An(w.stroke||An(b(w.fill))),(w=o.hover)&&(w.stroke=w.stroke||w.fill,w.fill=Vd(l_(w.fill),"#ffffff",20)),(w=o.select)&&(w.stroke=An(w.stroke||An(b(w.fill)))),k=!1),k&&i.lgCoords&&(s=function(D){D.linearGradient=i.lgCoords},s(o[""].fill),o.hover&&s(o.hover.fill),o.select&&s(o.select.fill))}function hP(s,o){return o===void 0&&(o=1),s==="none"||(s=Iv(s,function(i){return i=i3(i),i=Fd(i,"s",-o),An(i)}))&&s.linearGradient&&(s.linearGradient.hash=s.linearGradient.hash+"DS"+o),s}function dP(s,o,i,a){function u(T){var M=[],I=d(T),O=I[1];for(I=I[0],I=f(I,o[T],[0,O]),T=(I[1]-I[0])/i,O=0;O<i;O++)M[O]=I[0]+T*O;return M}function d(T){switch(T){case"hue":return[b[0],1];case"saturation":return[b[1],1];case"lightness":return[b[2],1];case"r":return[x[0],255];case"g":return[x[1],255];case"b":return[x[2],255]}}function f(T,M,I){function O(){N=I[1]-F[1],j=F[0]-I[0]}var F=[T-M/2,T+M/2],N,j;return O(),0>N?(F[0]+=N,F[1]+=N,O(),0>j&&(F[0]=I[0])):0>j&&(F[0]-=j,F[1]-=j,O(),0>N&&(F[1]=I[1])),F}a=h(a)?a:1;var v=a===0,x=xn(s),b=im(x[0],x[1],x[2]);s={};for(D in o)o.hasOwnProperty(D)&&(s[D]=u(D));for(var w=[],k=0;k<i;k++){var D=[b[0],b[1],b[2]];s.hue&&(D[0]=s.hue[k]),s.saturation&&(D[1]=s.saturation[k]),s.lightness&&(D[2]=s.lightness[k]),w[k]=ZT(Fc(D[0],D[1],D[2])).hex}return v?w:Cne(w,a)}function Cne(s,o){o=h(o)?o:-1;var i=s.length,a;for(h(o)&&(a=wR(o,s.length+2));i!==0;){var u=Math.floor(a[i]*i);--i,o=s[i],s[i]=s[u],s[u]=o}return s}function r3(){return{x:0,y:0,width:0,height:0}}function s3(s,o,i){return h(o)&&(s.x-=(o-s.width)/2,s.width=o),h(i)&&(s.y-=(i-s.height)/2,s.height=i),s}function Zu(s,o){return s3(s,s.width*o,s.height*o)}function o3(s,o){return{x:s.x+o,y:s.y+o,width:s.width-2*o,height:s.height-2*o,borderWidth:2*o}}function pP(s,o){return[s[0]+o[3],s[1]+o[0],s[2]-o[3]-o[1],s[3]-o[0]-o[2]]}function a3(s,o,i){return{x:s.x+o,y:s.y+i,width:s.width,height:s.height}}function fP(s,o){return o3(s,o*Math.min(s.width,s.height)/2)}function Ov(s,o,i,a){return{x:s-i/2,y:o-a/2,width:i,height:a}}function mP(s){return 0>s.width&&(s.x+=s.width,s.width=-s.width),0>s.height&&(s.y+=s.height,s.height=-s.height),s.right=s.x+s.width,s.bottom=s.y+s.height,s.cx=s.x+s.width/2,s.cy=s.y+s.height/2,s}function gP(s){return[s.x,s.y,s.x+s.width,s.y+s.height]}function vP(s){return{x:s[0],y:s[1],width:s[2]-s[0],height:s[3]-s[1]}}function kl(s){return{x:s[0],y:s[1],width:s[2],height:s[3]}}function yP(s,o){var i=s.width*s.height,a=o.width*o.height;return i=i===a&&s.width===o.width?0:kT(i,a),i===0&&s.x===o.x&&s.y===o.y?0:i===0?-1:i}function c_(s){return typeof s>"u"&&(s=0),s.toFixed?s=cA[s]:s.charAt?(s=s.toLowerCase(),s=cA[hae.indexOf(s)]):s=cA[0],s&&("#"+s.match(/.{1,6}/g).join("#")).match(/.{1,7}/g)}function xP(s,o,i,a){a===void 0&&(a={});var u=Rm[s]=Rm[s]||{};u.loaded&&o();var d=u.callbacks=u.callbacks||[];u.loading?d.push(o):(u.loading=!0,d.push(o),Dne(s,function(){K(d,function(f){return f()}),u.loading=!1,u.loaded=!0},i,a))}function kne(s,o){return s?(o||Id(),-1<s.indexOf("http:")||-1<s.indexOf("https:")?s+".js":(o||Id())+"/"+s+".js"):null}function Dne(s,o,i,a){var u=a.baseUrl,d=a.notificationContainer,f=kne(s,u);jT(f,o,function(){i&&i.emit("warning","moduleLoader","libNotFound",{data:[f],container:d}),o()}),Sne(i,u,f,d)}function Sne(s,o,i,a){o=!o&&XR(),s&&(o?s.emit("warning","moduleLoader","cdnLoad",{data:[i],container:a}):Id()&&Id()==="https://code.jscharting.com/3.4.0"||!Tne(i)||s.emit("warning","moduleLoader","scriptLoad",{data:[i],container:a}))}function Tne(s){return We(["maps","toolbar","types"],function(o){return~s.indexOf("modules/"+o)})}function js(s){return s.id=s.id||Td()}function u_(s,o){var i=s[o],a;return C(i)==="object"&&(a=s[o]=[i]),a||s[o]}function Ane(s,o,i){var a,u;if((u=C(a=g(s,o)))!=="undefined"&&u==="array"){var d={};K(a,function(f,v){d[i[v]]=f}),St(s,o,d)}}function bP(s,o){var i,a;(a=C(i=g(s,o)))!=="undefined"&&a==="string"&&St(s,o,i.toLowerCase())}function Mne(s){xi(dae,function(o){var i=s[o];i&&ss(i)&&1>Math.abs(i)&&(s[o]=100*i+"%")})}function _P(s,o){var i;C(i=g(s,o))!=="undefined"&&vo(i)&&St(s,o,vo(i))}function Ene(s){if(typeof s=="object"){var o=[];return K(["topLeft","topRight","bottomRight","bottomLeft"],function(i,a){o[a]=s[i]}),o}}function Mr(s,o){return h(s)&&s.charAt?-1<s.indexOf("%")?(s=parseInt(s.match("-?[0-9]+")),s/100*o):parseInt(s):s}function lm(s,o){return _w||(_w=ct.Promise||Ine),new _w(s,o)}function Lne(s,o){var i=[],a=function(){return i.filter(function(d){return!d}).length===0},u;s.forEach(function(d){d.then(function(f){i.push(f?f.ok:!0),f&&f.error&&(u=f.error),f={ok:a()},u&&(f.error=u),i.length===s.length&&o(f)},function(){i.push(!1),i.length===s.length&&o({ok:!1})})})}function Ine(s){return new oN("polyfill/promise",function(){return new(_w=ct.Promise)(s)})}function One(s,o){return new oN(["polyfill/promise","polyfill/fetch"],function(){return(ww=ct.fetch)(s,o)})}function Rv(s){if(s&&s.unit){var o=le(s.multiplier,s.count);return o===void 0&&(s.multiplier=1),o=le(o,1),Cw[s.unit]/1*o}return 0}function qo(s,o){var i=o.unit,a=le(o.multiplier,o.count,1);if(i==="quarter"&&(i="month",a*=3),s.getMonth||(s=new Date(s)),s=new Date(s.getTime()),o&&i)if(i==="decade")s.setFullYear(s.getFullYear()+10*a);else return i==="month"?new Date(s.getFullYear(),s.getMonth()+a,s.getDate()):i==="year"?(s.setFullYear(s.getFullYear()+a),new Date(s.getTime())):i==="day"?(s.setDate(s.getDate()+a),new Date(s.getTime())):new Date(s.getTime()+Rv(o));return s}function l3(s,o,i){i.getMonth||(i=new Date(i)),i=new Date(i.getTime());var a=s.unit?s.unit:s;switch(o=s.multiplier?s.multiplier:1,a==="minute"&&1<o&&(a="hour"),a){case"decade":i.setFullYear(10*Math.floor(.1*i.getFullYear()));case"year":i.setMonth(0);case"month":i.setDate(1);case"week":if(a==="week"){i.setDate(i.getDate()-i.getDay()+pae);break}case"day":i.setHours(0);case"hour":i.setMinutes(0);case"minute":i.setSeconds(0)}return i.setMilliseconds(0),i}function cm(s,o){return{year:{year:o?"2-digit":"numeric"},month:{month:o?"numeric":"short"},day:{day:"numeric"},weekday:{weekday:"short"},hour:{hour:"numeric"},minute:o?{minute:"2-digit"}:{hour:"numeric",minute:"2-digit"},second:o?{second:"2-digit"}:{hour:"numeric",minute:"2-digit",second:"2-digit"},millisecond:"fff"}[s]}function h_(s){var o=fe(s,GA);s=Math.min.apply(Math,c(o)),o=Math.max.apply(Math,c(o));for(var i=[];s<o+1;s++)i.push(cm(kw[s]));return i}function wP(s){var o=s.pair,i=o.major,a=o.minor,u=s.sigUnits,d=s.intervals;o=cm(i.unit),a=cm(a.unit);var f=o,v=a;return u.major.length&&u.minor.length?s.intervals[0].length===1?(i=Math.min.apply(Math,c(fe(u.major,GA))),u=Math.min.apply(Math,c(fe(u.minor,GA))),u--,3<=u&&u--,u>i&&(f=se.apply(null,h_([kw[i],kw[u]])))):(s=h_(u.major),u=h_(u.minor),3<s.length&&s.pop(),i.unit==="day"&&d[1].length>=d[0].length&&se(o,cm("month")),s.length&&d[1][0]>d[0][0]&&(f=se.apply(null,s)),u.length&&(v=a=se.apply(null,u))):!u.major.length&&u.minor.length&&u.minor.length===1&&u.minor[0]==="day"&&(v=se(cm("month"),v)),{major:o,minor:a,majorFirst:f,minorFirst:v}}function CP(s){var o=l(s,2);return s=o[1],o=ai(fe(o[0],UA)),s=ai(fe(s,UA)),{major:o,minor:s}}function d_(s,o,i,a){var u=[],d=[],f=[];a=a.getTime();var v=i.getTime();v=a-v;var x={exists:0,close:0},b=i;b.getMonth||(b=new Date(b));var w=s.unit?s.unit:s,k=s.multiplier?s.multiplier:1,D=l3(s,1,b);if(D.getTime()!==b.getTime())for(;D.getTime()<b.getTime();)D=qo(D,{unit:w,multiplier:k});for(b=w=D;b.getTime()<=a;)d.push(b.getTime()),b=qo(b,s);if(u.push(d),o){var T;for(b=w,b.getMonth||(b=new Date(b)),o.unit==="week"&&(b=l3(o,1,b));b>i;)b=qo(b,{unit:o.unit,multiplier:-le(o.multiplier,1)});for(i=qo(b,o),i.setMilliseconds(0),b=i;b.getTime()<=a;){k=w=s=void 0,D=b.getTime();var M=d;if(i=v/20,0>M.indexOf(D)){if(M.length){try{for(var I=r(M),O=I.next();!O.done;O=I.next()){var F=O.value;(s===void 0||yn(F,D)<yn(s,D))&&(s=F)}}catch(N){k={error:N}}finally{try{O&&!O.done&&(w=I.return)&&w.call(I)}finally{if(k)throw k.error}}s=yn(s,D)}else s=void 0;i=h(s)&&(s>=i?void 0:"close")}else i="exists";(T=i)?x[T]++:f.push(b.getTime()),b=qo(b,o)}1<f.length&&u.push(f),u.minorRemoval=x}return u}function p_(s,o){o=o||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];var i=o[o.length-1],a=Cw[i[0]],u;for(s.unit&&(s=Rv(s)),u=0;u<o.length;u++){i=o[u],a=Cw[i[0]];var d=i[1];if(o[u+1]&&s<=(a*d[d.length-1]+Cw[o[u+1][0]])/2)break}return{unitRange:a,count:Math.max(1,Math.round(s/a)),unit:i[0]}}function Rne(s,o,i,a){var u=yae(),d,f=function(T){return d=T=d_(T.major,T.minor,s,o),T[0].length+(T[1]?T[1].length:0)},v,x=0,b=0;if(a)var w=v=a.pair,k=f(a.pair),D=d;else for(;b<i&&(v=u[x]);){if(b=f(v),b>i||3<d.minorRemoval.close)break;x++,w=v,k=b,D=d}return{pair:w,count:k,intervals:D,sigUnits:CP(D)}}function c3(s,o,i,a){return a===void 0&&(a=!0),s=new $A(s),o=s.isInterval?a?s.setRangeSnap(o,i):s.setRange(o,i):s.getRanges(o,i),fe(o,function(u){return fe(u,function(d){return d.getTime()})})}function kP(s,o){var i;return(i=s.offset)?o.map(function(a){return a.map(function(u){return xt(u.getTime()+i)})}):o}function u3(s,o,i){if(o===void 0&&(o="sum"),(!s||!s.length)&&h(i))return i;switch(o){case"sum":return rr(s);case"average":return o=rr(s),o===null?NaN:o/s.length;case"min":return Math.min.apply(Math,c(s));case"max":return Math.max.apply(Math,c(s))}}function Pne(s,o){if(typeof s.pop=="function")return hN(function(u){s.forEach(function(d){return u(d.values)})})?[{points:um(s,o)}]:s.map(function(u){return{name:u.key,points:um(u.values,o)}});var i=Object.keys(s);if(YA(g(s,i[0])))return[{points:um(s,o)}];var a=[];return i.forEach(function(u){return a.push({name:u,points:um(s[u],o)})}),a}function um(s,o){var i=typeof o=="function",a=i?function(v,x){return o(x,v)}:ho,u=function(){a=function(v){return u3(v,o)}};if(typeof s.pop=="function")return!i&&hN(function(v){s.forEach(function(x){return v(x.values)})})&&u(),s.map(function(v){if(i)v=a(v.values,v.key);else{var x=v.key;v={x:typeof x=="string"&&x.match(_F)?parseFloat(x):x,y:a(v.values,v.key)}}return v});var d=Object.keys(s);!i&&YA(g(s,d[0]))&&u();var f=[];return d.forEach(function(v){return f.push(i?a(s[v],v):{x:v,y:a(s[v],v)})}),f}function DP(s,o,i){return typeof o=="object"&&o.pattern?Fne(s,o,i):dN(SP(s,o,void 0,i))}function SP(s,o,i,a){o=xy(o);var u={};i&&i.forEach(function(x){u[x]=[]}),i=0;for(var d=s.length;i<d;i++){var f=s[i],v=o(f);v!==null&&xae(u,v,f)}return a&&K(u,function(x,b){return x=bae(a),u[b]=x(u[b])}),u}function Fne(s,o,i){return s=Nne(s,o,i),o=s.notDates?parseInt:function(a){return xt(parseInt(a))},delete s.notDates,dN(s,o)}function Nne(s,o,i){var a,u=o.pattern,d=o.range,f=xy(o.key);if(o=[],!u)throw"CalendarPattern Required";var v=new $A(u),x=v.intervalType==="numeric"?ho:function(I){return I.getTime()};if(d)var b=[xt(d[0]),xt(d[1])],w=v.setRange(xt(d[0]),xt(d[1]));else{try{for(var k=r(s),D=k.next();!D.done;D=k.next()){var T=Xc(f(D.value));ei(T)||o.push(T)}}catch(I){var M={error:I}}finally{try{D&&!D.done&&(a=k.return)&&a.call(k)}finally{if(M)throw M.error}}M=Math.min.apply(Math,c(o)),a=Math.max.apply(Math,c(o)),b=[xt(M),xt(a)],w=v.setRangeSnap(xt(M),xt(a))}return M=w.map(function(I){return x(I[0])}),s=SP(s,function(I,O){if(I=Xc((O||f)(I)),O=v.isInside(I),O===-1){if(!wo(b,I))return null;ei(Xc(I))||(O=w.length-1)}return x(w[O][0])},M,i),v.intervalType==="numeric"&&(s.notDates=!0),s}function h3(s){var o,i,a,u=function(v,x){if(v[0]==="key"){var b=void 0;if(!i&&o?(i=!0,b=function(D){return DP(D,v[1],o[1])}):b=function(D){return DP(D,v[1],x)},i=!0,a){var w=b,k=a[1];b=function(D){return D=Rn(w(D),function(T){return T.key}),k===!0&&D.reverse(),D},a=void 0}return b}if(v[0]==="rollup")return o=v,ho;if(v[0]==="sortKey")return a=v,ho;if(v[0]==="reverse")return function(D){return D.reverse()}};s=s.calls.slice(0);for(var d=s.length-1,f=ho;-1<d;)f=u(s[d--],f);return f}function Bne(s,o,i,a){s_(s,o,i,a,m_)}function f_(s){return fe(s,function(o){if(o.match(wae))o="number";else if(o.match(Cae))o="dirtyNumber";else{var i=(i=o.match(/\d/gm))?i.length:0,a=(a=o.match(/\d\D{1,2}\d/gm))?a.length:0;o=(o=2<i&&a&&!ei(new Date(o).getTime())?o.indexOf("%")===-1:void 0)?"date":"string"}return o})}function d3(s){if(1<s.length){var o=f_(s[0]),i=f_(s[1]);if(function(a,u){return!We(a,function(d){return d!==u})}(o,"string")){if(3>s.length)return!Zf(o,i);if(2<s.length)return s=f_(s[2]),!Zf(o,s)}}}function p3(s){var o=Math.min(3,s.length),i=[];if(rs(o,function(v){return i[v]=f_(s[v])}),!We(i,function(v){return We(v,function(x){})})){for(var a=void 0,u=0;u<i.length-1&&!(a=!Zf(i[u],i[u+1]));u++);var d=["date","number","string","dirtyNumber","undefined"];if(a){var f=[];return rs(i[0].length,function(v){var x=[];rs(o,function(b){x.push(i[b][v])}),x.sort(function(b,w){return kT(d.indexOf(b),d.indexOf(w))}),f.push(x)}),fe(f,function(v){return v[0]})}return i[0]}return[]}function m_(s,o,i){o===void 0&&(o=",");var a=[],u,d,f,v=!1;for(u=d=f=0;f<s.length;f++){var x=s[f],b=s[f+1];a[u]=a[u]||[],a[u][d]=a[u][d]||"",x==='"'&&v&&b==='"'?(a[u][d]+=x,++f):x==='"'?v=!v:x!==o||v?x!=="\r"||b!==`
`||v?(x!==`
`||v)&&(x!=="\r"||v)?a[u][d]+=x:(++u,d=0):(++u,d=0,++f):++d}return!i&&d3(a)&&(a.shift(),d3(a)&&a.shift()),a}function TP(s,o){var i={number:function(f){return f=parseFloat(f),ei(f)?null:f},dirtyNumber:function(f){return f=parseFloat(f.replace(/[^0-9.-]+/g,"")),ei(f)?null:f},string:function(f){return f},date:function(f){return new Date(f).getTime()},"":function(f){return f}},a=function(f){return fe(f,function(v,x){return i[o[x]](v)})},u=function(f){K(s[f],function(v){if(v=C(v),v==="number"||v==="dirtyNumber"||v==="date"||v==="object")return d=!0,!1})},d=!1;if(s.length)return rs(3,function(f){return u(f)}),d?s:(o=o||p3(s),fe(s,a))}function AP(s,o){C(s)==="string"&&o&&(s={mapTo:s,data:o});var i={number:function(O){return parseFloat(O)},string:function(O){return O},dateNumber:function(O){return new Date(parseInt(O))},date:function(O){return new Date(O)},"":function(O){return O}},a,u=s.csv,d=s.data;o=s.intervals;var f=C(d),v=s.types,x=s.newline||_ae,b=s.mapTo||"x,y,z",w=s.delimiter||",";v&&(v=v.split(","));var k=function(O){return ST(O)?"number":"string"},D=function(O,F){return v[F]==="date"?{number:"dateNumber",string:"date"}[k(O)]:v[F]},T=function(O){return v?fe(O,D):fe(O,k)},M=function(O){return fe(O.split(w),function(F,N){return I[N](F)})};if(u||f!=="string"||(u=d),u){u=u.split(x),s.header&&(u=u.splice(0,1)),v=T(u[Math.min(1,u.length-1)].split(w));var I=fe(v,function(O){return i[O]});d=fe(u,M)}return d&&(a=MP(b,d)),o&&K(o,function(O,F){var N=O.start,j=O.step,W=i[O.type||""];K(a,function($,Y){return $[F]=W(N+j*Y)})}),a}function MP(s,o){function i(D,T,M){D[T]=M}function a(D,T,M){St(D,T,M)}s=s.split(",");var u=[],d=[],f,v,x,b=0;for(f=s.length;b<f;b++)s[b]=s[b].trim(),d[b]=-1<s[b].indexOf(".")?a:i;var w=0;for(v=o.length;w<v;w++){f=o[w],b={};var k=0;for(x=f.length;k<x;k++)d[k](b,s[k],f[k]);u[w]=b}return u}function EP(s,o){o===void 0&&(o={});var i=[],a=m_(s,o.delimiter,!0);rs(2,function(d){return d3(a)&&i.push(a.shift())});var u=p3(a);return s={raw:s,headers:i,types:u.map(kae),split:a},o.skipCoerce||(s.data=TP(a,u)),s}function f3(s,o,i){i===void 0&&(i={}),s=EP(s,{delimiter:o,skipCoerce:!!i.coerce});var a=i;a===void 0&&(a={}),i=a.map,o=a.coerce;var u=s.data,d=s.headers,f=s.types;if(a.columns&&(d=[a.columns]),u=u||s.split,0<d.length&&d[0].length&&u[0].length===d[0].length){var v=d[0];a=[];for(var x=0;x<u.length;x++){for(var b=u[x],w={},k=0;k<b.length;k++)w[v[k]]=b[k];b=i?i(w):w,a.push(o?o(b,x,f):b)}a.columns=v,1<d.length&&(a.headers=d)}else a=s.data;return a&&(a.types=s.types),a}function m3(s,o,i){i===void 0&&(i={}),(i=i.map)&&(s=s.map(i));var a=$n(s[0]),u=function(d,f){return f.map(function(v){return d[v]})};return s=s.map(function(d,f){return u(d,a).join(o)}),s.splice(0,0,a.join(o)),s.join(`
`)}function Vne(s,o){var i=Qt.body,a=1e3,u=Qt.createElement("span");u.innerHTML="QW@HhsXJ",u.style.position="absolute",u.style.top=u.style.left="-9999px",u.style.visibility="hidden",u.style.fontFamily="Courier New",u.style.fontSize="250px",i.appendChild(u);var d=u.offsetWidth;u.style.fontFamily=s+",Courier New";var f=function(){d!==u.offsetWidth?(i.removeChild(u),o(!0)):0>a?(i.removeChild(u),o(!1)):(setTimeout(f,50),a-=50)};f()}function Qu(s){return s?(XA[s]||(XA[s]=0),"_jsc_"+s+XA[s]++):"_jsc"+Dae++}function LP(s){return(s||"")+Math.random().toFixed(5).slice(2)}function zne(s){return s?-1<s.indexOf("_jsc"):!1}function hm(s,o){return o=o||1,s&&s.pop?[vn(s[0],o),vn(s[1],o)]:h(s.x)?{x:vn(s.x,o),y:vn(s.y,o)}:s}function vr(s,o,i){if(s=hm(s.slice(0),i),o=hm(o.slice(0),i),s[0]===o[0]&&s[1]===o[1])return!0}function IP(s,o,i,a,u){return u=Math.min((s-o)/2,u),u/(qA*o)*fN>Math.abs(i-a)&&(u=(a-i)/fN*o*qA),{cornerR:u,oCornerR:(s+o)/2/o*u}}function Ko(s,o){var i=o[0]-s[0];return s=o[1]-s[1],Math.sqrt(i*i+s*s)}function OP(s,o,i,a,u,d,f,v,x,b){var w=Math.PI,k=120*w/180,D=w/180*(+u||0),T=[],M=function(j,W,$){var Y=j*Ts.cos($)-W*Ts.sin($);return j=j*Ts.sin($)+W*Ts.cos($),{x:Y,y:j}};if(b){N=b[0];var I=b[1];d=b[2],F=b[3]}else{I=M(s,o,-D),s=I.x,o=I.y,I=M(v,x,-D),v=I.x,x=I.y,I=(s-v)/2,N=(o-x)/2,F=I*I/(i*i)+N*N/(a*a),1<F&&(F=Ts.sqrt(F),i*=F,a*=F),F=i*i;var O=a*a;F=(d==f?-1:1)*Ts.sqrt(mN((F*O-F*N*N-O*I*I)/(F*N*N+O*I*I))),d=F*i*N/a+(s+v)/2;var F=F*-a*I/i+(o+x)/2,N=Ts.asin(((o-F)/a).toFixed(9));I=Ts.asin(((x-F)/a).toFixed(9)),N=s<d?w-N:N,I=v<d?w-I:I,0>N&&(N=2*w+N),0>I&&(I=2*w+I),f&&N>I&&(N-=2*w),!f&&I>N&&(I-=2*w)}if(mN(I-N)>k&&(T=I,w=v,O=x,I=N+k*(f&&I>N?1:-1),v=d+i*Ts.cos(I),x=F+a*Ts.sin(I),T=OP(v,x,i,a,u,0,f,w,O,[I,T,d,F])),d=I-N,u=Ts.cos(N),k=Ts.sin(N),f=Ts.cos(I),w=Ts.sin(I),I=Ts.tan(d/4),i=4/3*i*I,I*=4/3*a,a=[s,o],s=[s+i*k,o-I*u],o=[v+i*w,x-I*f],v=[v,x],s[0]=2*a[0]-s[0],s[1]=2*a[1]-s[1],b)return[s,o,v].concat(T);for(T=[s,o,v].concat(T).join().split(","),b=[],v=0,x=T.length;v<x;v++)b[v]=v%2?M(T[v-1],T[v],D).y:M(T[v],T[v+1],D).x;return b}function Pv(s){return fe(s,function(o){return[o.x,o.y]})}function g3(s,o,i){if(h(g(s,"0.0")))for(var a=[],u=0,d=s.length;u<d;u++)a.push(g3[s[u],o[u],i]);else for(a=[],u=0,d=s.length;u<d;u++)a.push(rt(s[u],o[u],0,1,i));return a}function Gn(s){return s.join?s.join(" ").replace(/,/g," "):s}function RP(s,o,i){var a=0;for(s=s.shapes;a<s.length;a++){for(var u=s[a],d=0,f=u.items;d<f.length;d++)o(f[d],d,a);i&&i(u,a)}}function v3(s,o){var i="",a;return RP(s,function(u,d,f){var v=u[0];if(i+=a!==v?Qd[v]:" ",a=v,a!==1)for(v=2;v<u.length;v++){var x=o?o(u[v],v,d,f):u[v];i+=(2<v?" ":"")+(x[0]+" "+x[1])}}),i}function yo(s){if(s.bboxValue)return s.bboxValue;var o={};return K(s.items,function(i){gN[i[0]]&&gN[i[0]](o,i)}),s.bboxValue=[o.xMin,o.yMin,o.xMax-o.xMin,o.yMax-o.yMin],s.minMaxResult=o,s.bboxValue}function y3(s,o){var i=l(o,2);o=i[0],i=i[1];var a=nt(s.xMax);return(o>s.xMax||a)&&(s.xMax=o),(o<s.xMin||a)&&(s.xMin=o),(i>s.yMax||a)&&(s.yMax=i),(i<s.yMin||a)&&(s.yMin=i),s}function PP(s,o){return y3(s,o[2])}function Hne(s,o){var i=s.bbox(),a=jte(i,o);o=s3(kl(o),a[0],a[1]);var u=Rt(o);return v3(s,function(d){return Sw(u,i,d)})}function FP(s,o,i){var a=0;for(i&&s.clearCache(!0),i=0,s=s.shapes;i<s.length;i++)a+=zd(s[i],o);return a}function zd(s,o){if(h(s.lengthValue))return s.lengthValue;for(var i=0,a=0,u=s.items;a<u.length;a++){var d=u[a],f=d;if(h(d.lengthValue))d=d.lengthValue;else e:{var v=o;switch(d[0]){case 1:case 2:d=Ko(d[1],d[2]);break e;case 3:d=v?MT(d.slice(1)):(Ko(d[1],d[2])+Ko(d[4],d[3])+Ko(d[3],d[2])+Ko(d[1],d[4]))/2;break e;default:d=0}}f=f.lengthValue=d,i+=f}return s.lengthValue=i}function dm(s,o){if(s[0]===3){var i=s[1],a=s[4];if(o===0)o=i;else if(o===1)o=a;else{s=l([i,s[2],s[3],a],4);var u=s[1],d=s[2];a=s[3],i=l(s[0],2),s=i[0],i=i[1];var f=l(a,2);a=f[0],f=f[1];var v=l(u,2);u=v[0],v=v[1];var x=l(d,2);d=x[0],x=x[1];var b=1-o,w=TA(b,3),k=TA(b,2),D=o*o*o;o=[w*s+3*k*o*u+3*b*o*o*d+D*a,w*i+3*k*o*v+3*b*o*o*x+D*f]}return o}return g3(s[1],s[2],o)}function NP(s){s.length();var o=[],i=0;for(s=s.shapes;i<s.length;i++)o.push.apply(o,BP(s[i]));return o}function BP(s){if(s.flatPoints)return s.flatPoints;var o=[];zd(s);for(var i,a=0,u=s.items;a<u.length;a++){var d=u[a];if(d[0]===3){i=Math.max(2,Math.floor(d.lengthValue/10));var f=d.lengthValue/(i+1);f=rt(0,1,0,d.lengthValue,f);for(var v=1;v<=i;v++)o.push(dm(d,v*f));o.push(d[4])}else o.push(d[2])}return s.flatPoints=o}function Dl(s,o){if(o===void 0&&(o=6),s.positions)return s.positions;for(var i=[],a=zd(s),u=0,d=0,f=s.items;d<f.length;d++){var v=f[d];u+=v.lengthValue,v=v.position=h(v.position)?v.position:vn(u/a,o),i.push(v)}return s.positions=i}function VP(s,o,i){var a=[];if(s[0]===3){if(s=Pte(s[1],s[2],s[3],s[4],o,i),s.length)return K(s,function(u){ei(u[0])||a.push({x:u[0],y:u[1],onLine1:!0,onLine2:!0})}),a}else return a.push(tm(s[1],s[2],o,i)),a;return a.push({x:0,y:0,onLine1:!1,onLine2:!1,isNaN:!0}),a}function g_(s,o,i,a){var u,d;a===void 0&&(a=6);var f=Dl(s,a),v=zd(s),x=[],b=[];s=s.items;for(var w=1,k=s.length;w<k;w++){var D=s[w],T=D.lengthValue,M=VP(D,o,i),I=f[w-1];try{for(var O=(u=void 0,r(M)),F=O.next();!F.done;F=O.next()){var N=F.value;if(!N.isNaN)if(N.onLine1&&N.onLine2){var j=Ko(D[1],[N.x,N.y]),W=vn(j/T,a);zP(w,N,W,vn(I+j/v,a),b,x)}else{var $=it(D);M=i,SR(hm(o),hm($),hm(M))===0&&zP(w,N,1,vn(I+T/v,a),b,x)}}}catch(Y){u={error:Y}}finally{try{F&&!F.done&&(d=O.return)&&d.call(O)}finally{if(u)throw u.error}}}return b}function zP(s,o,i,a,u,d){var f=hm([o.x,o.y]).join(" ");u.push({i:s,intersect:o,percOfSegment:i,percOfShape:a}),d.push(f)}function x3(s){if(s.vertices)return s.vertices;var o=[],i=s.items,a=i.length-1;return K(i,function(u,d){var f=it(u);d===a?u[0]===1||vr(f,it(i[0]))||o.push(f):d&&vr(u[1],f)||o.push(f)}),s.vertices=o}function jne(s){if(s.centroid)return s.centroid;var o=x3(s),i=o.length,a=0,u=0;return K(o,function(d){a+=d[0],u+=d[1]}),s.centroid=[a/i,u/i],s.centroid}function Fv(s){return s.center||(s.center=On(yo(s))),s.center}function b3(s,o,i){return i=i||yo(s),s=Fv(s),Sw(o,i,s)}function Nv(s,o){return o?Fv(s):(o=jne(s),bv(o,x3(s))?o:Fv(s))}function HP(s){if(h(s.direction))return s.direction;for(var o=x3(s),i=0,a=0,u=o.length;a<u;a++){var d=o[a],f=o[(a+1)%o.length];i+=(f[0]-d[0])*(f[1]+d[1])}return s.direction=0<i?"cw":"ccw",s.direction}function jP(s,o){return h(s.orientation)||(o=Nv(s,o),s.orientation=Mi(o,it(s.items[0]))),s.orientation}function v_(s,o,i,a){var u=s[0];return u===0?[]:u===3||u===1&&o[0]===3?(s=u===3?[s[1],s[2],s[3],s[4]]:[s[1],s[1],s[2],s[2]],0<i&&(i=ET(s,i),s=i.slice(3,i.length)),1>a&&(a=ET(s,a),s=a.slice(0,4)),s):[dm(s,i),dm(s,a)]}function Gne(s){s.lengthValue=void 0}function Wne(s){s.lengthValue=void 0,s.flatPoints=void 0}function Une(s){var o,i=[];if(s=s.match(Sae))try{for(var a=r(s),u=a.next();!u.done;u=a.next()){var d=u.value,f=d.match(Tae);f=f?f.map(function(x){return Number(x)}):[],i.push([d[0],f])}}catch(x){var v={error:x}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(v)throw v.error}}return i}function GP(s,o){return[2*o[0]-s[0],2*o[1]-s[1]]}function Bv(){return new Pm({hasErrors:!0})}function WP(s,o,i,a){var u=s.args;o=o||0;for(var d=u.length;d-o>i-1;o+=i)a(s,o,u)}function pm(s,o,i,a){WP(s,a,2*o,function(u,d){i(u,o===1?y_(u,d):bR(o,function(f){return y_(u,d+2*f)}))})}function y_(s,o){return s.isRelative?[s.args[o]+(s.endPoint?s.endPoint[0]:0),s.args[o+1]+(s.endPoint?s.endPoint[1]:0)]:[s.args[o],s.args[o+1]]}function $ne(s){var o;if(s=Une(s),!s.length)return Bv();var i=x_();try{for(var a=r(s),u=a.next();!u.done;u=a.next()){var d=u.value,f=ZA[d[0]];if(i.args=d[1],i.isRelative=f.isRelative,i.cIsClosed&&f.command!=="M"&&XP(i),i.args.length<f.argsCount||(Aae[f.command](i),i.firstCommand&&!i.startPoint))return Bv();i.lastCommand=d,i.firstCommand=!1}}catch(x){var v={error:x}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(v)throw v.error}}return b_(i)}function _3(s,o,i){if(!o||i===1||i===0||s[0]!==3)return i;s=s.slice(1);var a=void 0;i=void 0,a===void 0&&(a=1),i===void 0&&(i=.01);var u=a/2;a-=u;var d;for(d=MT(s,a);Math.abs(d-o)>i;)u/=2,a+=(d<o?1:-1)*u,d=MT(s,a);return a}function UP(s,o){switch(o[0]){case 0:Vv(s,o[2]);break;case 1:C3(s);break;case 2:Vc(s,o[2]);break;case 3:Hd(s,o.slice(2))}}function x_(){return{firstCommand:!0,shapes:[]}}function b_(s){w3(s);var o=s.startPoint,i=s.endPoint;return new Pm({hasCurves:s.hasCurves,hasLines:s.hasLines,isClosed:o[0]===i[0]&&o[1]===i[1],shapes:s.shapes})}function $P(s,o,i){if(o[0][0].length)for(var a=0;a<o.length;a++)$P(s,o[a],i);else{for(Vv(s,o[0]),a=1;a<o.length;a++)Vc(s,o[a]);i!==!0&&C3(s)}}function w3(s){s.cShape.hasLines=s.cHasLines,s.cShape.hasCurves=s.cHasCurves,s.cShape.isClosed=s.cIsClosed,s.cHasLines=s.cHasCurves=s.cStartPoint=s.cIsClosed=void 0}function Vc(s,o){__(s,2,[o]),s.hasLines=s.cHasLines=!0}function Hd(s,o){__(s,3,o),s.hasCurves=s.cHasCurves=!0,s.lastCurve=o}function Yne(s,o){var i=s.lastCurve&&it(s.cShape.items)[0]===3?GP(s.lastCurve[1],s.endPoint):s.endPoint;o.unshift(i),Hd(s,o)}function YP(s,o){var i=s.endPoint[0],a=s.endPoint[1],u=o[0][0],d=o[0][1],f=o[1][0],v=o[1][1];s.lastQ=o[0],Hd(s,[[i+2*(u-i)/3,a+2*(d-a)/3],[f+2*(u-f)/3,v+2*(d-v)/3],o[1]])}function Xne(s,o){YP(s,[GP(s.lastQ,s.endPoint),o])}function __(s,o,i){o=[o,s.endPoint],o.push.apply(o,i),s.endPoint=it(i),s.cShape&&s.cShape.items.push(o)}function XP(s,o){s.cShape&&w3(s),o&&(s.endPoint=o),s.cStartPoint=s.endPoint,s.lastCurve=null,s.cShape={cStartPoint:s.cStartPoint,items:[]},s.shapes.push(s.cShape)}function Vv(s,o){XP(s,o||y_(s,0)),s.firstCommand&&(s.startPoint=s.cStartPoint),__(s,0,[s.endPoint]),o||pm(s,1,Vc,2)}function C3(s){__(s,1,[s.cStartPoint]),s.cIsClosed=!0}function qne(s,o,i){o=y_(s,o+5);var a=s.endPoint;if(a[0]===o[0]&&a[1]===o[1])return!0;var u=OP(a[0],a[1],i[0],i[1],i[2],i[3],i[4],o[0],o[1]);for(i=function(d){return[u[d],u[d+1]]},a=u.length,u[a-2]=o[0],u[a-1]=o[1],o=0;5<a-o;o+=6)Hd(s,[i(o),i(o+2),i(o+4)])}function Jn(s){return s?$ne(s.join?s.join(" "):s):new Pm}function Ia(s){if(s){var o;if(s.length&&s[0].push){var i=x_();try{for(var a=r(s),u=a.next();!u.done;u=a.next())UP(i,u.value)}catch(f){var d={error:f}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(d)throw d.error}}s=b_(i)}else s=Bv()}else s=new Pm;return s}function Ju(s,o,i){if(1<i){var a=1>o?Ju(s,o,1):"",u=0<i%1?Ju(s,0,i%1):"";if(i=it(s.shapes).isClosed,a)if(u){s=Jn(a),a=Jn(u),s=s.items(),u=a.items();var d=it(s);a="",o=0;for(var f=u.length;o<f;o++){var v=u[o];i&&o===f-1?(a="Z",v[0]!==3&&(vr(it(s[0]),it(v))||vr(it(v),it(x)))||s.push(v)):o?vr(it(v),it(x))||s.push(v):vr(it(v),it(d))||s.push(v);var x=v}for(i=[],x=0,u=s.length;x<u;x++){d=s[x],x===s.length-1?d[0]!==3&&vr(it(d),it(s[0]))||i.push(d):x&&vr(it(d),it(b))||i.push(d);var b=d}b=Ia(i).toString()+a}else b=a;else b=u;return b}if(b=s.items(),x=s.length(),f=qP(b,x,o),x=qP(b,x,i),v=b[f.i],u=b[x.i],d=f.i,a=[],0<o){if(o=v_(b[f.i],b[f.i-1],f.percOfSegment,1),a.push("M",o[0].join(" ")),o.shift(),v[0]===1&&(v=b[f.i-1]),a.push(Qd[v[0]]),a.push(o.join(" ").replace(/,/g," ")),d++,x.i===f.i&&x.percOfSegment===1)return a.join(" ")}else a=["M",f.xy.join(" ")];for(o=d,f=x.i;o<f;o++)a.push(KP(b[o])),d++;return 1>i?(o=v_(b[x.i],b[x.i-1],0,x.percOfSegment),o.shift(),u[0]===1?(v=b[x.i-1],a.push(Qd[v[0]])):a.push(Qd[u[0]]),a.push(o.join(" ").replace(/,/g," "))):(d=x.i,i=b[d],i[0]===1?s.hasCurves?(s=it(i),a.push("C",it(b[x.i-1]).join(" "),s.join(" "),s.join(" "))):a.push("L",it(i).join(" ")):a.push(KP(i))),a.join(" ")}function Kne(s,o,i,a){var u=s.items();if(o===0&&i===0)return Ia(u);a=(a&&a.mode)==="caps";var d=FP(s,!0,!0);s=k3(u,d,o/d),i=k3(u,d,(d-i)/d),o=x_();var f=!1;d=!1;var v=s.i,x=i.i;a&&(1<v&&(s.i=2,s.percOfSegment=0,f=!0),x<u.length-1&&(i.i=u.length-2,i.percOfSegment=1,d=!0)),a=s.i===i.i;var b=u[s.i];for(f?(b[0]!==0&&Vv(o,b[1]),v=1):(s=v_(b,u[s.i-1],_3(b,s.toLen,s.percOfSegment),a?_3(b,i.toLen,i.percOfSegment):1),Vv(o,s[0]),b[0]===3?Hd(o,s.slice(1)):Vc(o,s[1])),d&&(x=u[u.length-1][0]===3?u.length:u.length-1),s=v+1;s<x;s++)UP(o,u[s]);return d||a||(a=v_(u[i.i],u[i.i-1],0,_3(u[i.i],i.toLen,i.percOfSegment)),u[i.i][0]===3?Hd(o,a.slice(1)):Vc(o,a[1])),b_(o)}function qP(s,o,i){return o=k3(s,o,i),o.xy=dm(s[o.i],o.percOfSegment),o}function k3(s,o,i){if(i===0)return{i:1,percOfSegment:i};if(i===1)return{i:s.length-1,percOfSegment:i};o*=i,i=0;for(var a,u=1,d=s.length;u<d;u++){var f=s[u];if(f.lengthValue){var v=void 0;if(v===void 0&&(v=SA),v=i<o||DT(i,o,v)){v=i+f.lengthValue;var x=void 0;x===void 0&&(x=SA),v=v>o||DT(v,o,x)}if(v){var b=vn(rt(0,1,i,i+f.lengthValue,o),6),w=u;a=o-i;break}i+=f.lengthValue}}return b===1&&w<s.length-1&&(a=b=0,w++),{i:w,percOfSegment:b,toLen:a}}function KP(s){return s[0]===1?"Z":Gn([Qd[s[0]],s.slice(2).join(" ")])}function Er(s,o){if(s)if(o===void 0&&(o={}),s.length&&s[0].push){var i=x_();$P(i,s,o.isOpen),w3(i),s=b_(i)}else s=Bv();else s=new Pm;return s}function ZP(s){var o=function(a){return a[2]===0&&a[3]===0},i=typeof s=="string";return!s||s.hasErrors?!0:!i&&s.bbox?o(s.bbox()):s.arcShape?s.arcShape.r===0:i||s.push?o(Aw(s)):!0}function Zne(s){var o=[],i=0;for(s=s.shapes;i<s.length;i++)o.push(Ia(s[i].items));return o}function QP(s){if(nt(s.isClose)){var o=it(s.items),i=s.items[0],a;!(a=o[0]===1)&&(a=2<s.items.length)&&(i=i[1],o=it(o),a=i[0]===o[0]&&i[1]===o[1]),s.isClose=a}return s.isClose}function D3(s,o,i,a,u){var d=u.start,f=u.skipEndFix?u.end:u.end-.001,v=u.caps||{},x=u.r||i||a;i=u.innerR,a=u.open;var b=(v.start||v.left||"").toLowerCase();v=(v.end||v.right||"").toLowerCase();var w=u.end-d<Mw?0:1,k=u.cornerR,D=k&&b!=="gap"&&b!=="flat",T=k&&v!=="gap"&&v!=="flat";if(k&&(D||T)){var M=[s,o],I=IP(x,i,d,f,k),O=I.cornerR,F=I.oCornerR;I=x-F;var N=i+O,j=Hs(O/(yN*i)*360),W=Hs(F/(yN*x)*360);O=mo(M,d,I),F=mo(M,f,I),I=mo(M,d,N),N=mo(M,f,N);var $=mo(M,d+j,i),Y=mo(M,f-j,i);j=mo(M,d+W,x),M=mo(M,f-W,x)}var te=Math.cos(d),ee=Math.sin(d),ae=Math.cos(f),q=Math.sin(f);u=u.ccw;var J=T?M:[s+x*ae,o+x*q];M=D?j:[s+x*te,o+x*ee],W=["M",M[0],M[1],"A",x,x,0,w,u?0:1,J[0],J[1]];var re=v==="insideround";return h(i)&&(x-=i,ae=T?Y:[s+i*ae,o+i*q],s=D?$:[s+i*te,o+i*ee],v==="round"||re?(o=TT(J,ae),f=Gs(o[0],o[1],x/2,f,f+Mw,re),W.push.apply(W,c(f))):v==="gap"?W.push.apply(W,c(["M",ae[0],ae[1]])):T?W.push.apply(W,c(["A",k,k,0,0,1,F[0],F[1],"L",N[0],N[1],"A",k,k,0,0,1,Y[0],Y[1]])):W.push.apply(W,c([a?"M":"L",ae[0],ae[1]])),W.push.apply(W,c(["A",i,i,0,w,u?1:0,s[0],s[1]])),re=b==="insideround",b==="round"||re?(o=TT(M,s),f=Gs(o[0],o[1],x/2,d+Mw,d,re),W.push.apply(W,c(f))):D?W.push("A",k,k,0,0,1,I[0],I[1],"L",O[0],O[1],"A",k,k,0,0,1,j[0],j[1]):b!=="gap"&&v==="gap"&&W.push.apply(W,c(["L"],M)),v==="gap"||b==="gap")&&(a=!0),W.push(a?"":"Z"),W}function Gs(s,o,i,a,u,d){return D3(s,o,i,i,{start:a,end:u,open:!0,ccw:d}).slice(3,11)}function S3(s,o,i,a,u){return Er([[s,o],[s+i,o],[s+i,o+a],[s,o+a]],u)}function JP(s,o,i,a,u){u===void 0&&(u={});var d=l(e7(i,a,u),2);return Jne(s,o,i,a,d[0],d[1],u.callout)}function Qne(s,o,i){i===void 0&&(i={}),s=l(e7(s,o,i),2);var a=s[0];return s=s[1],o=Math.max,i=function(u){return a=u.radius||a,{round:a-Math.cos(Math.PI/4)*a,cut:a/2,square:0,callout:0}[u.type||u]},[o(i(s[0]),i(s[3])),o(i(s[0]),i(s[1])),o(i(s[1]),i(s[2])),o(i(s[2]),i(s[3]))]}function e7(s,o,i){s=Math.min(s/2,o/2);var a=Math.min(le(i.r,i.radius,5),s);return o=nt(le(i.r,i.radius))?"square":"round",i=fe(i.corners||[o,o,o,o],function(u){return u.r?(a=u.r,u.type):u}),[Math.min(a,s),i]}function Jne(s,o,i,a,u,d,f){var v=Math.PI;s=l(ta([s,o,i,a]),4);var x=s[0],b=s[1],w=s[2],k=s[3],D=[],T,M="",I,O,F,N,j,W,$;f&&(f.pop||(f=[f]),K(f,function(re){var ce=re.position;re=re.size,I=jn([0,0],45,re[0])[0];var oe=l([xN(ce[0]),xN(ce[1])],2),pe=oe[0];oe=oe[1],M+=(oe?ce[1]===0?"T":"B":"")+(pe?ce[0]===0?"L":"R":""),h($=Eae[M])?d[$]={type:"callout",size:re,radius:I}:T=oe?ce[0]:pe?ce[1]:void 0,D.push({name:M,pos:T,size:re})})),f=function(re){F=k-re,N=x+re,j=w-re,W=b+re,O=re};var Y=[],te,ee,ae,q,J=[];return s=function(re,ce,oe,pe,Se,Te,Ke){switch(Y.push(Y.length?"L":"M",ce),re.type||re){case"square":Y.push("L",oe,"L",pe);break;case"round":Y.push.apply(Y,c(Gs(Se[0],Se[1],O,Te,Ke)));break;case"cut":Y.push("L",pe);break;case"callout":J.push(q=mo(Se,(Te+Ke)/2,re.size[1])),Y.push("L",q,"L",pe)}},o=function(re,ce,oe){te=re.size[0]/2,ee=rt(ce+te,oe-te,0,1,re.pos),ae=rt(ce,oe,0,1,re.pos)},i=function(re,ce,oe){J.push(ce),Y.push("L",re,"L",ce,"L",oe)},a=d[0],f(a.radius||u),s(a,[x,W],[x,b],[N,b],[N,W],v,3*v/2),(a=We(D,{name:"T"}))&&(o(a,N,j),i([ee-te,b],[ae,b-a.size[1]],[ee+te,b])),a=d[1],f(a.radius||u),s(a,[j,b],[w,b],[w,W],[j,W],-v/2,0),(a=We(D,{name:"R"}))&&(o(a,W,F),i([w,ee-te],[w+a.size[1],ae],[w,ee+te])),a=d[2],f(a.radius||u),s(a,[w,F],[w,k],[j,k],[j,F],0,v/2),(a=We(D,{name:"B"}))&&(o(a,N,j),i([ee+te,k],[ae,k+a.size[1]],[ee-te,k])),a=d[3],f(a.radius||u),s(a,[N,k],[x,k],[x,F],[N,F],v/2,v),(a=We(D,{name:"L"}))&&(o(a,W,F),i([x,ee+te],[x-a.size[1],ae],[x,ee-te])),Y.length&&Y.push("Z"),Gn(Y)}function t7(s){s===void 0&&(s={});var o=s.type;if(_N[o])return _N[o](s);var i=le(s.lineWidth,1),a=Mr(le(s.size,10*i),i);o=le(s.overflow,!1);var u=Mr(le(s.width,a),i);return i=Mr(le(s.height,a),i),a=o===!1?le(s.centerWidth,u/2):0,ke(Vi({},s,bN),{width:u,height:i,overflow:0<a?!0:o,centerWidth:a})}function n7(s){return s&&s!=="none"?Be(s)?{shape:s}:Ii(s):null}function eie(s,o,i,a){var u=ke({size:a,x:o,y:i},Be(s)?{name:s}:s);return(o=(s=u.path)||(u.name?QR(u.name,function(d){En.emit("warning","dom","scriptLoad",{data:[d.path]})},function(d){En.emit("warning","dom","iconNotFound",{data:[u.name]})}):null))?wN(o,[u.x||0,u.y||0,u.width||0,u.height||0,u.size],n7(u.outerShape),u.padding,!!s)[0]:null}function Lr(s,o){o=o||[],o.push(Jd(s[0])),1<s.length&&o.push("L");for(var i=1,a=s.length;i<a;i++)o.push(s[i][0]+" "+s[i][1]);return o}function tie(s,o,i){o===void 0&&(o=!0);var a=[];a.push("M",s[0].join(" "),"L"),o=o?function(f){a.push(s[i?f:f-1][0]+" "+s[i?f-1:f][1])}:function(f){a.push(s[i?f-1:f][0]+" "+s[i?f:f-1][1])};for(var u=1,d=s.length;u<d;u++)o(u),a.push(s[u][0]+" "+s[u][1]);return a}function zv(s){var o=[];return K(s,function(i){Lr(i,o)}),o}function nie(s,o){o===void 0&&(o=.8);var i=function(v){return v.join(" ")},a=["M",i(s[0])],u=[];if(3>s.length)u=s.slice(0);else for(var d=1,f=s.length-1;d<f;d++)u[d]=iie(s,d,o);if(s.length===2)a.push("C",s[0],s[1],s[1]);else for(d=0,f=s.length-1;d<f;d++)d?d===f-1?a.push("C",i(u[d][1]),i(s[d+1]),i(s[d+1])):a.push("C",i(u[d][1]),i(u[d+1][0]),s[d+1]):a.push("C",i(s[d]),i(u[d+1][0]),i(s[d+1]));return Gn(a)}function iie(s,o,i){i===void 0&&(i=.8);var a=s[o-1],u=s[o],d=s[o+1];return i=1-i,o=Mi(u,a),s=Mi(u,d),a=Ko(a,u),d=Ko(u,d),d=Math.min(a,d),a=Ad(u[0],u[1],Hs(o),d),s=Ad(u[0],u[1],Hs(s),d),i*=Ko([a.x,a.y],[s.x,s.y]),a=Mi(a,s),s=Pv([Ad(u[0],u[1],Hs(a-180),i)])[0],u=Pv([Ad(u[0],u[1],Hs(a),i)])[0],[s,u]}function i7(s){var o=l(s.points,3),i=s.angles,a=s.cxy,u=s.radius;return o=0>SR(o[0],o[1],o[2]),s=s.angles.map(function(d){return Hs(d)}),s[0]=o&&i.join("")==="0270"?2*Math.PI:s[0],Gs(a[0],a[1],u,s[0],s[1],o)}function r7(s,o,i,a,u,d){var f=Ea(s,o),v=Ea(o,i);return u=Math.min(u?f:f/2,d?v:v/2),s=[Mi(i,o),Mi(s,o)],a=h(a)?Math.min(a,u):u,o=[jn(o,s[1]+180,a),o,jn(o,s[0]+180,a)],{points:o,radius:a,angles:s,cxy:jn(o[0],s[0]+180,a)}}function rie(s,o){var i=s.length;if(2<i)for(var a=1;a<s.length-1;a++)o(s[a-1],s[a],s[a+1],a===1,a===i-2,a-1)}function Sl(s,o){var i=[];return s.length===2?(i.push(Jd(s[0])),i.push(Ol(s[1]))):rie(s,function(a,u,d,f,v,x){u=r7(a,u,d,o.pop?o[Mn(x,0,o.length-1)]:o,f,v),f&&i.push(Jd(a)),i.push(Ol(u.points[0])),i.push.apply(i,c(i7(u))),v&&!vr(u.points[2],d)&&i.push(Ol(d))}),i.join(" ")}function s7(s,o){o===void 0&&(o=[0,0,0,0]);var i=[],a=function(d){return 0>d?d+4:d%4},u=function(d,f){f===void 0&&(f=Ol),o[d]?(d=r7(s[a(d-1)],s[d],s[a(d+1)],o[d],!1,!1),i.push(f(d.points[0])),i.push.apply(i,c(i7(d)))):i.push(f(s[d]))};return u(0,Jd),u(1),u(2),u(3),i.push("Z"),i.join(" ")}function sie(s,o){o=Al(o,{width:1.5});var i=o.gapLength,a=o.width,u=o.tipPos,d=o.lineLength,f=o.midPoint;o.sideLength;var v=o.lineAngle,x=o.noStart,b=o.noEnd;u=u*d-i/2;var w=d-u-i,k=[],D=s.slice(0);if(i===0)k.push(Jd(s[1]),Ol(s[2]));else{var T=Math.min(i,d-4);k.push(Jd(s[1]),Ol(jn(f,v+180,T/2))),k.push(Jd(jn(f,v,T/2)),Ol(s[2]))}return i={type:"arrow",overflow:!1,width:"400%",length:"600%"},x={start:x?{}:i,end:b?{}:i},s=[s[1],s[2]],{d:k.join(" "),pathOptions:{caps:x,"stroke-width":a,stroke:o.color,fill:"none"},startLen:u,endLen:w,gapLength:T,bbox:ir(D),endPoints:s,mode:"measure"}}function oie(s,o){o=Al(o,{width:3,radius:100,tipLength:5});var i=o.gapLength,a=o.tipLength,u=o.radius,d=o.width,f=o.tipPos,v=o.lineLength,x=o.midPoint,b=o.sideLength,w=o.lineAngle,k=o.tipAngle;o.noStart,o.noEnd;var D=function(q,J){return[q[0]+J[0],q[1]+J[1]]},T=function(q,J,re){return q.map(function(ce){return[ce[0]+J,ce[1]+re]})},M=jn([0,0],k,d);d=function(q){return T(q,M[0],M[1])};var I=function(){for(var q=[],J=0;J<arguments.length;J++)q[J]=arguments[J];return Y.push.apply(Y,c(q))},O=ho,F=ho;f=f*v-i/2;var N=v-f-i,j=Math.min(u,f)<b;if(b=Math.min(u,N)<b,j||b){var W=jn([0,0],w,1),$=jn([0,0],w+180,1);O=function(q,J,re){q[J]=D(q[J],W),q[re]=D(q[re],W)},F=function(q,J,re){q[J]=D(q[J],$),q[re]=D(q[re],$)}}var Y=[],te=s.slice(0),ee=[],ae=0;return i===0?(i=s.slice(0,2),j&&O(i,0,1),a=jn(x,k,a),te.push(a),i.push(x,a),x=[i[3],i[2],s[2],s[3]],b&&F(x,2,3),I(Sl(i,u)),I(Sl(x,u).replace("M","L")),I(Ol(s[3])),j&&F(i,0,1),b&&O(x,2,3),i=d(i).reverse(),x=d(x).reverse(),I(Sl(x,u).replace("M","L")),I(Sl(i,u).replace("M","L"),Ol(s[0]),"Z")):(ae=Math.min(i,v-4),i=s.slice(0,2),j&&O(i,0,1),i.push(jn(x,w+180,ae/2)),x=[jn(x,w,ae/2),s[2],s[3]],I(Sl(i,u)),j&&F(i,0,1),i=d(i).reverse(),I(Sl(i,u).replace("M","L"),Ol(s[0]),"Z"),b&&F(x,1,2),I(Sl(x,u)),b&&O(x,1,2),x=d(x).reverse(),I(Sl(x,u).replace("M","L"),"Z")),ee.push(s[3]),ee.push(s[0]),{d:Y.join(" "),pathOptions:{"stroke-width":0,fill:o.color},startLen:f,endLen:N,gapLength:ae,bbox:ir(te),endPoints:ee,mode:"curly"}}function o7(s,o,i,a,u){function d(j){return j&&j.join?j.join(" ").replace(/,/g," "):j}function f(j){switch(j){case"b":var W=[[I,O],["L"],[v-1.1*k,O],["L"],[v-.35*k,O-1.25*k],["L"],[v+.45*k,O+.65*k],["L"],[v+.8*k,O],["L"],[I+i,O]];W=W.reverse();break;case"r":W=[[I,O],["L"],[I,x-1.12*D],["L"],[I-1.25*D,x-.35*D],["L"],[I+.65*D,x+.45*D],["L"],[I,x+.8*D],["L"],[I,O+a]];break;case"t":W=[[I+i,O],["L"],[v+1.15*k,O],["L"],[v+.35*k,O+1.25*k],["L"],[v-.45*k,O-.65*k],["L"],[v-.85*k,O],["L"],[I,O]],W=W.reverse();break;case"l":W=[[I,O+a],["L"],[I,x+1.15*D],["L"],[I+1.25*D,x+.35*D],["L"],[I-.65*D,x-.45*D],["L"],[I,x-.85*D],["L"],[I,O]]}return W.splice(0,0,"M"),W}u=u||{};var v=s+i/2,x=o+a/2,b=u.zigWidth||0,w=1.6*(b||10),k=Math.min(w,i/2),D=Math.min(w,a/2);b/=2,w=u.lines;var T=s+i,M=o+a,I=s,O=o,F=!u.open,N=[];switch(u.zigSides){case"t":O=o+b,N=u=f("t"),w.push(d(u)),F&&N.push(["L",T,M,"L",s,M]);break;case"b":O=M-b,F&&N.push(["M",s,o,"L",T,o]),u=d(f("b")),w.push(d(u)),N.push(F?u.replace("M","L"):u);break;case"m":O=o+b,N=u=f("t"),w.push(d(u)),O=M-b,u=d(f("b")),w.push(u),N.push(F?u.replace("M","L"):u);break;case"r":I=T-b,N=u=f("r"),w.push(d(u)),F&&N.push(["L",s,M,"L",s,o]);break;case"l":I=s+b,F&&N.push(["M",T,o,"L",T,M]),u=d(f("l")),w.push(d(u)),N.push(F?u.replace("M","L"):u);break;case"c":I=T-b,N=u=f("r"),w.push(d(u)),I=s+b,u=d(f("l")),w.push(u),N.push(F?u.replace("M","L"):u)}return d(N).split(" ")}function a7(s,o,i,a,u,d){return sa[s]||s==="needle"?sa[s==="needle"?"square":s](o,i,a,u,d):eie(s,o,i,a)}function aie(s,o,i){JA[o]?i(JA[o]):(i({width:0,height:0},!1),by[o]?by[o].push(i):(by[o]=[i],s.calculateImageSize(o,function(a,u){var d=JA[o]={width:a,height:u};K(by[o],function(f){return f(d,!1)}),by[o]=void 0})))}function l7(s,o,i){var a=s.pointerType;return a||(a=(a=s.type.match(/^mouse|touch/i))?a[0]:null),{el:o,eventArgs:s,eventName:i,device:a||"other",pointers:s.pointers}}function lie(s){s._s0={},s._s1={},s._s2={},s._s3={}}function w_(s,o){return h(o)&&(s._s4=o),s._s4}function c7(s){return s&&(s=/url\(#(.*)\)/g.exec(s))?s[1]:null}function T3(s,o,i){o&&(K(o.childNodes,function(a){return T3(s,a,i)}),o.refNodes.length&&K(o.refNodes,function(a){return T3(s,a,i)}),xi(SN,function(a){return u7(s,a,o.attr(a),null,i)}))}function u7(s,o,i,a,u){p(SN,o)&&(o=c7(i),a=c7(a),s=s._s0,a!==null&&(p(s,a)?s[a]++:s[a]=1),o!==null&&(p(s,o)&&s[o]--,p(s,o)&&1>s[o]&&(delete s[o],u(o))))}function A3(s,o){return s=s._s1,p(s,o)?s[o]:null}function M3(s,o){var i=s._s1;p(i,o)&&delete i[o],i=s._s2,s=s._s3,p(s,o)&&(delete i[s[o]],delete s[o])}function Hv(s,o,i){var a=h7(s);return o=cie(s,o,i),o.updateAttr=function(u){return u.el?u.el.attr(u.attr):u.el=s.element(u).add(a),u},o}function h7(s){var o;return(o=w_(s))||(o=s.element("defs"),!s._noRender&&o.add(),o=w_(s,o)),o}function cie(s,o,i){i=i||{};var a=i.id&&A3(s,i.id);return a||d7(s,o,i,i.hash)}function d7(s,o,i,a,u){var d=nt(i.id),f=s._s1,v=s._s2;return(f=p(v,a)?f[v[a]]:null)?f:(f=i,d?f=ke(bn(i),{id:Qu()}):E3(s,i.id),o={tag:o,attr:_i(f,["hash","meta"]),isDef:!0,hash:a,val:u},i=f.id,u=o,s._s1[i]=u,a&&(u=s._s3,s._s2[a]=i,u[i]=a),o)}function E3(s,o){var i=A3(s,o);if(i){var a=i.isDef?i.el:i;a&&a.destroy(),delete i.el,M3(s,o)}else(s=s.query("#"+o))&&s.destroy()}function jv(s){var o=s||{};return o.color=o.color||"black",o.backgroundColor=o.backgroundColor||"none",o.strokeWidth=h(o.strokeWidth)?o.strokeWidth:1,o.granualWidth=s.granualWidth||s.size||5,o.granualHeight=s.granualHeight||s.size||5,o}function p7(s,o,i){return s={hash:"#"+s+":"+i.color+", "+i.backgroundColor+", "+i.strokeWidth,width:i.granualWidth,height:i.granualHeight,patternUnits:"userSpaceOnUse",x:0,y:0,childNodes:o},i.patternTransform&&(s.patternTransform=i.patternTransform),i.transform&&(s.transform=i.transform),s}function C_(s,o,i){return o.unshift({tag:"rect",attr:{width:i.granualWidth,height:i.granualHeight,fill:i.backgroundColor||"none"}}),p7(s,o,i)}function f7(s){s=ke(s,TN[s.pattern]),s.omit=["childNodes"];var o=s.template;return o||(p(s,"c")?o="line":p(s,"d")?o="path":p(s,"p")&&(o="point")),Hae[o](s)}function uie(s,o,i,a){if(!p(TN,s.pattern))return null;var u=ke({},s);if(s.backgroundColor&&!Be(s.backgroundColor)){var d=void 0;a&&a.d&&(a=a.d,a=a.isPath?a:Jn(a),d=kl(a.bbox())),d=d||o.box(),u.width=s.width=d.width,u.height=s.height=d.height;var f=s.backgroundColor;a=s.width,d=s.height,s=Ii(s),s.backgroundColor="none",s=f7(s),o=Hv(o.renderer,"pattern",s),i=i(f),o.val=s,s=i.isDef?i.attr.id:i.attr("id"),i={hash:"#complexPattern:"+o.attr.id+", "+s+", "+a+", "+d,x:0,y:0,width:"100%",height:"100%",childNodes:[{tag:"rect",attr:{x:0,y:0,width:a,height:d,fill:i}},{tag:"rect",attr:{x:0,y:0,width:"100%",height:"100%",fill:o}}]}}else i=f7(s);return u.hash=i.hash,i.meta=u,i}function m7(s,o){var i=s.items,a=Nv(s,s.hasCurves),u=yo(s),d=zd(s);u=Math.max(u[2],u[3]),Dl(s),s=[a,Pv([Ec(a[0],a[1],o,u)])[0]],u=1;for(var f=i.length;u<f;u++){var v=i[u],x=it(v),b=i[u-1];if(!vr(x,v[1])){var w=Mi(a,v[1]);x=VP(v,s[0],s[1]);for(var k=0;k<x.length;k++){var D=x[k];if(D.onLine2&&D.onLine1||w===o){var T=w===o&&D.isNaN?0:Ko(v[1],[D.x,D.y]);T=T===0?b.position:T==v.lengthValue?v.position:T/d+b.position;break}}if(h(T))break}}return o=Ia(i),h(T)?(T%=1,Ju(o,T,1+T)):o.toString()}function hie(s,o,i){var a=s.bboxValue;if(a[2]===0&&a[3]===0)return s=Ia(s.items),[s,s];if(i=g_(s,o,i),1<i.length&&vn(i[0].percOfShape+1-i[i.length-1].percOfShape,2)===0&&i.pop(),1<i.length)o=i[0].percOfShape,i=it(i).percOfShape;else if(i.length===1){if(o=i[0].percOfShape,it(s.items)[0]!==1){var u=Ia(s.items);return[Ju(u,0,o),Ju(u,o,1)]}o=.5<o?1-o:o,i=(o+.5)%1}else{o=0,i=.5;var d=it(it(s.items))[0]!==3}return u=Ia(s.items),s=function(f,v){return f=Ju(u,f,v),d||(f=f.indexOf("Z")===-1?f+"Z":f),f},[s(o,i),s(i,1+o)]}function zc(s,o,i){for(var a=0,u=o.length;a<u;a++){var d=s,f=o[a],v=d.items,x=zd(d),b=Dl(d),w=0;if(!(f===0||f===1||-1<b.indexOf(f))){var k=!1;b=1;for(var D=v.length;b<D;b++){var T=v[b],M=v[b-1],I=w+T.lengthValue/x;if(k)T[1]=it(M),T.lengthValue=void 0,T.position=void 0;else{if(w<f&&f<I){k=rt(0,1,w,I,f);var O=T[0];w=O===1,O===3||w&&M[0]===3?(k=ET(w?[T[1],T[1],T[2],T[2]]:[T[1],T[2],T[3],T[4]],k),k.slice(0,4),k.slice(4),M=[3,T[1],k[1],k[2],k[3]],T=w?[1,M[4],T[2]]:[3,M[4],k[4],k[5],k[6]]):(M=[2,T[1],dm(T,k)],T=w?[1,M[2],T[2]]:[2,M[2],dm(T,1)]),v.splice(b,1,M,T),b++,D++,k=!0}w=I}}d.lengthValue=void 0,d.positions=void 0}if(i&&s.items.length===i)break}}function g7(s){for(var o=[],i=s.items.length-1;0<=i;i--){var a=s.items[i];i!==0&&a[0]!==1&&vr(a[1],it(a))||o.unshift(a)}return{items:o}}function v7(s,o){var i=QP(s),a=QP(o);if(s.items.length!==o.items.length&&i!==a&&(i=i?o:s,i.items.push([1,it(it(i.items)),i.items[0][2]])),s.items.length!==o.items.length&&(s=g7(s),o=g7(o),s.items.length!==o.items.length)){if(s.items.length<o.items.length){o=l([o,s],2),s=o[0],o=o[1];var u=!0}a=Dl(s);var d=Dl(o);i=$d(a,d),a=$d(d,a),zc(o,i,s.items.length+a.length),s.items.length!==o.items.length&&zc(s,a,o.items.length)}return{from:u?o:s,to:u?s:o}}function k_(s){if(s.hasCurves&&!s.hasLines)return s;s=s.items();for(var o=0,i=s.length;o<i;o++){var a=s[o],u=a[0];(u===2||u===1)&&(s[o]=[3,a[1],a[1],a[2],a[2]]),u===1&&(s.splice(o+1,0,[1,a[2],a[2]]),i++,o++)}return Ia(s)}function die(s,o){function i(D){var T=Jn(D.join(""));return T.shapes.length===3&&(T=Jn(D[0]),T.shapes.length!==2)?Jn(D[1]):T}var a,u,d=s.length(),f=o.length();if(!d||!f)return null;if(s.hasCurves||o.hasCurves){var v=!s.hasCurves||s.hasLines,x=!o.hasCurves||o.hasLines;s=k_(s),o=k_(o)}f=s.shapes.length;var b=o.shapes.length;if(f===b)return f===1?s.isClosed||o.isClosed?x7(s.shapes[0],o.shapes[0],v,x):(s={items:s.items()},o={items:o.items()},v7(s,o)):y7(s,o);var w;for(f<b&&(w=!0),v=f>b?o:s,x=Math.abs(f-b),d=0,f=f>b?s:o;0<x--;){b=pie(f,v.bbox());var k=v.shapes.splice(2*d,1)[0];b=hie(k,b[0],b[1]),w?(s=i(b),(a=v.shapes).splice.apply(a,c([2*d,0],s.shapes)),s.shapes=v.shapes,v=s):(o=i(b),(u=v.shapes).splice.apply(u,c([2*d,0],o.shapes)),o.shapes=v.shapes,v=o),d=2*(d+1)>v.shapes.length-1?0:d+1}return y7(s,o)}function y7(s,o){var i=[0,0,1,1],a=b3(s.shapes[0],i,s.bbox()),u=Ko(a,b3(o.shapes[0],i,o.bbox()));i=Ko(a,b3(o.shapes[o.shapes.length-1],i,o.bbox())),o=o.shapes.slice(0),u>i&&(o=o.reverse()),u=[],i=[],a=0;for(var d=o.length;a<d;a++){var f=x7(s.shapes[a],o[a],!1,!1);u=u.concat(f.from.items),i=i.concat(f.to.items)}return{from:{items:u},to:{items:i}}}function x7(s,o,i,a){if(HP(s)!==HP(o)){var u=[],d={hasCurves:s.hasCurves,hasLines:s.hasLines,isClosed:s.isClosed,items:u},f=it(s.items),v=f[0]===1,x=v?f[1]:it(f),b=s.items.length-(v?2:1);for(u.push([0,x,x]),x=b;0<x;x--)switch(b=s.items[x],b[0]){case 2:u.push([b[0],b[2],b[1]]);break;case 3:u.push([3,b[4],b[3],b[2],b[1]])}v&&u.push([1,f[2],f[1]]),s=d}var w;if(u=vn(jP(s,s.hasCurves)),d=vn(jP(o,o.hasCurves)),d!==u&&(s.items.length===o.items.length&&45>Math.abs(u-d)&&(w=!0),w||(i&&!a?s=Jn(m7(s,d)).shapes[0]:(i=Jn(m7(o,u)),o=i.shapes.length==1?i.shapes[0]:o))),i=v7(s,o),o=i.from,i=i.to,o.items.length!==i.items.length&&o.items.length!==i.items.length&&(w=Dl(o),s=Dl(i),a=$d(w,s),w=$d(s,w),w.length<a.length?zc(i,a,o.items.length):zc(o,w,i.items.length)),o.items.length!==i.items.length){if(o.items.length>i.items.length){o.items.splice(Math.floor(o.items.length/2),1);var k=o,D=i.items.length}else o.items.length<i.items.length&&(i.items.splice(Math.floor(i.items.length/2),1),k=i,D=o.items.length);for(;k.items.length>D;)k.items.splice(Math.floor(k.items.length/2),1)}return{from:o,to:i}}function pie(s,o){var i=s.shapes[0],a=s.shapes[1],u=[Fv(i),Fv(a)],d=Mi(u[0],u[1]),f=Yn([yo(i),yo(a)]);f=Math.max(f[2],f[3]),a=b7(a.items,u[0],d);var v=b7(i.items,u[1],d);return v=tm(u[0],u[1],v,Ec(v[0],v[1],d+90,10)),u=tm(u[0],u[1],a,Ec(a[0],a[1],d+90,10)),v.x===null&&v.y===null&&u.x===null&&u.y===null?i=i.center:(i=Pv([v,u]),i=g3(i[0],i[1],.5)),d=[Ec(i[0],i[1],d-90,2*f),Ec(i[0],i[1],d+90,2*f)],d=Pv(d),f=s.bbox(),s=Sw(o,f,d[0]),o=Sw(o,f,d[1]),vr(s,o)?d:[s,o]}function b7(s,o,i){for(var a,u=Number.MAX_VALUE,d=0,f=s.length;d<f;d++){var v=it(s[d]),x=Ec(v[0],v[1],i+90,10);x=DR(v,x,o),x<u&&(a=v,u=x)}return a}function _7(s,o,i){var a=i.count-i.del,u=i.type==="step"?2:1,d=l(s.items.length<o.items.length?[s,o]:[o,s],2),f=d[0],v=d[1];Dl(f),zd(f),d=function(k,D){return--D,D=(-1<D?D:0)*u,[D,k.length-2-D]};var x=d(f.items,i.at),b=[],w=function(k,D,T){T===void 0&&(T=-1);var M=1e-4*T;rs(D,function(I){b.push(k+(I+1)*M)})};return s.items.length!==o.items.length?0>a?_7(o,s,{action:"splice",at:i.at,count:-a,del:0,type:i.type,shapeName:i.shapeName}):(i.shapeName=="area"?(w(f.items[x[0]].position,u,-1),w(f.items[x[1]].position,u,1)):w(f.items[x[0]].position,u,-1),zc(f,b),b=[]):i.shift&&(i.shapeName==="area"?(Dl(v),a=o.items,f=d(a,1),w(a[f[0]].position,u,1),w(a[f[1]].position,u,-1),zc(o,b),b=[],a=s.items,f=d(a,i.pointsLen),w(a[f[0]].position,u,1),w(a[f[1]].position,u,-1),zc(s,b)):(w(1,u,-1),zc(s,b),b=[],w(0,u,1),zc(o,b)),b=[]),{from:s,to:o}}function fie(s,o,i){i===void 0&&(i={});var a={};if(s&&o&&i.simple)return a.final=o,a.from=s.items(!0),a.to=o.items(!0),L3(a);if(a.final=Ia(o.items()),s.hasErrors)return w7(a);if(o.hasErrors)return a.final=s,w7(a);var u;if((u=i.slice)&&u.from&&u.to)a.slice=u,a.stepFn=mie(a);else if((u=i.needle)&&u.from&&u.to)a.needle=u,a.stepFn=gie(a);else if((u=i.xlat)&&u.from&&u.to)a.xlat=u,a.stepFn=L3(a);else if(!i.simple)if(i.action){var d=s;u=o,(d.hasCurves||u.hasCurves)&&(d=k_(d),u=k_(u)),d=d.items(),u=u.items(),d=i.at>Math.min(d.length,u.length)-1?null:_7({items:d},{items:u},i)}else d=k7(a,s,o);return a.from=d?d.from.items:s.items(),a.to=d?d.to.items:o.items(),a.stepFn||L3(a)}function w7(s){return function(){return s.final.toString()}}function L3(s){return function(o){if(o===1)return s.final.toString();var i=s.invertStep?Uae:Wae,a=s.xlat;a=a?a.fn(o):[0,0];for(var u="",d,f,v,x=0;x<s.from.length;x++){var b=s.from[x],w=f=s.to[x]||f,k=b[0];if(u+=d!==k?Qd[k]:" ",d=k,d!==1)for(k=2;k<b.length;k++)v=w[k]||v,u+=(2<k?" ":"")+(i(b[k][0],v[0],o)+a[0]+" "+(i(b[k][1],v[1],o)+a[1]))}return u}}function C7(s){return function(o){return o===1?s.final.toString():(s.invertStep&&(o=1-o),Ju(s.final,0,o))}}function mie(s){return function(o){if(o===1)return s.final.toString();var i=s.slice.from,a=s.slice.to;return o={cxy:AN(i.cxy,a.cxy,o),start:Zc(i.start,a.start,o),end:Zc(i.end,a.end,o),open:a.open,r:Zc(i.r,a.r,o),innerR:Zc(i.innerR,a.innerR,o),caps:a.caps},i=o.cxy,Gn(D3(i[0],i[1],o.r,o.r,o))}}function gie(s){return function(o){if(o===1)return s.final.toString();var i=s.needle.from,a=s.needle.to;return o={arc:{cxy:AN(i.arc.cxy,a.arc.cxy,o),angle:Zc(i.arc.angle,a.arc.angle,o)},xyz:[0,0,Zc(i.xyz[2],a.xyz[2],o)],xyzs:[0,0,Zc(i.xyzs[2],a.xyzs[2],o)]},Gn(s.needle.gen(o))}}function k7(s,o,i){if(!o||o.shapes.length===0){o={items:i.items()};var a=Nv(o,i.hasCurves);o=i.items();var u=[],d=l(a,2);a=d[0],d=d[1];for(var f=0;f<o.length;f++){for(var v=o[f].slice(0),x=1;x<v.length;x++)v[x]=[a,d];u.push(v)}return o=Ia(u),(s=k7(s,o,i))?s:{from:{items:o.items()},to:{items:i.items()}}}if(D7(o,i))s.stepFn=C7(s);else if(D7(i,o))s.stepFn=C7(s),s.invertStep=!0;else return die(o,i)}function D7(s,o){return s.shapes.length===1&&s.shapes[0].items.length===1&&(1<o.shapes.length||1<o.shapes[0].items.length)}function vie(s){if(s==="linear")return null;var o=$ae.exec(s);return o?_v.apply(this,o.slice(1).map(Number)):(o=Yae.exec(s))?Iw(Number(o[1]),{start:1,middle:.5,end:0}[o[2]]):(s={ease:_v(.25,.1,.25,1),"ease-in":_v(.42,0,1,1),"ease-out":_v(0,0,.58,1),"ease-in-out":_v(.42,0,.58,1),"step-start":Iw(1,1),"step-middle":Iw(1,.5),"step-end":Iw(1,0)}[s])?s:null}function S7(s){var o=s?ht(LN,ss(s)?{duration:s}:s):LN;return o.easing!=="linear"&&(o.easingFunction=vie(o.easing)||EN),o.activeDuration=Math.abs((o.duration===0||o.iterations===0?0:o.duration*o.iterations)/o.playbackRate),o.totalDuration=o.delay+o.activeDuration+o.endDelay,s=function(i){if(i==null)var a=0;else a=o.delay+o.activeDuration+o.endDelay,a=i<Math.min(o.delay,a)?1:i>=Math.min(o.delay+o.activeDuration,a)?2:3;e:{switch(a){case 1:if(o.fill==="backwards"||o.fill==="both"){i=0;break e}break;case 3:i-=o.delay;break e;case 2:if(o.fill==="forwards"||o.fill==="both"){i=o.activeDuration;break e}}i=null}if(i===null)a=null;else{var u=o.iterationStart;o.duration===0?a!==1&&(u+=o.iterations):u+=i/o.duration;var d=u===1/0?o.iterationStart%1:u%1;d!==0||a!==2||o.iterations===0||i===0&&o.duration!==0||(d=1),i=d,u=a===2&&o.iterations===1/0?1/0:i===1?Math.floor(u)-1:Math.floor(u),a=o.direction,a!=="normal"&&a!=="reverse"&&(a==="alternate-reverse"&&(u+=1),a="normal",u!==1/0&&u%2!==0&&(a="reverse")),a=o.easingFunction(a==="normal"?i:1-i)}return a},s.options=o,s}function I3(s){return Zt(s)?fe(s,function(o){return I3(o)}):parseFloat(mF(s,"px",""))}function yie(s,o,i){var a=S7({duration:100,easing:i});return function(u){return u=a(u),{current:Fm(s,o,u),timeFraction:u}}}function O3(s,o){if(o.linearGradient)var i="linearGradient";else if(o.radialGradient)i="radialGradient";else return;var a=ON[i],u=a.argsToAttrs(o),d=u.attrs;u=u.stops;var f=[];return d.hash||f.push(a.toString(d)),u=fe(u,function(v){if(Zt(v)){v=l(v,3);var x=v[0],b=v[1];v=v[2]}else x=v.offset,b=v.color,v=v.opacity;return x={offset:nt(x)?"0%":x,color:nt(b)?"black":b,opacity:nt(v)?"1":v},d.hash||f.push(ON.stopToString(x)),x}),a=d.hash||a.keyPrefix+"("+Pa(f,", ")+")",s=d7(s,i,d,a,o),s.attr.childNodes=fe(u,function(v){var x={offset:v.offset,"stop-color":v.color};return v=v.opacity,0<=v&&1>v&&(x["stop-opacity"]=v),{tag:"stop",attr:x}}),s.updateAttr=xie,s}function xie(s,o,i){var a=s.el,u=i.renderer;if(s.isDestroyed||a&&a.isDestroyed)s=O3(u,s.val);else if(a)return s;if((o=i.data.vals[o])&&o.attr&&s.tag===o.tag&&(i=o.el,a=u._s0[o.attr.id]||0,i&&a===1)){a=s.attr;var d=i.data.attrs.id;if(d===a.id)return s.el=i,s;o.isDestroyed=!0,M3(u,a.id),M3(u,d),o=s;var f=s.hash;return u._s1[d]=o,f&&(o=u._s3,u._s2[f]=d,o[d]=f),a.id=d,bie(i,a),s.el=i,s}return s.el=u.element(s).add(h7(u)),s}function bie(s,o){var i=o.childNodes,a=s.childNodes;s.attr(_i(o,["childNodes"])),$o(i,a,function(u){return s.renderer.element(u).add(s)},function(u,d){return d.attr(u.attr)},function(u){return u.destroy()},function(u){return i.indexOf(u)},function(u){return a.indexOf(u)})}function Ws(s,o){K(s,function(i){return _y[i]=o})}function _ie(s,o,i,a,u){if(p(Ow,s)){if(!a)return Ow[s];a[Ow[s]]=i}}function wie(s,o,i,a,u){if(!a)return"attr";ke(a,i)}function Cie(s,o,i,a,u){if(!a)return"d";s=i&&o&&Xi(i)&&i.isElement!==!0&&Zt(i)?Pa(i," "):i,a.d=s}function kie(s,o,i,a,u){s==="overflow"&&a&&o&&i&&(s=o.data.vals["clip-path"],i==="visible"?s&&(a["clip-path"]=null):i==="hidden"&&(s||(s=Hv(o.renderer,"clipRect")),a["clip-path"]=s))}function T7(s,o,i,a,u){s==="clipPath"&&a&&o&&!p(a,"clip-path")&&(s=o.data.vals["clip-path"],i?(i=qf(u,Be(i)||i.isPath?{d:i}:i,qae),s?s.attr=ke(s.attr,i):s=Hv(o.renderer,"clipPath",i),a["clip-path"]=s,o.shadowEl&&Die(o.shadowEl,i)):s&&(a["clip-path"]=null))}function R3(s,o){var i=s.shadowTranslate,a=i[0],u=i[1];i=Jn(o).translate(function(d){return[d[0]+a,d[1]+u]}),s.attr({d:o+i}),(s=s.data.vals["clip-path"])&&(s.attr=ke(s.attr,{d:i}),s.updateAttr(s))}function Die(s,o){var i=o.d;s.childNodes.length?K(s.childNodes,function(a){return R3(a,i)}):R3(s,i)}function Sie(s,o,i,a,u){if(s==="shadow"&&a&&o){u&&p(u,"clipPath")&&!p(a,"clip-path")&&T7("clipPath",o,u.clipPath,a,u);var d=o.shadowEl;!i&&d?M7(o):i&&(i===!0&&(i=Ii({mode:"interpolation",x:5,y:5,color:"rgba(0,0,0,.075)",toColor:"rgba(0,0,0,.025)",interpolationSteps:2,interpolationFunc:"linear"})),i.mode=i.mode||"simple",s=i.mode+" "+(i.x||0)+" "+(i.y||0)+" "+(i.blur||0)+" "+(i.color||"black")+" "+(i.toColor||"white")+" "+(i.interpolationSteps||0)+" "+(i.interpolationFunc||"linear")+" "+(i.inset?"inset":""),d&&d.data.shadowConfig.val===s||(d&&d.data.shadowConfig.mode===i.mode||(d&&M7(o),o.shadowEl=d=Aie(i,o,a),o.isPatched&&o.renderer.addBefore(d,o),o.refNodes.push(d),d.ownerAttrsChanged=function(f){return Tie(d,f,o)},d.alignBeforeOwner=!0),d.data.shadowConfig=ht(i,{val:s}),Mie(i,d,o,a)))}}function Tie(s,o,i){if(!i.data.vals["clip-path"]){var a=Dd({},po(o,RN),{fill:void 0,stroke:void 0});s.childNodes.length?K(s.childNodes,function(u){return u.attr(a)}):s.attr(a)}}function Aie(s,o,i){return s.mode==="interpolation"?o.renderer.element("g"):A7(o,i["clip-path"])}function A7(s,o){return(o=o||s.data.vals["clip-path"])?(o=o.attr.d,s.renderer.element("path",{d:o,"fill-rule":"evenodd",clipPath:o,stroke:"none"})):(o=ht(po(s.data.attrs,RN),{fill:"none",stroke:"none"}),s.renderer.element(s.nodeName,o))}function Mie(s,o,i,a){if(s.mode==="radial"&&s.blur)o.renderer.attr(o,{translate:[s.x,s.y],fill:{radialGradient:{},stops:[["0%",s.color],[100-s.blur+"%",s.color],["100%",s.toColor||"white"]]}});else if(s.mode==="interpolation"){var u=s.interpolationSteps||1,d=s.interpolationFunc||"linear",f=Pd(s.color||"black",s.toColor||"white");d=yie([0,0],[s.x,s.y],d);var v=100/u,x=!1;o.childNodes.length!==u&&(o.childNodes.length&&K(ay(o.childNodes),function(M){return M.destroy()}),x=!0);for(var b=(a=i.data.vals["clip-path"]||a["clip-path"])?a.attr.d:null,w=0;w<u;w++){var k=x?A7(i,a).add(o):o.childNodes[w],D=w===0?{timeFraction:1,current:[s.x,s.y]}:d(v*(u-w)),T=D.current;D=f(D.timeFraction),b?(k.shadowTranslate=T,k.attr({fill:D}),R3(k,b)):k.attr({translate:T,fill:D})}}else o.renderer.attr(o,{translate:[s.x,s.y],fill:s.color})}function M7(s){var o=s.shadowEl,i=s.refNodes;if(i.length){var a=i.indexOf(o);-1<a&&i.splice(a,1)}o.destroy(),delete s.shadowEl}function Eie(s,o,i,a,u){if(p(lM,s)){if(s=lM[s],o&&o.isHtml&&(s=Kae[s]),!a)return s;p(a,s)||(a[s]=P3(s,i,u,o))}}function P3(s,o,i,a){if(!o||!a||!Be(o)&&!Xi(o)||o.isElement)return o;e:if(i&&s==="fill"&&!o.pattern&&!y(o,["meta","pattern"])&&!y(o,["val","meta","pattern"])){if(s=a.data,!vl(["hatch","hatchPattern"],i)){if(!p(s,"hatch"))break e;i.hatchPattern=s.hatchPattern,i.hatch=s.hatch}var u=i.hatch||"black";s.hatchPattern=""+(i.hatchPattern||"horizontal"),s.hatch=u,o=i.hatchPattern==="none"||i.hatch==="none"?o:{pattern:""+(i.hatchPattern||"horizontal"),color:i.hatch||"black",backgroundColor:i.fill}}return Be(o)?Oie(o,a):Xi(o)?(i=o.linearGradient||o.radialGradient?O3(a.renderer,o):o.pattern?Lie(o,a,i):o,i):o}function E7(s,o){return s=Hv(s.renderer,"pattern",o),s.val=o,s}function Lie(s,o,i){return(i=uie(s,o,function(a){return P3("fill",a,null,o)},i))?E7(o,i):s}function Iie(s,o){var i=o.renderer;return s=oh(s,`'"`),E7(o,{hash:"#image:"+s,width:"100%",height:"100%",patternContentUnits:"objectBoundingBox",childNodes:[i.image({src:s,width:1,height:1,preserveAspectRatio:"none"})]})}function Oie(s,o){var i=/(.*)\((.*)\)/g.exec(s);if(!i)return s;var a=l(i,3);if(a[0],i=a[1],a=a[2],!i||!a)return s;var u=Qf(a,", "),d=function(){return fe(ay(u,1),function(f){return fF(Qf(f," "))})};return a=function(f){var v=d();return v[f]=Qf(u[0]," "),O3(o.renderer,v)},i==="linear-gradient"?a("linearGradient"):i==="radial-gradient"?a("radialGradient"):i==="url"&&u[0].charAt(0)!=="#"?Iie(u[0],o):s}function Rie(s,o,i,a,u){if(s=o&&o.isHtml?"border-width":"stroke-width",!a)return s;p(a,s)||(a[s]=i)}function Pie(s,o,i,a,u){if(!a||!o)return s;if(o.nodeName!=="text"&&o.nodeName!=="tspan")a[s]=P3("stroke",i,u,o);else{var d=o.strokeEl;!i&&d?L7(o):i&&i.visible!==!1&&(s=Be(i)?{stroke:i}:i,i=JSON.stringify(s),d&&d.data.strokeHash===i||(d&&L7(o),o.strokeEl=d=o.renderer.element(o.nodeName,ke({x:u.x,y:u.y},o.data.vals)),o.isPatched&&(o.renderer.addBefore(d,o),d.el.style.stroke=Fie(s.stroke,o),d.el.style.strokeWidth=s["stroke-width"]||u.strokeWidth,d.el.style.strokeDasharray=s["stroke-dasharray"],d.el.style.strokeOpacity=s["stroke-opacity"],d.el.style.strokeLinejoin="round",d.el.innerHTML=o.el.innerHTML),o.refNodes.push(d),d.ownerAttrsChanged=function(f){d.el.innerHTML=o.el.innerHTML},d.alignBeforeOwner=!0,d.data.strokeHash=i))}}function L7(s){var o=s.strokeEl;o.destroy(),delete o.ownerAttrsChanged,delete s.strokeEl}function Fie(s,o){return yy(s)?Zd(y(o,["parentNode","data","attrs","fill"])||"black",s):s}function Nie(s,o,i,a,u){if(p(Rw,s)){if(!a)return Rw[s];if(u&&!p(a,"transform"))if(Be(u.transform)||u.transform===null)a.transform=u.transform;else{var d;o&&(s=o.attr("transform"))&&p(s,"val")&&(d=s),d=d||{},u.transform&&ke(d,u.transform),xi(oa,function(v){p(u,v)&&(d[v]=u[v])});var f=[];xi(oa,function(v){if(p(d,v)&&d[v]!==null){var x=oa[v][1](d[v]);x!=null&&f.push(v+"("+Pa(x,",")+")"),d[v]=x}}),(s=f.length?Pa(f," "):null)&&(d.val=s),a.transform=s?d:null}}}function Bie(s,o,i,a,u){if(p(Pw,s)){if(!a)return Pw[s];s=Pw[s],i&&o&&(o.data.zIndex=i),a[s]=i}}function Vie(s,o,i,a,u){if(!a)return"easing";s=i&&Be(i)&&p(PN,i)?PN[i]:i,a.easing=s}function zie(s,o,i,a,u){if(s==="mask"){if(!a)return s;o&&!p(a,"mask")&&(i?(s=o.data.vals.mask,i=qf(u,Be(i)?{d:i}:i,Jae),s?s.attr=ke(s.attr,i):s=Hv(o.renderer,"mask",i),a.mask=s):a.mask=null)}}function Hie(s,o,i,a,u){if(!a)return"text";a.text=o.isHtml?i:i.replace(ele," ")}function xo(s){return function(o){uM[s]=o}}function I7(s){return s.type&&s.type.indexOf("touch")===0?!0:(s=s||window.event,"buttons"in s&&s.buttons===1?!0:(s.which||s.button)===1)}function fm(s,o){function i(){return a=o.getBoundingClientRect()}(s.eventData.clientX===void 0||s.eventData.clientY===void 0)&&(s.eventData.clientX=s.clientX,s.eventData.clientY=s.clientY);var a=null,u=null;s.eventData.coordinates={getPageXY:function(){var d=s.eventData.pageX,f=s.eventData.pageY;return(d===void 0||f===void 0)&&(a||(a=i()),u||(u=o.getBBox?o.getBBox():null),d=s.eventData.clientX-a.left+(u?u.x:0),f=s.eventData.clientY-a.top+(u?u.y:0)),{x:d,y:f}},getOuterBox:i}}function D_(s,o){return o?o.querySelector(s):Qt.querySelector(s)}function O7(s,o,i){F3(s,o,{reorder:i}),s.el.appendChild(o.el),o.refNodes.length&&K(o.refNodes,function(a){return a.alignBeforeOwner&&Gv(a,o)})}function Gv(s,o,i){var a=o.parentNode;a&&(F3(a,s,{index:a.childNodes.indexOf(o),reorder:i}),o.el.parentNode.insertBefore(s.el,o.el),s.refNodes.length&&K(s.refNodes,function(u){return u.alignBeforeOwner&&Gv(u,s)}))}function R7(s,o,i){var a=o.parentNode;if(a){var u=a.childNodes,d=u.indexOf(o)+1;F3(a,s,{index:d===u.length?null:d,reorder:i}),o.el.parentNode.insertBefore(s.el,o.el.nextSibling),s.refNodes.length&&K(s.refNodes,function(f){return f.alignBeforeOwner&&Gv(f,s)})}}function jie(s){gle(s.el),P7(s),s.childNodes=[],s.refNodes.length&&(K(s.refNodes,function(o){return o.destroy()}),s.refNodes=[]),delete s.el}function F3(s,o,i){i=i||{reorder:!1,index:null};var a=i.reorder;i=i.index,o&&(s!==o.parentNode||a)&&(a=P7(o),-1<a&&a<i&&i--,s&&(a=s.childNodes,i===0?a.unshift(o):i?a.splice(i,0,o):a.push(o),o.parentNode=s))}function P7(s){if(!s.parentNode)return-1;var o=s.parentNode.childNodes,i=o.indexOf(s);if(0>i)return-1;var a=s.parentNode;if(a.childNodes.length){a=a.zIndexHash;var u=s.data.zIndex||0;a[u]&&delete a[u]}else a.zIndexHash={};return o.splice(i,1),s.parentNode=null,i}function Wv(s,o,i){if(!s||s instanceof As)return s;i=new As(s,o,i);var a=i.data.attrs,u,d={};if(s.hasAttributes()){var f=s.attributes;try{for(var v=r(f),x=v.next();!x.done;x=v.next()){var b=x.value;d[b.name]=b.value}}catch(O){var w={error:O}}finally{try{x&&!x.done&&(u=v.return)&&u.call(v)}finally{if(w)throw w.error}}}ke(a,d),s.parentNode&&(i.parentNode=new As(s.parentNode,o,void 0));var k;s=[],o=i.el.childNodes;try{for(var D=r(o),T=D.next();!T.done;T=D.next()){var M=T.value;M.nodeType===1&&s.push(Wv(M,i.renderer))}}catch(O){var I={error:O}}finally{try{T&&!T.done&&(k=D.return)&&k.call(D)}finally{if(I)throw I.error}}return i.childNodes=s,i}function Gie(s,o,i){s.el,o.omit&&(o=_i(o,o.omit),delete o.omit);for(var a in o){var u=o[a],d=u;u&&u.isDef?(u.updateAttr&&(u=u.updateAttr(u,a,s)),d="url(#"+u.attr.id+")"):u instanceof As?u.el?(d=u.el.id,Qn(d)&&(d=Qu(),N3(u,"id",d)),d="url(#"+d+")"):d=B7(s,a):a==="transform"&&(u?Be(u)||(s.data.transform=u,d=u.val):s.data.transform=u),d=Qn(d)?d:rw(d),N3(s,a,d,i),s.data.vals[a]=u}s.refNodes.length&&K(s.refNodes,function(f){return f.ownerAttrsChanged&&f.ownerAttrsChanged(o)})}function Wie(s,o){if(h(o)){if(o){var i=l(Zt(o)?o:[o.x,o.y,o.width,o.height],4);return i=mm(i[0],i[1],i[2],i[3]),s.data.box=i}delete s.data.box}if(s.data.box)return s.data.box;if(s=s.el,!s)return mm();if(o=s.nodeName.toLowerCase(),o==="svg"||o==="div")return s.parentNode?(s=s.getBoundingClientRect(),mm(0,0,s.width,s.height)):mm(0,0,0,0);try{return i=s.getBBox(),mm(i.x,i.y,i.width,i.height)}catch{return mm()}}function mm(s,o,i,a){return s===void 0&&(s=0),o===void 0&&(o=0),i===void 0&&(i=0),a===void 0&&(a=0),{x:s,y:o,width:i,height:a}}function F7(s,o,i){var a,u=s.childNodes,d=parseFloat(o.attr("z-index"));i>s.zIndexMax?s.zIndexMax=i:((a=s.zIndexHash[i])?R7(o,a,!0):(a=We(u,function(f){return(f.data.zIndex||0)>i}))&&Gv(o,a,!0),a&&(s.zIndexMax=u[u.length-1].data.zIndex)),d!==i&&s.zIndexHash[d]===o&&delete s.zIndexHash[d],s.zIndexHash[i]=o,a||O7(s,o,!0)}function N3(s,o,i,a){var u=s.el,d=s.data.attrs,f=d[o];if(BN[o]===i&&(i=null),f!=i){if(o==="z-index")u=parseFloat(i),s.parentNode&&F7(s.parentNode,s,u);else if(o==="text")u.textContent=i;else if(o==="value")u.value=i;else if(o==="innerHTML")u.innerHTML=i;else if(Bw(u.tagName)&&o==="type")u.type=i;else if(Bw(u.tagName)&&o==="accept")u.accept=i;else if(s=i,s==null)dM(u,o)?u.style&&(u.style[o]=""):u.removeAttribute(o);else if(dM(u,o))u.style&&(u.style[o]=s);else{var v=NN(o);v?u.setAttributeNS(v,o,s):u.setAttribute(o,s)}d[o]=i,a&&a(o,f,i)}}function N7(s,o){var i=ke({},s.data.attrs),a=s.nodeName==="path",u=function(d,f){o&&p(o,d)||N3(s,d,f)};xi(i,function(d){(!a||d!=="fill"&&d!=="stroke")&&u(d,null)}),a&&(u("fill","none"),u("stroke","none"))}function B7(s,o){var i=s.data.attrs,a=s.el,u=void 0;return o==="transform"?ke({},s.data[o])||null:(s.nodeName!=="path"||o!=="fill"&&o!=="stroke"||(u="none"),(s=i[o]||u||BN[o])||(o==="text"?o=a.firstChild?a.firstChild.nodeValue:"":dM(a,o)?(a=a.style,o=!a||Ds(a[o])?null:a[o]):o=(s=NN(o))?a.getAttributeNS(s,o):a.getAttribute(o),s=o),s)}function V7(s){return s&&(s.start&&s.start.type||s.end&&s.end.type)}function Uie(s){var o=s.caps||{};return o.lineWidth=le(o.lineWidth,s.lineWidth,s["stroke-width"]),{lineWidth:o.lineWidth,start:o.start&&o.start.type||o.type?t7(Dd(o,o.start||{},UN)):{},end:o.end&&o.end.type||o.type?t7(Dd(o,o.end||{},UN)):{},eachShape:o.eachShape}}function $ie(s,o){var i=function(M,I){return 2>I||!vr(M[I],M[I+1])?I:i(M,I-1)},a=function(M){return M=M.shapes[0].items[1]||M.shapes[0].items[0],Mi(M[2],M[1])},u=function(M){M=it(it(M.shapes).items);var I=i(M,M.length-2);return Mi(M[I],M[I+1])};s=Yie(s);var d=s.length(),f=function(M){return S_(M)?le(M.centerWidth,0):0},v=function(M){return S_(M)?le(M.centerWidth&&M.width,0):0},x=v(o.start),b=v(o.end);v=f(o.start),o=f(o.end);var w=v/d,k=o/d;if((f=w||k)&&x+b>d)return null;d=f?Kne(s,v,o,{mode:"caps"}):s;var D=d.shapes[0].items[0][2],T=it(it(it(d.shapes).items));return x=s.shapes[0].items[0][2],b=it(it(it(s.shapes).items)),a=w&&!vr(D,x)?Mi(D,x):a(d),u=k&&!vr(T,b)?Mi(T,b):u(d),k=[D,T],v&&(k[0]=jn(x,a-180,v)),o&&(k[1]=jn(b,u-180,o)),{clipLen:[v,o],points:k,angles:[a,u],d:f?d:s}}function Yie(s){if(1>s.shapes.length||s.shapes.length===1&&2>s.shapes[0].items.length)return s;e:for(var o=[0,0],i=0;i<s.shapes.length;i++)for(var a=s.shapes[i],u=i===0?1:0;u<a.items.length;u++){var d=a.items[u];if(o=[i,u],!vr(d[1],it(d)))break e}i=s.shapes.length-1;e:for(;0<=i;i--)for(a=s.shapes[i],u=a.items.length-1;0<=u;u--){var f=[i,u];if(d=a.items[u],!vr(d[1],it(d)))break e}for(i=[s.shapes[0].items[0]],a=o[0];a<=f[0];a++)for(u=s.shapes[a],d=a==o[0]?o[1]:0;d<=(a==f[0]?f[1]:u.items.length-1);d++)i.push(u.items[d]);return Ia(i)}function Xie(s,o){var i,a,u=function(f,v){var x=v.cxy;v=v.angle;var b=f.concavity,w=f.width,k=f.height,D=f.overflow;return f.type,x=D===!0?x:jn(x,v,-w/2),x=Vr(x,[w,k]),b={angle:v,concavity:b},f=a7(f.type,x[0],x[1],x[2],x[3],b),b.skipTransform?f:(f=f.isPath?f:Jn(f),f.rotate(v+90))},d=s.start||{};return s=s.end||{},S_(d)&&(i=u(d,{cxy:o.points[0],angle:o.angles[0]})),S_(s)&&(a=u(s,{cxy:o.points[1],angle:o.angles[1]})),{start:i,end:a}}function S_(s){return s&&s.type&&s.type!=="none"}function z7(s){var o={},i=Uoe;return xi(s,function(a){if(p(i,a)){var u=i[a];2<u.length?o[u]=s[a]:o[u[0]]=u[1](s[a])}else o[a]=s[a]}),o}function qie(s,o,i){s[o]=i}function Kie(s,o,i){return B3(s,o,i)&&{updateGlobalCoordinates:!0}}function Zie(s,o,i){return B3(s,o,i)&&{updateSharedAttrs:!0}}function Qie(s,o,i){return T_(s,o,parseFloat(i)||1/0)}function T_(s,o,i){return B3(s,o,i)&&{needRecalc:!0}}function B3(s,o,i){if(!sn(s[o],i))return s[o]=i,!0}function Jie(s,o,i){return i=i==="auto"||i===null||ei(i)?Qc():Ki(i,{isMutable:!1}),T_(s,Lle[o],i)}function ere(s,o,i){return i=Vm(i,s.width?s.width.px:0),T_(s,o,i)}function tre(s,o,i,a){var u=typeof s=="string";s=u?[{val:s}]:s;for(var d=[],f=0,v=s.length;f<v;f++){var x=s[f];x.textVariants||(x.textVariants=nre(x.val,a.ignoreCategories));var b=x.textVariants,w=u?o.personal:x,k=u?o.own:ht(o.own,w),D=[];x=function(I,O){var F=b[I].completeString;if(a.preserveStartSpaces||f!==0||(F=F.replace(uh.startSpaces,"")),a.preserveSpaces||(F=F.replace(uh.spaces," ")),I=ore(k,u?o.parent:o.own,i),F=lne(F,I,i,{ellipsisWidth:a.ellipsisWidth}),O===1&&h(I.width)){var N;(N=parseFloat(I.width))&&(delete I.width,K(F.parts,function(j){j.text&&(j.width=N,N=0)}))}F.style=u?o.personal:ht(o.personal,w),D.push(F)};for(var T=0,M=b.length;T<M;T++)x(T,M);d.push(D)}return d}function nre(s,o){if(-1<s.indexOf("&ors;")){var i=[{completeString:"",variantsUsed:[]}],a=[],u={},d=[],f=ire(s).split(uh.variants);s=[];for(var v=0,x=f.length;v<x;v++)v%2?s.push(f[v]):s=s.concat(f[v].split(uh.space));for(v=0,x=s.length;v<x;v++)if(f=s[v]){f=f.split(oB.orc);var b=f[1];b=b?b.split(":"):[],f=f[0].split(oB.or),d.push(1<f.length&&!o?{versions:f,category:{variantsNumber:f.length,name:b[0]||"",priority:b[1]||0}}:f[0])}for(s=0,v=d.length;s<v;s++)if(x=d[s],f=x.versions){x=x.category,b=u[x.name];var w=1;b||(b=i.length,x.name&&!o&&(u[x.name]=b),w=f.length);for(var k=[],D=0;D<w;D++)k=k.concat(sre(i));for(i=k,w=0;w<i.length;w++)k=Math.floor(w/b)%f.length,i[w].completeString+=f[k],i[w].variantsUsed.push(k);a.push(x.priority)}else for(f=0,b=i.length;f<b;f++)i[f].completeString+=x;return rre(i,a)}return[{completeString:s,variantsUsed:[]}]}function H7(s){for(var o=[],i=0,a=s.length;i<a;i++){var u=s[i];u&&u.length!=null?o.push(H7(u)):o.push(ke({},u))}return o}function ire(s){var o=new String(s);return-1<s.indexOf("&ors;")&&xi(sB,function(i){var a=sB[i],u=parseInt(i);uh["char_"+i]||(uh["char_"+i]=new RegExp("&#"+i+";?"+(a?"|&"+a+";?":""),"ig")),o=o.replace(uh["char_"+i],String.fromCharCode(u))}),o}function rre(s,o){for(var i=[],a=0,u=o.length;a<u;a++){var d=o[a];d&&(i[parseInt(d)-1]=a)}o=function(){var v=i[f];s.sort(function(x,b){return x.variantsUsed[v]>b.variantsUsed[v]})};var f=0;for(a=i.length;f<a;f++)o();return s}function sre(s){for(var o=[],i=0,a=s.length;i<a;i++){var u=s[i];o.push({completeString:u.completeString,variantsUsed:u.variantsUsed.slice()})}return o}function ore(s,o,i){o=o.fontSize;var a=i.fontSize;if(i=s.fontSize||o,typeof i=="number")o=i;else{if(uh.fontSize.test(i)&&(a=parseFloat(i)))switch(i.replace(a,"")){case"em":if(!o){a=0;break}a*=parseFloat(o);break;case"pt":a=4*a/3}o=a}return s.fontSize=o,s.fontFamily=s.fontFamily,s}function are(s){s=s.split("|");var o=["left","center","right"],i=["top","middle","bottom"],a={};return K(s,function(u){o[u]&&(a.x=u),i[u]&&(a.y=u)}),a}function lre(s){if(!s||s.push)return s;switch(C(s)){case"number":return[s];case"string":return bT(s)}return s}function cre(s,o){var i=s.length-1;if(o<s[i].minSize.width.px)return s[i];if(o>s[0].minSize.width.px)return s[0];for(var a=0;a<=i;){var u=Math.floor((a+i)/2);if(o>s[u].minSize.width.px)i=u-1;else if(o<s[u].minSize.width.px)a=u+1;else return s[u].minSize.width.px}return s[a]}function j7(s,o,i){var a=Be(s),u=a?Qt.getElementById(s):s;s=a?s:s.getAttribute&&s.getAttribute("id"),a=i&&i.preserve;var d=!s||!jw[s];if(d||!a)var f=new yM({container:u,staticSize:!0,skipDomDestroy:!a});return d?(u=f.textStack(o),u.attr(ke(vB,i)),u.add().refresh(),s&&a&&(jw[s]=u)):(u=jw[s],u.attr(ke(vB,i)).val(o).refresh()),o=u.setPreliminarySize().getBbox(),i=u.renderer.root.el,i.setAttribute("width",o.width+1),i.setAttribute("height",o.height+1),a||(u.destroy(),f.destroyChildren(),f.destroy(),s&&delete jw[s]),i}function G7(s){if(s.type){var o=l(s.type.split(":"),2),i=o[1];s.type=o[0],s.subType=i}else s.type="panel"}function gm(s,o,i){Gw=Gw||{};var a=o.split(",");o=s+o+i;var u,d;if(u=Gw[o])return u;var f=0;for(d=a.length;f<d;f++){var v=void 0;u=s;var x=oh(a[f]).replace("enum_",""),b=!1,w={sequence:[],explicit:[]};for(w.setting=u,u=u.toLowerCase();!b;){var k=void 0;v=void 0;var D,T=void 0,M=void 0,I=void 0,O=u,F=Rd(x),N=$n(F.members);O=oh(O);var j=0;for(D=N.length;j<D;j++)if(O.indexOf(N[j].toLowerCase())!==0||O.length!==N[j].length&&!F.members[N[j]].chain)O.indexOf(N[j].toLowerCase())!==0||O.length===N[j].length||F.members[N[j]].chain?F.members[N[j]].isDefault&&(M=N[j]):k=N[j];else{T=N[j];break}if(!T&&k&&(T=k),T?I=!0:(T=M,v=!0),T?(k=O.indexOf(T.toLowerCase())===0?O.replace(T.toLowerCase(),""):O,v={match:T,isDefault:v,explicit:I,chain:F.members[T].chain,value:k,attributes:F.members[T].enumAttributes}):v={invalid:O},h(v.invalid))v.value=v.invalid,b=!0;else{if((!v.isDefault||!i)&&(w[x]=v.match,w.sequence.push(x),v.attributes))for(var W in v.attributes)w[W]=v.attributes[W];v.explicit&&w.explicit.push(x),x=v.chain,u=v.value,x||u.length!==0?x?x=x.replace("enum_",""):x||(b=!0):b=!0}}if(w.sequence=w.sequence.join(","),w.explicit=w.explicit.join(","),0<v.value.length&&(w.invalid=v.value),u=w,!u.invalid)break}return Gw[o]=u}function ure(s,o){var i=C(o);switch(s){case"palette":if(i!=="array"&&i!=="object")return c_(o)}return o}function hre(s){var o=$n(yB);return K(o,function(i){return s=s.replace(new RegExp("\\b"+i+"\\b","i"),yB[i])}),s}function V3(s,o){return o=xl(o).slice(0),o.unshift(o.pop()),s=ta(s),s[0]+=o[0],s[1]+=o[1],s[2]-=o[2],s[3]-=o[3],Mm(s)}function Cs(s,o){var i={},a=le(s.visible,!0),u=le(s.width,1),d=le(s.opacity,1)*le(o,1),f=om(s.color||"black");if(o=le(s.caps,"butt"),d*=f.opacity,a&&!nt(s.color)?(i.stroke=f.hex,i["stroke-opacity"]=d):(i.stroke="none",u=0),!nt(a=s.dashStyle)){if(s=u,a=a.toLowerCase(),a=cce[a].split(",")){for(d=0,f=a.length;d<f;d++)a[d]*=s;s=a.join(",")}else s="none";i["stroke-dasharray"]=s}return i.fill="none",i["stroke-width"]=u,i["stroke-linejoin"]="round",Be(o)?i["stroke-linecap"]=o:i.caps=o,i}function A_(s){return s["stroke-width"]===0&&(delete s["stroke-linejoin"],delete s["stroke-linecap"],delete s.stroke,delete s["stroke-opacity"]),s}function Zo(s,o){var i={},a;return o=le(s.opacity,1)*le(o,1),nt(a=s.outline)||(i=Cs(a,o)),nt(a=s.fill||s.color)||M_(i,a,o),i["fill-rule"]="evenodd",$7(i,s.hatch,i.stroke||"rgb(50,50,50)"),s.visible===!1&&(i.opacity=0),nt(a=s.d||s.path)||(i.d=a),nt(a=s.size)?nt(a=s.radius)||(i.r=a):i.r=(parseInt(a)||0)/2,i}function Uv(s,o,i){var a,u=le(s.opacity,1)*le(o,1),d={},f={},v={},x={};return s.boxVisible===!1?(d.fill=s.boxPointerEvents===!1?"transparent":"none",d.stroke="none",d.shadow=!1):(nt(a=s.outline)||(o=Cs(a,u),se(d,o),se(v,o)),nt(a=s.fill)||M_([x,d],a,u,i),Gr(s,d,"radius","r",void 0),Gr(s,d,"shadow",void 0,void 0)),Gr(s,f,"margin","margin",xl),Gr(s,f,"padding","padding",xl),Gr(s,f,"width",void 0,void 0),Gr(s,f,"height",void 0,void 0),nt(a=s.height)?f.height=void 0:f.height=a,nt(a=s.style)||se(f,a),Gr(s,f,"zIndex",void 0,void 0),{bg:d,root:f,stroke:v,fill:x}}function W7(s){var o=s.animation,i=g(s,"label.style"),a=g(s,"label.align"),u=s.outline,d=function(x,b,w){Gr(s,v,x,b,w)},f=function(x){return x+"px"},v={position:"absolute",whiteSpace:"nowrap"};return d("radius","radius",f),d("padding","padding",f),d("fill","background"),d("offsetX","left",f),d("offsetY","top",f),d("width","width",f),d("height","height",f),d("radius","borderRadius",f),d("text-align","text-align"),d("background-color","background-color"),d("border","border"),d("click","onclick"),d("visibility","visibility"),d("left","left"),d("top","top"),d("zIndex","zIndex"),a&&(v.textAlign=a),h(i)&&(Gr(i,v,"color","color"),Gr(i,v,"fontSize","fontSize"),Gr(i,v,"fontFamily","fontFamily"),Gr(i,v,"fontWeight","fontWeight"),Gr(i,v,"textDecoration","textDecoration"),Gr(i,v,"fontStyle","fontStyle")),h(u)&&(v.border=u.color+" solid "+u.width+"px"),h(o)&&(v.transitionProperty=o?"left, top":null,v.transitionDuration=o?(o.duration||0)/1e3+"s":null,v.transitionTimingFunction=o?o.easing:null),s.boxVisible===!1&&(v.background="none",v.border="none"),v}function $v(s,o){var i=Uv(s,void 0,o);i=se(i.bg,i.root);var a,u=[];if(nt(a=s.corners))nt(a=s.radius)||(rs(4,function(){u.push({type:"round",r:a})}),d={corners:u});else var d={corners:dre(a,s)};return i.shape=ke(s.shape||{},d),o==="titleBox"&&i.shape&&K(i.shape.corners,function(f,v){1<v&&(f.type="square")}),i}function dre(s,o){var i=s,a=[];switch(C(s)){case"string":rs(4,function(){a.push({type:i,r:o.radius})});break;case"array":if(i.length!==4)for(i=i.slice(0);4>i.length;)i.push("round");a=fe(i,function(u){return{type:u,r:o.radius}});break;case"object":a=[{type:i.topleft||"round",r:o.radius||3},{type:i.topright||"round",r:o.radius||3},{type:i.bottomright||"round",r:o.radius||3},{type:i.bottomleft||"round",r:o.radius||3}]}return a}function Oa(s,o,i){var a,u={};s=o?_i(s,o):s,o=function(f,v,x){Gr(s,u,f,v,x)};var d;return nt(a=s.color)&&nt(a=y(s,["style","color"]))||(d=a),d&&(i=i&&i.color||d,u.fill=d==="%color"?i:Mt(d,i)),o("margin","margin",xl),o("padding","padding",xl),o("visible","display",function(f){return f?"block":"none"}),o("align","xAlignment"),s.placement==="outside"&&s.align&&s.align!=="center"?u.xContentAlignment=s.align==="left"?"right":"left":o("align","xContentAlignment"),o("verticalAlign","yAlignment",function(f){return f.replace("middle","center")}),o("cssClass","className"),o("rotate","rotate"),o("width"),o("height"),o("textOverflow"),o("maxWidth"),o("strategy"),o("autoWrap","autoWrap",function(f){return f===!1?"none":le(f,"auto")}),o("opacity"),o("animation"),!nt(a=s.offset)&&(a=U7(a))&&(u.offsetX=a[0],u.offsetY=a[1]),nt(a=s.outline)||(yy(a.color)&&(a=se({},a,{color:Zd(u.fill,a.color)})),Ac(u,Cs(a),{fill:!0})),nt(a=s.style)||se(u,a),u}function U7(s){var o=C(s);if(o==="string"){if(s=s.split(","),s.length===2)return[parseInt(s[0]),parseInt(s[1])]}else{if(o==="number")return[s,s];if(o==="array")return s}}function $7(s,o,i){return o&&(Gr(o,s,"style","hatchPattern"),i&&(o=se({color:Mt("contrast",i)},o)),Gr(o,s,"color","hatch",vo),s.hatchPattern==="none"&&(delete s.hatchPattern,delete s.hatch,s.stroke="none")),s}function M_(s,o,i,a){i===void 0&&(i=1);var u=C(o);if(u!=="undefined"){if(u!=="object")if(o!=="none"){var d=am(Xo(o),i);a&&typeof d=="string"&&(d=Bc(a,d))}else d="transparent";else d=Xo(o,1-i);s.pop?K(s,function(f){return f.fill=d}):s.fill=d}}function eh(s){var o=s.color!=="none",i=s.visible===!1,a;return(a=i)&&(a=s&&s.caps,a=!(a&&(a.end||a.start||a.type))),a=a&&!s.color,s=s.width!==0,i||a||!s?!1:o}function Y7(s){var o=s.outline;return s.fill&&s.fill!=="none"||o&&o!=="none"&&o.width!==0}function th(s){var o=y(s,["text","length"])!==0;return s.visible===!1?!1:!!o}function Yv(s,o,i,a){a===void 0&&(a={}),a.tickLimit;var u,d=a.minIntervalGap=le(a.minIntervalGap,.3),f=a.axOptions||{},v=f.scale||{};if(i.length){var x=i[0];i=i[1]}var b=v.type&&v.type.toLowerCase().indexOf("log")===0;v=v.logBase||10;var w={interval:0,min:0,max:0,range:0},k=Ww(a.userMax)?a.userMax:a.snapZero&&0>o?0:o,D=Ww(a.userMin)?a.userMin:a.snapZero&&0<=s?0:s,T=xv([k,D]),M=Math.abs(k-D);return(u=a.breaks)&&(M=Bte([[D,k]],u),M=ER(M)),w.range=M=vn(M,T),(T=a.minInterval||x&&M/x)&&(T.unit||Be(T))&&(T=p_(T.unit?T:{unit:T}),T=T.count*T.unitRange),T=X7(M,hce,T,i),x=T.best.interval,T.best.interval.tickCount,a.userMinorInterval==="auto"&&(T=th(g(f,"defaultMinorTick.label")),f=eh(g(f,"defaultMinorTick.gridLine")),w.minorInterval=g(X7(x,dce,a.minInterval,T||f?2:i),"best.interval")),T=xv([s,o,M,x]),u=Math.log(Math.abs(o))/Math.log(v),i=Math.log(Math.abs(s))/Math.log(v),f=function(I){var O=Math.floor(I);return I-O<d?O-1:O},M=function(I){var O=Math.ceil(I);return O-I<d?O+1:O},u=0>o?f(u):M(u),i=0>s?M(i):f(i),Ww(a.userMax)?(a.userMax<s&&(w.error=wB.badMax),w.max=a.userMax):b?w.max=Math.pow(v,u)*Sd(o):a.snapZero&&0>=o?w.max=0:(w.max=Math.ceil(o/x)*x,w.max!==0&&o>w.max-x*d&&(w.max+=x)),Ww(a.userMin)?(a.userMin>o&&(w.error=wB.badMin),w.min=a.userMin):b?w.min=Math.pow(v,i)*Sd(s):a.snapZero&&0<=s?w.min=0:(w.min=Math.floor(s/x)*x,w.min!==0&&s<w.min+x*d&&(w.min-=x)),b?w.log=[i,u]:(w.min=vn(w.min,T),w.max=vn(w.max,T)),w.range=w.max-w.min,w.interval=x,w}function X7(s,o,i,a){var u,d,f=-1,v=[],x=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),b,w,k,D=function(){for(f=-1,b=0,w=o.length;b<w;b++){u=x/o[b],d=s/u+1,v[b]={interval:u,tickCount:d},k=d<a;var T=nt(i)||u>=i,M=b===w-1;if(f===-1&&(k&&T||M)){f=b;break}}};return D(),k||(x*=10,D()),{prev:0<f?v[f-1]:void 0,best:v[f],next:f<w-1?v[f-1]:void 0}}function q7(s){function o(M){return 0<M.length?M[0]:"!@!@!"}function i(M,I){return M[I]?M[I]:0}function a(M){for(var I=0;I<d;I++)u[I].propNames[0]===M&&u[I].propNames.shift();m(T,M)}var u=[],d=s.length,f=!1,v="!@!@!",x=0,b="",w=[],k,D=!1,T=[];for(K(s,function(M){return T.push.apply(T,c(M))}),T=ai(T),function(){for(var M=0;M<d;M++){var I={propNames:[],nCounts:{}},O=s[M],F=O.length;F>x&&(x=F);for(var N=0;N<F;N++)I.propNames.push(O[N]),I.nCounts[O[N]]?I.nCounts[O[N]]++:I.nCounts[O[N]]=1;u.push(I)}}();!f;){for(v="!@!@!",k=0;k<d;k++)b=o(u[k].propNames),(v==="!@!@!"||v!==b&&0<i(u[k].nCounts,v))&&(v=b);if(v==="!@!@!"||w.length>=x*d)f=!0;else if(w.length>=x){for(D=!0,k=0;k<d;k++)if(b=o(u[k].propNames),v!=="!@!@!"){D=!1;break}f=D}f||(w.push(v),a(v))}return T.length&&w.push.apply(w,c(T)),w}function nh(s,o,i,a){return _M.abs((s-o[a])/(o[i]-o[a])*100)}function Ra(s,o,i){return o=o[i],s&&o?_M.abs(s/o*100):0}function Xv(s){return p(s,"ye")&&!p(s,"y")}function qv(s){return Xv(s)?yn(s.ye,s.ys):s.y}function z3(s,o){var i=o==="y",a=s.pOptions,u=s.scCache,d=s.yVal,f;if((f=s.series[o+"Axis"])&&s.chart.chartItemManager.exists(f.id))return s=h(f.min)?f.range:Yv(u[i?"min":o+"Min"],u[i?"max":o+"Max"],10),_M.abs(((i?a[d]-(a.low||0):a[o])-s.min)/(s.max-s.min)*100)}function E_(s,o){var i=o==="y";return Ra(i?qv(s.indexedData):s.pOptions[o],s.cache,i?"yRangeSumAbs":o+"SumAbs")}function L_(s,o){var i=o==="y",a=i?"yRangeSumAbs":o+"SumAbs";return Ra(s.pOptions?i?qv(s.indexedData):s.pOptions[o]:s.cache[a],s.scCache,a)}function I_(s,o){var i=o==="y",a=i?"yRangeSumAbs":o+"SumAbs",u=s.pgCache;return u[a]?Ra(i?qv(s.indexedData):s.pOptions[o],u,a):s.pOptions[o]?100:0}function O_(s,o){var i=o==="y",a=s.pOptions[i?s.yVal:o];return h(a)?Ote(a,s.cache[i?"averList":o+"AverList"]):0}function K7(s){var o=s.pOptions.y;return h(o)&&typeof o=="string"&&!s.fOptions.yIsTime?o:Xv(s.indexedData)?s.indexedData.ye:s.indexedData.y}function H3(s,o){return(s.val.pop?s.val[1]-s.val[0]:0)/o}function pre(s){if(!s.calcCache){var o=s.indexer,i=s.userPoints.length,a=s.xAxis||{},u=s.zAxis||{},d=a.type==="category",f=Math.abs,v=Do(o,"getKey"),x=Do(o,"getItem"),b=Do(o,"sum"),w=Do(o,"sumAbs"),k=function(pe){return pe.name};d&&(k=function(pe){return h(pe.name)?pe.name:a.catList[pe.x]});var D=p(o.data,"ye")&&!p(o.data,"y"),T=0<v("xr").length,M=0<v("zr").length,I=!D,O=!T,F=!T,N=D?2*i:i,j=D?(b("ys")+b("ye"))/N:b("y")/i;T=T?(b("xs")+b("xe"))/N:b("x")/i,i=M?(b("zs")+b("ze"))/N:b("z")/i,M=I?"y":"ye",N=I?"y":"ys";var W=I?"y":"yr",$=O?"x":"xe",Y=O?"x":"xs",te=I?v("y"):Mc(v("yr")),ee=O?v("x"):Mc(v("xr")),ae=F?v("z"):Mc(v("zr")),q=v("name");d&&q.length===0&&0<ee.length&&(q=ee.map(function(pe){return a.catList[pe]})),d=I?te:Mc(v("ya")),O=O?ee:Mc(v("xa")),v=F?ae:Mc(v("za")),I=x(o.min_i(N));var J=x(o.max_i(M)),re=x(o.min_i(Y)),ce=x(o.max_i($)),oe=x(F?o.min_i("z"):o.min_i("zs"));o=x(F?o.max_i("z"):o.max_i("ze")),s.calcCache={list:te,xList:ee,zList:ae,nList:q,max:J[M],min:I[N],xMax:ce[$],xMin:re[Y],zMax:o.z,zMin:oe.z,zAbsmax:Math.max(f(o.z),f(oe.z)),nMax:k(J),nMin:k(I),nZMax:k(o),nZMin:k(oe),nXMax:k(ce),nXMin:k(re),sum:b(W),zSum:b("z"),xSum:b("x"),sumAbs:w(W),zSumAbs:w("z"),xSumAbs:w("x"),average:j,zAverage:i,xAverage:T,range:te.length?J[W]-I[W]:void 0,zRange:ae.length?o.z-oe.z:void 0,yRangeSum:b(W),yRangeSumAbs:w(D?"yr":"y"),yStartSum:b("ys"),name:s.name,type:s.currentOptions.type,xAxis:s.xAxis,yAxis:s.yAxis,zAxis:s.zAxis,zAxisLabelText:g(u.currentOptions,"label.text"),averList:d,xAverList:O,zAverList:v}}return s.calcCache}function fre(s){var o=s.indexer;o.reset(),s.chart.series().each(function($){var Y=$.getCalcCache();s.indexer.indexObject(Y,$._i)});var i=Math.abs,a=function($){return Mc(Do(o,"concat")($))},u=Do(o,"getItem"),d=Do(o,"min_i"),f=Do(o,"max_i"),v=Do(o,"min"),x=Do(o,"max"),b=Do(o,"sum"),w=a("list"),k=a("average"),D=a("xList");a=a("zList");var T=u(d("min")),M=u(f("max")),I=u(d("xMin")),O=u(f("xMax"));d=u(d("zMin")),u=u(f("zMax")),f=o.getKey("type");var F=x("zMax"),N=v("zMin"),j={list:w,typeList:f,type:f[0],sumList:o.getKey("sum"),max:x("max"),min:v("min"),sum:b("sum"),average:k.length?b("average")/k.length:k,range:w.length?x("max")-v("min"):void 0,zList:a,xList:D,zSumList:o.getKey("zSum"),xSumList:o.getKey("xSum"),zMax:F,zMin:N,zAbsmax:Math.max(i(F),i(N)),xMax:x("xMax"),xMin:v("xMin"),zSum:b("zSum"),xSum:b("xSum"),sumAbs:b("sumAbs"),zSumAbs:b("zSumAbs"),xSumAbs:b("xSumAbs"),zAverage:a.length?b("zSum")/w.length:void 0,xAverage:D.length?b("xSum")/w.length:void 0,zRange:a.length?x("zMax")-v("zMin"):void 0,yRangeSum:b("yRangeSum"),yRangeSumAbs:b("yRangeSumAbs"),nMin:T.nMin,nMax:M.nMax,nZMax:u.nZMax,nZMin:d.nZMin,nXMax:O.nXMax,nXMin:I.nXMin,snMax:M.name,snMin:T.name,snZMax:u.name,snZMin:d.name,snXMax:O.name,snXMin:I.name},W={Min:v,Max:x};return fo("Sum,Average",function($){fo("Min,Max",function(Y){fo("y,x,z",function(te){var ee=te==="y";j[(ee?em(Y):te+Y)+$]=W[Y](ee?em($):te+$)})})}),j}function mre(s){var o=s[0],i=function(x){return s.map(function(b){return b.tokenValue(x)})},a=i("%yValue"),u=Math.min.apply(Math,c(a)),d=Math.max.apply(Math,c(a)),f=rr(a),v=s.length;return a=a.join(","),{xvalue:o.replaceTokens("%xValue"),ysum:f,sum:f,ylist:a,ymin:u,min:u,ymax:d,count:v,pointcount:v,max:d,colors:i("%color").map(function(x){return om(x).hex}).join(",")}}function gre(s,o,i){if(i===void 0&&(i="x"),s.pgCalcCache=s.pgCalcCache||[],!s.pgCalcCache[o._i]){var a=s.chartArea.chartAreaSet.series(),u=s.indexer.getValue(i,o._i),d=new xM,f=0;K(a,function(k){var D=k.indexer.findValue_i(i,u);k=k.indexer.getItem(D),d.indexObject(k,f),f++}),a=d.getKey("y");var v=d.getKey("z"),x=d.hasKey("yr")?"yr":"y",b=Do(d,"sum"),w=Do(d,"sumAbs");s.pgCalcCache[o._i]={list:a,sum:b("y"),sumAbs:w("y"),yRangeSum:b(x),yRangeSumAbs:w(x),zList:v,zSum:b("z"),xSum:b("x"),zSumAbs:w("z"),xSumAbs:w("x"),average:a.length?b("y")/a.length:void 0,zAverage:v.length?b("z")/v.length:void 0}}return s.pgCalcCache[o._i]}function Z7(s,o,i){var a=i.atribs;if(a)if(typeof a.pop=="function"){for(var u=0,d=a.length;u<d;u++)if(s===a[u][0].toLowerCase())return F_(a[u][1])}else{d=u=void 0;for(var f=s.split("."),v=function(b,w){for(var k=$n(b),D=0,T=k.length;D<T;D++){var M=k[D];if(w===M.toLowerCase())return b[M]}},x=void 0;(d=f.shift())&&h(x=v(u||a,d));)u=x;if(h(u))return F_(u)}return s=o[s],s?(o=s.val?s.val(i):s(i),o!==o&&(o=0),h(o)?(g(i.fOptions,"y.isTime")&&s.yVal&&(o=new Date(o)),F_(o)):"-"):"INVALID TOKEN"}function vre(s,o,i){var a=i.fOptions||{},u=","+s+",",d={fStr:a.fStr,culture:a.culture,isTime:a.isTime};return-1<",min,max,average,rangesum,lasty,sum,median,mode,value,ysum,yaverage,ymedian,ymode,ymin,ymax,ymaxsum,maxsum,yminsum,minsum,yrangesum,yvalue,ystart,yrange,open,high,low,close,".indexOf(u)?a.y||d:-1<",xvalue,xsum,xmin,xmax,xmaxsum,xminsum,xaverage,lastx,xrange,lastx,xmode,xmedian".indexOf(u)?a.x||d:-1<",complete,".indexOf(u)?{fStr:"p",culture:a.y.culture}:-1<",zvalue,zsum,zmin,zmax,zmaxsum,zminsum,zaverage,lastz,zrange,zmode,zmedian,".indexOf(u)?a.z||d:(s=o[s])&&s.axis?{fStr:s.fStr||"n",culture:a[s.axis]?a[s.axis].culture:i.chart?i.chart.currentOptions.defaultCultureName:"en-US"}:i.gOptions?{culture:i.gOptions.cultureName}:d}function vm(s){return s=s.token||s.attr||s,{text:s,result:s&&0<s.length&&(0<=s.indexOf("%")||0<=s.indexOf("{"))}}function Q7(s,o,i,a){var u=vm(s);return u.result?(s=N_(s,[o,i],a,Q7),ym(s,fce,{fOptions:a,chart:o.chart,series:o,point:i,sOptions:o.currentOptions,pOptions:i.currentOptions,atribs:i.currentOptions.attributes,yVal:o.ctManager.isType("treemap")?"value":"y",pgCache:gre(o,i),cache:o.getCalcCache(),scCache:o.chartArea.chartAreaSet.getCalcCache(),indexedData:o.indexer.getItem(i._i)})):u.text}function J7(s,o,i){var a=vm(s);return a.result?(s=N_(s,o,i,J7),ym(s,mce,{fOptions:i,chart:o.chart,series:o,sOptions:o.currentOptions,atribs:o.currentOptions.attributes,yVal:o.ctManager.isType("treemap")?"value":"y",cache:o.getCalcCache(),scCache:o.chartArea.chartAreaSet.getCalcCache()})):a.text}function R_(s,o,i){var a=vm(s);return a.result?(s=N_(s,o,i,R_),ym(s,gce,{fOptions:i,chart:o.chart,cache:o.getCalcCache()})):a.text}function Kv(s,o,i){var a=vm(s);if(!a.result)return a.text;s=N_(s,o,i,Kv),a=g(o,"value");var u=o.currentOptions||{},d=g(u,"value");return d=le(d,u.max,u.min),ym(s,vce,{fOptions:i,val:d,item:o,atribs:o.currentOptions.attributes,cache:u,evaluedValue:typeof a=="function"?o.value():[]})}function P_(s,o,i){i===void 0&&(i={});var a=vm(s);return a.result?ym(s,{},{fOptions:i,item:o,atribs:o}):a.text}function e9(s,o,i,a){for(var u,d,f,v=$n(o),x,b,w=s.toLowerCase(),k=0,D=v.length;k<D&&(f=v[k],!((b=s.indexOf("%"))===-1||b===s.length-1||!f));k++)u="%"+f,-1<w.toLowerCase().indexOf(u)&&(s=s.replace(new RegExp(u,"gi"),function(T){x=F_(Z7(f,o,i)),i.formatApplied=d=vre(f,o,i),a&&(d=null),T=C(x);var M=x;return T==="array"?M=x[0]:x=[x],i.formatApplied&&i.formatApplied.isTime&&(x=fe(x,function(I){return new Date(I)}),M=x[0]),d||C(M)!=="date"||(d={fStr:"yyyy-MM-ddTHH:mm:ss.fffffffzzz",culture:"en-US"}),fe(x,function(I){return d?t9(I,d.fStr,d):I}).join(3>x.length?"\u2014":" ")}),w=s.toLowerCase());return s}function F_(s){return s||h(s)?s:""}function t9(s,o,i){var a=i&&i.culture||"en-US",u=C(s);return u==="date"?(i=new kB(a,{formatString:o||""}),ei(s.getTime())?"Invalid Date":i.formatDate(s,o)):u==="number"?(i&&o&&o.toLowerCase()!=="c"&&i.fStrStrict!==!0&&h(i.precision)&&i.precision&&(o=uy(s),o="n"+Math.min(o,i.precision)),i=new kB(a,{formatString:o||""}),i.formatNumber(s,o)):s}function yre(s,o,i){var a=/\{ *[\w\-\(%0-9][^\}\{]+ *: *[^\}\{]+ *\}/,u=/\{ *[\w\-\(%0-9][^\}\{]+ *\}/,d,f;if(!s)return s;for(;!x&&(f=a.exec(s)||u.exec(s))!==null;){var v=0;for(d=f.length;v<d;v++){var x=f[v].toString(),b=xre(x,o,i);s=s.replace(x,b),x=b&&Be(b)&&ly(b,"{")}}return s}function xre(s,o,i){var a,u=oh(s),d=u.indexOf(":"),f=-1<d;if(f){s=u.substring(1,d);var v=oh(u.substring(d+1,u.length-1).replace(/^(date)*(number)*/gi,function(b){return a=b.toLowerCase(),""}))}else s=u.substring(1,u.length-1);if(s=e9(oh(s),o,i,!0),u=s.match(CM),o=!1,u&&(u=u.length)){o=!0;var x=u===1?"date":"number"}if(v||(v=g(i,"formatApplied.fStr")),u=s,o&&(u=s.replace(CM,function(b){return Date.parse(b)})),o=!0,/[\+-\/\*\^%]+/.test(u))try{s=xT('"strict mode";(f{r/**/;f days{rn/86400000;}f weeks{rn/604800000;}f years{rn/31536000000;}f hours{rn/3600000;}f minutes{rn/60000;}f seconds{rn/(1000);}}())'.replace(/f/g,"function").replace(/\{r/g,"(n){return ").replace("/**/",u))}catch{o=!1}return(x=a||x)?x==="date"?s=ei(new Date(s).getTime())?new Date(parseFloat(s)):new Date(Date.parse(s)):x==="number"&&(s.valueOf&&(s=s.valueOf()),s=parseFloat(s)):typeof s=="string"?ST(s)?s=parseFloat(s):CM.test(s)&&(s=new Date(Date.parse(s))):typeof s!="number"||v||(v="n:"+Math.min(uy(s),3)),o?v?t9(s,v,i.formatApplied||{culture:y(i.fOptions,["culture"])}):s:"{"+s+(f?":"+v:"")+"}"}function ym(s,o,i){var a=s&&s.attr,u=i.atribs,d=o;if(s.token)return Z7(s.token.slice(1).toLowerCase(),d,i);if(a&&(s=s.attr),s=s.replace(/\\\\/g,"##@@@!@##").replace(/\\\{/g,"!!@@#@#@@!").replace(/\\\}/g,"###@!@!#@").replace(/\\%/g,"#@@!@##@"),u){d=u.pop?u:~s.indexOf(".")?mR(u,"."):$n(u);var f=!!u.pop,v={};K(d,function(x){v[(f?x[0]:x).toLowerCase()]=void 0}),d=a?v:ke(v,o)}return s=yre(s,d,i),s=e9(s,d,i),s.replace(/##@@@!@##/g,"\\").replace(/!!@@#@#@@!/g,"{").replace(/###@!@!#@/g,"}").replace(/#@@!@##@/g,"%")}function N_(s,o,i,a){var u;if(typeof s=="string"&&-1<s.indexOf("<")){var d=s.match(WF);if(d){i=function(w){w=se({},w);var k=function(D){D&&!D.isTime&&(D.fStr="d")};return k(w.x),k(w.y),k(w.z),w}(i);try{for(var f=r(d),v=f.next();!v.done;v=f.next()){var x=v.value;s=o.pop?s.replace(x,"<"+a(x.replace("<",""),o[0],o[1],i)):s.replace(x,"<"+a(x.replace("<",""),o,i))}}catch(w){var b={error:w}}finally{try{v&&!v.done&&(u=f.return)&&u.call(f)}finally{if(b)throw b.error}}}}return s}function n9(s,o,i){var a=i9(s),u=o[1],d=B_(s);s=yo(d),i||(i=Nv(d,d.hasCurves)),d=Math.max(s[2],s[3]);var f=[],v=s[1]+1;try{for(;v+u<s[1]+s[3]-2;){var x=s9(a,v,u);x&&x[2]>=o[0]&&f.push([d-go(On(x),i),x]),v+=1}}catch{}if(f.length){f.sort(function(w,k){return w[0]<k[0]?-1:w[0]>k[0]?1:0}).reverse();var b=f[0][1]}return b&&(b=Vr(On(b),o)),b}function i9(s){var o=B_(s);return o=yo(o),o=Math.floor(o[3]/3),s=B_(s),bre(s,o)}function B_(s){var o,i=0;return K(s.shapes,function(a){var u=yo(a);u=u[2]*u[3],u>=i&&(i=u,o=a)}),o}function bre(s,o){var i=[],a=yo(s),u=a[0]-50,d=a[0]+a[2]+50,f=a[1],v=a[3];a=function(k){return k=f+k*v,[[u,k],[d,k]]};var x=function(k){for(var D=[],T=function(F){for(var N=0,j=D.length;N<j;N++)if(vr(D[N],F))return!1;return!0},M=0,I=k.length;M<I;M++){var O=k[M];O=[Math.round(O.intersect.x),Math.round(O.intersect.y)],T(O)&&O[0]>u&&O[0]<d&&D.push(O)}return D.sort(function(F,N){return F[0]<N[0]?-1:F[0]>N[0]?1:0}),2<D.length&&(D=[D[0],D[D.length-1]]),D.length===1&&D.push(D[0]),D};o=Math.abs(.9998/(o-1));for(var b=1e-4;1>b;b+=o){var w=a(b);w=g_(s,w[0],w[1]),i.push(x(w))}return i}function _re(s,o){return{scans:r9(s.scans,function(i){return[rt(o[0],o[0]+o[2],0,1,i[0]),rt(o[1],o[1]+o[3],0,1,i[1])]}),pathBBox:o}}function r9(s,o){for(var i=[],a=0,u=s.length;a<u;a++){for(var d=s[a],f=[],v=0,x=d.length;v<x;v++)f.push(o(d[v]));i.push(f)}return i}function s9(s,o,i){i=o+i;for(var a,u,d=function(D){return[[rt(a[0][0],u[0][0],a[0][1],u[0][1],D),D],[rt(a[1][0],u[1][0],a[1][1],u[1][1],D),D]]},f,v,x=0,b=s.length-1;x<b;x++){a=s[x],u=s[x+1];var w=a[0][1],k=u[0][1];if(!f&&o>=w&&o<=k&&(f=d(o)),!v&&i>=w&&i<=k&&(v=d(i)),f&&v)break}if(v&&f)return s=Math.max(f[0][0],v[0][0]),[s,o,Math.min(f[1][0],v[1][0])-s,i-o]}function wre(s){var o=Rn(s.chartItems(),function(w){return le(w.currentOptions.sortOrder,w.currentOptions.order,0)}),i=[[],[],[],[]],a={},u={casMargin:[0,0,0,0],overflows:[0,0,0,0],max:[0,0,0,0],itemsToTune:o,aggr:a},d=s.chart.rootVisuals.itemsBox.getGlobalBboxArray(),f=!0;if(K(o,function(w){if(!w.currentOptions.asHTML){var k=l(Zv(w),3),D=k[0],T=k[1];if(k=k[2],w.isMeasured=!1,!D&&!k.isIn){var M=a9(w,T,k,a,d);M&&K(k.pos,function(I,O){I&&i[O].push(M)&&(f=!1)})}}}),f)return u;var v=s.items,x=fe(v,function(w){return w.overflows}),b=[function(){var w=v[0].rootVisuals.titleBox.rootPanel.setPreliminarySize().getGlobalBboxArray();return w[2]&&w[3]?0:x[0][0]},function(){return Pn(fe(x,function(w){return w[1]}))},function(){return it(x)[2]},function(){return Pn(fe(x,function(w){return w[3]}))}];return s=function(w){var k=i[w];if(!k.length)return 0;var D=0;return K(k,function(T){return D=Math.max(D,T[xce[w]])}),k=b[w](),D=k>D?k:D,u.overflows[w]=k,(u.max[w]=D)&&Math.max(D-k,0)},u.casMargin=[s(0),s(1),s(2),s(3)],u}function Cre(s,o){var i={},a=s.items,u=a[0],d=s.chart.rootVisuals.itemsBox,f=d.getGlobalBboxArray(),v=function(){var D=fe(a,function(T){return T.getContentGlobalBbox()});return Yn(D)};v=1<a.length?v():u.getContentGlobalBbox(),s=s.measureResult;var x=[f[0]+s.max[3],f[1]+s.max[0],f[2]-s.max[1]-s.max[3],f[3]-s.max[2]-s.max[0]];u=u.getContentGlobalBbox();var b=s.aggr,w=[f,x,v,u,[x[0],v[1],x[2],v[3]],[v[0],x[1],v[2],x[3]]];K(s.itemsToTune,function(D){if(!D.isMeasured){var T=l(Zv(D),3),M=T[2];a9(D,T[1],M,b,w[M.alignBoxIndex])}});var k={};b.tltl&&b.tltl.total[0]>u[2]?k.tltl={direction:1,align:[-1,0]}:b.blbl&&b.blbl.total[0]>u[2]&&(k.blbl={direction:1,align:[-1,0]}),d.update(),K(s.itemsToTune,function(D){var T=D.rootPanel,M=T.getGlobalBboxArray?T.getGlobalBboxArray(!0):D.bbox(!0);if(M[2]||M[3]){T.isHtml?(M[0]-=parseFloat(T.attr("left")),M[1]-=parseFloat(T.attr("top"))):(M[0]-=T.offsetX,M[1]-=T.offsetY);var I=l(Zv(D),3),O=I[0],F=I[1];I=I[2],!O&&k[F]&&(I=ht(I,k[F])),M=kre(M,w,O,F,I,i,b[F]),(O=D.options("offset"))&&(O=O.split(","),M[0]+=parseInt(O[0])||0,M[1]+=parseInt(O[1])||0),O=o&&o.animation,T.attr(T.isHtml?{left:M[0]+"px",top:M[1]+"px"}:{offsetX:M[0],offsetY:M[1],animation:O}),D.positionUpdated(w[ss(I)?I:I.alignBoxIndex])}})}function kre(s,o,i,a,u,d,f){if(f===void 0&&(f={total:[0,0],max:[0,0]}),i)return[a[0]+o[u][0]-s[0],a[1]+o[u][1]-s[1]];i=l(o,3);var v=i[0],x=i[2],b=[],w=[],k=d[a],D=u.direction,T=u.align,M=u.stackAlign;i=function(N,j){j=j(N);var W=d[a];if(!W[N]){W[N]=[];var $=D===0?1:0;W[N][$]=w[N][$]+1*(s[N]+s[N+2]*(0<(N===$?1:0)?1:N!==$?.5+T[N]/2:0))-(.5+M[N]/2)*s[N+2]*(N===$?1:0)}return W[N][D]=j+1*(s[N]+s[N+2]*(0<(N===D?1:0)?1:N!==D?.5+T[N]/2:0)),j};var I=function(N){return k[N][D]+-1*(s[N]+s[N+2]*(0<-1*(N===D?1:0)?1:N!==D?.5+T[N]/2:0))},O=function(N){var j=b[N];w[N]=[F(N,j,0),F(N,j,1)],j=w[N][D];var W=w[N];if(!u.checkBorder[N]&&s[N+2]<=x[N+2])N=j;else{var $=s[N+2],Y=v[N],te=x[N];j=s[N]+j;var ee=Y+v[N+2];j<Y&&(j=te),j+$>ee&&(j=te+x[N+2]-$,j<Y&&(j=ee/2-$/2)),N=j-s[N]}return W[D]=N},F=function(N,j,W){W=N!==W?1:-1;var $=.5+M[N]/2;return j+((0<W?f.max[N]||s[N+2]:f.total[N])-s[N+2])*W*(0<W?.5+T[N]/2-$:$)};return k||(b=r_(s,o[u.alignBoxIndex],ea.default(a,"tltr")),d[a]=[]),[i(0,k?I:O),i(1,k?I:O)]}function Zv(s){return s._posInfo_=s._posInfo_||o9(s.currentOptions)}function o9(s){var o=s.position||"bltl";if(o.push)return[1,o,0];var i=function(f){return parseFloat(f)},a=function(f,v){var x=l(f,4),b=x[0],w=x[1],k=x[2];x=x[3];var D=b===k&&w===x,T=[k==="t"&&(b==="b"||b==="m"||D)&&1,x==="r"&&(w==="l"||w==="c"||D)&&1,k==="b"&&(b==="t"||b==="m"||D)&&1,x==="l"&&(w==="r"||w==="c"||D)&&1],M=D?3:1<rr(T)?1:T[0]||T[2]?5:4;return b={isIn:D,pos:T,alignBoxIndex:M,checkBorder:[w===x&&w==="c",b===k&&b==="m"],direction:D?k==="m"?1:0:M!==5?1:0,align:[w==="l"?-1:w==="r"?1:0,0],stackAlign:[w==="l"?-1:w==="r"?1:0,b==="t"?-1:b==="b"?1:0]},b.direction=le(s.direction,v,b.direction),b.align=le(s.alignment,b.align),p(s,"fixed")&&(b.stackAlign=[-1,-1]),[0,f,b]};if(o=o.toLowerCase().trim(),o.length===4&&o!=="left"&&!_ce.test(o))return a(o);o=o.replace("ca:","inside ").replace("ca","inside top left").trim();var u=o.split(",");if(1<u.length)return a=u[0],(o=a.indexOf("inside")===0)&&(u[0]=a.substring(6)),[1,u.map(i),o?3:0];if(o==="center")return a=a("mcmc"),a[2].isIn=!1,a[2].alignBoxIndex=2,a;i=o.split(" "),u=i[0]==="inside"?1:0;var d=i.join("");return d=d.length===o.length&&wce[d]||d,a(Cce[d]||"bltl",kce[i[u]])}function a9(s,o,i,a,u){u=s.measure(u),i=i.direction;var d=!a[o];return o=a[o]=a[o]||{total:[0,0],max:[0,0]},!u[2]&&!u[3]?null:(!d&&i||(o.total[0]+=u[2]),(d||i)&&(o.total[1]+=u[3]),(d||i)&&s.isVisible&&o.max[0]<u[2]&&(o.max[0]=u[2]),(d||!i)&&s.isVisible&&o.max[1]<u[3]&&(o.max[1]=u[3]),u)}function l9(s){return DB[We((s||"topRight").toLowerCase().split(" "),function(o){return DB[o]})]}function c9(s){var o=s.trim().toLowerCase();return o.indexOf("ca")===0||o.indexOf("inside")===0?o.match(Dce)?"caAlign":"caOffset":bce.test(s)?"absolute":"position"}function Dre(s){var o=s.chart,i=s.collisionManager,a=Rt(s.rootVisuals.content.getGlobalBbox());a=[-a[0],-a[1]];var u=function(d){d.isVisible&&i.addLabelBox(Il(d.getBounds(),a))};i.reset(),o.uiItems&&o.uiItems().each(u),o.annotations().each(u),c9(s.legend.currentOptions.position).match("caOffset|caAlign|absolute")&&(s=s.legend.getBounds(),i.addLabelBox(Il(s,a)))}function V_(s){var o=new Function("getter","return "+JSON.stringify(s)+";"),i=Sce(s);return i.length?function(){var a=o(),u;try{for(var d=r(i),f=d.next();!f.done;f=d.next()){var v=f.value;St(a,v[0],v[1])}}catch(b){var x={error:b}}finally{try{f&&!f.done&&(u=d.return)&&u.call(d)}finally{if(x)throw x.error}}return a}:o}function u9(s,o){var i=C(o);return s=s.currentOptions,i==="undefined"?s:i==="string"?-1<o.indexOf(".")||-1<o.indexOf("_")?g(s,o.replace(/_/g,".")):s[o]:"NotGetter"}function h9(s){if(!s.currentOptions.colorsValueRange)var o=1>=s.stopRange&&0<=s.stopExtremes[0]&&1>=s.stopExtremes[1],i=1>=s.dataRange&&0<=s.extremes[0]&&1>=s.extremes[1];return{stopPerc:o,dataPerc:i}}function Hc(s,o,i){return s&&s.pixelCorrection?s.snap(o,i):o}function jc(s,o,i){return!s||!s.pixelCorrection?o:(s=Hc(s,[o[0],o[1],i,i],i),[s[0],s[1]])}function jd(s,o,i){return s&&s.pixelCorrection?fe(o,function(a){return jc(s,a,i)}):o}function d9(s,o,i,a){if(!s||!s.pixelCorrection)return o;a=h(a)?a:i/2;var u=o[0],d=o[1],f=l(u,2);u=f[0],f=f[1];var v=l(d,2);return d=v[0],v=v[1],u===d?(o=!1,f>v&&(o=f,f=v,v=o,o=!0),f+=a,u=[u,f,0,v-a-f],s=Hc(s,u,i),u=[s[0],s[1]-a],d=[s[0],s[1]+s[3]+a],o?[d,u]:[u,d]):f===v?(o=!1,u>d&&(o=u,u=d,d=o,o=!0),u+=a,u=[u,f,d-a-u,0],s=Hc(s,u,i),u=[s[0]-a,s[1]],d=[s[0]+s[2]+a,s[1]],o?[d,u]:[u,d]):o}function j3(s){return new Rce(s)}function ih(s){return s.type="panel",s}function Gd(s){return s.width="*",s.height="*",s}function z_(s,o,i,a){return{xAlignment:s,yAlignment:o,offsetX:i,offsetY:a}}function G3(s,o){s=s.rootVisuals;var i;(i=o[3])&&s.leftOverflow.attr({width:i}),(i=o[0])&&s.topOverflow.attr({height:i}),(i=o[1])&&s.rightOverflow.attr({width:i}),(i=o[2])&&s.bottomOverflow.attr({height:i})}function p9(s){var o=function(){var d=[0,0],f=[0,0];return s.axes().each(function(v){var x=v.overflowSize.tL;v=v.overflowSize.bR,d[0]=Math.max(d[0],x[0]),d[1]=Math.max(d[1],x[1]),f[0]=Math.max(f[0],v[0]),f[1]=Math.max(f[1],v[1])}),[d[1],f[0],f[1],d[0]]},i=function(){var d=[0,0,0,0];return s.axes().each(function(f){d[f.sideIndex()]+=f.sideDepth()}),d},a,u=function(){var d=[0,0,0,0],f=o(),v=s.chart.currentOptions.extraOverflows||[0,0,0,0],x=(s.currentOptions.extraOverflows||[0,0,0,0]).map(function(b,w){return b+v[w]});return a=i(),K(f,function(b,w){d[w]=Math.max(f[w]+x[w]-a[w],0)}),d}();return s.overflows=u,s.axSizes=a,u}function f9(s){var o=s.overflows=p9(s);return G3(s,o),o}function m9(s){var o=s.currentOptions,i=s.series,a=o.id,u=function(f,v){return v.userPoints.find(function(x){return x.id===f})},d=function(f){return i.chartArea._series.find(function(v){return u(f,v)})};return W3(o.parent).map(function(f){if(f.id){var v=f.id;if(v=i.ciManager.exists(v)||d(v))return{cid:a,c_i:s._i,pid:f.id,p_i:v._i,key:a+"-"+f.id,line:f.line||{}};En.emit("warning","",'No point with id "'+f.id+'" found.',{container:i.chart.getWrapper()})}})}function Qv(s){return W3(s).map(function(o){return o.id})}function W3(s){var o=[],i=C(s),a=function(d){return{id:d.trim(),line:{}}},u=function(d){var f=d.id.split(",").map(function(v){return v.trim()});return 1<f.length?f.map(function(v){return{id:v,line:d.line||{}}}):[d]};return s&&(i==="string"?o.push.apply(o,c(s.split(",").map(a))):i==="array"&&s.length?s.forEach(function(d){return o.push.apply(o,c(W3(d)))}):i==="object"&&h(s.id)&&o.push.apply(o,c(u(s)))),o}function U3(s,o,i){if(s.series,Be(o)){if(o=o.toLowerCase(),o==="up")return Jv(s,function(f){return!f.currentOptions.parent});if(o==="down"){var a=Jv(s,function(f){return!f.series.visualizer.getChildren(f).length},!0);return a.forEach(function(f){return f.reverse()}),a}if(o==="all"){a=[],o=Jv(s,function(f){return!f.currentOptions.parent});var u=Jv(s,function(f){return!f.series.visualizer.getChildren(f).length},!0);return u.forEach(function(f){return f.reverse()}),o.forEach(function(f){u.forEach(function(v){a.push(ai(v.slice(0).concat(f)))})}),a}}else{var d=o.currentOptions.id;return a=Jv(s,function(f){return f.currentOptions.id===d}),a.length||i?a:U3(o,s,!0)}}function Jv(s,o,i){i===void 0&&(i=!1);var a=i?"getChildren":"getParents",u=s.series.visualizer,d=[],f=function(v,x){if(v.push(x.currentOptions.id),o(x))return d.push(v),!1;if(x=u[a](x),!x.length)return!1;x.forEach(function(b){var w=v.slice(0);f(w,b)})};return f([],s),d}function g9(s,o){o===void 0&&(o=function(a,u){return a+"-"+u});var i=function(a){for(var u=[],d=0;d<a.length-1;d++)u.push(o(a[d],a[d+1]));return u};return ai(s.reduce(function(a,u){return a.concat(i(u))},[]))}function v9(s,o,i,a){var u=s.series,d=u.chart;o=$3(o,u);var f=function(x){var b=d.series().items,w=0,k;for(x=x.slice(0);w<b.length&&!k;){var D=b[w++].visualizer;D&&D.resetLines&&(x=D.resetLines(x),x.length===0&&(k=!0))}};if(o.length){if(typeof i=="object"||!h(i)){if(u=g9(o),!i)f(u);else if(Object.keys(i).length&&i){var v=Cs(i);u.map(function(x){return se({key:x,zIndex:100},v)}).forEach(function(x){var b=x.key.split("-")[0];if(b=s.series.ciManager.exists(b).series.visualizer,b.styleLine){b.styleLine(x,a);var w=sh(b.connectorAttrsHL,function(k){return k.key===x.key});-1<w?b.connectorAttrsHL[w]=x:b.connectorAttrsHL.push(x)}})}}return o}En.emit("warning","","No connecting path was found between the specified points.",{container:u.chart.getWrapper()})}function $3(s,o){var i=function(f){return En.emit("warning","",f,{container:o.chart.getWrapper()})},a=function(f){var v=[];if(f.pop)if(f.length===2){v=f[1];var x=["up","top","root","first"],b=["down","bottom","floor","last"],w=["both","all","any"];if(v?(v=v.toLowerCase().trim(),x=(-1<x.indexOf(v)?"up":void 0)||(-1<b.indexOf(v)?"down":void 0)||(-1<w.indexOf(v)?"all":void 0)):x=void 0,v=o.ciManager.exists(f[0]),x=o.ciManager.exists(f[1])||x,!v||!x){i("Specified point ID cannot be found.");return}if(f[0]===f[1]){i("There are no connector lines between the same two points.");return}if(v=U3(v,x),!v.length){i("No connecting path was found between the specified points.");return}}else 2<f.length&&(v=f[0].pop?f:[f],$3([s[0],s[1]],o)[0][0]!==s[0]&&(v[0]=v[0].slice(0),v[0].reverse()));return v},u=o_(s),d=[];return u&&(u.levels===2?s.forEach(function(f){return d.push.apply(d,c(a(f)))}):d.push.apply(d,c(a(s)))),d}function H_(s,o,i,a){function u(D,T){if((f=C(d=T))!==void 0&&f!=="undefined")if(D=D[0]==="c"?D.replace("complete.y","complete").replace("complete.x","completeX"):D,T=""+D,f==="array"){if(d.length!==2)throw"value array can only have 2 items.";C(d[0]),D=d[0],C(d[1]);var M=d[1];v[T+"e"]=M,v[T+"s"]=D,v[T+"r"]=M-D,v[T+"a"]=(M+D)/2}else f==="null"&&D==="y"?s.currentOptions.emptyPointMode==="treataszero"?v.y=0:v.isEmpty=!0:v[T]=d}for(var d,f,v={},x=o.name,b=0,w=i.length;b<w;b++){var k=i[b];-1<k.indexOf(".")?u(k,g(o,k)):u(k,o[k])}return a!==!0&&se(v,Sre(o,v)),St(v,"cpbIndex",o.cpbIndex),K(jF,function(D){return St(v,D,o[D])}),v.x=o.map?le(v.x,x):h(v.x)?v.x:h(o.x)?void 0:x,h(v.x)||h(v.xr)||(v.x=o._i),v}function Sre(s,o){function i(T,M,I){var O={};return I="sv"+I,D=o[M],h(D)||(D=o[M+"e"]),k=nt(w=o[M+"s"])?w=D:D-w,(d=T.range)&&a(O,(I+"s,"+I).split(","),d),(v=T.offset)&&a(O,(I+"s,"+I).split(","),[w-v,D+v]),(f=T.percent)&&(v=f/100*k,a(O,(I+"s,"+I).split(","),[w-v,D+v])),(x=T.values)&&(O[I+"v"]=x),O}function a(T,M,I){for(var O=0,F=M.length;O<F;O++)T[M[O]]=I[O]}var u,d,f,v,x,b={},w,k,D;return(u=s.subvalue)&&se(b,i(u,"y","")),(u=s.subvalueX)&&se(b,i(u,"x","x")),b}function y9(s,o){return s.map(function(i){return j_(i,o)})}function j_(s,o){return{_i:s.indexer.findValue_i("x",o.value),series:s}}function x9(s,o){var i=[];return s.forEach(function(a){i.push.apply(i,c(Tre(a,o)))}),i}function Tre(s,o){for(var i=[],a=0;a=s.indexer.findValue_i("x",o.value,a),h(a);)i.push({_i:a,series:s}),a++;return i}function b9(s,o,i){i===void 0&&(i="");var a=s.series;s={hatch:"rgba(0,0,0,.8)",stroke:"#000","stroke-opacity":.3,"stroke-width":1,hatchPattern:"light-upward-diagonal",zIndex:a.zIndex+jr.complete};var u=o.currentOptions.complete||{},d=a.currentOptions.defaultPoint||{},f=function(x){return u[x]||y(d,["complete",x])},v=f("hatch");return(f=f("fill"))&&(f=Mt(f,a.info.style.base.color),M_(s,f)),v&&(v.color&&(v=se({},v),v.color=Mt(v.color,a.info.style.base.color)),$7(s,v)),i==="mute"&&(o=_s(y(o.currentOptions,["states","mute","opacity"]),.15),s.fill&&(s.fill=am(s.fill,o)),s.hatch&&(s.hatch=am(s.hatch,o)),s["stroke-opacity"]&&(s["stroke-opacity"]*=o)),s}function Y3(s,o,i){function a(x,b,w){var k=x.series,D=k.currentOptions.pointSelection||{};if(w=D.max,k=k.chart,ss(w))if(D=k._sMaxList,b)if(D&&D.length+1>w){for(;D.length+1>w;)u(D.shift());D.push(x)}else k._sMaxList=D=D||[],We(D,function(T){return T.id===x.id})||D.push(x);else m(D,x);else k._sMaxList=[],b&&D==="single"&&(k._sMaxList=[x])}function u(x){x.legendEntry&&x.legendEntry.updateCheckbox(!1),X3(x,!1),x.setState("")}var d=s.chart,f=s.series.currentOptions.pointSelection,v=h(f)?f:!1;v&&a(s,o),d.isRendered?(s.setState(o?"select":""),v&&(o&&s.series.chartArea.series().points().items.forEach(function(x){var b;if(b=x.selected)e:{if(x.selected){if(x._i===s._i&&x===s){b=void 0;break e}v==="multiple"||ss(v.max)||(v==="single"||!i)&&u(x)}b=void 0}return b}),s.legendEntry&&s.legendEntry.updateCheckbox(o),X3(s,o))):o&&(s.selected=!0)}function X3(s,o){s.currentOptions.selected=o,s.userOptions.selected=o}function q3(s,o,i){var a,u,d;return i=h(i)?i:s.userPoints.length,o===0&&(a=s.currentOptions.firstPoint)?d=a:o===i-1&&(u=s.currentOptions.lastPoint)&&(d=se({},d||{},u)),i=s.visualizer,i.getChildren&&(a={currentOptions:s.userPoints[o]},o=s.currentOptions.defaultLeafPoint,i.getChildren(a).length===0&&(i=function(f){var v;return s.chartArea._series.every(function(x){return!(v=We(x.userPoints,{id:f}))}),v},a=Qv(a.currentOptions.parent),i=s.visualizer.kind==="column"?i(a[0]):We(s.userPoints,{id:a[0]})))&&(i=i&&i.defaultLeafPoint,o&&(d=se(d||{},o)),i&&(d=d?se(d,i):i),i||o)&&(s.info.hasUniqueStyles=!0),s._defPointGen||(s._defPointGen=V_(se({label:{placement:"auto",style:{fontFamily:"tahoma, geneva, sans-serif",fontSize:"12px"}}},s.currentOptions.defaultPoint))),o=s._defPointGen(),d?se(o,d):o}function K3(s){s=s.currentOptions,s.muted===!0&&g(s,"states.mute.enabled")===!1&&(s.muted=!1),s.selected===!0&&g(s,"states.select.enabled")===!1&&(s.selected=!1)}function Z3(s,o){var i,a;return((a=(i=s.currentOptions.states)===null||i===void 0?void 0:i[o])===null||a===void 0?void 0:a.enabled)===!1&&(o=h(s.state)&&s.state!==o?s.state:""),o}function Are(s){return(s=s&&s.info.type)&&(s.isShape||s.isPie||s.colorByPoint)?"point":"series"}function Q3(s){if((s=(s.currentOptions.hoverAction||"").trim())&&s!=="none")return s.toLowerCase().replace("highlight","").replace("pointgroup","group")}function J3(s,o,i){var a=s.kind==="Point",u=a?s.series:s,d=a?s:void 0,f=u.chart;u.chartArea,i=i&&i!=="auto"?i:Are(u),a||i!=="point"||(i="series"),i&&i!=="none"&&(f.highlighted=s),f.series().items.forEach(function(v){v.isVisible&&(v!==u&&i!=="group"?ey(v,"mute"):i==="point"?ey(v,"mute",d):i==="group"?ey(v,"mute",Mre(d)):ey(v,le(o,""),d))})}function bo(s,o){s.renderer.renderer.isRootDestroyed()||(s.series().items.forEach(function(i){i.isVisible&&ey(i,"",o,!0)}),s.highlighted=void 0)}function ey(s,o,i,a){if(s.isVisible){if(a){var u=s.getAnimationConfig();u&&u.duration!==0&&(u.duration=Math.min(230,u.duration));var d={animation:u}}else d={continueAnimation:!1};if(i&&i.pop)s.points().each(function(v){v._state!=="select"&&(kd(i,v)?v.setState("",d):v.setState(o,d))});else{var f=o==="";i&&i.series===s&&s.state===o||s.state==="select"||(s.visualizer.debounce.clear("unhoverline"),s.setState(o,d)),s.points().each(function(v){(v!==i||v._state==="mute"&&f)&&v._state!=="select"&&v.setState(o,d)})}a&&s.chartArea.ignoreAnimationFor(d.animation.duration)}}function Mre(s){var o=s.series;o.xAxis.id;var i=o.chartArea.series().items;return y9(i,{value:o.indexer.getValue("x",s._i)}).map(function(a){return a.series._points[a._i]})}function _9(s,o){var i=s.series,a=i.rootVisuals,u=i.info.type,d=i.info.style,f={},v=i.xAxis.options("crosshair.enabled")!==!0&&i.yAxis.options("crosshair.enabled")!==!0&&i.options("mouseTracking")!==!1&&i.options("mouseTracking.enabled")!==!1&&i.options("states.hover.enabled")!==!1;if(d=d.attr.line,u.drawLine&&s.coordinates.line){var x=s.paths.lines?s.paths.lines.join(" ").replace(/,/g," "):zv(s.coordinates.line).join(" ");f.pathAnimation={type:"line",shift:o?.shift}}return i.state!==""&&(d=i.getStateAttrs(i.state).line),{d:x,state:d,shapeName:"line",target:a.line,zIndex:i.zIndex+jr.series,visGetter:function(){return i.visuals.line},visSetter:function(b){return i.visuals.line=b},animation:f,events:v?{mouseover:function(b){i.visualizer.debounce.run("unhoverline"),i.state!=="select"&&i.setState("hover")},mouseout:function(b){i.visualizer.debounce.defer("unhoverline",function(){i.state!=="select"&&i.state!=="mute"&&i.setState("")},150)}}:{}}}function G_(s,o,i,a){var u=o[0],d=o[1];return o=Math.min.apply(Math,c(o)),u=Ov(u/2,d/2,o,o),i=a||s.series.getPointMarkerType(i&&i.currentOptions?i.currentOptions:i),s.series.getPointAttr().pointAttr[""].r===0&&(i="none"),{base:i.indexOf("url")===0?i:rh(i,u.x,u.y,o,o)}}function rh(s,o,i,a,u,d){return a7(s.name?s.name:s,o,i,a,u,d)}function w9(s,o,i){var a=s.series,u=o[0],d=o[1];switch(a=a.ctManager.settingVal("lineSeriesType",a.currentOptions),s=G_(s,o,i),a){case"spline":u="M0 "+d+" C "+.2*u+" 0   "+.8*u+" "+1*d+"   "+u+" 0";break;case"step":u="M0 "+d+" L "+.5*u+" "+d+"   "+.5*u+" 0   "+u+" 0";break;default:u="M0 "+d+" L "+u+" 0"}return s.extra=u,s}function eA(s,o,i){var a={base:sa.rectangle(0,0,o[0],o[1],{r:2,corners:["round","round","round","round"]})};return i&&(s.series.options("forceMarker")||y(i.currentOptions,["marker","visible"])===!0)&&(a.extra=s.getBodyShapeName(i,!0),Be(a.extra)&&a.extra.indexOf("url")===-1&&(a.extra=rh(a.extra,0,0,o[0],o[1]))),a}function tA(s,o,i,a){var u=i.rect;if(!u)return"";s=s.series;var d=s.ctManager,f=s.ctSvIs("seriesType","candlestick");u=Rt(u);var v=o.currentOptions.marker||{};if((u[2]===0||u[3]===0)&&v.visible===!0)return a=i.styleSet.markerSize,i.meta.shape=Vr(i.xyz,[a,a]),"";if(d=d.isHoriz()?2:3,1>u[d]&&(f||0<u[d])&&(u[d]=1,d===2&&--u[0]),f=le(y(o.currentOptions,["outline","width"]),1),a=Hc(a,u,f),a.id=o.id,d=(f=s.ctmIsType("gauge"))?s.pane.isHoriz:s.chartArea.isHoriz,f&&s.ctSvIs("columnType","roundcaps")){o=a[0],s=a[1],f=a[2],u=a[3],d={caps:d?{left:"round",right:"round"}:{top:"round",bottom:"round"}},d===void 0&&(d={}),d=d.caps;var x=Math.PI/2;if(d){v=f/2;var b=u/2,w=["M",o,s];d.top?w.push.apply(w,c(Gs(o+v,s,v,2*x,0))):w.push.apply(w,c(["L",o+f,s])),d.right?w.push.apply(w,c(Gs(o+f,s+b,b,-x,x))):w.push.apply(w,c(["L",o+f,s+u])),d.bottom?w.push.apply(w,c(Gs(o+v,s+u,v,0,2*x))):w.push.apply(w,c(["L",o,s+u])),d.left?w.push.apply(w,c(Gs(o,s+b,b,x,-x))):w.push("Z"),o=w}else o=S3(o,s,f,u)}else a[2]&&a[3]?(s=Lre(s.indexer.getValue("pos",o._i),d,o),o=Ere(LF(a),s,Ire(a[2],a[3],s,o))):o=sa.none(a[0],a[1]);return St(i,"collision.body",a),Gn(o)}function Ere(s,o,i){return s7(s,o.map(function(a){return a?i:0}))}function Lre(s,o,i){var a,u=o?[1,0,0,1]:[1,1,0,0],d=o?[0,1,1,0]:[0,0,1,1],f=i.series,v=f.yAxis.isInverted();if(f.yAxis.isStacked()||f.yAxis.isStackedFull()){o=f.xAxis.dpsStackInfo;try{for(var x=r(o),b=x.next();!b.done;b=x.next()){var w=b.value,k=w.topNegative;if(We(w.topPositive,function(T){return T&&T.series._i===f._i&&T._i===i._i}))return v?d:u;if(We(k,function(T){return T&&T.series._i===f._i&&T._i===i._i}))return v?u:d}}catch(T){var D={error:T}}finally{try{b&&!b.done&&(a=x.return)&&a.call(x)}finally{if(D)throw D.error}}return[0,0,0,0]}return(D=i.series.xAxis.dpsStackInfoZ)&&(D=D[i.series._i+"-"+i._i])?D.startTouches&&D.endTouches?[0,0,0,0]:D.startTouches?v?d:u:D.endTouches?v?u:d:[1,1,1,1]:(u=o?[1,0,0,1]:[0,0,1,1],d=o?[0,1,1,0]:[1,1,0,0],a=o?0:1,v=s.xyz[a],D=s.xyzs[a],s=s.xyzOrigins[a],v===s||D===s?(o?v<D:v>D)?u:d:[1,1,1,1])}function Ire(s,o,i,a){var u=i.reduce(function(d,f){return d+f});return u?(i=5,s=Math.min(s,o),o=Math.round(s/(u===2?2:4)),a=a.currentOptions.radius,typeof a=="number"?i=Math.min(a,s/2):(150<s?i=8:6>s?i=1:10>s?i=2:15>s?i=3:25>s&&(i=4),i=Math.min(i,o)),i):0}function C9(s,o,i){var a,u=[];if(s){var d=s.label;i=s.defaultLabel}else return{cxy:x,size:u,innerSize:b,offset:w,innerPadding:k};var f=Rt(o);o=Math.min(o.width,o.height);var v;if(a=s.center){var x=l(a.split(","),2);a=x[1],x=[Mr(x[0],f[2]),Mr(a,f[3])]}if((v=C(a=s.size))!=="undefined")switch(v){case"string":a=l(a.split(","),2),u=a[0],a=a[1],u=[Mr(u,o),Mr(a,o)];break;case"array":o=l(a,2),u=o[0],a=o[1],u=[Mr(u,f[2]),Mr(a,f[3])];break;default:u=Mr(a,o),u=[u,u]}if(a=s.innerSize)var b=Mr(a,1);if(a=s.offset){var w=l(a.split(","),2);o=w[1],w=[Mr(w[0],f[2]),Mr(o,f[3])]}if(a=s.innerPadding)var k=Mr(a,1);return d&&s.defaultLabel&&(d.pop?K(d,function(D,T){return d[T]=se({},s.defaultLabel,D)}):d=se({},s.defaultLabel,d)),{cxy:x,size:u,innerSize:b,offset:w,innerPadding:k,defaultLabel:i,label:d}}function k9(s,o,i){var a=i.xAlignment;return i=i.yAlignment,VR(s,o,a,a,i,i)}function Ore(s,o,i,a,u,d){var f=s.series,v=a.meta,x=o.visuals,b=o.currentOptions.label,w,k=f.pane||f.chartArea;o.labelAutoHidden=!1;var D=k.collisionManager,T=function(O,F){var N=s.collidePointBoxes?O:k9(v.labelTextBox,O,v.labelAttr);if(F?!D.collideLabels(N):!D.collideAll(N,o.id))return!(v.shape&&(O.isInside||Oc(v.shape,On(O)))&&!Ic(v.shapePadded||v.shape,O))},M=function(O){return T(O,!0)};s.initPointLabel(o,a,i,d),x=s.getLabelWrapper(x.label,i),k=v.labelSize.slice(0);var I=s.possibleLabelPositions(o,"",i,a,u);u=v.labelAttr,a.meta.label=void 0,a.meta.labelPossible=I,M=We(I,function(O){return T(O,!1)})||We(I,M),a.meta.isVertical&&(w=!0),M||i.label.autoHide!==!1||(I.length?M=I[0]:(M=v.xy,v.shape&&(M=On(v.shape)),M=[M[0]-k[0]/2,M[1]-k[1]/2,k[0],k[1]],I=[M])),I[0]&&(M||s.isRadial)?((a=a.meta.label=M||I[0])&&a.rotate&&!h(u.rotate)&&(u.rotate=a.rotate),h(u.rotate)&&ss(u.rotate)?(M=On(a),se(u,{x:M[0]-k[0]/2,y:M[1]-k[1]/2}),u.rotate=[u.rotate,k[0]/2,k[1]/2]):w?(M=On(a),se(u,{x:M[0]-k[0]/2,y:M[1]-k[1]/2}),u.rotate=[-90,k[0]/2,k[1]/2]):(se(u,{x:a[0],y:a[1]}),u.rotate=[0,0,0]),u=s.render_applyDynamicAttrVals([u,{zIndex:f.zIndex+jr.label}],d),u.zIndex=f.zIndex+jr.label,(s.hcLabelsOnly||a.isInside)&&i.label.hcColor&&(u.fill=i.label.hcColor,(f=y(b,["outline","color"]))&&yy(f)&&(u.stroke=om(Zd(u.fill,f)).hex)),x.attr(u)):(I.length&&(i=I[0],x.attr({x:i[0],y:i[1]})),s.hideVisual(x),v.autoHidden=!0,o.labelAutoHidden=!0,En.emit("tip",f.name||"","pLabelHidden",{data:[f.name||f.currentOptions.id||" ",kF(v.labelText,10)],container:f.chartArea.chart.getWrapper()}))}function Rre(s,o,i,a,u,d){var f=s.series;i=f.isVisible,f.info.type,a=(o.currentOptions.label||{}).autoHide===!1;var v=u.meta,x=Rt(s.series.contentRect()),b=0,w=v.labelSize,k=v.labelObstacles;v.marker&&(b=u.meta.marker[2]),v=Hce,(s.kind==="line"||s.kind==="area")&&f.ctSvIs("lineSeriesType","step")&&(v=jce),u=Vr(u.xyz,[b,b]);var D=v(s,u,k,o._i,d);return u=Wce(s,o),K(u,function(T){var M=T.align[0]==="o",I=T.vAlign[0]==="o";M=(-1<T.align.indexOf("left")||-1<T.align.indexOf("right"))&&(-1<T.vAlign.indexOf("top")||-1<T.vAlign.indexOf("bottom"))&&D.outCorner?D.outCorner:M||I?D.out:D.in,T.box=Ld(c([0,0],w),M,T.align,T.vAlign).box}),u=i&&a?Rn(u,function(T){return!Ic(x,T.box)}):i?Xt(u,function(T){return Ic(x,T.box)}):u,f=f.info.type.drawArea&&!s.isRadial?qce:f.info.type.drawLine&&k.length===0?Xce:Yce,u.length&&(u=f(u,s,o,D,d)),i&&a&&(u=Rn(u,function(T){return!Ic(x,T.box)})),fe(u,function(T){return T.box})}function D9(s,o){var i=s.series;s=i.info.style.base,o=i.info.type.drawMarker;var a=i.getUniqueColors(3);1<a.length?(a.push(0),s=Xo(a)):s=s.color,i=i.currentOptions.defaultPoint||{},a=i.marker||{},o=o?se({},i,a):i,i=le(o.fill,o.color,"currentColor"),a=le(y(o,["outline","color"]),o.color,"outline");var u=le(y(o,["outline","width"]),1);return i={fill:Mt(i,s),stroke:Mt(a,s),"stroke-width":Mn(u,0,3)},o.hatch&&(i.hatch=Mt(o.hatch,s),i.hatchPattern=o.hatchPattern),{base:i}}function Pre(s,o,i,a,u,d){var f=i.xyz,v=s.series,x;s=s.getBodyShapeName(o);var b=i.rect;return typeof s=="string"&&Ss(s,"url(")?s:((x=i.path)||(x=le(u,5),u=o.currentOptions.marker||{},b||(b=Ov(f[0],f[1],2*x,2*x)),(x=bw(u.offset))&&(b=a3(Ii(b),x[0],x[1])),f=i.meta.snappedBox=[b.x,b.y,b.width,b.height],s&&!~Kce.indexOf(s)&&(x=y(u,["outline","width"])||1,f=i.meta.snappedBox=Hc(a,f,x)),i.path?x=i.path:(a=v.pointBodyDGenerator,b.width===0&&b.height===0&&(s="none"),x=a&&a(s,i),x||((x=rh(s,f[0],f[1],f[2],f[3]))||(x=rh("none",f[0],f[1],f[2],f[3])),s!=="none"&&(a=u.rotate,Be(a)&&-1<a.indexOf("%")&&(a=parseFloat(o.replaceTokens(a))),a&&(o=a==="auto"?y(i,["arc","angle"])+90:a,s!=="circle"&&(x=(x.isPath?x:Jn(x)).rotate(o)))))),d&&(i.meta.marker=Rt(b))),Gn(x))}function Fre(s,o,i,a,u){var d=i.xyz,f=i.xyzs;a=le(a,5);var v=s.series.xAxis;return v=[v&&v.isStackedFull()?(d[0]+f[0])/2:d[0],d[1]],typeof o=="string"&&Ss(o,"url(")?o:(d=s.currentOptions,f=d.marker||{},u=jc(u,v,1),u=Ov(u[0],u[1],2*a,2*a),(a=bw(f.offset))&&(u=a3(Ii(u),a[0],a[1])),a=(u=rh(o,u.x,u.y,u.width,u.height))?u.pop?Gn(u):u:"M0 0",d=y(d,["marker","rotate"]),Be(d)&&-1<d.indexOf("%")&&(d=parseFloat(s.replaceTokens(d))),d&&o!=="circle"&&(s=d==="auto"?y(i,["arc","angle"])+90:d,a=(u.isPath?a:Jn(a)).rotate(s)),a)}function S9(s,o,i,a,u,d){var f=-1<u.indexOf(".svg"),v=bw(d.offset)||[0,0];return s+=v[0],o+=v[1],i={src:u,cx:s,cy:o,zIndex:i.zIndex+jr.body},h(d.size)?(i.width=d.size,i.height=d.size):f&&(i.width=20,i.height=20),(d=d.rotate)&&(Be(d)&&-1<d.indexOf("%")&&(d=parseFloat(a.replaceTokens(d))),i.rotate=[d,s,o]),i}function T9(s){var o=(s.pane||s.chartArea).rootVisuals,i=o.dataContent;o=o.axisMarkersFront;var a=s.visuals.shapeLabels=s.visuals.shapeLabels||s.renderer.panel().add(o);s.rootVisuals={area:i,line:i,points:i,pointHalo:o,shapeLabels:a}}function qi(s){s&&s.attr({opacity:0})}function Nre(s,o){var i=s.series;o=i.rootVisuals;var a,u=i.info.style.attr.area;return s.coordinates.area&&(a=s.paths.areas?s.paths.areas.join(" ").replace(/[,Z]/g," ")+"Z":zv(s.coordinates.area).join(" ")),i.state!==""&&(u=i.getStateAttrs(i.state).area),{d:a,state:u,shapeName:"area",target:o.area,zIndex:i.zIndex+jr.series,visGetter:function(){return i.visuals.area},visSetter:function(d){return i.visuals.area=d}}}function Bre(s,o,i,a,u,d,f){var v=s.series,x=v.info.type.roundCaps,b=s.isHoriz(),w=o.meta;f=w.labelObstacles;var k=o.meta.shape.slice(0);x&&(k=V3(k,b?[0,-k[3]/2]:[-k[2]/2,0])),w.shapePadded=k,x=0,w.marker&&(x=o.meta.marker[2]),w={u:0,r:0,d:0,l:0},w[i]=x;var D=zce(s,k,i,f,w,o);o=fe(d,function(M){var I=!OB(M),O=I?D.out:D.in;return M=Ld(c([0,0],u),O,M.align,M.vAlign).box,M.isInside=!I,M}),K(o,function(M,I){});var T=[];return K(o,function(M){(v.pane||!s.series.isVisible||Ic(a,M))&&T.push(M)}),T}function Vre(s,o,i){var a=s.series,u=a.pane;return u=u&&u.getCompleteVisInfo?u.getCompleteVisInfo(i):_l(Rt(i.rectComplete)),s=b9(s,o),{d:u,clipPath:i.pathD,state:s,target:a.rootVisuals.points,zIndex:a.zIndex+jr.complete,visGetter:function(){return o.visuals.rectComplete},visSetter:function(d){return o.visuals.rectComplete=d}}}function zre(s,o){return H_(s,{x:o.x,y:[o.open,o.close],subvalue:{range:[o.low,o.high]}},["x","y","subvalue"])}function Hre(s,o){var i={x:o.x,y:[o.low,o.high],subvalue:{range:[o.open,o.close]}};return o.name&&(i.name=o.name),H_(s,i,["x","y","subvalue"])}function jre(s,o,i,a){var u=i.xyz,d=i.xyzs,f=i.sv,v=i.svs;s=s.isHoriz();var x=i.rect;return i=s?0:x.width/2,s=s?x.height/2:0,o=le(y(o.currentOptions,["outline","width"]),1),a=jd(a,[d,u,[v[0]-i,v[1]-s],v,[f[0]+i,f[1]+s],f],o),Gn(["M",a[0],"L",a[1],"M",a[2],"L",a[3],"M",a[4],"L",a[5]])}function Gre(s,o,i,a,u){return a=A9(s,o,a),[A9(s,o,i),"Z",a,"z"]}function A9(s,o,i,a){a===void 0&&(a=!0);var u=[];s-=i,o-=i;var d=2*i,f=2*i;return i*=.3318,a&&u.push("M",s+d/2,o),u.push("C",s+d+i,o,s+d+i,o+f,s+d/2,o+f,"C",s-i,o+f,s-i,o,s+d/2,o),Gn(u)}function Wre(s,o,i,a){var u=s.series;o=i.xyz;var d=i.xyzs,f="M"+o[0]+" "+o[1],v=ei(o[2]),x=d[2]!==o[2];if(u=u.options("shape.type")||"circle",a=jc(a,o,1),v)i.pathD=i.meta.bodyD=f,i.hitTest=gl;else{x?f=Gre(a[0],a[1],o[2],d[2]).join(" "):(a=Ov(a[0],a[1],d[2],d[2]),f=rh(u,a.x,a.y,a.width,a.height)),i.pathD=i.meta.bodyD=f;var b=i.xyz,w=Math.max(i.xyz[2]/2,5),k=s.getLabelHitTest();i.hitTest=function(D,T){return go(b,[D,T])<=w||k(this,D,T)}}return Gn(f)}function Ure(s){return s=$n(s),!(s.length===1&&Qo(s,GF).length)}function M9(s){return function(){var o=[];return s.kind==="Series"?o=s._points.slice(0):s.each(function(i){o=o.concat(i._points)}),o}}function E9(s){return function(o){var i=s.kind==="Series"?s:s.items[0];if(o&&o_(o)){if(o=$3(o,i),o.length){var a=i.ciManager,u=[];return o.forEach(function(d){return d.forEach(function(f){return u.push.apply(u,c(f.split("-")))})}),u=ai(u),i=u.map(function(d){return a.exists(d)}),Rn(i,"_i")}}else return i._points.slice(0)}}function $re(s,o,i,a){a=o.dataPositions.items;var u=o.dpsStackInfo||a.map(function(d){return{value:d.value}});return K(a,function(d,f){d=y9(s,d);var v=u[f],x,b,w=0,k=0,D={},T=d[0].series.yAxis.isStackedFull(),M=0;T&&K(d,function(O){O=O.series.indexer.getItem(O._i).y,M+=O});var I=Math.max.apply(void 0,s.map(function(O){return O._i}));K(d,function(O){var F=O.series.indexer.getItem(O._i).y,N=T?F/M:F;T&&O.series._i===I&&(v.topNegative=[O]),0<=N?(D.ys=w,D.yr=F,w=D.ye=N+w,x=O):(D.ys=k,D.yr=N,k=D.ye=k+N,b=O),O.series.indexer.indexObject(D,O._i)}),x&&(v.topPositive=v.topPositive||[],v.topPositive.push(x)),b&&(v.topNegative=v.topNegative||[],v.topNegative.push(b))}),o.dpsStackInfo=u,s.reverse(),K(s,function(d){d.zIndex=i+=8,d.seriesDirty.pos(!0)}),i}function Yre(s,o,i){var a=o.dataPositions.items,u=function(I){return h(I.z)?I.z:h(I.y)?I.y:1},d=[],f=[],v=s.length,x=o.range.max-o.range.min,b=function(I,O){return I=j_(I,O),u(I.series.indexer.getItem(I._i))},w=i?fe(s,function(I){return rr(fe(a,function(O){return b(I,O)}))}):fe(a,function(I){return rr(fe(s,function(O){return b(O,I)}))}),k=function(I,O,F,N,j,W){var $={};d.push([j,F]),d.push([F,W+j]),f.push([O-N,O]),f.push([O,O+N]),$.xs=O-N,$.xe=O+N,I.series.indexer.indexObject($,I._i)};if(i)K(s,function(I,O){var F=o.range.min;K(a,function(N,j){N=j_(I,N);var W=N.series.indexer.getItem(N._i);W=u(W)*x/w[O],k(N,j,F+W/2,.5,F,W),F+=W})});else{var D=rr(w),T=o.range.min;K(a,function(I,O){K(s,function(F,N){F=j_(F,I);var j=w[O]*x/(D*v),W=.5/v;k(F,O+N/v-.5+W,T+j/2,W,T,j),T+=j})})}var M=function(I,O,F){for(var N,j=0,W=I.length;j<W;j++){var $=I[j],Y=$,te=Math.round(100*F)/100;if(te>=Math.round(100*Y[0])/100&&te<=Math.round(100*Y[1])/100){I=O[j],N=rt(I[0],I[1],$[0],$[1],F);break}}return N};o._stackTranslators={backward:function(I){return M(d,f,I)},forward:function(I){return M(f,d,I)}}}function Xre(s,o,i){function a(f){K(f,function(v){h(v._i)&&K(f,function(x){if(h(x._i)&&(v.series!==x.series||v._i!==x._i)){var b=v.series.indexer.getItem(v._i);if(x=x.series.indexer.getItem(x._i),d(b)&&d(x)){var w=u[v.series._i+"-"+v._i]||(u[v.series._i+"-"+v._i]={});w.startTouches=w.startTouches||b.ys===x.ye,w.endTouches=w.endTouches||b.ye===x.ys}}})})}i===void 0&&(i=!1);var u={},d=function(f){return h(f.ys)&&h(f.ye)};return K(o.dataPositions.items,function(f,v){i?s.forEach(function(x){return a(x9([x],f))}):(v=x9(s,f),a(v))}),o.dpsStackInfoZ=u}function qre(s,o){for(var i={points:[]},a,u,d,f=function(D){return yl(u,d,D,D)},v=function(D){return fe(D,function(T){return T.pop?{x:T[0],y:T[1],z:T[2]}:T})},x=function(D,T){var M,I=0;return K(D,function(O){h(M=O[T])&&(I+=M)}),I},b=function(D,T){d=s[D],a=v(d.points),o?K(a,function(M){i.points.push(se({cpbIndex:D},M))}):(T=fe(a,function(M){return M.y}),u={y:rr(T),x:x(a,"x")},u.subvalue={values:T},K(["id","name"],f),i.points[D]=se(u,d.defaultPoint||{}))},w=0,k=s.length;w<k;w++)b(w);return i.isMerged=!0,i}function L9(s){var o=s.indexer,i=s.info,a=s.options(),u=a.xAxis,d=s.chart.chartItemManager.exists(a.yAxis)||{};u=s.chart.chartItemManager.exists(u)||{};var f,v=i.type.seriesType,x=function(k){return k=s.replaceTokens({token:k}),k==="-"?"":k},b=x("%xAxisLabel"),w=x("%yAxisLabel");return x=x("%zAxisLabel"),i.type.isMapLayer&&(f=s.chart.geoParser.findFeatureProps(s,s.chart.internal.mappingInfo)),{vScale:y(d.currentOptions,["scale","type"])||d.type||d.dataType,xScale:u.type||u.dataType,ct:s.ctManager.settingVal("chartType",a),st:v,mapInfo:f,xNotSorted:!i.xIsSorted,yAxisLabel:w,xAxisLabel:b,zAxisLabel:x,sName:a.name,hasZ:o.hasKey("z"),hasX:o.hasKey("x"),hasRange:o.hasAllKeys(["ys","ye"])&&!o.hasKey("y")}}function ty(s,o,i){s.push(Wd(s[s.length-1],o,i))}function Wd(s,o,i){return[s[0]+o[0]*i,s[1]+o[1]*i]}function I9(s,o){var i;o===void 0&&(o=ho);var a=[];try{for(var u=r(s),d=u.next();!d.done;d=u.next()){var f=d.value,v=o(f);h(v)&&!v.pop&&a.push(f)}}catch(b){var x={error:b}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(x)throw x.error}}return a}function Ud(s,o){var i=function(u){return o[0]===u[0]&&o[1]===u[1]},a=function(u){return o===u};for(i=o.pop?i:a,a=0;a<s.length;a++)if(i(s[a]))return a;return-1}function O9(s){var o=[[],[],[],[]];return s.each(function(i){return o[i.sideIndex()].push(i)}),o[0].reverse(),o[3].reverse(),o}function W_(s){var o=s.isTransitioning?s._ticks:Xt(s._ticks,function(b){return!b.invalid});s=I9(o,function(b){return b.value()}),o=Kre(o,function(b){return b.value()});var i=s.length;o=Rn(o,function(b){return h(b.currentOptions._lI)?b.currentOptions._lI:-1});var a=function(b){return!i&&b._rngData&&b._rngData.level===0&&(!b.currentOptions.rangeMode||b.currentOptions.rangeMode==="auto")},u=[],d=s.slice(0);K(o,function(b){b._isBaseRange=a(b)});var f=Xt(o,function(b){return b._isBaseRange});d.push.apply(d,c(f)),u.push.apply(u,c(Xt(o,function(b){return!a(b)})));var v=1;i||K(u,function(b){b._rngData&&b._rngData.level<v&&(v=b._rngData.level)});var x;return f.length&&v===0&&(x=!0),{valTicks:s,rngTicks:o,valArrange:d,rngArrange:u,fullRangesLevel:v,sharesBase:x}}function Kre(s,o){var i;o===void 0&&(o=ho);var a=[];try{for(var u=r(s),d=u.next();!d.done;d=u.next()){var f=d.value,v=o(f);h(v)&&v.length===2&&a.push(f)}}catch(b){var x={error:b}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(x)throw x.error}}return a}function R9(s,o){var i=s.isHoriz,a=We(s._ticks,function(W){return!W._isRange}),u=W_(s),d=s._rngData,f=d.levels,v=d.duV;d=function(W){for(var $=0;$<o.length;$++)W(o[$],$)},d(function(W){var $=W._rngData;W=W._metrics.textSize.slice(0),$.labelSize=$.rotate?[W[1],W[0]]:W});var x=s.tickMetricsData,b=s.sideIndex(),w=x.getMaxLength(),k=b===0||b===1,D=b===0||b===3,T=0,M=[0,0],I=0;x=u.sharesBase?0:x.maxLength,M[v.vc]=D?w-x:x;var O=function(W){var $=!1;return W._rngData.rotate&&($=!$),$},F=function(W){var $=W._metrics.textSize;return O(W)?[$[1],$[0]]:$.slice(0)},N=function(W){return Xt(o,function($){return $._rngData.visible&&$._rngData.level===W})};x=function(W){if(W=N(W),W.length){var $=Math.max.apply(Math,c(W.map(function(J){return J._rngData.labelOnTop?0:F(J)[1]}))),Y=0,te=function(J,re,ce){var oe=Wd(M,v.o,T);return oe[v.hc]=J._metrics.px[0],oe=[oe],ty(oe,v.o,re),ty(oe,v.f,yn(J._metrics.px[0],J._metrics.px[1])),ty(oe,v.i,re),{points:oe,options:se({},ce)}},ee,ae=function(J,re){if(J=N(J+1)||[],J.length){J=J.map(function(oe){return oe._metrics.px});for(var ce=!1;!ce&&J.length&&0<Cv(J,re).length;)ce=!0;return ce}return!0},q=[];K(W,function(J,re){re=J._rngData;var ce=F(J),oe=J.currentOptions.rangeMode;oe=!a&&re.level===0&&(!oe||oe==="auto")&&!J._rngData.visPartial;var pe=re.labelSize;re.labelOnTop||(J=oe?pe[1]/2+J.currentOptions.padding:Math.max(14,ce[1]/2),q.push(J))}),K(W,function(J){ee=[];var re=J._rngData,ce=J._metrics.px,oe=Jf(re.labelRange),pe=F(J),Se=J.currentOptions.rangeMode;Se=!a&&re.level===0&&(!Se||Se==="auto")&&!J._rngData.visPartial;var Te=re.labelSize,Ke=Math.max.apply(Math,c(q));if(re.labelOnTop){var bt=Wd(M,v.o,T+20+pe[1]/2);bt[v.hc]=oe,re.labelBbox=Vr(bt,pe),re.shapeOptions=te(J,14,{gapLength:0,tipLength:20*(1-.7),tipPos:rt(0,1,ce[0],ce[1],bt[v.hc])}),ce=ae(re.level,re.labelRange),Y=Math.max(Y,re.autoLabelOnTop&&!ce?20:re.labelOnTop?pe[1]+20:pe[1])}else bt=Wd(M,v.o,T+Ke),bt[v.hc]=oe,re.labelBbox=Vr(bt,pe),re.shapeOptions=te(J,Ke,{gapLength:Te[0],tipPos:rt(0,1,ce[0],ce[1],bt[v.hc])}),Y=Math.max(Y,$);re.level===0&&u.sharesBase&&(Y=Math.max(Y,s.tickMetricsData.maxLength)),re.labelCxy=bt,(re=!Se)&&(re=O(J),i||(re=!re)),J._cxyRotate=re?b===0?-90:k?90:-90:void 0,ee.push(J.currentOptions.padding)}),W=Y+Math.max.apply(Math,c(ee)),T+=W,I+=W}};for(var j=0;j<f.length;j++)x(j);return d(function(W){if(W._rngData.visible){var $=W._rngData,Y=ir($.shapeOptions.points);W._positionData={tickPoints:$.shapeOptions.points,textBBox:Vr($.labelCxy,W._metrics.textSize),bbox:Yn([$.labelBbox,Y])}}}),M[v.vc]=D?w:0,{ticks:s._rngData.ticks,levels:f,edges:s._rngData.edges,origin:M,depth:I,duV:v}}function nA(s){return s=s.currentOptions.hoverAction,h(s)?s!=="none"&&s!==!1:!0}function P9(s,o){o=o||s.currentOptions.label;var i=["color","style.color","outline.color"],a,u={};try{for(var d=r(i),f=d.next();!f.done;f=d.next()){var v=f.value,x=g(o,v);if(x&&x.length&&-1<x.indexOf("%")){i=v;var b=void 0,w=x;if(!M){var k=void 0,D=s.currentOptions,T=s.axis;typeof D.target=="function"&&(k=D.target());var M=k||(T.chartArea.replaceTokens?T.chartArea:T.chart)}b=M;var I=b.replaceTokens(w);St(u,i,I)}}}catch(F){var O={error:F}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(O)throw O.error}}return Object.keys(u).length?se(Ml(o),u):o}function F9(s){var o=s.axis.tickPositions,i=s._value,a=o.minor||[];return o=Ud(o,i),s.type==="custom"?s.rank=1:o===0?(s.isFirst=!0,s.rank=2):Ud(a,i)===-1?s.rank=3:s.rank=5}function Zre(s){for(var o=W_(s).valArrange,i=function(D){if(-1<D)for(var T=o.length;D<T;D++){var M=o[D];if(s.tickVisible(M.value())&&!M._isSquished)return D}return-1},a=0,u=o.length-1;a<u;a++){var d=o[a];d._isSquished=!1,s.tickVisible(d.value())?d._age=0:d._age++}a=0,d=!1;for(var f,v,x,b;!d;){var w=i(a);if(u=i(w+1),-1<w&&-1<u){w=o[w],f=o[u],v=b=!1;var k=w.angledAttr();s.labelMode==="angled"&&k.rotate[0]!==0?(v=w._metrics,x=f._metrics,v=Nte(le(v.px[0],v.px),le(x.px[0],x.px),v.textSize,x.textSize,k.rotate[0],le(w.currentOptions.padding,0)+le(f.currentOptions.padding,0))):w._cxyRotate?(v=[On(w._bboxClipped),On(f._bboxClipped)],v=[HT(w._bboxClipped,c([w._cxyRotate],v[0])),HT(f._bboxClipped,c([f._cxyRotate],v[1]))],v=Rte(v[0],v[1])):v=Rc(w._bboxClipped,f._bboxClipped),v&&(f.rank>w.rank?b=f._isSquished=!0:f.rank<w.rank?w._isSquished=!0:b=f._isSquished=!0),a=b?a:u}else d=!0}}function xm(s,o,i){i===void 0&&(i={});var a=o.metrics(i),u=a.px,d=a.textSize,f=a.tickLength,v=s.sideIndex(),x=v===0||v===1,b=s.tickMetricsData;v=o.currentOptions.placement==="inside";var w=o.options("padding")||0,k=v?0:b.getMaxLength(),D=u.length===2;u=o._metrics.px=s.getCaLen(o.value()),u.pop&&u.length&&(u=(u[0]+u[1])/2),ei(u)&&(u=0);var T=s.currentOptions.anchorWidth===0?.5:0,M=s.viewState.caRect,I=M.x,O=I+M.width,F=M.y;return M=F+M.height,s.isHoriz?(D&&(T-u>I&&(u=I+T),T+u>O&&(u=O-T)),D=v?0:1,x?(x=v?1:-1,f=[[u,k],[u,k+x*a.tickLength]],u=[u-d[0]/2,f[1][1]+x*w+x*(v?0:d[1]),d[0],D*d[1]]):(x=v?-1:1,f=[[u,0],[u,x*f]],u=[u-d[0]/2,f[1][1]+x*w+d[1]*(D-1),d[0],D*d[1]]),d=u[3]+(v?0:a.tickLength+a.tickPadding||0)):(D&&(T-u>F&&(u=F+T),T+u>M&&(u=M-T)),T=g(o.currentOptions,"label.align")||x?"left":"right",D=v?0:1,x?(x=v?-1:1,f=[[0,u],[x*a.tickLength,u]],u=[T==="right"?f[1][0]+x*w+D*b.maxTextSize[0]-d[0]:f[1][0]+x*w+d[0]*(D-1),u-d[1]/2,D*d[0],d[1]]):(x=v?1:-1,f=[[k,u],[k+x*a.tickLength,u]],u=[T==="right"?f[1][0]+x*w-D*d[0]:f[1][0]+x*w-D*b.maxTextSize[0],u-d[1]/2,D*d[0],d[1]]),d=u[2]+(v?0:a.tickLength+a.tickPadding||0)),b=f.slice(0),s.labelMode==="angled"?(o._positionData||(o._positionData={tickPoints:f,textBBox:u}),w=o.angledBounds()):w=u.slice(0),b.push.apply(b,c(qd(w,"tl,br"))),b=o._bbox=ir(b),v&&(b[s.isHoriz?3:2]=0,b[s.isHoriz?1:0]=0),i.tickPointsOnly?(o._positionData.tickPoints=f,o._positionData):(s=o._bboxClipped=u.slice(0),s[2]=a.textSize[0],s[3]=a.textSize[1],o._positionData={tickPoints:f,textBBox:u,bbox:b,textLength:d})}function Qre(s){var o,i=W_(s),a=i.rngTicks,u=i.rngArrange;i=s.duV();var d=!1;if(a&&a.length){s.isZoomed||s.type!=="category"||(d=!0);var f=a[0].getVisualTargets({},!0).tick,v=i.hc;a=ws(Rt(s.viewState.caRect),-8);var x=Wd(a,i.i,a[v+2]);x.push(0,0),a=Yn([a,x]);var b=ta(a);x=Ir([b[v],b[v]+8,b[v+2]-8,b[v+2]],function($){return vn(rt(0,1,b[v],b[v+2],$),2)});var w=d?[1,1,1,1]:[0,1,1,0];a={d:_l(a),fill:{linearGradient:s.isHoriz?[0,0,1,0]:[0,0,0,1],stops:fe(x,function($,Y){return[$,"white",w[Y]]})}},!d&&f.attr({mask:a})}if(u.length){for(s._rngData=R9(s,u),d=0;d<u.length;d++){a=u[d],x=a._rngData.shapeOptions;var k=se({},a.currentOptions.line);eh(k)?k.color==="#e2e2e2"&&(k.color="#a8a8a8"):k.color="none",x&&(a._rngData.renderData=Jre(a,g(x,"points"),se(x.options,k),f))}a=s._rngData,f=a.levels;var D=a.edges;a=a.origin,x=[],k=function($,Y){return We(u,function(te){return te._metrics.px[0]===$[0]&&te._metrics.px[1]===$[1]&&te._rngData.level===Y})};var T=function($,Y){return We($,function(te){return te[0]===Y||te[1]===Y})};try{for(var M=r(D),I=M.next();!I.done;I=M.next()){var O=I.value;for(d=f.length-1;0<=d;d--)if(D=void 0,D=T(f[d],O)){var F=k(D,d);if(F&&eh(F.currentOptions.line)){var N=F._rngData.renderData.endPoints,j=N[0][i.hc]===O?N[0]:N[1];s.valVisible(s.linToVal(j[i.hc]))&&(D=[],D[i.hc]=j[i.hc],D[i.vc]=a[i.vc],x.push([j,D]))}break}}}catch($){var W={error:$}}finally{try{I&&!I.done&&(o=M.return)&&o.call(M)}finally{if(W)throw W.error}}x.length&&(s._rngData.connectorLines=x)}}function Jre(s,o,i,a){var u=s.axis,d=u.type==="category",f=s.currentOptions.rangeMode;s=s._rngData,u._rngData.duV;var v=We(u._ticks,function(O){return!O._isRange});i=Al(bn(i),{type:d?"curly":"measure",gapLength:0,tipPos:.5,color:"#000"}),d=v||s.level!==0||s.visPartial?i.type==="curly"?"curly":"measure":"min",f=f&&f!=="auto"?f:d;var x=le(i.width,YB[f]);d=function(O){var F=jc(a,O,x);return u.isHoriz?[O[0],F[1]]:[F[0],O[1]]};var b=Mi(o[0],o[1]);o=o.slice(0),i.type==="curly"&&(o[1]=jn(o[1],b+180,x/2),o[2]=jn(o[2],b+180,x/2)),s=i.tipPos,v=Ea(o[1],o[2]),s=Mn(1<s?s/v:s,0,1),se(i,{lineLength:v,midPoint:AT(o[1],o[2],s),sideLength:Ea(o[0],o[1]),lineAngle:Mi(o[1],o[2]),tipAngle:b,tipPos:s});var w=v-12;b=i.gapLength;var k=i.midPoint,D=i.lineAngle;if(0<b){if(b>v-12)se(i,{gapLength:w,tipPos:.5,midPoint:AT(o[1],o[2],.5)});else if(s!==.5){s=1>s?s*v:s,w=Ea(k,o[1]);var T=Ea(k,o[2]),M=Ea(k,jn(k,D+180,b/2));b=Ea(k,jn(k,D,b/2)),M>w-6&&(s+=M-(w-6)),b>T-6&&(s-=b-(T-6)),se(i,{tipPos:s/v,midPoint:AT(o[1],o[2],s/v)})}}var I;return f!=="min"&&(I=f==="curly"?oie(o,i):sie(o.map(d),i)),I}function U_(s){return s.axis.chartArea.kind==="chartArea"?s.axis.chartArea:s.axis.chartArea.chartArea}function ese(s){var o=Date.now();if(s&&s.length){var i=s[0].axis;K(s,function(b){return g(b.currentOptions,"value.length")!==0&&tse(b)});var a=function(b){if(b=b._arrangeInfo.used)return(o-b.time)/1e3*10},u=function(b,w,k){var D=0,T=0,M=!0;K(k,function(j,W){D+=k[W][w[W]]||0});for(var I=0,O=b.length;I<O;I++){var F=void 0,N=We(b[I]._arrangeInfo.possible,w);if(N){if(h(F=a(b[I]))&&go(N.cxy,b[I]._arrangeInfo.used.cxy)>F){M=!1;break}if(N.collide){M=!1;break}else T++}else{M=!1;break}}if(M)return D+T/b.length},d=function(b,w){for(var k={},D=0,T=b.length;D<T;D++){var M=Xt(b[D]._arrangeInfo.possible,w);K(M,function(O){k[""+O.xAlignment+O.yAlignment+O.rotation]={xAlignment:O.xAlignment,yAlignment:O.yAlignment,rotation:O.rotation}})}var I=[];return K(k,function(O){return I.push(O)}),I},f=function(b,w){var k=[];return K(b,function(D){return k.push(w(D))}),ai(k)},v=Xt(s,function(b){return b.isRange()});s=Xt(s,function(b){return!b.isRange()});var x=function(b,w,k){if(b.length){for(var D=d(b,{}),T=f(D,w),M,I=0,O=T.length;I<O;I++)for(var F=T[I],N=0,j=D.length;N<j;N++){var W=D[N];if(w(W)===F){var $=u(b,W,k);$&&(!M||M[0]<$)&&(M=[$,W])}}var Y=1<b.length;K(b,function(te){var ee=i.chartArea.collisionManager,ae=te._arrangeInfo.possible,q=Xt(ae,function(pe){return Y?!ee.collideLabels(pe.box,te.id):!ee.collideAll(pe.box,te.id)}),J=te._arrangeInfo.used,re,ce,oe=J?{xAlignment:J.xAlignment,yAlignment:J.yAlignment,rotation:J.rotation}:{};!q.length&&ae.length&&(q=ae),q.length&&(J&&(Y||(ce=re=We(q,oe)),ce||(ce=We(ae,oe)),ce&&(ce.time=J.time)),!re&&M&&(re=We(q,M[1])),re||(re=q[0]),J&&re&&!Y&&""+J.xAlignment+J.yAlignment+J.rotation!=""+re.xAlignment+re.yAlignment+re.rotation&&(ae=go(J.cxy,re.cxy),q=a(te),ae>q&&ce&&(re=ce)),te._arrangeInfo.used=re,ee.addLabelBox(re.box,re.marker.id))})}};x(v,i.isHoriz?function(b){return b.yAlignment}:function(b){return b.xAlignment},{yAlignment:i.isHoriz?{inmiddle:.1,intop:.3,inbottom:.2}:{inmiddle:.3,intop:.2,inbottom:.1},xAlignment:i.isHoriz?{inleft:.2,incenter:.3,inright:.1}:{inleft:.3,incenter:.2,inright:.1}}),x(s,i.isHoriz?function(b){return b.yAlignment}:function(b){return b.xAlignment},{yAlignment:{outtop:.2,outbottom:.1},xAlignment:{outright:.3,outleft:.1}})}}function tse(s){var o=s.axis,i=s.currentOptions,a=s.options("label");i=i.value;var u=s.isHoriz,d=o.chartArea.collisionManager,f=[];if(a){var v=function(x){return x.push([x[0][0]+(u?1:0),x[0][1]+(u?0:1)]),Yn(x)};a=Zt(i[0])?i[0]:i,Ir(a,function(x){return f.push(v(o.getCaPoints(x,void 0)))}),K(f,function(x){return d.addBox(x)}),a=Yn(f),s._arrangeInfo.edgeBoxes=f,s._arrangeInfo.box=a,nse(s),ise(s)}}function nse(s){var o=s.rootVisuals,i=s.currentOptions,a=i.labelPadding||0,u=i.label||{};if(s.getText()&&s.axis.valVisible(s.value())){var d=o.label=o.label||new Uw(s.chart,se(u,{baseColor:i.color}));i=s.attrBuilder(Oa(u,void 0,i),{},{}),i.val=s.getText(),i.padding=a,d.options({text:s.getText()}),o.label.attr(i),u.autoWrap!==!1?(d.rootVisuals.text.attr({autoWrap:"auto"}),o.label.rootPanel.attr({maxWidth:0,autoWrap:"auto"})):(d.rootVisuals.text.attr({autoWrap:"none"}),o.label.rootPanel.attr({autoWrap:"none"})),s._arrangeInfo.labelSizes=d.getSizes(),o.label.rootPanel.attr({autoWrap:"none"}).setPreliminarySize(!0)}}function ise(s){var o=s.axis;s._arrangeInfo.visible=!0;var i=s.options("label");if(i&&th(i)){var a=i.align,u=i.verticalAlign;i=i.rotate;var d=a||u,f=function(j){var W=s._arrangeInfo.labelSizes[0];return We(s._arrangeInfo.labelSizes,function($){return $[0]<W[0]&&(W=$),$[0]<=j})||W},v=Rt(s.axis.chartArea.contentRect),x=s._arrangeInfo.labelSizes[0],b=PR([s._arrangeInfo.box,v])||s._arrangeInfo.box,w=s.isRange(),k=s.isHoriz;v=s.axis.chartArea;var D=Date.now(),T=v.collisionManager,M=ws(Rt(v.contentRect),-1);if(s._arrangeInfo.possible=[],o.valVisible(s.value())){x=f(k?M[2]:M[3])||x;var I=f(b[2]),O=f(b[3]);f=[b[0],b[1],x[0],x[1]],x=function(j,W,$){K(W,function(Y){var te,ee=j.slice(0),ae=$!==0,q=Y[0];Y=Y[1];var J=q.indexOf("in")===0,re=J&&0<$&&(q==="inleft"&&Y==="intop"||q==="inright"&&Y==="inbottom");w&&J&&(ee=[0,0],ae?ee.push.apply(ee,c(O)):ee.push.apply(ee,c(I))),ae&&(ee=[ee[0]-ee[3],ee[1],ee[3],ee[2]]),ee=Ld(ee,b,q,Y),ae=ee.box,Ic(M,ae)&&!re&&(!k&&w&&J&&(J=s._arrangeInfo.possible.length===0&&d,Ic(b,ae)||J||(te=!0)),!te&&s._arrangeInfo.possible.push({xAlignment:q,yAlignment:Y,box:ae,cxy:On(ae),collide:T.collideAll(ae)===!0,rotation:$,textAlignment:ee.contentAlignment,marker:s,time:D}))})},v=function(j,W,$){$===void 0&&($=!1);var Y=[];return K(j,function(te){K(W,function(ee){$?Y.push([te,ee]):Y.push(te+ee)})}),Y};var F=[],N=[];o=o.prefix==="sp",h(i)&&i!==0||(k&&!o?(a?F=v(["in"],[a]):(F=v(["in"],["left","right"]),F.push("incenter")),u?N=v([w?"in":"out"],[u]):w?(N=v(["in","out"],["top","bottom"]),N.push("inmiddle")):N=v(["out"],["top","bottom"])):(u?N=v(["in"],[u]):(N=v(["in","out"],["top","bottom"]),N.push("inmiddle")),a?F=v([w?"in":"out"],[a]):w?(F=v(["in"],["left","right"]),F.push("incenter")):F=o?v(["out"],["left","right"]):v([],[""])),o=v(F,N,!0),x(f,o,0)),h(i)&&i!==90&&i!==-90||(k?(F=a?v(["in"],[a]):v(["in"],["left","right"]),N=u?v([w?"in":"out"],[u]):w?v(["in"],["top","bottom","middle"]):v([],[""])):(N=u?v(["in"],[u]):v(["in"],["top","bottom","middle"]),a?F=v([w?"in":"out"],[a]):w?(F=v(["in","out"],["left","right"]),F.push("incenter")):F=v(["out"],["left","right"])),o=v(F,N,!0),x(f,o,90))}else s._arrangeInfo.visible=!1}}function rse(s,o){if(!o.items.length&&!y(s.currentOptions,["scale","range"]))return o=s.chartArea.chartAreaSet.freeAxes[s.prefix].id,o!==s.id&&o}function iA(s){var o=[];return h(s)&&(s.pop?(o=s.length,o=(o===2?s:o===1?[s[0],null]:[])||[]):o=[s.min,s.max]),s=o,ss(s[0])&&ss(s[1])}function N9(s){var o=y(s,["chartArea","series"]);if(o=o?o(0):y(s,["chartArea","_series","0"])){var i=o.ctManager.curCtDst();o=s.currentOptions.caOffset,y(s.currentOptions,["defaultTick","gridLine","width"]);var a=i.ct.columnType;return i=i.isPaneType&&a&&a.toLowerCase()==="roundcaps",a=o,i&&!h(o)&&s.prefix==="x"&&(s=s.isStackedFull()?s.clusterWidth(this._value):s.clusterWidth(),a=s/2),a||o}}function B9(s,o){return(s=y(s.currentOptions,["scale","type"]))&&o(s)}function rA(s,o){return B9(s,o)||s.syncAxis&&B9(s.syncAxis,o)}function V9(s,o){var i,a=function(f){return[f[0],f[1],f[1]-f[0]]},u=function(f){return C(f)==="object"?(i=!0,c3(f,s.range?s.range.min:s.min,s.range?s.range.max:s.max)):f.map(function(v){return s.toPosition(v)})};if(Zt(o)&&o.length){var d=[];return K(o,function(f){C(f)==="array"?d.push(u(f)):d.push.apply(d,c(u(f)))}),s.hasCalPatBreaks=i,fe(d,a)}return s.hasCalPatBreaks=i,o}function sse(s){var o=[];return Ir(s,function(i){return o.push(i)}),Uc(Rn(o))}function ose(s,o){s.isHoriz;var i=[0,s._sizeMetrics.length],a=0<yn(i[0],i[1]);We(s._ticks,function(k){return!k._isRange});var u=[],d=function(k){for(var D=0;D<o.length;D++)k(o[D],D)},f=function(k){return a?Md(i,k):Am(k)};d(function(k){k.metrics(),k._cxyRotate=void 0,k._rngData={visRange:f(Am(k._metrics.px))};var D=k._rngData,T=(T=k._rngData.visRange)&&0<T.length,M=Rn(k._metrics.px),I=k._rngData.visRange;I&&I.length?(k=yn(M[0],I[0]),M=yn(M[1],I[1]),M=10<k||10<M):M=void 0,se(D,{visible:T,visPartial:M})}),d(function(k){var D=k._rngData;if(k._rngData.visible){k=k._metrics.px;for(var T=0;!I;){var M=u[T]=u[T]||[];if(!Cv(M,k).length){M.push(k);var I=!0}T++}I=T-1}else I=0;return D.level=I}),d(function(k){k=k._rngData;var D=k.visRange,T=k.obstacles=[],M=function(F){return Yd(Am(D),F)&&T.push(F)};if(k.higherIntersects=[],k.visible)for(var I=k.level+1;I<u.length;I++){var O=Cv(u[I],D);Dm.apply(null,[k.higherIntersects].concat(O)),Ir(O,M)}});var v=s.tickMetricsData,x=s.sideIndex();v=v.getMaxLength(),x=x===0||x===3;var b=[0,0];s=s.duV(g(s.currentOptions,"defaultTick.placement")==="inside"),b[s.vc]=x?v:0,d(function(k){var D=k._metrics.px;k._rngData.rotate=!h(g(k.currentOptions,"label.rotate"))&&k._metrics.textSize[0]>yn(D[0],D[1])}),d(function(k){var D=f(k._metrics.px);if(k._rngData.visible){var T=void 0,M=k.currentOptions,I=k._rngData,O=kv(IT(Rn(I.obstacles),D,0),D),F=k._metrics.textSize,N=!1;k._rngData.rotate&&(N=!N),F=N?[F[1],F[0]]:F.slice(0),F[0]+=M.padding,I.labelSize=F,F=F[0],O=O.length?zte(O):Tm(D,5);var j=5*le(k.currentOptions.line.width,YB.measure);N=Tm(D,j),k=Tm(k._metrics.px,j),O=Md(O,N),O[1]-O[0]<F?(!I.visPartial&&yn(N[0],N[1])<F&&(T=!0),D=(D[0]+D[1])/2,I.labelRange=[D-F/2,D+F/2]):(D=(O[0]+O[1])/2,I.labelRange=[D-F/2,D+F/2]),D=I.labelRange.slice(0),I.labelRange=LT(k,I.labelRange),Zf(D,I.labelRange),M=M.label&&M.label.placement,I.level!==0||T||M&&M!=="auto"?(T||u.length===1?I.autoLabelOnTop=!0:(T=I.higherIntersects&&0<Cv(I.higherIntersects,I.labelRange).length,I.autoLabelOnTop=!I.visPartial&&!T&&I.level<u.length-1),I.labelOnTop=h(I.labelOnTop)?I.labelOnTop:I.autoLabelOnTop,T=le(M,"auto"),T&&T==="auto"||(I.labelOnTop=T==="outside")):I.labelOnTop=I.autoLabelOnTop=!1}});var w=[];return K(u,function(k){k.length&&w.push.apply(w,c(MR(k)))}),w=Uc(Rn(w)),{ticks:o,levels:u,edges:w,origin:b,duV:s}}function ase(s){var o="sv"+(s==="x"?"x":"");return[""+s,s+"s",s+"e",""+o,o+"s",o+"v"]}function lse(s,o,i){var a,u=s.childAxes.length?s.childAxes.splice(0):[s];K(u,function(d){d.userOptions.markers=d.userOptions.markers||[],d.userOptions.markers.push(o),d._markers.push(new UB(d,o)),a=!0,d.syncLegend(),s.chart.isRendered&&i!==!1&&s.chart.renderer.refresh(),i!==!1&&d.renderOnCa(i)}),a&&s.chart.isRendered&&i!==!1&&s.chart._legends[0].isVisible&&(s.chart.chartAreaSet.reflow(i),s.chart.renderer.refresh())}function bm(s){return s=new Date(s).getTime(),ei(s)?new Date().getTime():s}function cse(s){return function(){var o=[];return s.each(function(i){o=o.concat(i._ticks)}),o}}function use(s){return function(){var o=[];return s.each(function(i){o=o.concat(i._markers)}),o}}function hse(s){return!!(!s.chart.ctManager.isType("map")&&(ap(s)||lp(s)&&s.series.currentOptions.pointSelection))}function z9(s){return lp(s)&&(s=s.series.currentOptions.pointSelection,s==="single"||s.max===1)?"system/default/radio-button":"system/default/checkbox"}function H9(s){if(ap(s))return s.isVisible;if(lp(s))return s.selected}function sA(s){return s=s.currentOptions.hoverAction,h(s)?s==="highlight"||s==="mute":!0}function oA(s,o){o===void 0&&(o=!0);var i=C(s);if(i==="array")return s;if(i==="string")return i=-1<s.indexOf(",")?/[,]/g:/[ ]/g,(o?s.toLowerCase():s).split(i).map(function(a){return a.trim()})}function j9(s,o,i){var a=[],u=[],d=[];return o.each(function(f){f.breaks.length&&dse(s,f,i,a,u,d)}),{clipPath:a.length?Gn(a):null,paths:u,outlines:d}}function dse(s,o,i,a,u,d){a===void 0&&(a=[]),u===void 0&&(u=[]),d===void 0&&(d=[]);var f=o.getBreakRects(),v=g(o.currentOptions,"scale.defaultBreak.line.width"),x=g(o.currentOptions,"scale.defaultBreak.line.color"),b=g(o.currentOptions,"scale.defaultBreak.type").toLowerCase();o=o.isHoriz;var w=function(I){return Hc(s,I,i)};f.sort(o?function(I,O){return I[0]-O[0]}:function(I,O){return I[1]-O[1]});var k=f.length;if(k!=1)for(var D=0;D<k;D++){var T=f[D];if(T[0]+=i/2,T[1]+=i/2,!T)break;var M=void 0;M=D===0?o?"r":"b":D===k-1?o?"l":"t":o?"c":"m",(T=(vue[b]||G9)(M,v,T,w))&&(T.clipPath&&a.push(T.clipPath),T.path&&u.push({path:T.path,color:x}),T.outlinePath&&d.push({path:T.outlinePath,stroke:x}))}}function G9(s,o,i,a){i=a(i),a={clipPath:o7(i[0],i[1],i[2],i[3],{zigSides:s,zigWidth:o,lines:[]})};var u=s==="m"||s==="t"||s==="b"?1:0;return i[u]+=.5,--i[u+2],a.outlinePath=o7(i[0],i[1],i[2],i[3],{zigWidth:o,zigSides:s,open:!0,lines:[]}),a}function pse(s,o,i,a){var u=s.isHoriz,d=s.tooltip.currentOptions.combined,f=s.chart.axes("x"),v=[],x=[],b=[],w=!1;s.axes().filter(function(M){return M=M.options("crosshair")||{},M.enabled&&!M.snapToData}).each(function(M){return M.crosshairXy(o)}),s.axes().filter(function(M){if(M.prefix==="x")return((M.options("crosshair")||{}).enabled||d)&&!M.options("scale.syncWith")}).each(function(M){var I=[M,M.crosshairXy(o,void 0,a)];K(M.serList,function(O){if(O.isVisible&&O.options("mouseTracking_enabled")!==!1){var F=O.showHaloAtX(I[1],!1);F&&v.push(F),O.haloPath&&(x.push(O.haloPath),b.push(O))}})});var k=_l(Rt(s.contentRect))+" "+x.join(" ");if(K(b,function(M){var I;(I=M.visuals.pointHalo)&&K(I,function(O){return O.attr({clipPath:{d:k,"clip-rule":"evenodd"}})})}),v=v.map(function(M){return{axId:M[0].id,point:M[1],yVal:M[2]}}),v.length){var D=new Dw().key("axId").entries(v),T=[];K(D,function(M){var I=s.axes(M.key);if(I){s.tooltip.cttEnabled(I,f)&&(T.push.apply(T,c(M.values.map(function(F){return F.point}))),w=!0);var O=I.options("crosshair");O.enabled&&O.snapToData&&yue(s,I,xue(M.values))}}),T=Xt(T,function(M){return!M.series.indexer.getValue("isEmpty",M._i)&&M.series.options("mouseTracking_enabled")!==!1}),T=Rn(T,function(M){return M.series.indexer.getValue("pos",M._i).xyz[u?0:1]}),T.length&&s.tooltip.show(T,i,o)}else s.axes().filter(function(M){if(M.prefix==="y")return(M.options("crosshair")||{}).enabled}).each(function(M){return M.crosshairXy(o)});return w}function fse(s){s.axes().each(function(o){o.crosshair()})}function mse(s){var o={chartArea:s.chartArea||[{}]},i=u_(o,"chartArea");o.chartAreas,o=yT(s,["title","series","legend","events"]),yT(s,["xAxis","yAxis","zAxis"]);var a={xAxis:s.xAxis||[{}],yAxis:s.yAxis||[{}],zAxis:s.zAxis||[{}]};return se(i[0],_i(o,"series")),i.rootItems=o,i.rootAx=a,s.series.length&&(i[0].series=i[0].series||[],i[0].series=(i[0].series||[]).concat(o.series)),i}function gse(s){return function(){var o=[];return s.each(function(i){return o.push.apply(o,c(i.items))}),o}}function vse(s,o,i){if(o.data){o=o.data;var a=s.data=s.data||{},u=C(o),d=h(o.transformer)?o.transformer:s.ctManager.isType("calendar")?yse:null,f=function(v){if(!a.val||a.val&&a.fileName!==v)return Bne(v,function(x){a.val=d?d(x.data):x.data,a.types=!d&&p3(a.val),K(a.types,function(b,w){return b==="date"&&St(s,"typeContextOptions.axes."+["x","y","z"][w]+".scale.type","time")}),a.fileName=v,i(x)}),v};switch(u){case"array":a.val=o;break;case"string":if(256>o.length&&o.indexOf(".csv")===o.length-4)return f(o);a.val=m_(o);break;case"object":if(o.data)a.val=m_(o.data,o.delimiter,o.header);else if(o.file)return f(o.file)}}}function yse(s){return fe(s,function(o){return[o[0],parseFloat(o[1])]})}function aA(s,o,i){var a=Rm[s];!a&&RM[s].checker(o,!1,{})?$9(s,o||{},i):!a||a.loaded?i():a.loading&&a.callbacks.push(i)}function W9(s,o,i,a){a===void 0&&(a=!1),o||i();var u=[],d=Rm,f=function(k){u.splice(u.indexOf(k),1),u.length||_se(i)},v=xse(o),x=v?ht(RM,v):RM,b=o.modules?un(o.modules):{};xi(x,function(k){var D=d[k],T=function(){D&&D.afterLoad&&D.afterLoad(s,o),!D&&-1<k.indexOf("locale")&&d[k]&&(d[k].loading=!1,d[k].loaded=!0)};D&&D.loaded||!x[k].checker(o,a,b,s.ctManager)?T():(u.push(k),$9(k,ke({notificationContainer:s.getWrapper()},o),function(){T(),f(k)}))});var w=vse(s,o,function(){f(w)});w&&u.push(w),u.length||i()}function U9(s,o){for(var i in Cue)if(s.isType(i,o))return!0}function $9(s,o,i){xP(s,i,En,o)}function xse(s){var o=ct.Intl;return s=s.defaultCultureName||"en-US",o&&0<o.NumberFormat.supportedLocalesOf([s]).length?null:(bse(),o={},o["https://code.jscharting.com/polyfill/locales/"+s]={checker:function(){return!0}},o)}function bse(){ct.IntlPolyfill||(ct.IntlPolyfill={__addLocaleData:function(s){return Jw.push(s)}})}function _se(s){var o=ct.IntlPolyfill;Jw.length&&o&&(K(Jw,function(i){return o.__addLocaleData(i)}),Jw=[]),s()}function wse(s,o,i){var a,u={},d=s.calIndexer,f={layoutAttr:u,boxAttr:{},needRefresh:!1,needRedraw:!1,updateCalendar:!1};if(h(o.margin)&&St(o,"box.margin",o.margin),K(o,function(w,k){PM[k]&&PM[k](w,s,f,o)}),f.updateCalendar){var v=s.userOptions,x=s.currentOptions;x.series=void 0,x.x=Ml(v.x),x.y=Ml(v.y),d.updateChart(x);var b=x.series;K(s.chartAreaSet.items,function(w){w.options({series:b})})}Object.keys(u).length&&s.renderer.attr(u).refresh(),u=h((a=o?.box)===null||a===void 0?void 0:a.padding),(!s.isRendered||u)&&s.isColorized&&100<s.renderer.getRootBox().height&&(f.boxAttr.padding=f.boxAttr.padding||[0,0,0,0],s.currentOptions.overlapBranding!==!0&&(f.boxAttr.padding[2]+=20)),(a=f.boxAttr)&&Object.keys(a).length&&((u=a.margin)&&(d=xl(s.rootVisuals.box.margin.initial),a.margin=gT(d,u)),s.rootVisuals.box.attr(a),f.needRefresh=s.isRendered),f.needRedraw?s.redraw(i):f.needRefresh&&s.rootPanel.refresh()}function Cse(s,o,i){return xi(FM,function(a){o=FM[a](s,o,i)}),o}function Y9(s,o,i){return lm(function(a,u){u={text:o},i&&(u.baseUrl=i.baseUrl,u.notificationContainer=i.notificationContainer),aA("modules/types",u,function(){return a(j7(s,o,i))})})}function kse(s,o,i){nV=i,typeof s<"u"&&(s.fn.JSC=function(){function a(v){for(var x=0,b=o.length;x<b;x++)if(v[0]==o[x][0])return o[x][1]}var u=arguments,d;if(this[0]){typeof u[0]=="string"&&(u[0],u=Array.prototype.slice.call(u,1));var f=u[0];h(f)?((d=a(this))&&d.dispose(),f.targetElement=this[0],u=new nV(f,u[1]),u.globalChartIndex=o.length,o.push([this[0],u]),f=this):f=a(this)}return f})}function X9(){return"3.4.0.20230215"}function Dse(){return lm(function(s){Qt.readyState==="loading"?Qt.addEventListener("DOMContentLoaded",s):s()})}function q9(s,o){var i=$_(o),a={grid_enabled:!0};return i&&(a.baseUrl=i.baseUrl,a.notificationContainer=i.notificationContainer),lm(function(u,d){aA("modules/datagrid",a,function(){u(Ba.gridConstructor&&Ba.gridConstructor(s,i,void 0))})})}function K9(s,o){if(!(this instanceof K9))return q9(s,o);var i=Ba.gridConstructor&&Ba.gridConstructor(s,o,void 0);return i?(i.then=function(a){return a&&a(i)},i):q9(s,o)}function $_(s){var o;return tu&&(o=tu?tu():{}),s&&o?se(o,s):s||o}var lA=function(s,o){return lA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var u in a)a.hasOwnProperty(u)&&(i[u]=a[u])},lA(s,o)},Y_=function(){return Y_=Object.assign||function(s){for(var o,i=1,a=arguments.length;i<a;i++){o=arguments[i];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u])}return s},Y_.apply(this,arguments)},Sse={exportButtonTooltip:"Export to raster or vector image",printButtonTooltip:"Print the chart",resetZoomText:"Zoom Out",resetZoomTooltip:"Reset Zoom"},cA="4285F4fE4C14DBCB1815AC20D150B1d9AeeC8C2808ED7C1F1eFEdAF2955B6eA738F5424378BE3CA87A893B3F84E154F5CD992D8C2903B9B09DC9F9F95F035FCACBFA0381830202FE9CCEFEFBCC9BdD7311A3340E7E4957B823E6BC0DE8BFC70D5987BD5C923|9C9Ad9C3063cCECEc63e63d8284e65CECECdFee84dbcebd84e8484a8284ebeCdFCEcCEdCEc9C9CCcF9ACECE9AcCF9C3165d31CFCE9CCFbCFb9Ab65e63659C949694e3063319A63e3e0313e09C3e09C306331309C313031accadacdbbbd84a82a848482e84e84e8284C6C3C6848284|4B649A88E2D869838eD93FA5EE4034088B2FAEB8E9ED266666FA7CD992C85203D4804FAFC7DD57F9EEFC335BA63D2F81C238683D996FEAB90342172309AE9538772BC16DF07420ADC7A4D9ED99DAA029BAEB076A40145A6485769C85B624F030670AD47A6BC1814E07CA65E495FD0F2881ED681E873AE862D16CC889C78AE792B499869EE625BDE959C952859E55CE88675403C8BCC|B2213DBAC01464AF4ADA5B8AEE971F989EDDB7D3E68B44D7DDC9870157E10EA61EEE6B07B9CFB4B24B420C78B02E5302CE296DF22889FD27DB64DCF58C635867CCB46CFE2C17DDCD290587A37ECB27AF7685322D741B7E94F0442B54F2BD25E7E9A3AAFBC054D4B64A9EC8220159A70F3D2D7F07302AF2B035D60DE7EB89DA6ADE9FB9D9202AED22AF7BE2D4515B93979B1B16C53E1E|E68E423F5C79E5D5ADEC6CBBE66457F9E2D796A6A28121DB6D38E9C36845D6CA2199DED1532E506469D45014C4203AFB07CE2E94B32C06656D65D0238E216D6715A1994C8485A6B487313CCC310C174DFDEDBB99164216F3937963EC5D2DD54867E7FD2285EC778128790D82EE3834604D8325A064D350D28AA5B70A21B8575A5AF365480DF3C610753A709C3492045A45039ED80834|3D88419BE23923AAC40154C4141CE1507A0314A091B380FC677487E15195AD6E9B8C285ACF5735E1DF6C4FEC798AC2D30DE68CCFDF87DA890744336DB040582E53E52887F3867F22CD32C024649382DCB1B2D46909DC8E14B09D538A23C6309E13209892613ADF85666902ADC6B62473C056BBFD6AEE25765714D55532F4FD0701211044F9EF7A76D24F029ED9E04CF978DEC9CC0A32|9ADB5E61F34C0C8DEFC21EC7737198D5D73F6085AE67C358B0C0BA2FE63093EF6B377F4DB066102F3B8CCA0F7ACA720AA4D70F6E875B33331805AF3390DCA5BF2E2D5B3CF14A24702E304A229BB4DCE54EB0890E2024681e44B35ABB6DC9E5EE50BDF4D6E35175AB29D3F561011966327C9E4DE52979E09C44A37A51478B95191EB3B90D38F7618992E5B81E411eF2B4D184EBF6BE|860104dD62E583410c6dF7e0551314FEdAF7F4D1Ccb4502830B0CF6FCDAaFDdB1d9D02EE1413AE6A29DE56eE4A711BB1313D195e61140DBCB037402E13B8C267B86D163F1815C2C8955E4520A7B817B851175F1A13C4CAB4aC1C898B88918AD3122815F2DA05813A68D2089291E977E12|181161D14524F9F72B83EA282BFBCDA395DEDC2ECE4133F5DA011D01A468837EB8EA917CC3B9F0C972E8958DFAF8717754D6A67B1D2CD14524E18514AC7F1384875DBA5965D42A5D8E2C6F6059A9A4A0D4F4F226A8F96072FEDFCCC2F6F69AEEAFA9FCFB94996BE6B98E569B9EA89E5FB8E9D97C7ACAC7E6AA6F9E9DB0A0AA56BE817BCACACF63CFCEEBE86F69D0FDCCE5E89C12FEe|4A2123D52E06B38D95dDBC5C2644482B2B8AE7EA1dE19C8D8A7E553C15DCD2D5dCA95DAC5E4DB9F62dDBD9BC9F95E49291484C50FAB36C9A6343E57B63BED7DA92392FD7CEC2d95eD0BBC1759980ADC0DFE5BFD2E0CC84C0D0C5CDD25EdC7C3C1dF1C69658F1F98E61693CA86567FB4C2688A259cC5A5C18ACAEBdC6A5D1A4845C5D531ADDCFA2D67F45AA3B33dC667|8A98DB3C59BA16265173A278B7F5Dd8F7A05CC3A192973C5D64488B775BA64E1B44475F714B96646DC4D02154F171A46F1842ECA991F8C12FED8F11F1CFC4D8BEF3F8FA2C3248862E0A1CA18BB670A3DD0A0D460A0D4655D3EBCDdD579DAC734879694E3A719686D18A56418775A47BD9A36773D98BC8EB4B73A7DC96B52A0951184B0D8BEF31E4AB3B1B7A1848BD4AAB5D2B1B7A14A67C5|BF2D305E8D34855E26a9FC2dC380B75174BED869349648B31E4BCCD150B159B6E6A36079C9EEd7BD76CdE648E4F6C29BAEAEA2dBA8AB74957C0C2F3E5D8dF285AAd45E0C18CBEE7A437942DDDde216C54DDF78F6174618BE767D89A7C7C8B59234172A3AD680C866D82789410869FBD19CDA087CB5980E78F5CAD5054A0AE7C321727308B113C2A573F2F0F4EA36E68|2A3D2FBCD0A4F7dD1AE708AF5ADBDF8D4DCB1E6d7AAEB38FAF6E101811B6C4B0dBEC4D06F71DFCC65BBD8BAD77856FDdB6E67347B8EDd47C3F2F89E8B834C37A1C261E2dCA3B491F52A09593B7D3647AAAD7ccD43F4E5DA4BD74dC49Ad6044CAD5C974A05B7383689B4427BE8B94d8C63D9c88ADC8D5A37dFDACAE488A1E997CC52A095849B50618C73C9DCB6|D1CEBC914927aDe04AE7C8C6F8EBbFBD0C75D65C3e7Ce9F3Ce8873e98A646648E8EC7E6827D4E6FA573737D83DFB7ADd2525E49F76F3EAF2FBF794d6E6EE20106A017174B2722e892F9CCB9685D1D215EDEA35C7F1186F3F67801C655567905D8DF64041A92E2EE38B97FBC197B5B3B3FEDD96FDD1F2DB391988010442e11eCE7498E6eeFC88eA3D2e447D|2263093BDB09F0d5EBCE86C7A7124AA9D2B5C770EC7E207CBB60B3E89080A1C0CdFA3C7CE96C514B18B09F09AFD408F8EeE4FA30715480DAdF3C513A107E7109AFD40815480D2D992A98BB7B5D5F307C833D4057217FA4328B932E3064220A1C0CB3C45E7EBC7D7CBC803A3D1E7B812B6E9C30ABB53B3E772615341587AD565D5F30|D0B85D648F8CF892eF9F29BA7D3EdAF168676A35F0C963dEF7AC6D332AC8827F3D864dFE49D3ED62B2AD61687C3DB0A89AB07286F6B899CEA95C6E581CCFB999F5A864B4CC9D516862D4F8A24E150ACF6E27718E258F889ED0C8996F685BB3AC29E9D23670370C7867669D721AB4DA55B06F52324C1936773D98BC8E483E46D8BEF313706B38384F738C5EdDEb64e998A50|173C64648F8C51CdF95cA7D3EF03343C676A35C49D35dEF7AC6D332B0EBBAE1dB6dFE499E68e181F03687C3DCDdD5DEFCdE3DEF22F2F696E6EBE03639F55D3EBF1C4B5e0A3F52A0951184B011B08C7DC96B9A9865CCCD6DdE23EFDFDB7FAB07A70370C786766e25595B93E09893BD5A809F36773D98BC8EF2CA8ED8BEF313706B38384F2CA6CB08F4BA8DF36E998A50|64eeC864eA08Cee64a6432e6464e64|4682B49ACD32708090CD853FB22222dA5bcd45eA0522DdD7e3CB37154A9DD6A5ACD4169E19370DBBA55D366CDAAD8BFD8d69B4DB7093|8Beb8Ce8B4513B8860B808e06B8E23556B2Fe64e2E8B57e8B8BeBdF4682B4ee80483D8B4Be828e080DC143Ca94eD3|468966dF0A5dB03BB649268E28e|7D8A2EC9D787F9D690dC0A9d8598|393A3DDBe485D9E9BC8DBBFE0FCEB|595441B9B09DDDE8EB69BFDE4A8797|7D7E9ABFC7B2D8D6B0D0C3B39B7A76|C44C51dB6B8dEFB6A2B5BF5F8CA3|FCdF5D1DBBD91AA9D3E606F193441|B0CC99677E52B7CA79F6E8B189725B|F7F2B2ADCF4F84815B4A1A2C8E3557|E8E595D0A82540627C26393DdFAE4|5A1FeD1570DFDE792477725A9CC66|595241B8AE9CDED7C6ACCFCC8A0917|66858D93A299C0BFA9dE7D5dBEAC|dF0A3B8CC6E4B6e0E4F8de4460|C7F2F547A0A1781515B8864CD9C39C|3B180182561AdF3D2ABB8864F462E|C3d939698656A4A2CC1420Ed8C47|759C52C2E858dE3A6E8A2989C5241|123B4AE6cC7C09AdE427dA908|ED9877B0B9ADAE555B485566837076|B8ECD7083643B1Ee1CEF09D476C5E|323240968C63FDdC9dD175C3C967|F0E14CdBB20FA7B12E8530559CC0D|4059529C9B7AdD393d974d54F29|762B1B807227CCBF7AdEF9860B0A1|5D4970372049F1BAF3FAEEd59535E|F9EBAE7898983C6573E8B54DB14D1C|B9121B4C1B1BF6E497FCFAE1BD8D46|B6D09C7273685C5C66533E3ECC9585|8F9AB3B0D0Dd1F3F0dACA1A61618|d5B2BB1221C34393E8CC6D7dDA8C|E51E19FC7529F9F23D8DEA550962B4|FD814C2DD5ECd364DA1F886dF37D|324732EADAD27E1F2DA1861D97A9CA|FA5E73E6DDD399CE5D43456DEB9765|3A8394C6EDF7D9F2B0dD1C1B71E4F|463531F57C75C380C921D4F6A5EBB0|997F87F7D6CDE6FCB5C5E0DC454B65|463531F57C75C380C921D4F6A5EBB0|070707FBDB5BEC360880C3d448B14|E37484CEDDE499B18DE9CD6CEAB79A|CAD6C35E7277F99DB1FBBFCCF6E1DC|F9FDF32B3532D33D3EC3B9ADe5773|94B13A2C81C06B4687960303F16723|DCE7B5B0C4CEFE4F13E6384D17304B|DA1C1C68DA1CF1E80821A4D8FC6A08|D3B569E29351C95B406D9DC54C507CB4F4F78BEFEA23877B03576019303A|003049D62828F77F00FCBF49EAE2B7|2F485833669986BBD89EE493DAF7DC|813405D45113F9A03FF8DDA4F1F9C2".replace(/e/g,"00").replace(/d/g,"FF").replace(/c/g,"FFFF").replace(/b/g,"00FF").replace(/a/g,"000000").split("|"),Tse=Object.prototype.hasOwnProperty,Z9=typeof global=="object"&&global&&global.Object===Object&&global,Ase=typeof self=="object"&&self&&self.Object===Object&&self,Gc=Z9||Ase||Function("return this")(),X_=Gc.Symbol,ny=Object.prototype,ks=ny.hasOwnProperty,yr=Array.isArray,Mse=ny.toString,uA=A(Object.getPrototypeOf,Object),q_=Function.prototype.toString,Ese=q_.call(Object),hA=function(s){return function(o,i,a){var u=-1,d=Object(o);a=a(o);for(var f=a.length;f--;){var v=a[s?f:++u];if(i(d[v],v,d)===!1)break}return o}}(),Q9=ny.propertyIsEnumerable,_m=z(function(){return arguments}())?z:function(s){return E(s)&&ks.call(s,"callee")&&!Q9.call(s,"callee")},J9=typeof t=="object"&&t&&!t.nodeType&&t,eF=J9&&typeof mv=="object"&&mv&&!mv.nodeType&&mv,tF=eF&&eF.exports===J9,K_=tF?Gc.Buffer:void 0,wm=(K_?K_.isBuffer:void 0)||H,nF=K_?K_.allocUnsafe:void 0,Lse=/^(?:0|[1-9]\d*)$/,bi={};bi["[object Float32Array]"]=bi["[object Float64Array]"]=bi["[object Int8Array]"]=bi["[object Int16Array]"]=bi["[object Int32Array]"]=bi["[object Uint8Array]"]=bi["[object Uint8ClampedArray]"]=bi["[object Uint16Array]"]=bi["[object Uint32Array]"]=!0,bi["[object Arguments]"]=bi["[object Array]"]=bi["[object ArrayBuffer]"]=bi["[object Boolean]"]=bi["[object DataView]"]=bi["[object Date]"]=bi["[object Error]"]=bi["[object Function]"]=bi["[object Map]"]=bi["[object Number]"]=bi["[object Object]"]=bi["[object RegExp]"]=bi["[object Set]"]=bi["[object String]"]=bi["[object WeakMap]"]=!1;var dA=tF&&Z9.process;e:{try{var pA=dA&&dA.binding&&dA.binding("util");break e}catch{}pA=void 0}var iF=pA&&pA.isTypedArray,Z_=iF?Z(iF):Q,Ise=A(Object.keys,Object),Q_=function(s,o){return function(i,a){if(i==null)return i;if(!De(i))return s(i,a);for(var u=i.length,d=o?u:-1,f=Object(i);(o?d--:++d<u)&&a(f[d],d,f)!==!1;);return i}}(function(s,o){return s&&hA(s,o,Ce)}),J_=Array.prototype,Ose=J_.splice;Ne.prototype.clear=function(){this.__data__=[],this.size=0},Ne.prototype.delete=function(s){var o=this.__data__;return s=Ie(o,s),0>s?!1:(s==o.length-1?o.pop():Ose.call(o,s,1),--this.size,!0)},Ne.prototype.get=function(s){var o=this.__data__;return s=Ie(o,s),0>s?void 0:o[s][1]},Ne.prototype.has=function(s){return-1<Ie(this.__data__,s)},Ne.prototype.set=function(s,o){var i=this.__data__,a=Ie(i,s);return 0>a?(++this.size,i.push([s,o])):i[a][1]=o,this};var fA=Gc["__core-js_shared__"],rF=function(){var s=/[^.]+$/.exec(fA&&fA.keys&&fA.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Rse=/^\[object .+?Constructor\]$/,Pse=RegExp("^"+q_.call(ks).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),iy=Qe(Gc,"Map"),ry=Qe(Object,"create");Wt.prototype.clear=function(){this.__data__=ry?ry(null):{},this.size=0},Wt.prototype.delete=function(s){return s=this.has(s)&&delete this.__data__[s],this.size-=s?1:0,s},Wt.prototype.get=function(s){var o=this.__data__;return ry?(s=o[s],s==="__lodash_hash_undefined__"?void 0:s):ks.call(o,s)?o[s]:void 0},Wt.prototype.has=function(s){var o=this.__data__;return ry?o[s]!==void 0:ks.call(o,s)},Wt.prototype.set=function(s,o){var i=this.__data__;return this.size+=this.has(s)?0:1,i[s]=ry&&o===void 0?"__lodash_hash_undefined__":o,this},rn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wt,map:new(iy||Ne),string:new Wt}},rn.prototype.delete=function(s){return s=Ut(this,s).delete(s),this.size-=s?1:0,s},rn.prototype.get=function(s){return Ut(this,s).get(s)},rn.prototype.has=function(s){return Ut(this,s).has(s)},rn.prototype.set=function(s,o){var i=Ut(this,s),a=i.size;return i.set(s,o),this.size+=i.size==a?0:1,this},we.prototype.clear=function(){this.__data__=new Ne,this.size=0},we.prototype.delete=function(s){var o=this.__data__;return s=o.delete(s),this.size=o.size,s},we.prototype.get=function(s){return this.__data__.get(s)},we.prototype.has=function(s){return this.__data__.has(s)},we.prototype.set=function(s,o){var i=this.__data__;if(i instanceof Ne){var a=i.__data__;if(!iy||199>a.length)return a.push([s,o]),this.size=++i.size,this;i=this.__data__=new rn(a)}return i.set(s,o),this.size=i.size,this},lt.prototype.add=lt.prototype.push=function(s){return this.__data__.set(s,"__lodash_hash_undefined__"),this},lt.prototype.has=function(s){return this.__data__.has(s)};var ew=Gc.Uint8Array,tw=X_?X_.prototype:void 0,sy=tw?tw.valueOf:void 0,mA=Object.getOwnPropertySymbols,gA=mA?function(s){return s==null?[]:(s=Object(s),R(mA(s),function(o){return Q9.call(s,o)}))}:Ai,vA=Qe(Gc,"DataView"),yA=Qe(Gc,"Promise"),Cm=Qe(Gc,"Set"),xA=Qe(Gc,"WeakMap"),Fse=Xe(vA),Nse=Xe(iy),Bse=Xe(yA),Vse=Xe(Cm),zse=Xe(xA),Tl=S;(vA&&Tl(new vA(new ArrayBuffer(1)))!="[object DataView]"||iy&&Tl(new iy)!="[object Map]"||yA&&Tl(yA.resolve())!="[object Promise]"||Cm&&Tl(new Cm)!="[object Set]"||xA&&Tl(new xA)!="[object WeakMap]")&&(Tl=function(s){var o=S(s);if(s=(s=o=="[object Object]"?s.constructor:void 0)?Xe(s):"")switch(s){case Fse:return"[object DataView]";case Nse:return"[object Map]";case Bse:return"[object Promise]";case Vse:return"[object Set]";case zse:return"[object WeakMap]"}return o});var Hse=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jse=/^\w*$/,bA=function(s,o){if(typeof s!="function"||o!=null&&typeof o!="function")throw new TypeError("Expected a function");var i=function(){var a=arguments,u=o?o.apply(this,a):a[0],d=i.cache;return d.has(u)?d.get(u):(a=s.apply(this,a),i.cache=d.set(u,a)||d,a)};return i.cache=new(bA.Cache||rn),i};bA.Cache=rn;var Gse=/^\./,Wse=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Use=/\\(\\)?/g,$se=function(s){s=bA(s,function(i){return o.size===500&&o.clear(),i});var o=s.cache;return s}(function(s){var o=[];return Gse.test(s)&&o.push(""),s.replace(Wse,function(i,a,u,d){o.push(u?d.replace(Use,"$1"):a||i)}),o}),oy=1/0,sF=tw?tw.toString:void 0,_A=NaN,oF=/^\s+|\s+$/g,Yse=/^[-+]0x[0-9a-f]+$/i,Xse=/^0b[01]+$/i,qse=/^0o[0-7]+$/i,Kse=parseInt,nw=Math.max,Zse=function(s){return function(o,i,a){var u=Object(o);if(!De(o)){var d=bd(i);o=Ce(o),i=function(f){return d(u[f],f,u)}}return i=s(o,i,a),-1<i?u[d?o[i]:i]:void 0}}(eR),iw=function(){try{var s=Qe(Object,"defineProperty");return s({},"",{}),s}catch{}}(),Qse=Date.now,aF=function(s){var o=0,i=0;return function(){var a=Qse(),u=16-(a-i);if(i=a,0<u){if(800<=++o)return arguments[0]}else o=0;return s.apply(void 0,arguments)}}(iw?function(s,o){return iw(s,"toString",{configurable:!0,enumerable:!1,value:dte(o),writable:!0})}:xd),Jse=lT(function(s,o,i,a){_d(o,Cd(o),s,a)}),eoe=wd(function(s){return s.push(void 0,pte),oT(Jse,void 0,s)}),lF=Object.create,toe=function(){function s(){}return function(o){return ue(o)?lF?lF(o):(s.prototype=o,o=new s,s.prototype=void 0,o):{}}}(),wA=lT(function(s,o,i,a){Yb(s,o,i,a)}),Wc=wd(function(s){return s.push(void 0,lR),oT(wA,void 0,s)}),cF=mA?function(s){for(var o=[];s;)At(o,gA(s)),s=uA(s);return o}:Ai,noe=/\w*$/,oi={};oi["[object Arguments]"]=oi["[object Array]"]=oi["[object ArrayBuffer]"]=oi["[object DataView]"]=oi["[object Boolean]"]=oi["[object Date]"]=oi["[object Float32Array]"]=oi["[object Float64Array]"]=oi["[object Int8Array]"]=oi["[object Int16Array]"]=oi["[object Int32Array]"]=oi["[object Map]"]=oi["[object Number]"]=oi["[object Object]"]=oi["[object RegExp]"]=oi["[object Set]"]=oi["[object String]"]=oi["[object Symbol]"]=oi["[object Uint8Array]"]=oi["[object Uint8ClampedArray]"]=oi["[object Uint16Array]"]=oi["[object Uint32Array]"]=!0,oi["[object Error]"]=oi["[object Function]"]=oi["[object WeakMap]"]=!1;var ioe=lT(function(s,o,i){Yb(s,o,i)}),roe=Cm&&1/me(new Cm([,-0]))[1]==oy?function(s){return new Cm(s)}:kte,soe=wd(function(s){if(!s||!s.length)return[];var o=0;return s=R(s,function(i){if(vv(i))return o=nw(i.length,o),!0}),V(o,function(i){return zs(s,Q6(i))})}),uF=X_?X_.isConcatSpreadable:void 0,ooe=wd(function(s,o){if(s==null)return[];var i=o.length;return 1<i&&$b(s,o[0],o[1])?o=[]:2<i&&$b(o[0],o[1],o[2])&&(o=[o[0]]),Tte(s,qb(o,1),[])}),aoe=J_.splice,loe=J_.join,coe=J_.reverse,uoe=wd(function(s,o){if(vv(s)){o=qb(o,1,vv,!0);var i=-1,a=Xb,u=!0,d=s.length,f=[],v=o.length;if(d)e:for(200<=o.length&&(a=be,u=!1,o=new lt(o));++i<d;){var x=s[i],b=x;if(x=x!==0?x:0,u&&b===b){for(var w=v;w--;)if(o[w]===b)continue e;f.push(x)}else a(o,b,void 0)||f.push(x)}s=f}else s=[];return s}),hF=Math.min,hoe=wd(function(s){var o=zs(s,Ate);if(o.length&&o[0]===s[0]){s=o[0].length;for(var i=o.length,a=i,u=Array(i),d=1/0,f=[];a--;){var v=o[a];d=hF(v.length,d),u[a]=120<=s&&120<=v.length?new lt(a&&v):void 0}v=o[0];var x=-1,b=u[0];e:for(;++x<s&&f.length<d;){var w=v[x],k=w;if(w=w!==0?w:0,b?!b.has(k):!Xb(f,k,void 0)){for(a=i;--a;){var D=u[a];if(D?!D.has(k):!Xb(o[a],k,void 0))continue e}b&&b.push(k),f.push(w)}}o=f}else o=[];return o}),doe=function(s){return aF(nR(s,void 0,Ete),s+"")}(function(s,o){var i={};if(s==null)return i;var a=!1;o=zs(o,function(d){return d=Wb(d,s),a||(a=1<d.length),d}),_d(s,uR(s),i),a&&(i=yv(i,7,Mte));for(var u=o.length;u--;)dR(i,o[u]);return i}),Xt=function(s,o){return(yr(s)?R:Pe)(s,bd(o))},We=Zse,sh=eR,Al=eoe,bn=function(s){return yv(s,4)},Ml=function(s){return yv(s,5)},se=ioe,K=function(s,o){return(yr(s)?cR:Q_)(s,hT(o))},fe=function(s,o){return(yr(s)?zs:hR)(s,bd(o))},CA=function(s,o,i){var a=yr(s)?uT:wte,u=3>arguments.length;return a(s,bd(o),i,u,Q_)},ai=function(s){if(s&&s.length)e:{var o=-1,i=Xb,a=s.length,u=!0,d=[];if(200<=a){if(i=roe(s)){s=me(i);break e}u=!1,i=be;var f=new lt}else f=d;t:for(;++o<a;){var v=s[o],x=v;if(v=v!==0?v:0,u&&x===x){for(var b=f.length;b--;)if(f[b]===x)continue t;d.push(v)}else i(f,x,void 0)||(f!==d&&f.push(x),d.push(v))}s=d}else s=[];return s},Uc=function(s){if(s&&s.length){for(var o=-1,i=s.length,a=0,u=[];++o<i;){var d=s[o],f=d;if(!o||!Ve(f,v)){var v=f;u[a++]=d===0?0:d}}s=u}else s=[];return s},rw=L,dF=function(s,o){return s==null?s:hA(s,hT(o),Cd)},pF=soe,Rn=ooe,km=function(s,o){var i=[];if(!s||!s.length)return i;var a=-1,u=[],d=s.length;for(o=bd(o);++a<d;){var f=s[a];o(f,a,s)&&(i.push(f),u.push(a))}for(o=s?u.length:0,a=o-1;o--;)if(d=u[o],o==a||d!==v){var v=d;U(d)?aoe.call(s,d,1):dR(s,d)}return i},Qo=hoe,Pa=function(s,o){return s==null?"":loe.call(s,o)},ay=function(s,o,i){var a=s==null?0:s.length;return a?(i&&typeof i!="number"&&$b(s,o,i)?(o=0,i=a):(o=o==null?0:Xf(o),i=i===void 0?a:Xf(i)),pT(s,o,i)):[]},fF=function(s){return s==null?s:coe.call(s)},$d=uoe,rs=function(s,o){if(s=Xf(s),1>s||9007199254740991<s)return[];var i=4294967295,a=hF(s,4294967295);for(o=hT(o),s-=4294967295,a=V(a,o);++i<s;)o(i);return a},_i=doe,Zt=yr,ss=function(s){return typeof s=="number"||E(s)&&S(s)=="[object Number]"},Ds=function(s){if(s==null)return!0;if(De(s)&&(yr(s)||typeof s=="string"||typeof s.splice=="function"||wm(s)||Z_(s)||_m(s)))return!s.length;var o=Tl(s);if(o=="[object Map]"||o=="[object Set]")return!s.size;if(ne(s))return!de(s).length;for(var i in s)if(ks.call(s,i))return!1;return!0},ly=function(s,o,i){return s=L(s),i=i==null?0:fT(Xf(i),0,s.length),o=qu(o),s.slice(i,i+o.length)==o},mF=function(){var s=arguments,o=L(s[0]);return 3>s.length?o:o.replace(s[1],s[2])},oh=function(s,o,i){if((s=L(s))&&(i||o===void 0))return s.replace(oF,"");if(!s||!(o=qu(o)))return s;s=s.split(""),o=o.split(""),i=-1;for(var a=s.length;++i<a&&-1<dT(o,s[i],0););for(a=s.length;a--&&-1<dT(o,s[a],0););return o=a+1,a=s.length,o=o===void 0?a:o,(!i&&o>=a?s:pT(s,i,o)).join("")},cy=function(s,o,i){s=L(s),o=qu(o);var a=s.length;return a=i=i===void 0?a:fT(Xf(i),0,a),i-=o.length,0<=i&&s.slice(i,a)==o},Pn=function(s){if(s&&s.length){for(var o=-1,i=s.length;++o<i;){var a=s[o],u=a;if(u!=null&&(d===void 0?u===u&&!Ma(u):u>d))var d=u,f=a}s=f}else s=void 0;return s},rr=function(s){return s&&s.length?pR(s,xd):0},gF=function(s){var o=s==null?0:s.length;return o?pR(s,xd)/o:_A},Mn=function(s,o,i){return i===void 0&&(i=o,o=void 0),i!==void 0&&(i=Ub(i),i=i===i?i:0),o!==void 0&&(o=Ub(o),o=o===o?o:0),fT(Ub(s),o,i)},vF=function(s,o){return s.id||o},ei=Number.isNaN||Lte,poe=/function ([^\(]+)/,foe=Array.prototype.concat,ah=Object.prototype.hasOwnProperty,Dm=function(s){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return K(o,function(a){return h(a)&&s.push(a)})},kA={},sw=function(s,o){var i=!1,a,u,d=function(){i?(a=arguments,u=this):(s.apply(this,arguments),i=!0,d.timeoutId=setTimeout(function(){i=!1,a&&(d.apply(u,a),a=u=null)},o))};return d.cancel=function(){clearTimeout(d.timeoutId),i=!1},d},_o=function(s,o,i,a){return i=i||function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return JSON.stringify(u)},s=s||yR(o),moe(s,o,i,a)},moe=function(s,o,i,a){return function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];if(0<u.length){kA.hasOwnProperty(s)||Object.defineProperty(kA,s,{configurable:!1,enumerable:!1,writable:!1,value:{}}),d=kA[s];var f=i.apply(this,u);if(a&&(f+=i.apply(this,a(this))),d.hasOwnProperty(f))var v=d[f];else v=o.apply(this,u),d[f]=v}return v}},yF=function(){try{return window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),!0}catch{return!1}},xF=function(s,o,i){return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];if(0<a.length){if(u=yR(s)+o.apply(this,a),!i)var d=(d=window.localStorage.getItem(u))&&JSON.parse(d);(!d||i)&&(d=s.apply(this,a),window.localStorage.setItem(u,JSON.stringify(d)))}return d}},goe=/[-]{0,1}[\d]*[\.]{0,1}[\d]+/g,Ir=function(s,o){return h(s)?s.pop?s.map(function(i){return Ir(i,o)}):o(s):s},voe=/([a-zA-Z]+)_/g,yoe=Object.freeze({__proto__:null,def:h,has:p,removeArrItem:m,evalPath:g,epa:y,getValType:C,isNull:_,mergeCollections:$o,isNaN:ei,noop:gl,noopRet:ho,contains:kd,caseInsensitiveProperty:Kb,eachKey:xi,extend:ke,extendCopy:ht,copy:Ii,extendScoped:Vi,extendScopedNegate:Ac,extendCopyScopedNegate:Dd,extendCopyScoped:qf,exclude:po,plainArray:un,concatArrays:Mc,plainCommaSplitedString:mT,arraySum:gT,plainToArray:function(s){var o=[],i;for(i in s)o.push(s[i]);return o},last:it,copyIfChanged:function(s,o){var i={},a=!1,u;for(u in o)a||ah.call(s,u)&&s[u]===o[u]||(a=!0),i[u]=o[u];return a?i:null},changesWithExtend:vT,pick:le,numPick:_s,attr:function(s,o,i){var a,u;if(Be(o))h(i)?s.setAttribute(o,i):s&&s.getAttribute&&(u=s.getAttribute(o));else if(h(o)&&Xi(o))for(a in o)s.setAttribute(a,o[a]);return u},isString:Be,isObject:Xi,isUndefined:nt,isUndefinedOrNull:Qn,keys:$n,keysFlatten:mR,detect:vl,detectKey:gR,pickPaths:function(s,o){var i,a;return K(o,function(u){if(a=g(s,u))return i=a,!1}),i},pluckPaths:yT,setPathVal:St,setPathValArr:Kf,applySetting:yl,applySettingArr:vR,findInArrSimple:Zb,compareArrays:Zf,pushDef:Dm,throttle:sw,Memoize:_o,localStorageAvailable:yF,evalString:xT,fromLocalStorage:xF,kebabCase:xR,split:Qf,eachCommaSplited:fo,parseNumber:function(s){return Number(s)},parseMargin:xl,extractNumbers:bT,mapRange:bR,mapDeep:Ir,expandOptionsProperties:nr,sign:Sd,isPlainObject:P,filter:Xt,find:We,findIndex:sh,defaults:Al,defaultsDeep:Wc,clone:bn,cloneDeep:Ml,merge:se,mergeWith:wA,each:K,map:fe,reduce:CA,uniq:ai,sortedUniq:Uc,toString:rw,forIn:dF,zip:pF,sortBy:Rn,remove:km,intersection:Qo,join:Pa,slice:ay,reverse:fF,difference:$d,times:rs,omit:_i,isArray:Zt,isEqual:function(s,o){return sn(s,o)},isFunction:ge,isNumber:ss,isEmpty:Ds,startsWith:ly,replace:mF,trim:oh,endsWith:cy,max:Pn,sum:rr,mean:gF,clamp:Mn}),Jo=Math,xoe=Number.MAX_VALUE,DA=Math.floor,bF=function(s,o,i){return i===void 0&&(i=0),kT(vn(s,i),vn(o,i))},uy=function(s){s=""+Math.abs(s);for(var o=s.length-1,i=o,a=s[i];a&&a!==".";)a=s[--i];return i===-1?0:o-i},SA=1/Math.pow(10,6),boe=function(s,o){var i,a=[];try{for(var u=r(s),d=u.next();!d.done;d=u.next()){var f=d.value;a.push([yn(f,o),f])}}catch(x){var v={error:x}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(v)throw v.error}}return a=Rn(a,function(x){return x[0]}),s.length&&a[0][1]},_F=/^-?\d+\.?\d*$/,wF="\xA0",_oe=wF+"\u2013"+wF,Sm=function(s){return s&&s.toLowerCase?s.toLowerCase():s},Ss=function(s,o){return s&&-1<s.indexOf(o)},CF=function(s){return h(s)&&typeof s.pop=="function"&&s.length===2?s.join(_oe):s.pop?s.join(", "):s},kF=function(s,o,i){return i===void 0&&(i="\u2026"),s.length>o?s.substr(0,o)+i:s},TA=Math.pow,DF=function(s,o){return s-Math.floor(s/o)*o},Yd=function(s,o){return o>s[0]&&o<s[1]},wo=function(s,o){return o>=s[0]&&o<=s[1]},SF=function(s,o){return wo(s,o[0])&&wo(s,o[1])},Tm=function(s,o){return o.length?[s[0]+o[0],s[1]-o[1]]:[s[0]+o,s[1]-o]},Am=function(s){return s[1]<s[0]?[s[1],s[0]]:s},li=function(s){return s[1]+s[3]},ci=function(s){return s[0]+s[2]},El=function(s){return s[1]},Ll=function(s){return s[0]},$c=function(s){return s[0]+s[2]/2},Yc=function(s){return s[1]+s[3]/2},ea={b:li,t:El,c:$c,l:Ll,r:ci,m:Yc,intop:[El,El,"top"],outtop:[li,El,"bottom"],inbottom:[li,li,"bottom"],outbottom:[El,li,"top"],inmiddle:[Yc,Yc,"middle"],outmiddle:[Yc,Yc,"middle"],inleft:[Ll,Ll,"left"],outleft:[ci,Ll,"right"],inright:[ci,ci,"right"],outright:[Ll,ci,"left"],incenter:[$c,$c,"center"],outcenter:[$c,$c,"center"],default:function(s,o){return s=s.toLowerCase(),s.length==4?[ea[s[1]],ea[s[3]],ea[s[0]],ea[s[2]]]:ea[s]||ea[o]},x:function(s){return ea.default(s,"incenter")},y:function(s){return ea.default(s,"inmiddle")}},Xd={left:Ll,right:ci,center:$c,top:El,middle:Yc,bottom:li,default:function(s,o){return Xd[s.toLowerCase()]||o},x:function(s){return Xd.default(s,$c)},y:function(s){return Xd.default(s,Yc)}},woe=function(s){var o=s[0],i=s[1],a=ci(s),u=li(s),d=$c(s),f=Yc(s);return function(v){return{tl:[o,i],tr:[a,i],tm:[d,i],bl:[o,u],br:[a,u],bm:[d,u],lm:[o,f],rm:[a,f]}[v.toLowerCase()]}},qd=function(s,o){return s=woe(s),o=o.split(","),fe(o,s)},TF=ci,AF=li,MF=function(s){return"M"+s[0]+" "+s[1]+" h"+s[2]+" v"+s[3]+" h"+-s[2]+" Z"},ta=function(s){return[s[0],s[1],ci(s),li(s)]},Mm=function(s){return[s[0],s[1],s[2]-s[0],s[3]-s[1]]},EF=function(s){return[[s[0],ci(s)],[s[1],li(s)]]},LF=function(s,o){return o===void 0&&(o=4),qd(s,"tl,tr,br,bl"+(o===5?",tl":""))},Il=function(s,o){return lh(s.slice(0),o)},lh=function(s,o){return s[0]+=o[0],s[1]+=o[1],s},ow=function(){return typeof window<"u"?window:{}},ct=ow(),Qt=typeof document<"u"?document:{},Coe="performance"in ow()&&"now"in performance?performance:{offset:Date.now(),now:function(){return Date.now()-this.offset}},AA=ct.navigator?ct.navigator.userAgent.toLowerCase():void 0,MA=null,EA=null,LA=[{name:"winphone",value:"Windows Phone"},{name:"win",value:"Win"},{name:"iphone",value:"iPhone"},{name:"ipad",value:"iPad"},{name:"kindle",value:"Silk"},{name:"android",value:"Android"},{name:"blackberry",value:"BlackBerry"},{name:"macintosh",value:"Mac"},{name:"linux",value:"Linux"}],aw=function(){var s;for(s=0;s<LA.length;s+=1)if(new RegExp(LA[s].value,"i").test(AA))return LA[s].name;return"unknown"}(),koe=aw==="ipad"||aw==="iphone",Doe=function(){var s,o=["ms","moz","webkit","o"],i=0;try{for(var a=r(o),u=a.next();!u.done;u=a.next()){var d=u.value;ct.requestAnimationFrame=ct[d+"RequestAnimationFrame"],ct.cancelAnimationFrame=ct[d+"CancelAnimationFrame"]||ct[d+"CancelRequestAnimationFrame"]}}catch(v){var f={error:v}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(f)throw f.error}}ct.requestAnimationFrame||(ct.requestAnimationFrame=function(v){var x=Coe.now(),b=Math.max(0,16-(x-i));return i=x+b,ct.setTimeout(function(){return v(i)},b)}),ct.cancelAnimationFrame||(ct.cancelAnimationFrame=function(v){return clearTimeout(v)})};ct.requestAnimationFrame||Doe();var lw=ow(),Oi;(function(s){s[s.None=0]="None",s[s.Currency=1]="Currency",s[s.Number=2]="Number",s[s.Decimal=3]="Decimal",s[s.Exponential=4]="Exponential",s[s.Float=5]="Float",s[s.General=6]="General",s[s.Hexadecimal=7]="Hexadecimal",s[s.Percent=8]="Percent",s[s.NumericSymbol=9]="NumericSymbol",s[s.PowersOfTen=10]="PowersOfTen"})(Oi||(Oi={}));var IF=["k","M","B","T","Q"],Soe=/^[A-z]+/,Toe=/[0-9]+/,Aoe=/(d{1,4}|f{1,7}|F{1,7}|gg?|K|hh?|HH?|mm?|M{1,4}|ss?|tt?|y{1,4}|z{1,3}|S)/gm,Moe=/^([a-zA-Z]*)([_\-a-zA-Z]*)$/,OF=function(s){return Be(s)?s:s.formatString+s.currency},RF=function(s){return Be(s)?s:s.formatString+s.timeZone+s.month+s.day+s.year+s.hour+s.minute+s.second+s.weekday},Eoe=function(s,o){return(s||"").toString()+(o?OF(o):"")},Loe=function(s,o){return(s||"")+(o?OF(o):"")},Ioe=function(s,o){return(s||"").toString()+(o?RF(o):"")},Ooe=function(s,o){return(s||"")+(o?RF(o):"")},IA={year:"numeric",month:"numeric",day:"numeric"},cw={weekday:"long",year:"numeric",month:"long",day:"numeric"},OA={hour:"2-digit",minute:"2-digit"},uw={hour:"2-digit",minute:"2-digit",second:"2-digit"},PF={month:"long",day:"numeric"},FF={month:"long",year:"numeric"},na=function(s,o){for(o===void 0&&(o=2),s=s.toString();s.length<o;)s="0"+s;return s},hw=function(s,o){for(o===void 0&&(o=2),s=s.toString();s.length<o;)s+="0";return s},ia={d:function(s){return s.getDate().toString()},dd:function(s){return na(s.getDate(),2)},ddd:function(s,o){return o.format(s)},dddd:function(s,o){return o.format(s)},f:function(s){return Math.round(s.getMilliseconds()/100).toString()},ff:function(s){return Math.round(s.getMilliseconds()/10).toString()},fff:function(s){return s.getMilliseconds().toString()},ffff:function(s){return hw(ia.fff(s),4)},fffff:function(s){return hw(ia.fff(s),5)},ffffff:function(s){return hw(ia.fff(s),6)},fffffff:function(s){return hw(ia.fff(s),7)},F:function(s){return(s=s.getMilliseconds())?Math.round(s/100).toString():""},FF:function(s){return(s=s.getMilliseconds())?Math.round(s/10).toString():""},FFF:function(s){return(s=s.getMilliseconds())?Math.round(s).toString():""},FFFF:function(s){return ia.FFF(s)},FFFFF:function(s){return ia.FFF(s)},FFFFFF:function(s){return ia.FFF(s)},FFFFFFF:function(s){return ia.FFF(s)},g:function(s,o){return o.format(s)},gg:function(s,o){return o.format(s)},h:function(s,o){return o.format(s).replace(/\D/g,"")},hh:function(s,o){return na(o.format(s).replace(/\D/g,""),2)},H:function(s){return s.getHours().toString()},HH:function(s){return na(s.getHours(),2)},K:function(s){return s.getTimezoneOffset()?ia.zzz(s):"Z"},m:function(s){return s.getMinutes().toString()},mm:function(s){return na(s.getMinutes(),2)},M:function(s){return(s.getMonth()+1).toString()},MM:function(s){return na(s.getMonth()+1,2)},MMM:function(s,o){return o.format(s)},MMMM:function(s,o){return o.format(s)},s:function(s){return s.getSeconds().toString()},ss:function(s){return na(s.getSeconds(),2)},t:function(s,o){return ia.tt(s,o).substring(0,1)},tt:function(s,o){return o.format(s).replace(/\d/g,"").trim()},y:function(s){return s=s.getFullYear().toString(),parseInt(s.substring(s.length-2)).toString()},yy:function(s){return s=s.getFullYear().toString(),s.substring(s.length-2).toString()},yyy:function(s){return s=s.getFullYear(),na(s,3)},yyyy:function(s){return s=s.getFullYear(),na(s,4)},yyyyy:function(s){return s=s.getFullYear(),na(s,5)},z:function(s){return s=NF(s),(0<s?"+":"-")+Math.abs(s)},zz:function(s){return s=NF(s),(0<s?"+":"-")+na(Math.abs(s),2)},zzz:function(s){return ia.zz(s)+":"+na(s.getMinutes()-s.getUTCMinutes(),2)}},NF=function(s){return s=s.getHours()-s.getUTCHours(),12<Math.abs(s)&&(s-=24*Sd(s)),s},Roe={D:{options:cw},d:{options:IA},F:{options:ht(cw,uw)},f:{options:ht(cw,OA)},T:{options:uw},t:{options:OA},g:{options:ht(IA,OA)},G:{options:ht(IA,uw)},m:{options:PF},M:{options:PF},y:{options:FF},Y:{options:FF},u:{formatString:"yyyy-MM-dd HH:mm:ssZ"},U:{options:ht({timeZone:"UTC"},ht(cw,uw))},s:{formatString:"yyyy-MM-ddTHH:mm:ss"},r:{handler:function(s){return s.toUTCString()}},R:{handler:function(s){return s.toUTCString()}}},hy=function(){function s(o,i){var a=this;i===void 0&&(i={}),this.locale=o,this.options=i,this.dateTimeFormatters={},this.setLocale=function(u){a.locale!==u&&(a.locale=u)},this.formatDate=function(u,d){return a._formatDate(u,d,a)},this.formatNumber=function(u,d){return a._formatNumber(u,d,a)},this._getDateTimeFormat=_o("getDateTimeFormat",ene,Ooe),this._getNumberFormat=_o("getNumberFormat",tne,Loe),this._getCollator=_o("getCollator",nne),this._formatDate=_o("formatDate",rne,Ioe,function(u){return[u.locale,u.options]}),this._formatNumber=_o("formatNumber",ine,Eoe,function(u){return[u.locale,u.options]}),this.formatString=this.options.formatString}return s.prototype.compare=function(o,i){var a=this._getCollator(this.locale,this.options);return a?a.compare(o,i):o===i},s}(),Poe=/_|-/g,Foe=function(s){var o=s.split(Poe);return s=1<o.length?o.pop():s,s=s.toUpperCase(),s in BF?BF[s]:"USD"},BF={AD:"EUR",AE:"AED",AF:"AFN",AG:"XCD",AI:"XCD",AL:"ALL",AM:"AMD",AN:"ANG",AO:"AOA",AR:"ARS",AS:"USD",AT:"EUR",AU:"AUD",AW:"AWG",AX:"EUR",AZ:"AZN",BA:"BAM",BB:"BBD",BD:"BDT",BE:"EUR",BF:"XOF",BG:"BGN",BH:"BHD",BI:"BIF",BJ:"XOF",BL:"EUR",BM:"BMD",BN:"BND",BO:"BOB",BQ:"USD",BR:"BRL",BS:"BSD",BT:"BTN",BV:"NOK",BW:"BWP",BY:"BYR",BZ:"BZD",CA:"CAD",CC:"AUD",CD:"CDF",CF:"XAF",CG:"XAF",CH:"CHF",CI:"XOF",CK:"NZD",CL:"CLP",CM:"XAF",CN:"CNY",CO:"COP",CR:"CRC",CU:"CUP",CV:"CVE",CW:"ANG",CX:"AUD",CY:"EUR",CZ:"CZK",DE:"EUR",DJ:"DJF",DK:"DKK",DM:"XCD",DO:"DOP",DZ:"DZD",EC:"USD",EE:"EUR",EG:"EGP",EH:"MAD",ER:"ERN",ES:"EUR",ET:"ETB",FI:"EUR",FJ:"FJD",FK:"FKP",FM:"USD",FO:"DKK",FR:"EUR",GA:"XAF",GB:"GBP",GD:"XCD",GE:"GEL",GF:"EUR",GG:"GBP",GH:"GHS",GI:"GIP",GL:"DKK",GM:"GMD",GN:"GNF",GP:"EUR",GQ:"XAF",GR:"EUR",GS:"GBP",GT:"GTQ",GU:"USD",GW:"XOF",GY:"GYD",HK:"HKD",HM:"AUD",HN:"HNL",HR:"HRK",HT:"HTG",HU:"HUF",ID:"IDR",IE:"EUR",IL:"ILS",IM:"GBP",IN:"INR",IO:"USD",IQ:"IQD",IR:"IRR",IS:"ISK",IT:"EUR",JE:"GBP",JM:"JMD",JO:"JOD",JP:"JPY",KE:"KES",KG:"KGS",KH:"KHR",KI:"AUD",KM:"KMF",KN:"XCD",KP:"KPW",KR:"KRW",KW:"KWD",KY:"KYD",KZ:"KZT",LA:"LAK",LB:"LBP",LC:"XCD",LI:"CHF",LK:"LKR",LR:"LRD",LS:"LSL",LT:"LTL",LU:"EUR",LV:"LVL",LY:"LYD",MA:"MAD",MC:"EUR",MD:"MDL",ME:"EUR",MF:"EUR",MG:"MGA",MH:"USD",MK:"MKD",ML:"XOF",MM:"MMK",MN:"MNT",MO:"MOP",MP:"USD",MQ:"EUR",MR:"MRO",MS:"XCD",MT:"EUR",MU:"MUR",MV:"MVR",MW:"MWK",MX:"MXN",MY:"MYR",MZ:"MZN",NA:"NAD",NC:"XPF",NE:"XOF",NF:"AUD",NG:"NGN",NI:"NIO",NL:"EUR",NO:"NOK",NP:"NPR",NR:"AUD",NU:"NZD",NZ:"NZD",OM:"OMR",PA:"PAB",PE:"PEN",PF:"XPF",PG:"PGK",PH:"PHP",PK:"PKR",PL:"PLN",PM:"EUR",PN:"NZD",PR:"USD",PS:"ILS",PT:"EUR",PW:"USD",PY:"PYG",QA:"QAR",RE:"EUR",RO:"RON",RS:"RSD",RU:"RUB",RW:"RWF",SA:"SAR",SB:"SBD",SC:"SCR",SD:"SDG",SE:"SEK",SG:"SGD",SH:"SHP",SI:"EUR",SJ:"NOK",SK:"EUR",SL:"SLL",SM:"EUR",SN:"XOF",SO:"SOS",SR:"SRD",ST:"STD",SV:"SVC",SX:"ANG",SY:"SYP",SZ:"SZL",TC:"USD",TD:"XAF",TF:"EUR",TG:"XOF",TH:"THB",TJ:"TJS",TK:"NZD",TL:"USD",TM:"TMT",TN:"TND",TO:"TOP",TR:"TRY",TT:"TTD",TV:"AUD",TW:"TWD",TZ:"TZS",UA:"UAH",UG:"UGX",UM:"USD",US:"USD",UY:"UYU",UZ:"UZS",VA:"EUR",VC:"XCD",VE:"VEF",VG:"USD",VI:"USD",VN:"VND",VU:"VUV",WF:"XPF",WS:"WST",YE:"YER",YT:"EUR",ZA:"ZAR",ZM:"ZMK",ZW:"ZWL"},VF=function(s){var o=1e4<=s;return s=o?Math.ceil(Math.log(s)/Math.log(1e3))-1:0,s=Math.min(5,s),o?[s,IF[s-1]||""]:[0,""]},Noe=function(s,o){var i="";if(o&&s){var a=s/Math.pow(1e3,o);i=IF[o-1]}else 1e4<=Math.abs(s)&&(a=l(VF(s),2),o=a[1],a=s/Math.pow(1e3,a[0]),i=o);return(a||s)+i},dy=function(s,o,i){i===void 0&&(i="en-US");var a=C(s),u=typeof o=="object";return i=new hy(i,u?o:{}),a==="date"?i.formatDate(s,u?{}:o):i.formatNumber(s,u?{}:o)},zF=function(s){var o;if((o=s)&&(o=Moe.exec(s),o=s&&o?(s=o[1])&&s.toLowerCase():void 0),s=o)return!!~Boe.indexOf(s)},Boe="ae ar arc bcc bqi ckb dv fa glk he ku mzn nqo pnb ps sd ug ur yi".split(" "),En={missed:{},events:{},on:function(s,o,i){var a=this;(this.events[s]||(this.events[s]=[])).push({fn:o,ctx:i}),this.missed[s]&&this.missed[s].forEach(function(u){return a.emit.apply(a,c([u.name],u.rest))})},emit:function(s){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];i=(this.events[s]||[]).slice(),i.length?i.forEach(function(a){return a.fn.apply(a.ctx,o)}):((this.missed[s]||(this.missed[s]=[])).push({name:s,rest:o}),s==="error"&&ct.console.error("JSCharting Error: Set chart option {debug:true} to view full error messages."))},un:function(s,o){var i=this.events[s],a=[];if(i&&o)for(var u=0,d=i.length;u<d;u++)i[u].fn!==o&&i[u].fn._!==o&&a.push(i[u]);a.length?this.events[s]=a:delete this.events[s]}},Kd=function(){function s(o){this.stack={};var i=typeof window<"u",a=ow();this._clearFn=(this._forAnimation=o===!0)||!i?Jte:a.clearTimeout.bind(a),this._setFn=this._forAnimation||!i?Qte:a.setTimeout.bind(a)}return s.prototype.defer=function(o,i,a){var u=this.stack[o];u?u.lastBounce=Date.now():this.stack[o]=this.timeout(o,i,a)},s.prototype.clear=function(o){var i=this.stack[o];if(i)return this._clearFn(i.timer),delete this.stack[o],!0},s.prototype.has=function(o){return!!this.stack[o]},s.prototype.run=function(o){var i=this.stack[o];if(i)return this._clearFn(i.timer),i.fn(),delete this.stack[o],!0},s.prototype.clearAll=function(){var o=this;xi(o.stack,function(i){o.clear(i)})},s.prototype.timeout=function(o,i,a){var u=this,d=u._setFn,f={timer:null,start:Date.now(),fn:i,lastBounce:Date.now(),delay:a};return f.timer=d(function(){var v=Date.now(),x=f.lastBounce+a;v<x?u.stack[o]=u.timeout(o,i,x-v):(i.call(),delete u.stack[o])},a),f},s}(),Voe=function(){function s(){this.items={},this._onReady={}}return s.prototype.hold=function(o){var i=Td(6);return this.holdItem(i,o),i},s.prototype.release=function(o){o&&(delete this.items[o],this.isReady()&&this.triggerFnQueue())},s.prototype.isReady=function(){return Object.keys(this.items).length===0},s.prototype.onReady=function(o,i){this._onReady[o]=i},s.prototype.unReady=function(o){delete this._onReady[o]},s.prototype.reset=function(){this.items={},this._onReady={}},s.prototype.debug=function(o){},s.prototype.holdItem=function(o,i){this.items[o]=i},s.prototype.triggerFnQueue=function(){var o=Object.keys(this._onReady),i=this._onReady;this._onReady={};for(var a=0,u=o.length;a<u;a++)i[o[a]]();this._onReady={}},s}(),zoe=function(){function s(){this.callCount=0}return s.prototype.open=function(){this.callCount++},s.prototype.close=function(){this.callCount--},s}(),Hr=function(s){function o(i,a){return a=s.call(this,i,a)||this,a.items=i,a.kindObject=o,a}return e(o,s),o.prototype.options=function(i,a){var u=this.items.length-1;return this.each(function(d,f){d.options(i,a===!1||u!==f?!1:void 0)})},o}(function(){function s(o,i){this.items=o,this.currentOptions=i,this.kindObject=s,this.__collection__=o.slice(0)}return s.prototype.find=function(o){return We(this.items,o)},s.prototype.filter=function(o){return this.wrap(Xt(this.items,o))},s.prototype.each=function(o){return K(this.items,o),this},s.prototype.sortBy=function(o){return this.wrap(Rn(this.items,o))},s.prototype.map=function(o){return fe(this.items,o)},s.prototype.reverse=function(){return this.wrap(this.items.slice(0).reverse())},s.prototype.remove=function(o){if(y(this.currentOptions,["remove"]))this.currentOptions.remove.call(this,o);else{var i=[],a=this.items.slice(0);if(a.length&&a[0].kind==="Point"){a=Rn(a,"_i"),a.reverse();var u=a.length;K(a,function(d,f){d.remove(f===u-1)}),this.items=[]}else K(this.items.slice(0),function(d){d.remove?d.remove(o):i.push(d)}),this.items=i}return this},s.prototype.wrap=function(o){return o instanceof this.kindObject?o:new this.kindObject(o,this.currentOptions)},s}()),py={},dw,pw="circle square triangle triangle-down diamond four-point-star arrow-down arrow-up five-point-star six-point-star seven-point-star".split(" "),HF="x y z mapData complete completeX complete.y complete.x name subvalue subvalueX yAxisTick xAxisTick".split(" "),jF="color marker outline opacity label fill".split(" "),Hoe=["selected","muted"],GF=["selected","muted"],jr={series:0,body:1,complete:2,error:3,marker:4,breakPath:5,labelConnector:6,label:7},WF=/<chart \\?.*?>/i,joe=(dw={},dw[1]=function(){return{fill:"#f6f6f6",boxVisible:!0,outline:{width:1}}},dw[0]=function(){return{fill:"rgba(255, 255, 255, 0.5)",boxVisible:!1,outline:{width:0},shadow:!1}},dw),Em=function(s){return s===void 0&&(s=0),se({radius:5,padding:3,label:{style:{color:"#323232"}},outline:{color:"#bdbdbd"},sortOrder:1},joe[s]())},Lm={},UF={iphone:"ios",ipad:"ios",android:"android",winphone:"winphone"},Goe=p(UF,aw)?UF[aw]:"default",fy=null,my=null,RA=["class","className","style","externalResourcesRequired"].concat(["requiredFeatures","requiredExtensions","systemLanguage"],["id","xml:base","xml:lang","xml:space"],"onfocusin onfocusout onactivate onclick onmousedown onmouseup onmouseover onmousemove onmouseout onload".split(" "),"alignment-baseline baseline-shift clip clip-path clip-rule color color-interpolation color-interpolation-filters color-profile color-rendering cursor direction display dominant-baseline enable-background fill fill-opacity fill-rule filter flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-orientation-horizontal glyph-orientation-vertical image-rendering kerning letter-spacing lighting-color marker-end marker-mid marker-start mask opacity overflow pointer-events shape-rendering stop-color stop-opacity stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-align background-color border text-decoration text-rendering unicode-bidi visibility word-spacing writing-mode user-select strokeWidth borderWidth border-width borderColor border-color fontStyle fontSize fontFamily fontWeight z-index zIndex clipPath shadow textDecoration tabindex".split(" "),["transform","translate","rotate","scale"],["aria-label","role","aria-hidden"]),Woe=RA.concat(RA,["x","y","width","height"]),$F=un(RA),fw=un(Woe),Uoe={borderColor:"stroke","border-color":"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",borderWidth:"stroke-width","border-width":"stroke-width",className:"class",strokeDashArray:"stroke-dasharray",textRendering:"text-rendering",zIndex:"z-index",fontFamily:["fontFamily",function(s){return s.toLowerCase()}],description:"aria-label"},$oe=un("transform radius translate scale z-index animation transition display rotate overflow clipPath opacity visibility tabindex role aria-label".split(" ")),Yoe=Av("d path pathLength shape hatch hatchPattern".split(" "),$F),Xoe=Av(["src"],fw),YF=Av(["rx","ry"],fw),qoe=Av(["radius"],YF),Koe=un("id class translate transform rotate animation opacity z-index fill color display cursor tabindex aria-label".split(" ")),gy=un("stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width".split(" ")),Zoe=Av(["fill","fill-rule"],gy),PA=`A" AW AV Yt Hv Sp vo us fr Dv ry W. Vr LT T: ro xc Ak F" OC w; P, PA r, DY SR yo la wb Bc f? L" m" Xv c" lp Ix Oj YW RX f" VA a" Ku my ot e, il So T" F. FA D, Ru tt st CO Co gy Te w. OA bv fe Fw Xf cv XA YA UA D" aj am he bc VT r: xt 11 AT AY Av Aw Ay F, LV LW LY Ly P. RT RV RW RY T, T- T. T; TA TO Ta Tc Ti To Tr Ts Tu Tw Ty V, V- V. V: V; Va Ve Vi Vo Vu Vy W, W- W: W; WA Wa We Wo Wr Wu Wy Y, Y- Y. Y: Y; Ya Ye Yi Yo Yp Yq Yu Yv ff r. v, v. w, y, y. 'A -A -I -J -P -S -T -V -W -X -Y -Z -a -v -w -x -y -z .. ., .- A- AS AU At Au B, B. BT C- D. DT DW DX DZ F: F; Fa Fe Fo I- J, J. JA K- KO Ka Ke Ko Kv Kw Ky L' L- LC LG LO Lv O, O. OT OX OY OZ Pa Pe Po Q, Q. R- Ra Re Ro Ry S, S. SA SS Sv Sw Sy TC TG TS TT Tg Tv Tz U, U. X- XC XG XO Xa Xe Xo Xu Xy YO Yd Yg Ym Yn Yr Ys Z- ZC ZG ZO ZZ Za Ze Zo Zw Zy av aw ay b, b. by c- cT eT f, f- f. fy hv hw hy k- ke ko mv mw nv nw ny o, o. ov ox oy p, p. py r- ra t- ty v- va ve w- wa x- xd xe xg xo y- ya yc yd ye yg yq z- zc zd ze zg zo zq Ki Kn Ph Pi Pr Wi AC AG AO AQ BA BU DA DV Fr Ja Je Jo Ju Jy KC KG LU Lw NA OV OW QT QV QY RC RG RO RQ RU TQ Tm VC VG VO VQ WC WG WO Wd YC YG YS at ch ck cl cy eb ev ex fa fo ow pw sw vc vd vq wc wd we wo wq 24 37 41 47 51 52 57 62 67 74 ET KQ KS LQ LS P/ PJ T/ TJ TZ V/ VJ W/ WJ Y/ YJ Yc rg A) L) Pl Rv Td Tk Tl Tp Tq Tt Vl Vp Vs Vv Wl Wp Ws Wv Yl fi fk fl tz vl wl yl`.split(" "),FA=["AW","Tw","LW"],Qoe="\u200E",mw="a!\"#$%&\\'() * +,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[] ^ _`bcdefghijklmnopqrstuvwxyz{|}~".split("").concat([169,174,160,8482,34,38,60,62,176,8364,185,178,179,188,189,190,177,180,183,8230].map(function(s){return String.fromCharCode(s)})),XF=function(s,o){return s.fontFamily+(s.fontWeight!=="normal"&&s.fontWeight||"")+(o.fontFamily||"")+(o.fontWeight!=="normal"&&o.fontWeight||"")},Joe=function(s,o){return XF(s,o)+AA},NA,BA,eae=_o("getMetrics",function(s,o){var i=Qt.createElementNS("http://www.w3.org/2000/svg","svg"),a=YT("A");return o.fontFamily&&i.setAttribute("font-family",o.fontFamily),s.fontFamily&&a.setAttribute("font-family",s.fontFamily),a.setAttribute("font-size","100px"),a.setAttribute("style","line-height: normal;"),i.appendChild(a),Qt.body.appendChild(i),s=a.getBBox?a.getBBox():{y:0,height:0},i.parentNode.removeChild(i),{descent:(s.height+s.y)/100,height:s.height/100}},function(s,o){return s.fontFamily+(o.fontFamily||"")}),Im=_o("getTextMeasurement",function(s,o,i,a){var u=o.fontSize,d=nae(o,i);e:if(d){for(var f=0,v=0,x,b=0,w=s.length;b<w;b++){var k=s[b],D=d.stringWidths[k];if(!D)if(k===Qoe)D=0;else{a=null;break e}f+=XT(D,u),b&&d.kerning&&!a&&(x=XT(d.kerning[x+k]||0,u),v+=x),x=k}a=f-v}else a=null;return a===null?XT($T([s],o,i)[s],u):a},function(s,o,i,a){return s+o.fontSize+o.fontFamily+o.fontStyle+o.fontWeight+i.fontSize+i.fontFamily+i.fontStyle+i.fontWeight+a}),tae=yF()?function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return xF(JR,Joe).apply(null,s)}:JR,nae=_o("loadFontData",tae,XF),iae=/((\D?)(-|\+?)([0-9]{1,3}(,?[0-9])*)((\.[0-9]+|\.)?|\.[0-9]+)(\S*))/g;(function(s){s=s.String.prototype,function(o,i){if(!(i in o)||!o[i]){var a=/^\s+/;o[i]=o.trimLeft||function(){return this.replace(a,"")}}}(s,"trimStart"),function(o,i){if(!(i in o)||!o[i]){var a=/\s+$/;o[i]=o.trimRight||function(){return this.replace(a,"")}}}(s,"trimEnd")})(window);var gw=Math.round,vw=function(s){return[s[0]/255,s[1]/255,s[2]/255]},qF=function(s){return[gw(255*s[0]),gw(255*s[1]),gw(255*s[2]),s[3]]},KF=function(s){return .2126*s[0]+.7152*s[1]+.0722*s[2]},ZF=function(s,o,i){return s.pop&&(i=l(s,3),s=i[0],o=i[1],i=i[2]),wl("yuv",QF(vw([s,o,i])))},QF=function(s,o,i){return s.pop&&(i=l(s,3),s=i[0],o=i[1],i=i[2]),[KF([s,o,i]),-.09991*s+-.33609*o+.436*i,.615*s+-.55861*o+-.05639*i]},rae=function(s){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return o=JF.apply(void 0,c([s],o)),[255*o[0],255*o[1],255*o[2]].map(gw)},JF=function(s,o,i){return s.pop&&(i=l(s,3),s=i[0],o=i[1],i=i[2]),[Mn(s+58e-7*o+1.28033*i,0,1),Mn(s+-.21482*o+-.38059*i,0,1),Mn(s+2.12798*o+11e-6*i,0,1)]},sae=Rd("colors").members,eN={},tN={},nN={},VA=function(s){var o=nN[s];return!o&&(o=Om.hexColor.exec(s))&&(o=[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)],nN[s]=o),o},Om={rgba:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,rgb:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,hsl:/hsl\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*%,\s*([0-9]{1,3})\s*%\)/,hsla:/hsla\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})%\s*,\s*([0-9]{1,3})%\s*,\s*([0-9]?(?:\.[0-9]+)?)\)/,hexColor:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,hexShort:/#([a-fA-F0-9]{1})([a-fA-F0-9]{1})([a-fA-F0-9]{1})/},oae={r:0,g:1,b:2,h:0,s:1,l:2,a:3,y:0,u:1,v:2},vy={r:255,g:255,b:255,h:1,s:1,l:1,a:1,y:1,u:.5,v:1},zA={r:0,g:0,b:0,h:0,s:0,l:0,a:0,y:0,u:-.5,v:0},iN={lighten:"hsl(,,+.1)",lightenmore:"hsl(,,+.2)",darken:"hsv(,,-.1)",darkenmore:"hsv(,,-.2)",brighten:"hsl(,+.8,+.3)",desaturate:"hsl(-360,-1,)",complement:"hsl(%+180,,)",contrast:"yuv(+-.7,,)"},yy=function(s){return iN[Be(s)&&s.toLowerCase()]||cae.exec(s)!==null},aae=/[-+*/%]*%?/,lae={"+":function(s,o,i){return s+o},"-":function(s,o,i){return s-o},"*":function(s,o,i){return s*o},"/":function(s,o,i){return s/o},"%+":function(s,o,i){return(s+o)%vy[i]},"%-":function(s,o,i){return(s-o)%vy[i]},"+-":function(s,o,i){return o=Math.abs(o),s+(s>=zA[i]+(vy[i]-zA[i])/2?-o:o)}},cae=/[+\-*/%]/,rN={prefix:/(.{3,4})\(/,rgb:/rgb[\s|\(]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))\s*\)?/,rgba:/rgba[\s|\(]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))\s*\)?/,hsl:/hsl[\s|\(]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))\s*\)?/,hsla:/hsla[\s|\(]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))\s*\)?/,yuv:/yuv[\s|\(]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))\s*\)?/,hsv:/hsv[\s|\(]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))[,|\s]+((?:[%\-\+*/]*\d*\.\d+%?)|(?:[%\-\+*/]*\d*%?))\s*\)?/},Zd=function(s,o){return yw(o)(xn(s))},HA={},yw=function(s){if(s=s&&s.toLowerCase(),!HA[s]){s=iN[s]||s;var o=function(){var u,d={};if(yy(s)){if(u=rN.prefix.exec(s))var f=u[1];if(u=rN[f].exec(s))var v=u.slice(1);for(u=0;u<v.length;u++){var x=aae.exec(v[u])[0];d[f.charAt(u)]=v[u].length?[lae[x],parseFloat(v[u].substr(1))]:[]}d.format=f}return d}(),i=[];o.format.indexOf("hsl")===0&&i.push(im),o.format.indexOf("yuv")===0&&i.push(ZF),o.format.indexOf("hsv")===0&&i.push(pne);var a=0<i.length;i.push(function(){var u=o.format,d=u.indexOf("hsl")===0,f=function(x){var b=o[x],w=x==="h"?360:1,k=b[0],D=b[1],T=oae[x];return function(M){var I=k(M[T],D/w,x);I=x==="h"?I%vy.h*(0>I?-1:1)+(0>I?1:0):Mn(I,zA[x],vy[x]),M[T]=I}},v=[];return o.format.split("").forEach(function(x){o[x].length&&v.push(f(x))}),function(x){return v.forEach(function(b){return b(x)}),d?x=Fc.call.apply(Fc,c([null],x)):u==="yuv"?x=rae.call(null,x):u==="hsv"&&(x=fne.call(null,x)),An(x,x.length===4?"rgba":"rgb")}}()),HA[s]=function(u){var d=xn(u);for(u=0,d=a?i[u++](d[0],d[1],d[2],d[3]):d;u<i.length;)d=i[u++](d);return d}}return HA[s]},ra=function(s,o,i){return i*(o-s)+s},Ri={crysDark:"crysDark",crysBright:"crysBright",hueEffect:"hueEffect",hover:"hover",select:"selected",outline:"outline",outlineContrast:"outlineContrast",label:"label",labelContrast:"labelContrast",seriesLine:"seriesLine",lightenDark:"lightenDark",currentColor:"currentColor"},wi={gaugePolarBack:"gaugePolarBack",titleBox:"titleBox",box:"box",chartArea:"chartArea",altGridFillY:"altGridFillY",altGridFillX:"altGridFillX",altGridFillRad:"altGridFillRad",axisMarkerY:"axisMarkerY",axisMarkerX:"axisMarkerX",jsButton:"jsButton",jumpButton:"jumpButton",areaFill:"areaFill",navBar:"navBar",aqua:"aqua",rounded:"rounded",cushion:"cushion",subtle:"subtle"},uae=$n(Rd("palette").members),hae=fe(uae,function(s){return s.toLowerCase()}),xw=function(s){return s==="hatch"?(s=Rd("hatchStyle").members,delete s.none,$n(s)):c_(s)},sN=function(s,o){var i=l(o,2);o=i[1];var a=[];i=0>i[0];var u=function(b){for(var w=0;w<b.length;w++)if(-1<a.indexOf(b[w]))return!0};if(C(s)==="object"){a=$n(s);var d=u(["colors","stops"]),f=u([,"ranges","stops"])}u="#b00026 #bd0026 #e31a1c #fc4e2a #fd8d3c #feb24c #fed976 #ffeda0".split(" ");var v="#edf8b0 #c7e9b4 #7fcdbb #41b6c3 #1d91c0 #225ea8 #253494 #081d58".split(" "),x=u.slice(0);return x.push("#ffffff"),x.push.apply(x,c(v)),u.push("#ffffff"),v.unshift("#ffffff"),se({colors:d?void 0:f?v:x,colorsValueRange:f?void 0:d&&!i?[0,o]:[-o,o],pointValue:function(b){return b.currentOptions.z}},s||{})},Rm={},dae=mT("width,height,x,y"),bw=function(s){return typeof s=="string"?fe(s.split(","),parseFloat):s},_w,oN=function(){function s(o,i){this._callStack=[];var a=this;a._callback=i,o=Array.isArray(o)?o:[o];var u,d,f=function(v,x){return function(){xP(v,function(){return x()})}};for(i=function(){var v=d||a.loaded;d=f(u,function(){return v.call(a)})};u=o.pop();)i();d()}return s.prototype.then=function(o,i){return this._callStack.push([o,i]),this},s.prototype.catch=function(o){return this.then(null,o)},s.prototype.loaded=function(){for(var o=this._callback(),i=-1,a=this._callStack.length;++i<a;)o=o.then.apply(o,this._callStack[i])},s}(),ww,xt=function(s){return s.getMonth?s:new Date(s)},Xc=function(s){return xt(s).getTime()},pae=le(0,0),aN={weekday:[0,6],dayofyear:[1,365],minuteofday:[0,1440]},jA={years:12,decade:11,year:10,quarter:9,month:8,week:7,dayofyear:6.2,day:6.1,weekday:6,hour:3,minuteofday:2.1,minute:2,secondofhour:1.1,second:1},fae=[,"second","minute","hour",,,"day","week","month","quarter","year","decade","years"],Cw={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,quarter:72576e5,year:314496e5,decade:314496e6},mae=function(s){return s},gae=[[["year",100],["year",50]],[["year",100],["year",25]],[["year",50],["year",25]],[["year",50],["year",10]],[["year",25],["year",5]],[["year",10],["year",5]],[["year",10],["year",2]],[["year",10],["year",1]],[["year",1],["month",6]],[["year",1],["month",3]],[["year",1],["month",1]],[["month",1],["day",15]],[["month",1],["day",5]],[["month",1],["day",2]],[["month",1],["day",1]],[["day",1],["hour",12]],[["day",1],["hour",6]],[["day",1],["hour",3]],[["day",1],["hour",1]],[["hour",1],["minute",30]],[["hour",1],["minute",15]],[["hour",1],["minute",10]],[["hour",1],["minute",5]],[["hour",1],["minute",1]],[["minute",1],["second",30]],[["minute",1],["second",10]],[["minute",1],["second",1]],[["second",1],["millisecond",500]],[["second",1],["millisecond",200]],[["second",1],["millisecond",100]],[["second",1],["millisecond",50]],[["second",1],["millisecond",10]],[["second",1],["millisecond",1]]],vae=fe("year,getFullYear month,getMonth weekday,getDay day,getDate hour,getHours minute,getMinutes second,getSeconds millisecond,getMilliseconds".split(" "),function(s){return s.split(",")}),lN=function(){var s=vae.slice(0);return m(s,We(s,function(o){return o[0]==="weekday"})),s}(),cN={},kw=[];K(lN,function(s,o){return kw[cN[s[0]]=o]=s[0]});var GA=function(s){return cN[s]},WA,yae=function(){if(!WA){var s=function(o){return{unit:o[0],multiplier:o[1]}};WA=fe(gae,function(o){return{major:s(o[0]),minor:s(o[1])}})}return WA},UA=_o("significantUnitFn",function(s){s.getMonth||(s=new Date(s));var o=lN.slice(0),i=fe(o,function(d){return d[0]});i.reverse();var a={};K(o,function(d){a[d[0]]=s[d[1]]()}),--a.day;var u;return K(i,function(d){if(0<a[d])return!(u=d)}),u},function(s){return s}),uN=function(){function s(o){var i=this;this.weekStart=o,this.fns={decade:function(a){return parseInt(a.getFullYear().toString()[2])},year:function(a){return a.getFullYear()},quarter:function(a){return Math.floor((a.getMonth()+3)/3)},month:function(a){return a.getMonth()+1},dayofyear:function(a){var u=new Date(a.getFullYear(),0,0);return Math.floor((a-u)/864e5)},day:function(a){return a.getDate()},weekday:function(a){return a=a.getDay()-i.weekStart,0>a?7+a:a},week:function(a){var u=a.getFullYear(),d=new Date(u,0,1);return a=new Date(u,a.getMonth(),a.getDate()),Math.ceil(((a-d)/864e5+i.fns.weekday(d)+1)/7)},hour:function(a){return a.getHours()},minuteofday:function(a){return 60*a.getHours()+a.getMinutes()},minute:function(a){return a.getMinutes()},secondofhour:function(a){return 60*a.getMinutes()+a.getSeconds()},second:function(a){return a.getSeconds()},millisecond:function(a){return a.getMilliseconds()},none:function(a){return 0},date:function(a){return a.getTime()}},this.revFns={decade:function(a,u){return a=xt(a).getFullYear().toString(),a=a.substr(0,2)+u+"0",new Date(parseInt(a),0,1)},year:function(a,u){return new Date(u,0,1)},quarter:function(a,u){return new Date(xt(a).getFullYear(),3*(u-1),1)},month:function(a,u){return new Date(xt(a).getFullYear(),u-1,1)},week:function(a,u){a=xt(a).getFullYear(),a=new Date(a,0,1);var d=-(a.getDay()-i.weekStart);return u=d+(0<d?-7:0)+7*(u-1),d=new Date(a.valueOf()),d.setDate(a.getDate()+u),d},dayofyear:function(a,u){return new Date(xt(a).getFullYear(),0,u)},day:function(a,u){return new Date(xt(a).getFullYear(),xt(a).getMonth(),u)},weekday:function(a,u){var d=i.fns.week(a);return a=i.revFns.week(a,d),qo(a,h(u)?{unit:"day",multiplier:u}:{unit:"day"})},hour:function(a,u){return a=xt(a),a=new Date(a.setMinutes(0)),a=new Date(a.setSeconds(0)),xt(a.setHours(u))},hourMod:function(a,u){return a=xt(a),a=new Date(a.setMinutes(0)),a=new Date(a.setSeconds(0)),qo(a,{unit:"hour",multiplier:u})},minute:function(a,u){return a=xt(a),new Date(a.setSeconds(0)).setMinutes(u)},minuteofday:function(a,u){return a=xt(a),xt(xt(xt(a.setSeconds(0)).setHours(0)).setMinutes(u))},minuteMod:function(a,u){return a=xt(a),qo(a,{unit:"minute",multiplier:u})},minuteofdayMod:function(a,u){return a=xt(a),qo(a,{unit:"minute",multiplier:u})},secondofhour:function(a,u){return a=xt(a),xt(a.setMinutes(0)).setSeconds(u)},secondofhourMod:function(a,u){return a=xt(a),qo(a,{unit:"second",multiplier:u})},second:function(a,u){return xt(a).setSeconds(u)},millisecond:function(a,u){return xt(a).setMilliseconds(u)},none:function(a,u){return a}}}return s.prototype.fn=function(o){if(typeof o=="string"){var i=this.fns[o];return function(u){return i(xt(u))}}var a=this.fns[o.unit];if(o.mod&&o.mul)return function(u){return Math.floor(a(xt(u))/o.mul)%o.mod};if(o.mul)return function(u){return Math.floor(a(xt(u))/o.mul)}},s.prototype.reverseFn=function(o){if(typeof o=="string"){var i=this.revFns[o];return function(u,d){return i(xt(u),d)}}var a=this.revFns[o.unit];if(o.mod&&o.mul)return a=this.revFns[o.unit+"Mod"]||a,function(u,d){return a(u,d*o.mul)};if(o.mul)return function(u,d){return a(u,d*o.mul)}},s}(),$A=function(){function s(o,i){if(this.calIndexer=i,Be(o)){var a={};a[o]="*",o=a}this.currentOptions=_i(bn(o),["inclusive","every","offset"]),this.inclusive=le(o.inclusive,!0),this.every=le(o.every,1),this.offset=le(o.offset,0),typeof this.offset=="object"&&(this.offset=Rv(this.offset)),this.fnSet=new uN(i?i.currentOptions.weekStart:0),this.setFilter()}return s.prototype.setFilter=function(){var o=this,i=o.currentOptions,a=Object.getOwnPropertyNames(i);o.propNames=a;var u=a[0];a.length===1&&a[0]==="date"&&typeof i[a[0]]!="object"&&(o.isDate=!0,i.date.pop&&(o.isDateRange=!0));var d=function(v){return jA[v]<jA[u]&&(u=v),function(x){var b=i[x],w=C(b),k=o.fnSet.fn(x);b==="*"&&(w="star",o.starUnit=x,o.isInterval=!0,aN[x]&&(o.intervalType="numeric")),x=function(T){return function(M){var I;try{for(var O=r(b),F=O.next();!F.done;F=O.next())if(T(M,F.value))return!0}catch(j){var N={error:j}}finally{try{F&&!F.done&&(I=O.return)&&I.call(O)}finally{if(N)throw N.error}}}};var D=function(T){if(T==="number")return function(F,N){return k(F)===le(N,b)};if(T==="string"||T==="date"){var M=xt(b);return function(F,N){return k(F)===k(xt(N||M))}}if(T==="object"){T=typeof b.range[0]=="string"?function(F){return k(xt(F))}:mae;var I=T(b.range[0]),O=T(b.range[1]);return function(F,N){return F=k(xt(F)),wo([I,O],F)}}if(T==="function")return function(F,N){return(N||b)(F)};if(T==="star")return function(F,N){return o.indexOfInterval(F)}};return w==="array"?x(D(C(b[0]))):D(w)}(v)};if(1<a.length){o.isMultiFilter=!0;var f=fe(a,function(v){return d(v)});a=o.inclusive?function(v){var x;try{for(var b=r(f),w=b.next();!w.done;w=b.next()){var k=w.value;if(!k(v))return!1}}catch(T){var D={error:T}}finally{try{w&&!w.done&&(x=b.return)&&x.call(b)}finally{if(D)throw D.error}}return!0}:function(v){var x;try{for(var b=r(f),w=b.next();!w.done;w=b.next()){var k=w.value;if(k(v))return!0}}catch(T){var D={error:T}}finally{try{w&&!w.done&&(x=b.return)&&x.call(b)}finally{if(D)throw D.error}}},o.checkDateFn=a}else o.checkDateFn=d(a[0]);u=fae[Math.floor(jA[u.unit||u])],o.minUnitName=u},s.prototype.indexOfInterval=function(o){var i=this.intervalRanges;if(o=Xc(o),this.intervalType==="numeric")return this.fnSet.fn(this.starUnit)(o);if(this.isMultiFilter){for(var a=0;a<i.length;a++)if(-1<AR(i[a],o))return a;return-1}return AR(i,o)},s.prototype.isInside=function(o){return this.isInterval?this.indexOfInterval(xt(o)):this.checkDateFn(xt(o))},s.prototype.setRangeSnap=function(o,i){var a=this.fnSet,u=this.starUnit;o=a.reverseFn(u)(o,a.fn(u)(o));var d=a.fn(u)(i);return i=a.reverseFn(u)(i,d+1),i=xt(Xc(i)-1),this.setRange(o,i)},s.prototype.setRange=function(o,i){if(this.userRange=[o,i],this.isInterval){if(this.intervalType==="numeric"){o=aN[this.starUnit];var a=o[0],u=[];return rs(o[1]-o[0]+1,function(d){return u.push([d+a,d+a+1-.001])}),this.intervalRanges=u}return this.intervalRanges=Xt(this.getIntervalRanges(o,i),function(d){return Xc(d[1])!==Xc(d[0])})}return this.getRanges(o,i)},s.prototype.getRanges=function(o,i){var a={unit:this.minUnitName};o=l3(this.minUnitName,1,xt(o)),i=xt(i);for(var u=[],d=[],f=!1,v,x=!1;!x;)(v=this.isInside(o))&&!f?(v=o,f=!0,d[0]=v):!v&&f&&(d[1]=xt(o.getTime()-1),u.push(d),d=[],f=!1),o=qo(o,a),o>i&&(x=!0);return kP(this,u)},s.prototype.getIntervalRanges=function(o,i){var a=this,u=a.currentOptions;if(!this.minUnitName)return[[o,i]];var d=a.every,f=[];if(a.isMultiFilter){d=function(D){var T={every:a.every};return T[D]=u[D],new s(T).setRange(o,i)};var v=Xt(a.propNames,function(D){return D!==a.starUnit}),x=d(a.starUnit),b=fe(v,d),w,k;K(x,function(D){var T=D.slice(0);k=[],K(b[0],function(M){(w=Md(T,M))&&k.push(w)}),k.length&&f.push(k)})}else d={unit:this.minUnitName,multiplier:d},d=d_(d,d,o,i)[0],v=fe(d,function(D){return[D,D]}),d.length?f=fe(kv(v,[o,i]),function(D){return[xt(D[0]),xt(Xc(D[1])-1)]}):f.push([o,i]);return kP(a,f)},s}(),xae=function(s,o,i){s[o]?s[o].push(i):s[o]=[i]},YA=function(s){if(s&&s.pop)for(var o=0,i=Math.min(50,s.length);o<i;o++){var a=s[o],u=typeof a;if(a!==null){if(u==="number")return!0;if(u==="object")return!1}}},hN=function(s){var o;return s(function(i){if(i=YA(i),i===!0||i===!1)return o=i,!1}),o},xy=function(s){if(typeof s=="function")return s;if(-1<s.indexOf(".")){var o=s.split(".");return function(i){return y(i,o)}}return function(i){return i[s]}},bae=function(s){if(typeof s=="function")return s;var o=xy(s);return function(i){return i.map(function(a){return o(a)})}},dN=function(s,o){var i=[];return K(s,function(a,u){return i.push({key:o?o(u):u,values:a})}),i},Dw=function(){function s(){return this.calls=[],this}return s.prototype.countKeyCalls=function(){var o=0;return K(this.calls,function(i){return i[0]==="key"&&o++}),o},s.prototype.clone=function(){var o=new s;return o.calls=this.calls.slice(0),o.pointRollupFn=this.pointRollupFn,o},s.prototype.key=function(o){var i=this.clone();return i.calls.push(["key",o]),i},s.prototype.rollup=function(o,i){var a=this.clone();return a.calc=i,a.calls.push(["rollup",o]),a},s.prototype.sortKey=function(o){var i=this.clone();return i.calls.push(["sortKey",o]),i},s.prototype.pointRollup=function(o){var i=this.clone();return i.pointRollupFn=o,i},s.prototype.series=function(o){o=h3(this)(o);var i=this.countKeyCalls();if(i===1)return[{points:um(o,this.pointRollupFn||this.calc)}];if(i===2)return Pne(o,this.pointRollupFn||this.calc);throw"Nest: One or two key() calls are required."},s.prototype.points=function(o){return o=h3(this)(o),um(o,this.pointRollupFn)},s.prototype.entries=function(o){return h3(this)(o)},s}(),_ae=/\r?\n/;ct.JSC;for(var wae=/^-?\d+\.?\d*%?$/,Cae=/^\W{1}-?\d+\.?\d*%?$/,kae=function(s){return s==="dirtyNumber"?"number":s},pN=function(s){return lm(function(o){var i=Array.isArray(s)?s:[s],a=!0,u=i.length;if(!s.length){var d=Error("Fonts list is empty");o({ok:a,error:d})}i.forEach(function(f){return Vne(f,function(v){v||(a=!1,d=Error("Loading "+f+" 1000ms timeout exceeded")),--u===0&&o({ok:a,error:d})})})})},Dae=0,XA={},qA=Math.PI,fN=2*qA,Ts=Math,mN=Math.abs,Sw=function(s,o,i){return[rt(s[0],s[0]+s[2],o[0],o[0]+o[2],i[0]),rt(s[1],s[1]+s[3],o[1],o[1]+o[3],i[1])]},Qd=["M","Z","L","C"],gN=[PP,null,PP,function(s,o){return o=Fte.apply(null,o.slice(1)),y3(y3(s,o),[o[0]+o[2],o[1]+o[3]])}],vN={stringValue:[v3,""],bbox:[function(s){s=s.shapes,s.length===1&&yo(s[0]);var o;return K(s,function(i,a){yo(i),i=i.minMaxResult,a?(o.xMin=Math.min(o.xMin,i.xMin),o.yMin=Math.min(o.yMin,i.yMin),o.xMax=Math.max(o.xMax,i.xMax),o.yMax=Math.max(o.yMax,i.yMax)):o=i}),[o.xMin,o.yMin,o.xMax-o.xMin,o.yMax-o.yMin]},""],lengthValue:[FP,0],flatPoints:[NP,[]],positions:[function(s,o){o===void 0&&(o=6),s.length();var i=[],a=0;for(s=s.shapes;a<s.length;a++)i.push(Dl(s[a],o));return i},[]]},Pm=function(){function s(o){this.isPath=!0,this.shapes=[],this._cache={},o&&ke(this,o)}return s.prototype.fromCache=function(o){var i=this._cache;return i[o]=h(i[o])?i[o]:this.hasErrors?vN[o][1]:vN[o][0](this),i[o]},s.prototype.toString=function(){return this.fromCache("stringValue")},s.prototype.bbox=function(){return this.fromCache("bbox")},s.prototype.scaleTo=function(o){return Hne(this,o)},s.prototype.translate=function(o){return v3(this,o)},s.prototype.rotate=function(o,i){var a=this.bbox();return i=i||On(a),this.translate(function(u){return jn(i,Mi(i,u)+o,go(i,u))})},s.prototype.hitTest=function(o,i){var a=this.bbox();if(o=[o,i],Oc(a,o)){a=void 0,i=0;for(var u=this.shapes;i<u.length;i++)if(it(u[i].items)[0]===1){a=!0;break}if(!a)return bv(o,NP(this));for(i=0,u=this.shapes;i<u.length;i++)if(bv(o,BP(u[i])))return!0}return!1},s.prototype.length=function(){return this.fromCache("lengthValue")},s.prototype.flatPoints=function(){return this.fromCache("flatPoints")},s.prototype.positions=function(){return this.fromCache("positions")},s.prototype.clearCache=function(o){this._cache={},o&&RP(this,Gne,Wne)},s.prototype.items=function(o){var i=this.shapes;if(i.length===1)return o?i[0].items:i[0].items.slice(0);var a=[];return K(i,function(u){return K(u.items,function(d){return a.push(d)})}),a},s.prototype.isEqual=function(o){var i=o?o.toString():"";return this===o||this.toString()===i},s}(),Sae=/([astvzqmhlc])([^astvzqmhlc]*)/gi,Tae=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,KA=["c",6,"a",7,"l",2,"z",0,"m",2,"h",1,"v",1,"s",4,"t",2,"q",4],ZA={},Aae={M:Vv,H:function(s){Vc(s,[s.isRelative?rr(s.args)+s.endPoint[0]:it(s.args),s.endPoint[1]])},V:function(s){Vc(s,[s.endPoint[0],s.isRelative?rr(s.args)+s.endPoint[1]:it(s.args)])},Z:C3,L:function(s){pm(s,1,Vc)},C:function(s){pm(s,3,Hd)},S:function(s){pm(s,2,Yne)},Q:function(s){pm(s,2,YP)},T:function(s){var o=s.lastCommand[0];pm(s,1,o==="T"||o==="Q"?Xne:Vc)},A:function(s){WP(s,0,7,qne)}},Mae=function(s,o){var i=s.toLocaleUpperCase();ZA[s]={command:i,argsCount:o,isRelative:!0},ZA[i]={command:i,argsCount:o,isRelative:!1}},Tw=0;Tw<KA.length;Tw+=2)Mae(KA[Tw],KA[Tw+1]);var Aw=_o("pathLibBbox",function(s){return Jn(s).bbox()}),Mw=Math.PI,yN=2*Mw,xN=function(s){return Math.round(s)===s},Eae={TL:0,TR:1,BR:2,BL:3},bN=un("type fill stroke stroke-width stroke-opacity overflow centerWidth eachShape".split(" ")),QA=Jo.PI,Lae=2*QA,sa={none:function(s,o){return Er([[s,o]])},circle:function(s,o,i,a){return i=Math.min(i,a)/2,c(["M",s+i,o],Gs(s+i,o+i,i,-QA/2,.75*Lae-.05),["Z"])},square:function(s,o,i,a,u){u=Math.ceil(.15*Math.min(i,a)),u=Math.min(u,10);var d=QA/2;return c(["M",s+u,o,"L",s+i-u,o],Gs(s+i-u,o+u,u,-d,0),["L",s+i,o+a-u],Gs(s+i-u,o+a-u,u,0,d),["L",s+u,o+a],Gs(s+u,o+a-u,u,d,2*d),["L",s,o+u],Gs(s+u,o+u,u,2*d,-d),["Z"])},arrow:function(s,o,i,a,u){u===void 0&&(u={});var d=On([s,o,i,a]);o=u.angle||0;var f=u.concavity||.15,v=jn(d,o,i/2),x=jn(d,o+180,i/2);return s=jn(x,o-90,a/2),a=jn(x,o+90,a/2),o=jn(x,o,i*f),x=function(b,w){var k=TT(v,b);b=Mi(v,b);var D=go(d,k);return jn(k,b+w,f*D)},i=[d[0]-o[0],d[1]-o[1]],s=[v,x(s,-90),s,o,a,x(a,90)],u.skipTransform=!0,Er(function(b,w){return b.map(function(k){return[k[0]+w[0],k[1]+w[1]]})}(s,i))},triangle:function(s,o,i,a){return Er([[s+i/2,o],[s+i,o+a],[s,o+a]])},"triangle-down":function(s,o,i,a){return Er([[s,o],[s+i,o],[s+i/2,o+a]])},diamond:function(s,o,i,a){return a=Zu({x:s,y:o,width:i,height:a},1.1),s=a.x,o=a.y,i=a.width,a=a.height,Er([[s+i/2,o],[s+i,o+a/2],[s+i/2,o+a],[s,o+a/2]])},"four-point-star":function(s,o,i,a){a=Zu({x:s,y:o,width:i,height:a},1.15),s=a.x,o=a.y,i=a.width,a=a.height,i/=2;var u=.32*i;return s+=i,o+=a/2,Er([[s,o-i],[s+u,o-u],[s+i,o],[s+u,o+u],[s,o+i],[s-u,o+u],[s-i,o],[s-u,o-u]])},"five-point-star":function(s,o,i,a){return a=Zu({x:s,y:o,width:i,height:a},1.15),s=a.x+1,o=a.y,i=a.width,a=a.height,i/=2,s+=i,o+=a/2,Er([[s,o-.96*i],[s+.36*i,o-.4*i],[s+i,o-.24*i],[s+.56*i,o+.26*i],[s+.6*i,o+.94*i],[s,o+.65*i],[s-.6*i,o+.94*i],[s-.56*i,o+.26*i],[s-i,o-.24*i],[s-.36*i,o-.4*i]])},"six-point-star":function(s,o,i,a){return a=Zu({x:s,y:o,width:i,height:a},1.15),s=a.x+1,o=a.y,i=a.width,a=a.height,i/=2,s+=i,o+=a/2,Er([[s,o-i],[s+.3*i,o-.54*i],[s+.88*i,o-.5*i],[s+.6*i,o],[s+.86*i,o+.5*i],[s+.3*i,o+.52*i],[s,o+i],[s-.3*i,o+.52*i],[s-.86*i,o+.5*i],[s-.6*i,o],[s-.88*i,o-.5*i],[s-.3*i,o-.54*i]])},"seven-point-star":function(s,o,i,a){return a=Zu({x:s,y:o,width:i,height:a},1.15),s=a.x+1,o=a.y,i=a.width,a=a.height,i/=2,s+=i,o+=a/2,Er([[s,o-.98*i],[s+.28*i,o-.54*i],[s+.8*i,o-.6*i],[s+.62*i,o-.12*i],[s+i,o+.16*i],[s+.5*i,o+.44*i],[s+.44*i,o+.96*i],[s,o+.68*i],[s-.44*i,o+.96*i],[s-.5*i,o+.44*i],[s-i,o+.16*i],[s-.62*i,o-.12*i],[s-.8*i,o-.6*i],[s-.28*i,o-.54*i]])},"arrow-up":function(s,o,i,a){return a=Zu({x:s,y:o,width:i,height:a},1.15),s=a.x+1,o=a.y,i=a.width,a=a.height,i/=2,s+=i,o+=a/2,Er([[s,o-i],[s+.9*i,o-.08*i],[s+.36*i,o-.08*i],[s+.36*i,o+i],[s-.36*i,o+i],[s-.36*i,o-.08*i],[s-.9*i,o-.08*i]])},"arrow-down":function(s,o,i,a){return a=Zu({x:s,y:o,width:i,height:a},1.15),s=a.x+1,o=a.y,i=a.width,a=a.height,i/=2,s+=i,o+=a/2,Er([[s,o+i],[s+.9*i,o+.08*i],[s+.36*i,o+.08*i],[s+.36*i,o-i],[s-.36*i,o-i],[s-.36*i,o+.08*i],[s-.9*i,o+.08*i]])},split:function(s,o,i,a){return i/=2,s+=i,o+=a/2,Er([[[s+.2*i,o-i],[s+i,o],[s+.2*i,o+i]],[[s-.2*i,o+i],[s-i,o],[s-.2*i,o-i]]])},"split-reverse":function(s,o,i,a){return i/=2,s+=i,o+=a/2,Er([[[s+i,o-i],[s+i,o+i],[s+.16*i,o]],[[s-i,o-i],[s-i,o+i],[s-.16*i,o]]])},spinoff:function(s,o,i,a){return i/=2,s+=i,o+=a/2,Er([[[s-i,o-i],[s+.72*i,o-i],[s+.72*i,o],[s,o],[s,o+.72*i],[s-i,o+.72*i]],[[s+.24*i,o+.24*i],[s+i,o+.24*i],[s+i,o+i],[s+.24*i,o+i]]])},merger:function(s,o,i,a){return i/=2,s+=i,o+=a/2,Er([[s-.38*i,o-i],[s+.73*i,o-i],[s+.73*i,o+i],[s+.16*i,o+i],[s+.16*i,o+.22*i],[s-.58*i,o+i],[s-.94*i,o+.6*i],[s-.38*i,o+.02*i]])},path:function(s,o,i,a,u){return u.d},rectangle:function(s,o,i,a,u){return JP(s,o,i,a,u)}},_N={arrow:function(s){s===void 0&&(s={});var o=le(s.lineWidth,1),i=le(s.overflow,!1),a=Mr(le(s.size,10*o),o),u=h(s.length),d=Mr(le(u?s.length:s.width,1.6*a),o);return o=Mr(le(u?s.width:s.height,a),o),a=Mn(le(s.concavity,.2),-.5,.5),u=d-d*a,ke(Vi({},s,bN),{width:d,height:o,concavity:a,overflow:!0,centerWidth:i===!1?u:0})}},wN=_o("drawIconFunction",function(s,o,i,a,u){var d=Jn(s),f=o[4],v=a?h(a.initial)?[a.top.px,a.right.px,a.bottom.px,a.left.px]:0<a.length?a:[a.top,a.right,a.bottom,a.left]:[0,0,0,0],x=!0;return u||o[2]!==0&&o[3]!==0||f?((f||o[2]===0||o[3]===0)&&(u=d.bbox(),o[2]=f||u[2],o[3]=f||u[3],f||(x=!1)),f=Math.max(o[2],o[3]),u=i?[o[0],o[1],f,f]:o,(a=!i&&a&&a.initial===0)&&!x?[s,f,o[2],o[3]]:(s=a?u:pP(u,v),d=d.scaleTo(s),i?(i=sa[i.shape||"square"](u[0],u[1],u[2],u[3]),[Gn([d,i]),f,o[2],o[3]]):[d,f,o[2],o[3]])):["",0,0,0]},function(s,o,i,a,u){return s+o[0]+o[1]+o[2]+o[3]+o[4]+(i&&i.shape)+(a&&a.initial)+u}),Jd=function(s){return"M"+s[0]+" "+s[1]},Ol=function(s){return"L"+s[0]+" "+s[1]},Iae=[-9999,9999],Oae=un(["div"]),As=function(){function s(o,i,a){this.renderer=i,this.init(o,a)}return s.prototype.init=function(o,i){this.el=o,this.data={attrs:{},vals:{},id:Qu()},this.childNodes=[],this.refNodes=[],this.isElement=!0,this.isDestroyed=this.isPatched=!1,this.zIndexHash={},this.zIndexMax=Iae[0],this.nodeName=i||o.nodeName.toLowerCase(),this.isHtml=p(Oae,this.nodeName)},s.prototype.attr=function(o,i){return this.renderer.attr(this,o,i)},s.prototype.add=function(o){return this.renderer.add(this,o)},s.prototype.addBefore=function(o){return this.renderer.addBefore(this,o)},s.prototype.addAfter=function(o){return this.renderer.addAfter(this,o)},s.prototype.destroy=function(){return this.renderer.destroy(this)},s.prototype.on=function(o,i){return this.renderer.on(this,o,i)},s.prototype.un=function(o,i){return this.renderer.un(this,o,i)},s.prototype.box=function(o){return this.renderer.box(this,o)},s.prototype.getBbox=function(){return this.box()},s.prototype.animate=function(o,i){var a=l(o,2);o=a[0],a=a[1],this.getTransition().options({animation:i,middle:{from:o,to:a},end:a})},s.prototype.getAnimations=function(){return this.getTransition().getAnimations()},s.prototype.isAnimating=function(){return 0<this.getAnimations().length},s.prototype.finishAnimation=function(o){this._transition&&!this._transition.attrApllying&&this._transition.finishAnimation(!0,o)},s.prototype.show=function(){return this.renderer.show(this)},s.prototype.hide=function(){return this.renderer.hide(this)},s.prototype.visible=function(o){return this.renderer.visible(this,o)},s.prototype.query=function(o){return this.renderer.query(o,this)},s.prototype.transition=function(o){return this.getTransition().options(o),this.getTransition()},s.prototype.tryAutoTransition=function(o){var i=this;return i.getTransition().tryAutoTransition(o,function(){var a=i.data,u=ke({},a.attrs);return a.transform&&(u.transform=a.transform),a.vals.d&&(u.d=a.vals.d),u})},s.prototype.normalizeAttrs=function(o){return o&&o.omit?_i(o,o.omit.concat("omit")):o},s.prototype.getTransition=function(){if(!this._transition){var o=ke({},this.renderer.defaultOptions().transition);this.nodeName==="path"&&(o.generator="path"),this._transition=py[0].create(this,o)}return this._transition},s}(),CN=ht(sa,{rectangle:JP}),Rae=function(s){function o(i,a){return i=s.call(this,i,a)||this,i.x=0,i.y=0,i.width=0,i.height=0,i}return e(o,s),o.prototype.attr=function(i,a){return!i||!Xi(i)?p(this,i)?this[i]:this.renderer.attr(this,i,a):(i=this.collectAttributes(i),i?(a=l([i.shapeName,i.relativeSize],2),this.shapeName=a[0],this.relativeSize=a[1],i.relativeSize&&(a=l([i.cx,i.cy,i.r],3),this.cx=a[0],this.cy=a[1],this.r=a[2]),a=this.renderer.attr(this,i),i=l([i.x,i.y,i.width,i.height,i.shapeOptions,i.d],6),this.x=i[0],this.y=i[1],this.width=i[2],this.height=i[3],this.shapeOptions=i[4],this.d=i[5],a):null)},o.prototype.normalizeAttrs=function(i){return i=this.collectAttributes(i),s.prototype.normalizeAttrs.call(this,i)},o.prototype.collectAttributes=function(i){var a=this.default,u=l([this.shapeName,this.relativeSize],2),d=u[0];return u=u[1],(i.shapeConfig||i.shapeName)&&(d=i.shapeName||i.shapeConfig.name),!d||!p(CN,d)?null:(i=i.shapeConfig?i.shapeConfig.config||{}:ke({},i),ke(i,i.attr),i.shapeName=d,nt(u)&&(vl(["x","y","width","height"],i)&&(u=!1),vl(["cx","cy","r"],i)&&(u=!0)),u&&(a=l([a(i.cx,this.cx||0),a(i.cy,this.cy||0),a(i.r,this.r||0),i.cx-i.r,i.cy-i.r,this.calculateFromRadius(i.r),this.calculateFromRadius(i.r)],7),i.cx=a[0],i.cy=a[1],i.r=a[2],i.x=a[3],i.y=a[4],i.width=a[5],i.height=a[6]),i.relativeSize=u,a=l([this.default(i.x,this.x),this.default(i.y,this.y),this.default(i.width,this.width),this.default(i.height,this.height),i.shape||this.shapeOptions],5),i.x=a[0],i.y=a[1],i.width=a[2],i.height=a[3],i.shapeOptions=a[4],i.d=this.dToString(CN[d](i.x,i.y,i.width,i.height,i.shapeOptions)),i.omit="x y width height cx cy r shapeName shape path attr relativeSize shapeOptions".split(" "),i.d===this.d&&i.omit.push("d"),i)},o.prototype.default=function(i,a){return Qn(i)?a:i},o.prototype.calculateFromRadius=function(i){return h(i)?2*i:null},o.prototype.dToString=function(i){return Zt(i)?Pa(i," "):i},o}(As),Pae=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.attrApplier=i.defaultAttrApplier,i}return e(o,s),o.prototype.attr=function(i,a){var u=this.morphType||this.nodeName;if(Ew[u])e:{var d;try{for(var f=r(Ew[u]),v=f.next();!v.done;v=f.next()){var x=v.value;if(x(this,i,a))break e}}catch(w){var b={error:w}}finally{try{v&&!v.done&&(d=f.return)&&d.call(f)}finally{if(b)throw b.error}}}return this.attrApplier(i,a)},o.prototype.defaultAttrApplier=function(i,a){return this.renderer.attr(this,i,a)},o}(As),Ew={},Fae=function(){function s(o,i,a,u,d){this.root=o,this.width=i,this.height=a,this.defaultWidth=u,this.defaultHeight=d}return s.prototype.path=function(o){return this.pathInner(Pae,o)},s.prototype.shape=function(o,i){return this.pathInner(Rae,{shapeConfig:{name:o,config:i}})},s.prototype.newId=function(){return Qu()},s}(),kN=function(s){function o(i,a){return i=s.call(this,i,a)||this,i.x=0,i.y=0,i.width=0,i.height=0,i}return e(o,s),o.prototype.attr=function(i,a){var u=this;return!i||!Xi(i)?this.renderer.attr(this,i,a):(nt(this.relativeSize)&&this.setSizeType(i),this.checkSizeRecalculated(i,function(d){var f=l([u.default(i.width,u.width),u.default(i.height,u.height),u.default(i.cx,u.cx||0),u.default(i.cy,u.cy||0)],4),v=f[0],x=f[1],b=f[2];f=f[3];var w=l([u.relativeSize?b-v/2:u.default(i.x,u.x||0),u.relativeSize?f-x/2:u.default(i.y,u.y||0)],2),k=w[0];w=w[1],ke(d,{x:k,y:w,width:v,height:x}),d.omit=["cx","cy"],u.renderer.attr(u,d),d=l([k,w,v,x,b,f],6),u.x=d[0],u.y=d[1],u.width=d[2],u.height=d[3],u.cx=d[4],u.cy=d[5]}),this)},o.prototype.default=function(i,a){return Qn(i)?a:i},o.prototype.setSizeType=function(i){vl(["x","y"],i)?this.relativeSize=!1:vl(["cx","cy"],i)&&(this.relativeSize=!0)},o.prototype.checkSizeRecalculated=function(i,a){nt(this.sizeRecalculated)&&(this.sizeRecalculated=nt(i.width)||nt(i.height)),i.src&&this.sizeRecalculated?aie(this.renderer,i.src,function(u,d){i.width=u.width,i.height=u.height,d===!1&&(i.animation=!1),a(i)}):a(i)},o}(As),JA={},by={},qc=function(){function s(){this.callbacks=[],this.idleDefer=new Kd,this.id=0}return s.prototype.on=function(o,i){var a=this,u={callback:o,event:this,un:function(){a.un(o)}};return this.callbacks.push({callback:o,subscriber:i}),u},s.prototype.onDefer=function(o,i,a){var u=this,d=this.id++;return this.on(function(f,v){return u.idleDefer.defer("event"+d,function(){return o.apply(u,[f,v])},i)},a)},s.prototype.un=function(o){this.callbacks=o?Xt(this.callbacks,function(i){return i.callback!==o}):[]},s.prototype.trigger=function(o,i){K(this.callbacks,function(a){return a.callback.apply(a.subscriber,[o,i])})},s}(),Kc=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.on=function(i,a){var u=this,d=We(this.callbacks,function(f){return f.callback===i});return d?{callback:d,event:this,un:function(){u.un(d)}}:s.prototype.on.call(this,i,a)},o}(qc),eM=function(s){function o(i){var a=s.call(this)||this;return a.domEventName=i,a.hasSubscription=!1,a.element=null,a}return e(o,s),o.prototype.setElement=function(i){this.element!==i&&(this.unsubscribeDomEvent(),this.element=i,this.subsribeDomEvent())},o.prototype.on=function(i,a){return i=s.prototype.on.call(this,i,a),this.subsribeDomEvent(),i},o.prototype.un=function(i){s.prototype.un.call(this,i),this.callbacks.length===0&&this.unsubscribeDomEvent()},o.prototype.subsribeDomEvent=function(){var i=this;this.hasSubscription||(this.element?this.callbacks.length&&(this.element.on(this.domEventName,function(a){i.trigger(l7(a,i.element,i.domEventName))}),this.hasSubscription=!0):this.hasSubscription=!1)},o.prototype.unsubscribeDomEvent=function(){this.hasSubscription&&(this.element&&this.element.un(this.domEventName),this.hasSubscription=!1)},o}(qc),tM=new qc,Nae=un(["width","height"]),DN=un(["d","animation","transition","clip-rule"]),Bae=ht(DN,un(["fill"])),nM=function(s){function o(i,a){return i=s.call(this,i,a)||this,i.path=i.renderElement().add(i),i}return e(o,s),o.prototype.attr=function(i,a){return!i||!Xi(i)?this.renderer.attr(this,i,a):(i.id&&this.renderer.attr(this,"id",i.id),i["clip-rule"]&&this.renderer.attr(this,"clip-rule",i["clip-rule"]),i=qf({},i,this.availableAttrs()),this.renderer.attr(this.path,i))},o.prototype.destroy=function(){return this.path&&(this.path.destroy(),delete this.path),this.renderer.destroy(this)},o.prototype.renderElement=function(){return this.renderer.path()},o.prototype.availableAttrs=function(){return DN},o}(As),Vae=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.renderElement=function(){return this.renderer.rect()},o.prototype.availableAttrs=function(){return Nae},o}(nM),zae=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.availableAttrs=function(){return Bae},o}(nM),SN=un(["fill","stroke","mask","clip-path"]),iM={},TN={horizontal:{c:[0,0,5,0]},"large-horizontal":{c:[0,0,10,0],size:10},"narrow-horizontal":{c:[0,0,2.5,0],size:2.5},"dark-horizontal":{c:[0,0,5,0],strokeWidth:4},vertical:{c:[0,0,0,5]},"large-vertical":{c:[0,0,0,10],size:10},"narrow-vertical":{c:[0,0,0,2.5],size:2.5},"dark-vertical":{c:[0,0,0,5],strokeWidth:4},"backward-diagonal":{c:[0,0,0,10],size:10,patternTransform:"rotate(45)"},"light-upward-diagonal":{c:[0,0,0,5],patternTransform:"rotate(45)"},"dark-upward-diagonal":{c:[0,0,0,5],strokeWidth:4,patternTransform:"rotate(45)"},"wide-upward-diagonal":{c:[0,0,0,10],strokeWidth:5,patternTransform:"rotate(45)",size:10},"forward-diagonal":{c:[0,0,0,10],size:10,patternTransform:"rotate(-45)"},"light-downward-diagonal":{c:[0,0,0,5],patternTransform:"rotate(-45)"},"dark-downward-diagonal":{c:[0,0,0,5],strokeWidth:4,patternTransform:"rotate(-45)"},"wide-downward-diagonal":{c:[0,0,0,10],strokeWidth:5,patternTransform:"rotate(-45)",size:10},"dashed-downward-diagonal":{c:[0,2.5,5,7.5],granualHeight:10},"dashed-upward-diagonal":{c:[5,2.5,0,7.5],granualHeight:10},"horizontal-brick":{d:"M0,0L0,5M0,5L10,5M5,5L5,10M10,5L10,0M0,10L10,10M0,0L10,0",size:10},"large-checker-board":{d:"M0,5L5,5 5,0 0,0ZM5,10L5,5 10,5 10,10Z",size:10,borderColor:"transparent",inside:!0},"small-checker-board":{d:"M0,2.5L2.5,2.5 2.5,0 0,0ZM2.5,5L2.5,2.5 5,2.5 5,5Z",borderColor:"transparent",inside:!0},"cross-diagonal":{d:"M0,0l10,10M10,0l-10,10",size:10},"dashed-horizontal":{d:"M0 1 L5 1M 5 6L10 6",size:10},"dashed-vertical":{d:"M1,0L1,5M6,5L6,10",size:10},"diagonal-brick":{d:"M5,0L0,5M0,5L5,10M5,10L10,5",size:10},"large-grid":{d:"M0,0L10,0M10,0L10,10",size:10},"small-grid":{d:"M0,0L5,0M5,0L5,5"},"solid-diamond":{d:"M0,1L4,5 0,9M10,1L6,5 10,9",size:10,inside:!0,borderColor:"transparent"},"outlined-diamond":{d:"M0,0L10,10M10,0L0,10",size:10,strokeWidth:1},wave:{d:"M1,2.5C2,5 4,5 5,2.5S8,0 9,2.5",granualWidth:10,insideBack:!0},weave:{d:"M3,0L0,3M0,3L7,10M7,10L10,7M10,7L3,0M2, 5L0, 7M5, 8L3, 10M8, 5L10, 3",size:10},"zig-zag":{d:"M0,5L5,0M5,0L10,5",granualWidth:10},percent05:{p:[[2.5,7.5],[7.5,2.5]],size:10},percent10:{p:[[1.5,4],[6.5,1.5]],granualWidth:10},percent20:{p:[[1,3.5],[3.5,1]]},percent25:{p:[[1,1.75],[3.5,.5]],granualHeight:2.5},"dotted-grid":{p:[[1,8.5],[3.5,8.5],[6,8.5],[8.5,8.5],[8.5,1],[8.5,3.5],[8.5,6]],size:10},"dotted-diamond":{p:[[4,1],[1.5,3.5],[6.5,3.5],[9,6],[1.5,8.5],[6.5,8.5]],size:10},dotted:{template:"circle"},image:{template:"image"},"image-large":{template:"image",size:10}},Hae={line:function(s){s=jv(s);var o=l(s.c,4);return C_(s.pattern,[{tag:"line",attr:{x1:o[0],y1:o[1],x2:o[2],y2:o[3],stroke:s.color,"stroke-width":s.strokeWidth,strokeDashArray:s.dashArray}}],s)},path:function(s){s=jv(s);var o=s.pattern,i=[{tag:"path",attr:{d:s.d,fill:s.inside?s.color:s.insideBack?s.backgroundColor:void 0,"stroke-width":s.strokeWidth||1,"border-color":s.borderColor,strokeDashArray:s.dashArray}}];return i.unshift({tag:"rect",attr:{width:s.granualWidth,height:s.granualHeight,fill:s.backgroundColor||"none","stroke-width":0}}),p7(o,[{tag:"g",attr:{stroke:s.color||"black","stroke-width":s.strokeWidth||1,childNodes:i}}],s)},point:function(s){return s=jv(s),C_(s.pattern,fe(s.p,function(o){return{tag:"circle",attr:{cx:o[0],cy:o[1],r:.5,fill:s.color}}}),s)},circle:function(s){return s=jv(s),C_(s.pattern,[{tag:"circle",attr:{cx:s.granualWidth/2,cy:s.granualHeight/2,r:.5,fill:s.color,transform:s.transform}}],s)},image:function(s){var o=/(.*)\((.*)\)/g.exec(s.color);if(!o)return null;o=l(o,3);var i=o[2];return!o[1]||!i?null:(o=Qf(i,", "),s.color=oh(o[0],`'"`),s=jv(s),C_(s.pattern,[{tag:"image",attr:{width:s.granualWidth,height:s.granualHeight,src:s.color}}],s))}},oa={translate:[[0,0],function(s){return s=Zt(s)?s:[s.x,s.y],s[0]===0&&s[1]===0?null:s}],rotate:[[0,0,0],function(s){return s=Zt(s)?s:[s,0,0],s[0]===0&&s[1]===0&&s[2]===0?null:s}],scale:function(s){return[[s],function(o){return o=Zt(o)?o:[o],o[0]===s?null:o}]}(1)},jae=function(){return function(){}}(),Gae=function(){return function(){}}(),AN=function(s,o,i){return[Zc(s[0],o[0],i),Zc(s[1],o[1],i)]},Zc=function(s,o,i){return s+(o-s)*i},Wae=function(s,o,i){return s+(o-s)*i},Uae=function(s,o,i){return s+(o-s)*(1-i)},Lw=function(s){return s&&s.val?s.val:s},ep=function(s){return s+""},rM=function(s){return Qn(s)?1:s},sM=function(s){return Qn(s)?0:s},MN=function(s,o,i){s=s||"black",o=o||"black",i=i.colorAnimation;var a=o&&o.meta&&o.meta.pattern;return!a&&s&&s.meta&&s.meta.pattern?Pd(s.meta.backgroundColor,o,i):(a?yne:Pd)(s,o,i)},oM={x:[ep,null,!0],y:[ep,null,!0],start:[ep,null,!0],end:[ep,null,!0],width:[ep,null,!0],height:[ep,null,!0],opacity:[rM,null,!1],rotate:[sM,null,!1],offsetX:[sM,null,!1],offsetY:[sM,null,!1],display:[ep,null,!1],transform:[function(s){return s},null,!1],fill:[Lw,MN,!0],stroke:[Lw,MN,!0],"stroke-opacity":[rM,null,!1],"stroke-width":[rM,null,!1],text:[Lw,function(s,o){return une(s,o)},!0],d:[Lw,function(s,o,i){return fie(s&&s.isPath?s:Jn(s),o&&o.isPath?o:Jn(o),i.pathAnimation)},!1]},$ae=/cubic-bezier\(\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*\)/,Yae=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,Iw=function(s,o){return function(i){if(1<=i)return 1;var a=1/s;return i+=o*a,i-i%a}},EN=function(s){return s},LN={activeDuration:0,totalDuration:0,delay:0,endDelay:0,fill:"none",iterationStart:0,iterations:1,duration:0,playbackRate:1,direction:"normal",easing:"linear",easingFunction:EN},IN=function(s){return s},Fm=function(s,o,i){if(typeof o=="number")return s=s||0,Math.round(1e4*(i*(o-s)+s))/1e4;if(typeof s=="boolean"&&typeof o=="boolean")return 1>i&&!o?s:o;if(P(o)){var a={};return xi(o,function(f){return a[f]=Fm(s[f],o[f],i)}),a}if(s.length==o.length){for(var u=[],d=0;d<s.length;d++)u.push(Fm(s[d],o[d],i));return u}throw Error("Wrong interpolation arguments "+s+":"+o)};iM.lineargradient=iM.radialgradient=function(s,o){var i=s.nodeName.toLowerCase(),a=function(v,x){return Qn(v)?x:v},u=null;if(i==="lineargradient"){var d={};K(["x1","y1","x2","y2"],function(v){return d[v]=a(s.attr(v),0)}),u={linearGradient:d},u.id=u.linearGradient.id=o}else if(i==="radialgradient"){var f={};K(["cx","cy","r","fx","fy"],function(v){return f[v]=a(s.attr(v),0)}),u={radialGradient:f},u.id=u.radialGradient.id=o}u&&(u.stops=fe(s.childNodes,function(v){return[a(v.attr("offset"),"0%"),a(v.attr("stop-color"),"black"),a(v.attr("stop-opacity"),"1")]}),s.val=u)};var aa=function(s,o){return nt(s)?o:Be(s)&&cy(s,"%")?s:100*s+"%"},ON={linearGradient:{keyPrefix:"linear-gradient",argsToAttrs:function(s){var o=s.linearGradient;if(Zt(o)){var i=l(o,6),a=i[0],u=i[1],d=i[2],f=i[3],v=i[4];i=i[5],v=v||o.hash||s.hash,i=i||o.id||s.id}else a=o.x1,d=o.x2,u=o.y1,f=o.y2,v=o.hash,i=o.id;return{attrs:{x1:a,x2:d,y1:u,y2:f,id:i,hash:v},stops:s.stops}},toString:function(s){return aa(s.x1,"0%")+" "+aa(s.y1,"0%")+" "+aa(s.x2,"100%")+" "+aa(s.y2,"0%")}},radialGradient:{keyPrefix:"radial-gradient",argsToAttrs:function(s){var o=s.radialGradient;if(Zt(o)){var i=l(o,7),a=i[0],u=i[1],d=i[2],f=i[3],v=i[4],x=i[5];i=i[6],x=x||o.hash||s.hash,i=i||o.id||s.id}else a=o.cx,u=o.cy,d=o.r,f=o.fx,v=o.fy,x=o.hash,i=o.id;return{attrs:{cx:a,cy:u,r:d,fx:f,fy:v,id:i,hash:x},stops:s.stops}},toString:function(s){return aa(s.cx,"50%")+" "+aa(s.cy,"50%")+" "+aa(s.r,"50%")+" "+aa(s.fx,aa(s.cx,"50%"))+" "+aa(s.fy,aa(s.cy,"50%"))}},stopToString:function(s){return aa(s.offset)+" "+s.color+" "+s.opacity}},_y={},aM=function(s,o){if(!s)return s;if(Be(s))return p(_y,s)?_y[s](s,o):s;var i={},a;for(a in s)if(p(s,a)){var u=s[a];p(_y,a)?_y[a](a,o,u,i,s):i[a]=u}return i},Xae=function(){function s(){}return s.prototype.resolve=function(o,i){return aM(o,i)},s}();py[1]=new Xae;var Ow={src:"xlink:href",fontWeight:"font-weight",fontStyle:"font-style",fontSize:"font-size",fontFamily:"font-family",textDecoration:"text-decoration",className:"class",strokeDashArray:"stroke-dasharray",textRendering:"text-rendering",textAnchor:"text-anchor",whiteSpace:"white-space",textAlign:"text-align",borderRadius:"border-radius"},qae=un(["d","animation","transition","clip-rule"]),RN=un(["class","id","translate","opacity"]),lM={color:"fill",fill:"fill",stroke:"stroke",borderColor:"stroke","border-color":"stroke",hatch:"fill",hatchPattern:"fill"},Kae={fill:"color",stroke:"border-color"},Zae=["stroke-width","strokeWidth","border-width","borderWidth"],Qae=["strokeAttrs","stroke","stroke-color","strokeColor"],Rw={transform:"transform"};xi(oa,function(s){return Rw[s]="transform"});var Pw={zIndex:"z-index","z-index":"z-index"},PN={"ease-out-cubic":"cubic-bezier(.215, .61, .355, 1)","ease-in-out-cubic":"cubic-bezier(.645, .045, .355, 1)","ease-in-circ":"cubic-bezier(.6, .04, .98, .335)","ease-out-circ":"cubic-bezier(.075, .82, .165, 1)","ease-in-out-circ":"cubic-bezier(.785, .135, .15, .86)","ease-in-expo":"cubic-bezier(.95, .05, .795, .035)","ease-out-expo":"cubic-bezier(.19, 1, .22, 1)","ease-in-out-expo":"cubic-bezier(1, 0, 0, 1)","ease-in-quad":"cubic-bezier(.55, .085, .68, .53)","ease-out-quad":"cubic-bezier(.25, .46, .45, .94)","ease-in-out-quad":"cubic-bezier(.455, .03, .515, .955)","ease-in-quart":"cubic-bezier(.895, .03, .685, .22)","ease-out-quart":"cubic-bezier(.165, .84, .44, 1)","ease-in-out-quart":"cubic-bezier(.77, 0, .175, 1)","ease-in-quint":"cubic-bezier(.755, .05, .855, .06)","ease-out-quint":"cubic-bezier(.23, 1, .32, 1)","ease-in-out-quint":"cubic-bezier(.86, 0, .07, 1)","ease-in-sine":"cubic-bezier(.47, 0, .745, .715)","ease-out-sine":"cubic-bezier(.39, .575, .565, 1)","ease-in-out-sine":"cubic-bezier(.445, .05, .55, .95)","ease-in-back":"cubic-bezier(.6, -.28, .735, .045)","ease-out-back":"cubic-bezier(.175, .885, .32, 1.275)","ease-in-out-back":"cubic-bezier(.68, -.55, .265, 1.55)"},Jae=un(["d","animation","transition","fill","display"]),ele=new RegExp("\xA0","gm");K([function(){Ws($n(Ow),_ie)},function(){Ws(["attr"],wie)},function(){Ws(["d"],Cie)},function(){Ws(["overflow"],kie)},function(){Ws(["clipPath"],T7)},function(){Ws(["shadow"],Sie)},function(){Ws($n(lM),Eie)},function(){Ws(Zae,Rie),Ws(Qae,Pie)},function(){Ws($n(Rw),Nie)},function(){Ws($n(Pw),Bie)},function(){Ws(["easing"],Vie)},function(){Ws(["mask"],zie)},function(){Ws(["text"],Hie)}],function(s){return s()});var tle=function(s,o,i){var a={},u=[];xi(oa,function(f){var v=oa[f][1](Fm(o[f],i[f],s));(v!=null||o[f])&&(v&&u.push(f+"("+Pa(v,",")+")"),a[f]=v)});var d=u.length?Pa(u," "):null;return d&&(a.val=d),d?a:null},Fw={transform:function(s,o){var i={translate:[0,0],scale:[1],rotate:[0,0,0]},a=s?qf(i,s,oa):i,u=o?qf(i,o,oa):i;return s={},xi(oa,function(d){a[d]===null&&(a[d]=oa[d][0]),u[d]===null&&(u[d]=oa[d][0]),d==="rotate"&&(a[d][1]=u[d][1],a[d][2]=u[d][2])}),s.transform={interpolate:function(d){return tle(d,a,u)}},{complex:!0,props:s}},display:function(s,o){return{from:s=="block",to:o=="block",convert:function(i){return i?"block":"none"}}}},nle=function(s,o){return{from:parseFloat(s),to:parseFloat(o),convert:IN}},ile=function(s,o){return{from:I3(s),to:I3(o),convert:IN}};K("opacity rotate offsetX offsetY start end stroke-width stroke-opacity".split(" "),function(s){return Fw[s]=nle}),K(["x","y","width","height"],function(s){return Fw[s]=ile});var cM=function(){return function(){}}(),rle=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.update=function(i){},o}(cM),sle=function(s){function o(i){var a=s.call(this)||this;return a.frameHandler=i,a}return e(o,s),o.prototype.update=function(i){this.frameHandler(i)},o}(cM),ole=function(s){function o(i,a){var u=s.call(this)||this;return u.frames=i,u.parseFrames(),a&&a.onFrame&&(u.onFrame=a.onFrame),u}return e(o,s),o.prototype.update=function(i){var a={},u=this.interpolations;xi(u,function(d){var f=u[d];a[d]=f.interpolate?f.interpolate(i):f.convert(Fm(f.from,f.to,i))}),this.onFrame&&this.onFrame(i,a,Fm)},o.prototype.parseFrames=function(){var i=this.frames[0],a=this.frames[this.frames.length-1],u={};xi(a,function(d){if(p(Fw,d)){var f=Fw[d](i[d],a[d]);f&&(f.complex?ke(u,f.props):u[d]=f)}}),this.interpolations=u},o}(cM),ale=function(s){function o(i,a,u,d){var f=s.call(this)||this;return f.timeLine=u,f.idle=!0,f.paused=!1,f.currentTimePending=!1,f.finishedFlag=!0,f._startTime=null,f._currentTime=0,f.playbackRate=1,f.inEffect=!1,f.effectTime=S7(a),i=ge(i)?new sle(i):Zt(i)&&1<i.length?new ole(i,a):new rle,f.effect=i,f.onFinishAnimation=a.onFinishAnimation,f._final=a.final,f.scope=a.scope,f.renderer=d,f}return e(o,s),o.prototype.play=function(){this.paused=!1,(this.isFinished()||this.idle)&&(this.rewind(),this._startTime=null),this.idle=this.finishedFlag=!1},o.prototype.pause=function(){this.isFinished()||this.paused||this.idle?this.idle&&(this.rewind(),this.idle=!1):this.currentTimePending=!0,this._startTime=null,this.paused=!0},o.prototype.finish=function(){if(!this.idle){var i=this.effectTime.options;this._currentTime=0<this.playbackRate?i.totalDuration:0,this._startTime=i.totalDuration-this._currentTime,this.currentTimePending=!1}},o.prototype.cancel=function(){this.inEffect&&(this.inEffect=!1,this.idle=!0,this.paused=!1,this.finishedFlag=!0,this._currentTime=0,this._startTime=null,this.updateEffect(null))},o.prototype.reverse=function(){this.playbackRate*=-1,this.play()},o.prototype.playState=function(){return this.idle?"idle":this._startTime==null&&!this.paused&&this.playbackRate!==0||this.currentTimePending?"pending":this.paused?"paused":this.isFinished()?"finished":"running"},o.prototype.isFinished=function(){var i=this.effectTime.options.totalDuration;return!this.idle&&(0<this.playbackRate&&(this._currentTime>i||this._currentTime===i&&i!==0)||0>this.playbackRate&&0>=this._currentTime)},o.prototype.frame=function(){var i=this;this.idle||this.paused||(this._startTime==null?this._startTime=this.timeLine.currentTime-this._currentTime/this.playbackRate:this.isFinished()||this.tickCurrentTime((this.timeLine.currentTime-this._startTime)*this.playbackRate)),this.currentTimePending=!1,this.isFinished()?this.finishedFlag||(this.onFinish&&ct.setTimeout(function(){i.onFinish()},0),this.finishedFlag=!0):this.finishedFlag=!1},o.prototype.startTime=function(){return this._startTime},o.prototype.currentTime=function(){return this._currentTime},o.prototype.rewind=function(){var i=this.effectTime.options;if(0<=this.playbackRate)this._currentTime=0;else if(1/0>i.totalDuration)this._currentTime=i.totalDuration;else throw Error("Unable to rewind negative playback rate animation with infinite duration")},o.prototype.tickCurrentTime=function(i){i!==this._currentTime&&(this._currentTime=i,this.updateEffect(0>this.playbackRate&&this._currentTime===0?-1:this._currentTime))},o.prototype.updateEffect=function(i){i=this.effectTime(i),this.inEffect=i!==null,this.effect.update(i===null?1:i)},o.prototype.finishAnimation=function(i){this.finish(),i&&(this.updateEffect(null),this.finishedFlag||(this.finishedFlag=!0,this.onFinish&&this.onFinish())),this.onFinish=null,this.onFinishAnimation&&this.onFinishAnimation(),this._final&&this._final()},o}(jae),lle=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.ticking=!1,i.animations=[],i._awaitCallbacks=[],i._framesCount=0,i}return e(o,s),o.prototype.animate=function(i,a,u){return i=new ale(i,a,this,u),this.animations.push(i),i.play(),this.startAnimationsFrame(),i},o.prototype.getAnimations=function(i){return this.discardAnimations(),i?Xt(this.animations,function(a){return a.scope===i}):this.animations},o.prototype.getOwnAnimations=function(i){return this.discardAnimations(),Xt(this.animations,function(a){return a.renderer===i})},o.prototype.await=function(i){this.ticking?this._awaitCallbacks.push(i):i(0)},o.prototype.startAnimationsFrame=function(){var i=this;i.ticking||(i.ticking=!0,i._framesCount=0,ct.requestAnimationFrame(function(a){return i.frame(a)}))},o.prototype.frame=function(i){var a=this;a.currentTime=i,a._framesCount++,K(a.animations,function(u){return u.frame()}),a.discardAnimations(),a.animations.length===0?a.final():ct.requestAnimationFrame(function(u){return a.frame(u)})},o.prototype.discardAnimations=function(){this.animations=Xt(this.animations,function(i){return i=i.playState(),i!=="finished"&&i!=="idle"})},o.prototype.final=function(){var i=this._awaitCallbacks.slice(),a=this._framesCount;this.ticking=!1,this._awaitCallbacks=[],setTimeout(function(){K(i,function(u){return u(a)})})},o}(Gae),ch=new(function(){function s(){}return s.prototype.create=function(){return new lle},s}())().create(),uM={},cle=function(){function s(){}return s.prototype.createEventsProcessorType=function(){return"ontouchstart"in ct?dle:"PointerEvent"in ct?ple:hle},s}(),ule=function(){function s(){this.subscribedEvents={}}return s.prototype.isStoreEvent=function(o){return uM[o]!=null},s.prototype.addEvent=function(o,i,a){var u=uM[i];return u?(this.subscribedEvents[i]||(this.subscribedEvents[i]=[]),o=new u(o,a),o.on(),this.subscribedEvents[i].push(o),!0):!1},s.prototype.removeEvent=function(o,i,a){if(!this.isStoreEvent(i))return!1;if(!this.subscribedEvents[i])return!0;for(var u=this.subscribedEvents[i].length,d=0;d<u;d++){var f=this.subscribedEvents[i][d];f.eventTarget!==o||a&&f.fn!==a||(this.subscribedEvents[i].splice(d,1),f.un(),u--)}return!0},s}(),Nm={},Co=function(){function s(o,i){var a=this;this.eventTarget=o,this.fn=i,this.pointers={},this.pointerEvents=["pointerdown","pointerenter","pointerout"],this.publicPointerEvents=["pointermove","pointerup","pointercancel","pointerout"],this.touchEvents=["touchstart","touchend","touchmove","touchcancel"],this.publicTouchEvents=[],this.mouseEvents=["mousedown","mousemove","mouseover","mouseout","mouseup"],this.publicMouseEvents=[],this.innerEventsHandler=function(u){u.type===Jt.Down&&(a.pointers[u.id]=u),a.processEventDescription(u),u.eventData.pointers=a.pointersToArray(),a.eventsHandler(u),u.type===Jt.Move&&a.pointers[u.id]&&(a.pointers[u.id]=u),(u.type===Jt.Up||u.type===Jt.Leave)&&(delete a.pointers[u.id],delete Nm[u.id])}}return s.prototype.on=function(){this.hasSubscription||(this.subscribe(),this.hasSubscription=!0)},s.prototype.un=function(){this.hasSubscription&&(this.unsubscribe(),this.hasSubscription=!1)},s.prototype.clearPointers=function(){for(var o in Nm)delete Nm[o]},s.prototype.pointersToArray=function(){var o=[],i;for(i in Nm)o.push(Nm[i]);return o},s.prototype.subscribe=function(){this.eventsProcessor=new(new cle().createEventsProcessorType())(this.eventTarget,this.innerEventsHandler,{pointerEvents:this.pointerEvents,publicPointerEvents:this.publicPointerEvents,touchEvents:this.touchEvents,publicTouchEvents:this.publicTouchEvents,mouseEvents:this.mouseEvents,publicMouseEvents:this.publicMouseEvents}),this.eventsProcessor.subscribe()},s.prototype.unsubscribe=function(){this.eventsProcessor.unsubscribe()},s.prototype.processEventDescription=function(o){Nm[o.id]=new fle(o.id,o.pageX,o.pageY,o.clientX,o.clientY)},s}();(function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.pointerEvents=["pointerdown"],i.publicPointerEvents=["pointerup","pointercancel"],i.touchEvents=["touchstart"],i.publicTouchEvents=["touchend","touchcancel"],i.mouseEvents=["mousedown"],i.publicMouseEvents=["mouseup","mouseout"],i}return e(o,s),o.prototype.eventsHandler=function(i){switch(i.type){case Jt.Down:i.eventData.customEventType="vdown",fm(i,this.eventTarget),this.fn(i.eventData)}},o=n([xo("vdown")],o)})(Co),function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.subscribe=function(){var i=this;i.eventsProcessor=new FN(i.eventTarget,function(a){return i.eventsHandler(a)},{events:["keyup"]}),i.eventsProcessor.subscribe()},o.prototype.eventsHandler=function(i){i.keyCode==13&&this.fn(i)},o=n([xo("vkeyenter")],o)}(Co),function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.subscribe=function(){var i=this;i.eventsProcessor=new FN(i.eventTarget,function(a){return i.eventsHandler(a)},{events:["focus","blur"]}),i.eventsProcessor.subscribe()},o.prototype.eventsHandler=function(i){i.type==="focus"?i.hasFocus=!0:i.type==="blur"&&(i.hasFocus=!1),this.fn(i)},o=n([xo("vchangefocus")],o)}(Co),function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.pointerEvents=["pointerup","pointercancel"],i.publicPointerEvents=[],i.touchEvents=["touchend","touchcancel"],i.mouseEvents=["mouseup","mouseout"],i}return e(o,s),o.prototype.eventsHandler=function(i){switch(i.type){case Jt.Up:i.eventData.customEventType="vup",fm(i,this.eventTarget),this.fn(i.eventData)}},o=n([xo("vup")],o)}(Co),function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.pointerEvents=["pointermove","pointerdown","pointerout","pointerleave"],i.publicPointerEvents=["pointerup","pointercancel"],i.touchEvents=["touchmove","touchstart","touchend","touchcancel"],i.mouseEvents=["mousemove","mousedown","mouseup"],i.downArgs=[],i._resetDiff=4,i}return e(o,s),o.prototype.subscribe=function(){s.prototype.subscribe.call(this)},o.prototype.eventsHandler=function(i){var a=Zb(this.downArgs,"id",i.id);switch(i.type){case Jt.Down:if(!I7(i.eventData))break;this.downArgs.push(i);break;case Jt.Move:if(!a)break;var u=a.clientX-i.clientX;i=a.clientY-i.clientY,u*u+i*i>this._resetDiff&&this.downArgs.splice(this.downArgs.indexOf(a),1);break;case Jt.Up:a&&a.id===i.id&&a.eventData.target===i.eventData.target&&(i.eventData.customEventType="vclick",fm(i,this.eventTarget),this.fn(i.eventData),this.downArgs.splice(this.downArgs.indexOf(a),1))}},o=n([xo("vclick")],o)}(Co),function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.pointerEvents=["pointerenter","pointerleave","pointercancel"],i.publicPointerEvents=[],i.touchEvents=["touchstart","touchend","touchcancel"],i.mouseEvents=["mouseover","mouseout"],i}return e(o,s),o.prototype.eventsHandler=function(i){switch(i.type){case Jt.Down:case Jt.Enter:i.eventData.customEventType="venter",fm(i,this.eventTarget),this.fn(i.eventData)}},o=n([xo("venter")],o)}(Co),function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.pointerEvents=["pointerout","pointercancel"],i.publicPointerEvents=[],i.touchEvents=["touchend","touchcancel"],i.mouseEvents=["mouseout"],i}return e(o,s),o.prototype.eventsHandler=function(i){switch(i.type){case Jt.Up:case Jt.Leave:i.eventData.customEventType="vleave",this.fn(i.eventData)}},o=n([xo("vleave")],o)}(Co),function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.pointerEvents=["pointermove"],i.touchEvents=["touchmove"],i.mouseEvents=["mousemove"],i.publicPointerEvents=["pointerup","pointercancel"],i.publicTouchEvents=["touchend","touchcancel"],i.publicMouseEvents=["mouseup","mouseout"],i}return e(o,s),o.prototype.eventsHandler=function(i){switch(i.type){case Jt.Move:i.eventData.customEventType="vmove",fm(i,this.eventTarget),this.fn(i.eventData)}},o=n([xo("vmove")],o)}(Co),function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.timeoutId=null,i.timeout=750,i}return e(o,s),o.prototype.eventsHandler=function(i){var a=this;switch(i.type){case Jt.Down:this.timeoutId=setTimeout(function(){a.fn({type:"taphold",clientX:i.clientX,clientY:i.clientY}),a.timeoutId=null},this.timeout);break;case Jt.Move:case Jt.Up:this.reset()}},o.prototype.reset=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},o=n([xo("taphold")],o)}(Co),function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.distance=0,i.distanceX=0,i.distanceY=0,i.threshold=.3,i}return e(o,s),o.prototype.eventsHandler=function(i){switch(i.type){case Jt.Move:this.callPinchEvent(i);break;case Jt.Up:Object.keys(this.pointers).length===2&&(this.distance=0)}},o.prototype.callPinchEvent=function(i){var a=Object.keys(this.pointers);if(a.length!==2)this.distance=0;else{var u=this.pointers[a[0]],d=this.pointers[a[1]],f=!1,v=!1;u.id===i.id?(u=i,f=u.clientX<d.clientX,v=u.clientY<d.clientY):d.id===i.id&&(d=i,f=d.clientX<u.clientX,v=d.clientY<u.clientY);var x=this.calculateDistance(u,d),b=this.calculateAxisDistance(u,d,{x:1,y:0}),w=this.calculateAxisDistance(u,d,{x:0,y:1});if(this.distance===0)this.distance=x,this.distanceX=b,this.distanceY=w;else{var k=x-this.distance;if(!(Math.abs(k)<this.threshold)){var D=b-this.distanceX,T=w-this.distanceY;this.distance=x,this.distanceX=b,this.distanceY=w,this.fn({type:"pinch",distance:this.distance,offset:k,offsetX:D,offsetY:T,isLeftPointer:f,isTopPointer:v,pointersCount:a.length,eventData:i.eventData,firstClientX:u.clientX,firstClientY:u.clientY,secondClientX:d.clientX,secondClientY:d.clientY})}}}},o.prototype.calculateDistance=function(i,a){var u=a.clientX-i.clientX;return i=a.clientY-i.clientY,Math.sqrt(u*u+i*i)},o.prototype.calculateAxisDistance=function(i,a,u){return Math.abs(u.x*a.clientX+u.y*a.clientY-(u.x*i.clientX+u.y*i.clientY))},o=n([xo("pinch")],o)}(Co),function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.eventsHandler=function(i){switch(i.type){case Jt.Move:this.callMoveEvent(i)}},o.prototype.callMoveEvent=function(i){var a=i.id;this.pointers[a]&&this.fn({type:"move",offsetX:i.clientX-this.pointers[a].clientX,offsetY:i.clientY-this.pointers[a].clientY,pointersCount:Object.keys(this.pointers).length})},o=n([xo("move")],o)}(Co),function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.timeoutInterval=function(){return 500},o.prototype.resetTimeoutInterval=function(){return 300},o.prototype.getName=function(){return"DoubleTapEvent"},o.prototype.tapCount=function(){return 2},o=n([xo("doubletap")],o)}(function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.timeoutId=null,i.resetTimeoutId=null,i.currentTapCount=0,i}return e(o,s),o.prototype.eventsHandler=function(i){var a=this;switch(i.type){case Jt.Down:clearTimeout(this.timeoutId),clearTimeout(this.resetTimeoutId),this.currentTapCount++,this.timeoutId=setTimeout(function(){a.currentTapCount===a.tapCount()&&(i.eventData.customEventType=a.getName(),fm(i,a.eventTarget),a.fn(i.eventData)),a.currentTapCount=0},this.timeoutInterval());break;case Jt.Up:this.resetTimeoutId=setTimeout(function(){a.currentTapCount=0},this.resetTimeoutInterval())}},o}(Co)),function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.getName=function(){return"vdblclick"},o.prototype.clicksCount=function(){return 2},o.prototype.timeout=function(){return 300},o=n([xo("vdblclick")],o)}(function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.downArgs=[],i.currentClicksCount=0,i}return e(o,s),o.prototype.eventsHandler=function(i){var a=this,u=Zb(this.downArgs,"id",i.id);switch(i.type){case Jt.Down:if(!I7(i.eventData))break;clearTimeout(this.timeoutId),this.downArgs.push(i);break;case Jt.Up:u&&u.id===i.id&&u.eventData.target===i.eventData.target&&(clearTimeout(this.timeoutId),this.currentClicksCount++,i.eventData.customEventType=this.getName(),this.currentClicksCount===this.clicksCount()?(this.fn(i.eventData),this.currentClicksCount=0):this.timeoutId=setTimeout(function(){a.currentClicksCount=0},this.timeout()),this.downArgs.splice(this.downArgs.indexOf(u),1))}},o}(Co));var Jt=function(s){return s[s.None=0]="None",s[s.Down=1]="Down",s[s.Move=2]="Move",s[s.Enter=3]="Enter",s[s.Leave=4]="Leave",s[s.Up=5]="Up",s}(Jt||{}),hM=function(){return function(s,o,i,a,u,d,f){this.type=s,this.id=o,this.pageX=i,this.pageY=a,this.clientX=u,this.clientY=d,this.eventData=f}}(),Nw=function(){function s(o,i,a){a===void 0&&(a={}),this.el=o,this.eventsHandler=i,this.options=a}return s.prototype.getWindowForElement=function(){var o=this.el;return o=o.ownerDocument||o,o.defaultView||o.parentWindow||ct},s.prototype.triggerEventsHandler=function(o){this.eventsHandler&&this.eventsHandler(o)},s.prototype.handleEvents=function(o,i,a,u){var d;if(o&&o.length){try{for(var f=r(o),v=f.next();!v.done;v=f.next())this.el[i](v.value,a,u)}catch(b){var x={error:b}}finally{try{v&&!v.done&&(d=f.return)&&d.call(f)}finally{if(x)throw x.error}}return!0}return!1},s.prototype.handlePublicEvents=function(o,i,a,u){var d,f=this.getWindowForElement();if(o&&o.length){try{for(var v=r(o),x=v.next();!x.done;x=v.next())f[i](x.value,a,u)}catch(w){var b={error:w}}finally{try{x&&!x.done&&(d=v.return)&&d.call(v)}finally{if(b)throw b.error}}return!0}return!1},s}(),FN=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.handler=function(a){i.triggerEventsHandler(a)},i}return e(o,s),o.prototype.subscribe=function(){this.handleEvents(this.options.events,"addEventListener",this.handler),this.handlePublicEvents(this.options.publicEvents,"addEventListener",this.handler)},o.prototype.unsubscribe=function(){this.handleEvents(this.options.events,"removeEventListener",this.handler),this.handlePublicEvents(this.options.publicEvents,"removeEventListener",this.handler)},o}(Nw),hle=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.handler=function(a){switch(a.type.toLowerCase()){case"mousedown":var u=Jt.Down;break;case"mousemove":u=Jt.Move;break;case"mouseover":u=Jt.Enter;break;case"mouseout":u=Jt.Leave;break;case"mouseup":u=Jt.Up}i.triggerEventsHandler(new hM(u,"1",a.pageX,a.pageY,a.clientX,a.clientY,a))},i}return e(o,s),o.prototype.subscribe=function(){this.handleEvents(this.options.mouseEvents,"addEventListener",this.handler),this.handlePublicEvents(this.options.publicMouseEvents,"addEventListener",this.handler)},o.prototype.unsubscribe=function(){this.handleEvents(this.options.mouseEvents,"removeEventListener",this.handler),this.handlePublicEvents(this.options.publicMouseEvents,"removeEventListener",this.handler)},o}(Nw),dle=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.handler=function(a){switch(a.type.toLowerCase()){case"touchstart":i.triggerTouchEvent(Jt.Down,a);break;case"touchmove":i.triggerTouchEvent(Jt.Move,a);break;case"touchend":case"touchcancel":i.triggerTouchEvent(Jt.Up,a)}},i}return e(o,s),o.prototype.subscribe=function(){this.handleEvents(this.options.touchEvents,"addEventListener",this.handler,{passive:!1}),this.handlePublicEvents(this.options.publicTouchEvents,"addEventListener",this.handler,{passive:!1})},o.prototype.unsubscribe=function(){this.handleEvents(this.options.touchEvents,"removeEventListener",this.handler),this.handlePublicEvents(this.options.publicTouchEvents,"removeEventListener",this.handler)},o.prototype.triggerTouchEvent=function(i,a){for(var u=0;u<a.changedTouches.length;u++){var d=a.changedTouches[u];this.triggerEventsHandler(new hM(i,d.identifier,d.pageX,d.pageY,d.clientX,d.clientY,a))}},o}(Nw),ple=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.handler=function(a){var u=a.type,d=i.getIdFromEvent(a);switch(u.toLowerCase()){case"pointerdown":var f=Jt.Down;break;case"pointermove":f=Jt.Move;break;case"pointerenter":f=Jt.Enter;break;case"pointerout":f=Jt.Leave;break;case"pointerup":case"pointercancel":case"pointerleave":f=Jt.Up}i.triggerEventsHandler(new hM(f,d,a.pageX,a.pageY,a.clientX,a.clientY,a))},i}return e(o,s),o.prototype.subscribe=function(){this.handleEvents(this.options.pointerEvents,"addEventListener",this.handler),this.handlePublicEvents(this.options.publicPointerEvents,"addEventListener",this.handler)},o.prototype.unsubscribe=function(){this.handleEvents(this.options.pointerEvents,"removeEventListener",this.handler),this.handlePublicEvents(this.options.publicPointerEvents,"removeEventListener",this.handler)},o.prototype.getIdFromEvent=function(i){return i.pointerId.toString()},o}(Nw),fle=function(){return function(s,o,i,a,u){this.id=s,this.pageX=o,this.pageY=i,this.clientX=a,this.clientY=u}}(),mle=un(["div","input","button"]),Bw=function(s){return s?p(mle,s.toLowerCase()):!1},Vw=function(s,o,i){return o=i||"svg",(o=Bw(s)?"http://www.w3.org/1999/xhtml":o==="svg"?"http://www.w3.org/2000/svg":o==="html"?"http://www.w3.org/1999/xhtml":void 0)?Qt.createElementNS(o,s):Qt.createElement(s)},gle=function(s){if(s){var o=s.parentNode;o&&o.removeChild(s)}},vle="alt disabled href id src style title class onclick tabindex role aria-label".split(" "),yle=["user-select","outline"],NN=function(s){if(s.lastIndexOf("xml:",0)===0)return"http://www.w3.org/XML/1998/namespace";if(s.lastIndexOf("xlink:",0)===0)return"http://www.w3.org/1999/xlink"},dM=function(s,o){return s=s.tagName.toLowerCase(),Bw(s)&&vle.indexOf(o)===-1||-1<yle.indexOf(o)},BN={width:"0",height:"0",x:"0",y:"0","z-index":"0",fill:"black",stroke:"none",opacity:"1","stroke-width":"1",display:"inline",visibility:"visible",transform:"none","clip-path":"none"},xle=mT("width,height,font-size,font-family"),pM={image:function(s,o){return s.createElement(kN,"image",o)},clipRect:function(s,o){return s.createElement(Vae,"clipPath",o)},clipPath:function(s,o){return s.createElement(nM,"clipPath",o)},mask:function(s,o){return s.createElement(zae,"mask",o)}},VN=function(s,o){var i=Qt.createElement("div"),a=function(O){return'<div style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;'+(O||"")+'"></div></div>'};i.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",i.innerHTML=a()+a(" width: 200%; height: 200%"),s.appendChild(i);var u,d,f,v,x=s.offsetWidth,b=s.offsetHeight,w=i.childNodes[0],k=w.childNodes[0],D=i.childNodes[1],T=function(){k.style.width="100000px",k.style.height="100000px",w.scrollLeft=1e5,w.scrollTop=1e5,D.scrollLeft=1e5,D.scrollTop=1e5};T();var M=function(){d=0,u&&(x=f,b=v,o.call())},I=function(){f=s.offsetWidth,v=s.offsetHeight,(u=f!==x||v!==b)&&!d&&(d=ct.requestAnimationFrame(M)),T()};return a=function(O){O.attachEvent?O.attachEvent("onscroll",I):O.addEventListener("scroll",I)},a(w),a(D),ct&&(ct.addEventListener("beforeprint",function(O){i&&(i.style.display="none")}),ct.addEventListener("afterprint",function(O){i&&(i.style.display="")})),i},ble=function(s){function o(i){var a=this;i=i||{};var u=i.container,d=i.textRendering,f=a=s.call(this,u,i.width,i.height,i.defaultWidth,i.defaultHeight)||this;if(lie(f),f.disableAnimation=!1,f.eventsStore=new ule,f._noRender=i.noRender,f._staticSize=i.staticSize,f._skipDomDestroy=i.skipDomDestroy,f._defaultOptions={transition:{animation:{duration:500,easing:"ease-in-out-circ"},generator:"default"}},f._measuringImages={},!f._noRender){f.initContainer(u),u=f.root&&f.root.el;var v=f.getSvgSize(),x=f.width||"100%",b=f.height||"100%";f.documentElement=new As(Qt.documentElement,f),f.root=u?f.root:f.svg({width:v.width,height:v.height,textRendering:d}),f.overlay=f.htmlElement("",{id:Qu("overlay"),position:"absolute",left:0,top:0}),f.wrapper=f.htmlElement("",{id:LP("JSCharting_")}),f.wrapper.attr({width:x,height:b,"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)",position:"relative"}),f.container.el.appendChild(f.wrapper.el),f.wrapper.el.appendChild(f.root.el),f.wrapper.el.appendChild(f.overlay.el),!i.staticSize&&(f._resizeSensor=VN(f.wrapper.el,function(){return f.rootResize()}))}return a}return e(o,s),o.prototype.resubscribeResize=function(){var i=this;i._resizeSensor&&(i._resizeSensor.parentNode.removeChild(i._resizeSensor),i._resizeSensor=VN(i.wrapper.el,function(){return i.rootResize()}))},o.prototype.setCursor=function(i){this._setCursor!==i&&this.processAttributes(this.wrapper,{cursor:i}),this._setCursor=i},o.prototype.getCursor=function(){return this._setCursor},o.prototype.element=function(i,a,u){var d=this;if(!nt(i)){if(i instanceof As)return i;if(p(pM,i))return pM[i](this,a);if(!Be(i))return this.element(i.tag,i.attr,u);var f=a?a.childNodes:null;f&&(a=_i(a,["childNodes"]));var v=this.createElement(As,i,a,u);return v&&f&&K(f,function(x){d.element(x).add(v)}),v}},o.prototype.isRootHidden=function(){var i=this.root&&this.root.el;return i?(i=ct.getComputedStyle(i),i.visibility==="hidden"||i.display==="none"):!0},o.prototype.isRootDestroyed=function(){var i=this.root;return i?i.isDestroyed:!0},o.prototype.add=function(i,a){var u=i.el instanceof HTMLElement,d=a&&a.el&&a.el instanceof HTMLElement;return a&&a.addElementToParent&&!u?(a.addElementToParent(i),i):(a=u?d?a:this.overlay:a||this.root,i.data.zIndex||a.data.ordered?(u=i.data.zIndex||0,a.data.ordered=!0,F7(a,i,u),i):(O7(a,i),i))},o.prototype.addBefore=function(i,a){return Gv(i,a),i},o.prototype.addAfter=function(i,a){return R7(i,a),i},o.prototype.attr=function(i,a,u){var d;if(nt(a))return N7(i),i;if(!a)return i;var f=Be(a),v=h(u),x=f&&!v,b=a;return f&&v&&(b=(d={},d[a]=u,d)),i?b.transition?(i.transition(b.transition),i):(a=this.processAttributes(i,aM(b,i)),x?a:i):this.rootAttr(b,x)},o.prototype.rect=function(i,a,u,d,f,v){return nt(i)?this.element("rect"):(i=Xi(i)?i:{x:i,y:a,width:u,height:d,rx:f,ry:v},this.element("rect",i))},o.prototype.circle=function(i,a,u){return nt(i)?this.element("circle"):(i=Xi(i)?i:{cx:i,cy:a,r:u},this.element("circle",i))},o.prototype.image=function(i,a,u,d,f){return nt(i)?this.element("image"):(i=Xi(i)?i:{src:i,x:a,y:u,width:d,height:f},this.createElement(kN,"image",i))},o.prototype.query=function(i,a){return a?this.wrap(D_(i,a.el)):this.wrap(D_(i))},o.prototype.queryAll=function(i){var a=this;return i=Qt.querySelectorAll(i),fe(i,function(u){return a.wrap(u)})},o.prototype.svg=function(i){return i=this.createElement(As,"svg",i),i.el.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.el.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.element("desc",{text:"Created with JSCharting"}).add(i),i},o.prototype.reCreateElement=function(i,a){var u=i.parentNode,d=Vw(a);return i.destroy(),i.init(d,a),i.isPatched=!0,u&&i.add(u),i},o.prototype.destroy=function(i,a){var u=this;if(a=a||u._skipDomDestroy,i){var d=w_(u);T3(u,i,function(v){return d&&E3(u,v)});var f=i.data.events;return f&&f.length&&K(f.slice(0),function(v){return u.un(i,v.type,v.fn)}),!a&&jie(i),i.isDestroyed=!0,i}return d&&d.destroy(),w_(u,null),ct.removeEventListener("resize",void 0,!1),zne(u.container.attr("id"))&&u.destroy(u.container),u.destroy(u.wrapper),u.destroy(u.overlay),u.destroy(u.documentElement,!0),u.destroy(u.root)},o.prototype.on=function(i,a,u){var d=function(f){return u.call(i,f)};return this.eventsStore.addEvent(i.el,a,d)||i.el.addEventListener(a,d,!1),(i.data.events=i.data.events||[]).push({type:a,fn:u,f:d}),i},o.prototype.un=function(i,a,u){if(!i.data.events)return i;for(var d=i.data.events=i.data.events||[],f=d.length-1;-1<f;f--){var v=d[f];v.type!==a&&a||v.fn!==u&&u||(this.eventsStore.removeEvent(i.el,v.type,v.f)||i.el.removeEventListener(v.type,v.f,!1),d.splice(f,1))}return i},o.prototype.box=function(i,a){var u=this,d;if(i&&(d=i.el)){var f=ct.getComputedStyle(d),v=f.width,x=f.height;if(0<v.indexOf("px")&&0<x.indexOf("px")&&(v=parseInt(v),x=parseInt(x),x===0&&v===0&&d.getBBox&&(d=d.getBBox(),v=d.width,x=d.height),0<=v&&0<=x))return{x:parseInt(f.x),y:parseInt(f.y),width:v,height:x}}a=Wie(i||this.root,a),f=h(this.width)&&ss(this.width),d=h(this.height)&&ss(this.height);var b=function(k){var D;return!(!((D=u.root)===null||D===void 0)&&D.attr)||u.root.attr(k)!=="100%"};v=!a.width&&!f,x=!a.height&&!d;var w=v&&b("width");return b=x&&b("height"),i||!w&&!b||this._staticSize?(i||!v&&!x||(v=this.container.getBbox(),a.width=a.width||v.width,a.height=a.height||v.height),this._defaultSizeIsSet=!1):(a.width=a.width||this.defaultWidth,a.height=a.height||this.defaultHeight,(v=this.wrapper)&&En.emit("warning",v.attr("id"),"defaultSizeIsSet",{container:v.el}),this._defaultSizeIsSet=!0),i||(f&&(a.width=this.width),d&&(a.height=this.height)),a},o.prototype.isDefaultSizeSet=function(){return this._defaultSizeIsSet},o.prototype.pathInner=function(i,a){if(nt(a))return this.createElement(i,"path");var u=Zt(a);return a=Be(a)||u?{d:u?Pa(a," "):a}:a,Zt(a.d)&&(a.d=Pa(a.d," ")),a.d&&a.d.path&&(a.d=a.d.path),this.createElement(i,"path",a)},o.prototype.rootResize=function(){if(!this.width||!this.height){var i=this.root.attr("display"),a=this.getSvgSize(),u=this.root.renderer.defaultHeigh;i={width:a.width,display:i};var d=this.root.data.attrs.height,f=parseInt(d),v=y(this.root.el,["parentNode","parentElement"]);d===u+""?(u=v.offsetHeight,v=v.firstElementChild,(d=v.classList.item(0)==="chartGridSwitch")?u<f+(d&&v.offsetHeight)&&(i.height=a.height):u!==f&&(i.height=a.height)):i.height=a.height,this.root.attr(i)}tM&&tM.trigger()},o.prototype.getSvgSize=function(){var i=this.container.getBbox();return{width:this.width||(i.width?"100%":this.defaultWidth),height:this.height||(i.height?"100%":this.defaultHeight)}},o.prototype.wrap=function(i){return Wv(i,this)},o.prototype.createElement=function(i,a,u,d){return d=Vw(a,null,d),i=new i(d,this,a),i.nodeName==="path"&&(u=u||{},u.fill||(u.fill="none"),u.stroke||(u.stroke="none")),u&&i.attr(u),i.isPatched=!0,i},o.prototype.processAttributes=function(i,a){var u=this;if(a&&(a.beforeAttr&&(a.beforeAttr(a),delete a.beforeAttr),a.reset&&(N7(i,a),delete a.reset),i.el)){if(Be(a))return B7(i,a);var d=this.isAnimationDisabled();if(d||!i.isPatched||!a.autoTransition&&!a.animation||!i.tryAutoTransition(a)){if(p(a,"animation")&&(a.animation=void 0),a.continueAnimation){if(a.continueAnimation=void 0,i._transition&&i._transition.attachToEnd(a))return}else i.finishAnimation(d?null:a);return Gie(i,a,function(f,v,x){u7(u,f,v,x,function(b){return E3(u,b)})})}}},o.prototype.isAnimationDisabled=function(i){return this.disableAnimation||this._defaultOptions.transition.animation===!1||i&&i.animation===!1},o.prototype.showHide=function(i,a){var u=i.attr("display");return a!==(u!=="none")&&i.attr("display",a?null:"none"),i},o.prototype.show=function(i){return this.showHide(i,!0)},o.prototype.hide=function(i){return this.showHide(i,!1)},o.prototype.visible=function(i,a){return this.showHide(i,h(a)?a:i.attr("display")==="none")},o.prototype.calculateImageSize=function(i,a){cy(i,".svg")?this.calculateSvgImageSize(i,a):this.calculateRasterImageSize(i,a)},o.prototype.load=function(i,a){var u=this;Xte(i,function(d){var f=d.data,v=Vw("div",null,"html");if(d=!0,/^\s*<\s*svg(?:\s|>)/m.test(f)||(f='<svg xmlns="http://www.w3.org/2000/svg">'+f+"</svg>",d=!1),v.innerHTML=f,f=v.getElementsByTagName("svg")[0])if(d)d=Wv(f,u);else{for(d=Qt.createDocumentFragment();f.firstChild;)d.appendChild(f.firstChild);d=Wv(d,u)}else d=null;return a(d)})},o.prototype.htmlElement=function(i,a){i=i||"";var u=Vw("div",null,"html");return u.innerHTML=i,i=Wv(u,this,"div"),a&&i.attr(a),i},o.prototype.relativeToRoot=function(i,a){var u=this.getRootBoundingClientRect();return{x:i-u.left,y:a-u.top}},o.prototype.getClientXY=function(i){var a=this.getRootBoundingClientRect(),u=i.getBbox(),d=0,f=0;do{var v=(v=i.attr("transform").translate)?[v[0],v[1]]:[0,0];d+=v[0],f+=v[1],i=i.parentNode}while(i&&i.el.tagName!=="svg");return{x:u.x+a.left+d,y:u.y+a.top+f}},o.prototype.isAnimating=function(){return 0<ch.getAnimations().length},o.prototype.isAnimatingOwn=function(){return 0<ch.getOwnAnimations(this).length},o.prototype.getOffsetsFromVisualViewport=function(i){var a=Qt.documentElement.getBoundingClientRect();return i=i.parentNode?i.getBoundingClientRect():{top:0,left:0},{top:i.top-a.top-window.pageYOffset,left:i.left-a.left-window.pageXOffset}},o.prototype.getRootBoundingClientRect=function(){var i=this;return i._rootBoundingClientRect||(i._rootBoundingClientRect=i.getOffsetsFromVisualViewport(i.root.el),ct.setTimeout(function(){i._rootBoundingClientRect=null},1e3)),i._rootBoundingClientRect},o.prototype.cssText=function(i,a){var u=Qt,d=u.head||u.getElementsByTagName("head")[0],f=u.createElement("style");a&&f.setAttribute("id",a),f.type="text/css",f.styleSheet?f.styleSheet.cssText=i:f.appendChild(u.createTextNode(i)),d.appendChild(f)},o.prototype.calculateRasterImageSize=function(i,a){var u=function(f){return f.addEventListener("load",function(){return a(f.width,f.height)})};if(this._measuringImages[i])d=this._measuringImages[i],d.width?a(d.width,d.height):u(d);else{this._measuringImages[i]=new Image;var d=this._measuringImages[i];u(d),d.src=i}},o.prototype.calculateSvgImageSize=function(i,a){this.load(i,function(u){return a(u.attr("width")||0,u.attr("height")||0)})},o.prototype.rootAttr=function(i,a){var u=this.wrapper,d=this.root;if(a)return i==="disableAnimation"?this.disableAnimation:this.processAttributes(d,i);i.transition&&(ke(this._defaultOptions.transition,i.transition),delete i.transition),p(i,"disableAnimation")&&(this.disableAnimation=i.disableAnimation,delete i.disableAnimation),i.container&&(this.replaceContainer(i.container),delete i.container),Ds(i)||(a=aM(i,d),i=Ii(a,xle),a=Ii(a),i&&this.processAttributes(u,i),a&&this.processAttributes(d,a))},o.prototype.defaultOptions=function(){return this._defaultOptions},o.prototype.replaceContainer=function(i){this.initContainer(i),this.container.el.appendChild(this.wrapper.el),this.wrapper.el.appendChild(this.root.el),this.wrapper.el.appendChild(this.overlay.el)},o.prototype.initContainer=function(i){if(i&&(Be(i)||i.tagName)){if(i=i.tagName?i:D_(i),i.tagName.toLowerCase()==="svg"){this.root=this.wrap(i);var a=i.getElementsByTagName("desc")[0];i=i.getElementsByTagName("defs")[0],a||this.element("desc",{text:"Created with JSCharting"}).add(this.root),i&&new As(i,this).add(this.root)}else if(i.tagName.toLowerCase()==="div"){for(;i.lastChild;)i.removeChild(i.lastChild);this.container=this.wrap(i)}}this.container||(this.container=this.htmlElement("",{id:Qu("container")}),D_("body").appendChild(this.container.el))},o}(Fae),zN=new(function(){function s(){}return s.prototype.create=function(o){return new ble(o)},s}()),HN=function(){function s(){}return s.prototype.generate=function(o,i,a){var u={},d;return xi(o,function(f){h(o[f])&&(f==="z-index"?(d=d||{},d[f]=o[f]):p(oM,f)&&(u[f]=o[f]))}),o.animation&&(u.animation=o.animation),i={middle:{from:i,to:u},end:o},d&&(i.start=d),i},s}(),_le=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.generate=function(i,a,u){u=s.prototype.generate.call(this,i,a,u);var d=se({},a,i),f=!a.d||cy(a.d,"Z");return i=!i.d||cy(i.d,"Z"),u.middle.to.fill&&!a.fill&&(u.middle.from.fill="none"),f&&i||(u.middle.from.fill=f&&a.fill||"none",(u.middle.to.fill||d.fill)&&(u.middle.to.fill=i&&d.fill||"none")),u},o}(HN),wle={default:new HN().generate,path:new _le().generate},Cle=function(){function s(o){this._el=o,this.scope=this._el.data.id,this._renderer=this._el.renderer}return s.prototype.attr=function(o){var i=this._el;return i.isComposite?i.attr(o):this._renderer.attr(i,o)},s.prototype.attrEnd=function(o){var i=this._el;xi(o,function(a){var u=o[a];u&&!u.el&&!u.isDef&&u.val&&(o[a]=u.val)}),i.isComposite?i.attr(o):this._renderer.attr(i,o)},s.prototype.normalize=function(o){return this._el.normalizeAttrs(o)},s.prototype.parse=function(o,i){return i[0]==="u"?this.parseUrl(i):i[i.length-1]==="%"?this.parseDemesion(o,i):i},s.prototype.parseUrl=function(o){var i=/url\(#(.*)\)/g.exec(o);if(!i)return o;var a=this._renderer;i=i[1];var u=A3(a,i);return u?i=u:(a=a.query("#"+i))?(u=a.nodeName.toLowerCase(),(u=iM[u])&&u(a,i),i=a):i=void 0,i&&i.val?i.val:o},s.prototype.parseDemesion=function(o,i){var a=parseFloat(i),u=!!this._el.parentNode,d=u?this._el.parentNode.box():this._el.box();return p(d,o)?u?a*d[o]/100:d[o]:i},s}(),jN=function(){function s(o,i){this._animation={},this._defaults={},this._activeAnimatingAttrs=this._animatingAttrs=null,this._skipEnd=!1,this._processors={},this._updater=o,this.renderer=this._updater._renderer,this.scope=this._updater.scope,i&&this.options(i)}return s.prototype.options=function(o){if(o){o.animation&&ke(this._animation,py[1].resolve(o.animation)),o.defaults&&ke(this._defaults,this.normalize(o.defaults)),o.processors&&this.registerProcessors(o.processors),o.generator&&(this._generator=wle[o.generator]);var i=o.start,a=o.middle;o=o.end,!a&&!o||this.checkForSameAnimation(a)||(this._skipEnd=!0,this.finishAnimation(),this._skipEnd=!1,i&&(i=this.normalize(i),this._animatingAttrs&&(i=_i(i,$n(this._animatingAttrs))),this.attr(i)),o&&(this._endAttrs=this._endAttrs||{},ke(this._endAttrs,_i(o,["animation","autoTransition","attrTransition"]))),i=this._appliedAnimation=a.to&&a.to.animation?ht(this._animation,py[1].resolve(a.to.animation)):ke({},this._animation),a&&a.to?(this.applyAnimation(a.from,a.to,i,this.renderer),this.waitFinish(i)):this.applyEnd(i))}},s.prototype.getAnimationOptions=function(){return this._animation},s.prototype.getAnimations=function(){return ch.getAnimations(this.scope)},s.prototype.finishAnimation=function(o,i){o===void 0&&(o=!1);var a=this.getAnimations()||[];if(a.length){if(i){var u=this._activeAnimatingAttrs;if(u){var d=!0,f;for(f in i)if(p(u,f)&&u[f]!==i[f]){d=!1;break}if(d)return}}K(a,function(v){return v.finishAnimation(o)})}},s.prototype.tryAutoTransition=function(o,i,a){if(this._generator&&o.animation!==!1&&(!o.animation||o.animation.duration!==0))return this.options(this._generator(o,i(),a)),this},s.prototype.attachToEnd=function(o){if(!(this.getAnimations()||[]).length||!o)return!1;var i=this._endAttrs=this._endAttrs||{};return ke(i,o),!0},s.prototype.checkForSameAnimation=function(o){if(!(o&&o.to&&o.to.animation&&this._animatingAttrs))return!1;for(var i in o.to)if(i!=="animation"&&o.to[i]!==this._animatingAttrs[i])return!1;return!0},s.prototype.applyEnd=function(o){var i=this;!i._skipEnd&&(i._animatingAttrs=null,i._activeAnimatingAttrs=null,i._endAttrs&&!Ds(i._endAttrs))&&((o.beforeAttr||i._beforeAttr)&&(i._endAttrs.beforeAttr=function(a){return i.checkForBeforeAttr(a,o,null)}),i.attrApllying=!0,i._updater.attrEnd(i._endAttrs),i.attrApllying=!1,i._endAttrs=null)},s.prototype.applyAnimation=function(o,i,a,u){var d=this;o=this.normalize(o),i=this.normalize(i);var f=this,v={},x={},b={},w=this._animatingAttrs,k=w!==null,D=this._defaults,T=[],M={},I={},O=!0;k&&(i=ke(w,i)),function(F){xi(F,function(N){var j=F[N];if(p(oM,N)){var W=k&&p(w,N)?d.attr(N):o&&p(o,N)?o[N]:p(D,N)?D[N]:d.attr(N),$=oM[N];$[2]&&Be(W)&&(W=d._updater.parse(N,W)),j&&j.isElement&&!p(j,"val")?M[N]=h(j[N])?j[N]:j:(W=$[0](W),j=$[2]&&Be(j)?f._updater.parse(N,j):j,j=$[0](j),b[N]=j,d._endAttrs&&p(d._endAttrs,N)&&j===d._endAttrs[N]&&delete d._endAttrs[N],W==j||j&&j.isEqual&&j.isEqual(W)||(I[N]=j,O=!1,$[1]?T.push({key:N,animator:$[1](W,j,a)}):(v[N]=W,x[N]=j)))}else M[N]=j})}(i),this._animatingAttrs=this._curAttrs=this._prevAttrs=b,this._activeAnimatingAttrs=I,this._offset=0,i=ke({onFrame:function(F,N){d._offset=F=F===null?1:F,T.length&&K(T,function(j){N[j.key]=j.animator(F)}),d._prevAttrs=d._curAttrs,d._curAttrs=N,d.checkForBeforeAttr(N,a,F),d.attr(N)},scope:this.scope},a),Ds(M)||this.attr(M),O||ch.animate([v,x],i,u)},s.prototype.waitFinish=function(o){var i=this,a=this.getAnimations(),u=o.onFinish,d=o.final,f=function(){i.applyEnd(o),u&&u(),d&&d()},v=function(){We(a,function(x){return x.playState()!=="finished"})||f()};a&&0<a.length?(K(a,function(x){x.onFinish=function(){v()}}),v()):f()},s.prototype.normalize=function(o){return o?(o=_i(o,["animation","autoTransition","attrTransition"]),this._updater.normalize(o)):null},s.prototype.attr=function(o){return this.attrApllying=!0,o=this._updater.attr(o),this.attrApllying=!1,o},s.prototype.registerProcessors=function(o){var i=this;Zt(o)?K(o,function(a){return i.registerProcessor(a)}):this.registerProcessor(o)},s.prototype.registerProcessor=function(o){o.name&&(o.beforeAttr&&(this._beforeAttr=this._beforeAttr||[],this._beforeAttr.push(o.beforeAttr)),this._processors[o.name]=o)},s.prototype.checkForBeforeAttr=function(o,i,a){var u=this;i.beforeAttr?i.beforeAttr(o,this._prevAttrs,a):this._beforeAttr&&K(this._beforeAttr,function(d){return d(o,u._prevAttrs,a)})},s}(),kle=function(){function s(){}return s.prototype.create=function(o,i){return new jN(new Cle(o),i)},s}();py[0]=new kle;var fM=un("transform clipPath clip-path opacity display zIndex".split(" ")),GN=ht(fM,un(["animation","fill","stroke"])),Dle=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.attr=function(i,a){return(this.attrApplier=this.attrApplier||new(this.applierType())(this)).attr(i,a)},o}(As),WN=function(){function s(o){this._attrsToApply={},this._firstAttrApplied=!1,this._childElements=[],this.renderer=o.renderer,this.virtualElement=o,this.virtualElement.isComposite=!0}return s.prototype.attr=function(o,i){if(!o||!Xi(o)){var a=this.virtualElement.data.vals;return p(a,o)?a[o]:this.renderer.attr(this.virtualElement,o,i)}return this._firstAttrApplied&&o.animation&&o.animation.duration&&this.virtualElement.isPatched&&!this.renderer.disableAnimation?(this._attrsToApply=o,this.renderer.attr(this.virtualElement,this.startAnimationAttrs(o))):(this._firstAttrApplied=!0,ke(this._attrsToApply,o),this.applyAttrs()),this.virtualElement},s.prototype.startAnimationAttrs=function(o){return Vi({},o,this.animAttrs())},s.prototype.animAttrs=function(){return GN},s.prototype.groupAttrs=function(){return fM},s.prototype.applyAttrs=function(){var o=this.attrsToApply(),i=po(o,fM);ke(this.virtualElement.data.vals,i),this.constructChildren(o,i),this.renderer.attr(this.virtualElement,Vi({},o,this.groupAttrs()))},s.prototype.attrsToApply=function(){return Dd(this.virtualElement.data.vals,this._attrsToApply,{animation:void 0})},s.prototype.addElement=function(o){var i=o.elType==="circle"?this.renderer.circle(o).add(this.virtualElement):this.renderer.path(o).add(this.virtualElement);return i.data.key=o.key,i},s.prototype.removeElement=function(o){var i=this.virtualElement.el;i&&i.removeChild(o.el)},s.prototype.bindConfig=function(o){var i=this;$o(o,i._childElements,function(a){return i.addElement(a)},function(a,u){return u.attr(a)},function(a){return i.removeElement(a)},function(a){return a.key},function(a){return a.data.key})},s}(),Sle=ht(GN,un(["d"])),Tle=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.animAttrs=function(){return Sle},o.prototype.constructChildren=function(i,a){var u=[];if(i.d){var d=function(w){w.omit=["key","caps"],u.push(w)},f=function(w,k,D,T){w={key:w,d:k,stroke:le(D.stroke,"none"),fill:le(D.fill,T.stroke,"rgba(0,0,0,.5)"),opacity:le(D.opacity,D["stroke-opacity"],T.opacity,T["stroke-opacity"],1),zIndex:le(D["z-index"],T["z-index"]),display:le(D.display,T.display)},d(w)},v=function(w,k,D){var T=$ie(k,D),M=T?Xie(D,T):{};k=ht(a,{d:T?T.d:k,caps:void 0}),k.key="l-"+w,d(k),M.start&&f("c-start-"+w,M.start,D.start,a),M.end&&f("c-end-"+w,M.end,D.end,a)},x=this._caps=Uie(i);if(i=this._originalPath=i.d&&i.d.isPath?i.d:Jn(i.d),x.eachShape){i=Zne(i);for(var b=0;b<i.length;b++)v(b,i[b],x)}else v(0,i,x);this.bindConfig(u)}},o.prototype.startAnimationAttrs=function(i){var a=Vi({},i,this.animAttrs());return a.d&&(a.d=a.d&&a.d.isPath?a.d:Jn(a.d)),this._skipCapsDuringAnimation=this._originalPath&&this._originalPath.hasCurves&&!V7(this._caps)&&V7(i.caps),a},o.prototype.attrsToApply=function(){this._attrsToApply.caps||(this._attrsToApply.caps={});var i=s.prototype.attrsToApply.call(this);return this._skipCapsDuringAnimation&&this.virtualElement.isAnimating()&&(i.caps={}),i},o}(WN),UN=un(["start","end"]);(function(s,o){(Ew[s]=Ew[s]||[]).push(o)})("path",function(s,o){if(!o||!o.caps)return!1;o=s.data.vals,s.renderer.reCreateElement(s,"g"),s.morphType="lineShape";var i=new Tle(s);i.attr(o),s.attrApplier=i.attr.bind(i)});var Bm=function(s){return s[s.x=0]="x",s[s.y=1]="y",s[s.xy=2]="xy",s}(Bm||{}),Ale=function(s){return s[s.Width=0]="Width",s[s.Height=1]="Height",s[s.Whitespace=2]="Whitespace",s[s.None=3]="None",s}(Ale||{}),sr=function(s){return s&&s.valueType==="*"},Fa=function(s){return s&&!s.isMutable&&s.valueType==="px"},Or=function(s){return s&&s.valueType==="%"},tp=function(s){return s&&s.valueType==="px"},Us=function(s){return s&&!s.isMutable},la=function(s){return s?s.px:0},Mle=/[0123456789]+|.+/g,Ki=function(s,o){var i=typeof s;if(i==="object"&&s.valueType)return ke({},s);if(s===0&&!o)return Qc();var a=0,u=0,d=-1/0,f=!1,v=0,x=0,b=!0;o&&(d=le(o.minPx,-1/0),f=le(o.stretch,!1),b=le(o.isMutable,!0));var w=f?"*":"px";if(i==="number")u=s||0,a=f?1:s;else if(i==="string"&&s.length)switch(o&&(v=le(o.allSpace,0),x=le(o.freeSpace,0)),s=s.match(Mle),a=parseFloat(s[0]),a=(o=ei(a))||f?1:a,w=(o?s[0]:s[1])||w,x=f?u:x,w){case"*":u=(x||0)*(a||1);break;case"%":u=(v||0)*a/100;break;case"px":u=a}return u=_T(Pn([u,d]),6),{val:a,px:u,valueType:w,isMutable:b}},Qc=function(){return{val:0,px:0,valueType:"px",isMutable:!0,minPx:0}},Vm=function(s,o){var i,a;o=o||0;var u={val:0,px:0,valueType:"px"};if(typeof s=="number")o=i=a=u={val:s,px:s,valueType:"px"};else if(s.length){u=typeof s=="string"?s.split(/ +/g):typeof s=="object"?s:[0];var d={allSpace:o};o=Ki(u[0],d),i=h(u[1])?Ki(u[1],d):o,a=h(u[2])?Ki(u[2],d):o,u=h(u[3])?Ki(u[3],d):i}else typeof s=="object"?(d={allSpace:o},o=s.top?Ki(s.top,d):u,i=s.right?Ki(s.right,d):u,a=s.bottom?Ki(s.bottom,d):u,u=s.left?Ki(s.left,d):u):o=i=a=u;var f=0,v=0,x=0;return d=0+((tp(u)?u.val:0)+(tp(i)?i.val:0)),f+=(tp(o)?o.val:0)+(tp(a)?a.val:0),v+=(Or(u)?u.val:0)+(Or(i)?i.val:0),x+=(Or(o)?o.val:0)+(Or(a)?a.val:0),{initial:s,top:o,right:i,bottom:a,left:u,horizontal:{absolute:d,relative:v,px:u.px+i.px},vertical:{absolute:f,relative:x,px:o.px+a.px}}},$N=function(s,o,i){if(s=YN(s,i),i&&o.px!==0){var a=i.padding,u=i.offset;i=a?a.vertical.relative:0,a=a?a.vertical.absolute:0,u=u?np(u.top)+np(u.bottom):0,i=np(o)+a+u+i/100*np(s),o.valueType==="px"?o=Ki(i):o.valueType?(o=ke({},o),o.px=i):o=i}return{width:s,height:o}},np=function(s){return s.valueType?s.px:s},YN=function(s,o){if(!o)return s;var i=o.padding,a=o.offset;return o=i?i.horizontal.relative:0,i=i?i.horizontal.absolute:0,a=a?np(a.left)+np(a.right):0,o/=100,o=1+o/(1-o),i=(np(s)+i+a)*o,s.valueType==="px"?s=Ki(i):s.valueType?(s=ke({},s),s.px=i):s=i,s},XN=function(s,o,i,a,u){function d(b,w){if(Zt(b)){var k=b[0];b=b[1]}else k=b.x,b=b.y;h(k)&&(w.x=k),h(b)&&(w.y=b)}var f={x:0,y:0,width:0,height:0},v={x:0,y:0},x={x:0,y:0};return u=u||[0,0],o.getBbox?(f=o.toGlobal!==void 0?o.getGlobalBbox():s.toGlobal!==void 0?s.toGlobal(o.getBbox()):o.getBbox(),Be(i)&&(v=zw(i,f)),ge(i)&&(o=i(f),d(o,f))):(d(o,f),Be(i)&&(v=zw(i,o))),i=a||i,Be(i)&&(x=zw(i,s.getBbox())),i=s.toGlobal!==void 0?s.globalX:0,a=s.toGlobal!==void 0?s.globalY:0,o=s.toGlobal!==void 0?s.offsetX:0,s=s.toGlobal!==void 0?s.offsetY:0,{offsetX:h(v.x)?f.x-i+o+(v.x||0)-(x.x||0)+(u[0]||0):0+(u[0]||0),offsetY:h(v.y)?f.y-a+s+(v.y||0)-(x.y||0)+(u[1]||0):0+(u[1]||0)}},qN=function(s,o,i){var a=i?i.globalX:0;return i=i?i.globalY:0,o=o==="toLocal"?-1:1,Zt(s)?[s[0]+a*o,s[1]+i*o,s[2],s[3]]:{x:s.x+a*o,y:s.y+i*o,width:s.width,height:s.height}},zw=function(s,o){s=s.split("|");var i={left:0,center:.5,right:1},a={top:0,middle:.5,bottom:1},u=(p(o,"width")?o.width:o[2])||0,d=(p(o,"height")?o.height:o[3])||0,f={};return K(s,function(v){h(i[v])&&(f.x=(f.x||0)+i[v]*u),h(a[v])&&(f.y=(f.y||0)+a[v]*d)}),f},zm=function(s,o,i){o===void 0&&(o=0);var a=Zt(s);if(a){var u=l(s,4),d=u[0],f=u[1],v=u[2];u=u[3]}else d=s.x,f=s.y,v=s.width,u=s.height;var x=nt(v)||nt(u);return nt(d)||nt(f)?s:(s=o/2%1||1,o=i?i.globalX:0,i=i?i.globalY:0,x||(v=Hm(v+d,o,s)-Hm(d,o,s),u=Hm(u+f,i,s)-Hm(f,i,s)),d=Hm(d,o,s),f=Hm(f,i,s),a?x?[d,f]:[d,f,v,u]:x?{x:d,y:f}:{x:d,y:f,width:v,height:u})},Hm=function(s,o,i){return o=i-(o+s)%1,.5<Math.abs(o)&&(o-=0<o?1:-1),s+o},Ele=function(s){function o(u,d){for(var f=0,v=s[d].length;f<v;f++){var x=u.slice(0);x.push(s[d][f]),d===a?i.push(x):o(x,d+1)}}var i=[],a=s.length-1;return o([],0),i},ip={left:0,top:0,center:.5,middle:.5,right:1,bottom:1},Lle={x:"userX",y:"userY",width:"width",height:"height"},KN="fontFamily fontStyle fontWeight fontSize whiteSpace strategy textOverflow".split(" "),Jc={};K("variant visibility cellSpacing cellPadding pixelCorrection preserveStartSpaces title".split(" "),function(s){Jc[s]=qie}),K(["margin","padding"],function(s){Jc[s]=ere}),K("maxWidth maxHeight fitWidth fitHeight ignoreCategories orientation autoWrap suspend xContentAlignment yContentAlignment xAlignment yAlignment".split(" "),function(s){Jc[s]=T_}),K(KN,function(s){Jc[s]=Zie}),K(["width","height","x","y","strokeWidth"],function(s){Jc[s]=Jie}),K(["offsetX","offsetY"],function(s){Jc[s]=Kie}),K(["maxWidth","maxHeight","fitWidth","fitHeight"],function(s){Jc[s]=Qie});var Hw=function(){function s(o,i){this.widths=[],this.heights=[],this.lefts=[],this.rights=[],this.bottoms=[],this.tops=[],o=this.rectangles=o,this.scoreDirection=i;for(var a=0,u=this.rectangles.length;a<u;a++)i=o[a],this.lefts.push(i.x),this.tops.push(i.y),this.rights.push(i.x+i.width),this.widths.push(i.width),this.heights.push(i.height),this.bottoms.push(i.y+i.height);this.minX=Math.min.apply(null,this.lefts),this.minY=Math.min.apply(null,this.tops),this.maxX=Math.max.apply(null,this.rights),this.maxY=Math.max.apply(null,this.bottoms),this.minWidth=Math.min.apply(null,this.widths),this.minHeight=Math.min.apply(null,this.heights),this.maxWidth=this.maxX-this.minX,this.maxHeight=this.maxY-this.minY}return s.prototype.getScore=function(o,i){var a=0,u=[];if(o===Bm.xy&&i){var d=a=0;for(o=0;o<i[0];o++){for(var f=0,v=0;v<i[1];v++){var x=this.widths[o*i[1]+v],b=this.heights[o*i[1]+v];f+=x,u.push(x*b)}a=f>a?f:a}for(v=0;v<i[1];v++){for(o=f=0;o<i[0];o++)f+=this.heights[o*i[1]+v];d=f>d?f:d}a*=d}else{i=(o=o===Bm.y)?this.lefts:this.tops,d=o?this.rights:this.bottoms,v=o?this.widths:this.heights,f=o?this.heights:this.widths,x=o?this.minX:this.minY,b=o?this.maxX:this.maxY;var w=o?this.maxWidth:this.maxHeight;o=0;for(var k=v.length;o<k;o++){var D=v[o];i[o]-x,b-d[o],u.push(D*f[o]),a+=w*f[o]}}return{whitespace:1-rr(u)/a,magnitude:a}},s}(),Ile=function(){function s(){}return s.prototype.compareScores=function(o,i,a){return o=this.quantifyScore(o,a),i=this.quantifyScore(i,a),o<i?-1:o>i?1:0},s.prototype.comparer=function(o){var i=this;return function(a,u){return i.compareScores(a,u,o)}},s.prototype.mergeScores=function(o){for(var i=0,a=0,u=0,d=0,f=o.length;d<f;d++){var v=o[d];v.magnitude&&(i+=v.whitespace*v.magnitude,a<v.magnitude&&(a=v.magnitude),u++)}return i?i/(u*a):0},s.prototype.quantifyScore=function(o,i){return o.whitespace.toFixed(6)},s.prototype.sort=function(o,i){o.sort(this.comparer(i))},s}(),ZN=/style\s*=\s*["']([^"]*)["']/,QN=/([\S_]+)=["']?((?:.(?!["']?\s+(?:\S+)=|[>"']))*.)["']?/g,JN=/['"]/g,Ole=/[\u0590-\u05ff\u0600-\u06ff]/,Rle=/[-_]([a-z])/g,Ple=/(\d+px)* *([\w#]+)/,Fle=/&nbsp;/gm,Nle=/\s\w+(?=[\s|>])/g,eB={disk:"\u25CF\xA0",circle:"\u25CB\xA0",square:"\u25A0\xA0",none:""},Ble=["antialias"],Vle=function(s){var o=s.match(/([\S_]+)= +\w+=/g);return K(o,function(i){var a=s.indexOf(i);a=s.slice(a,a+i.length);var u=a.indexOf("=");s=s.replace(i,a.slice(u+1,a.length))}),s.match(QN)},zle=function(s){return s?(s=CR(s,'"'),s=CR(s,"'"),s.match(Nle)):[]},mM=function(s){var o="";if(s){var i=s.length;if(Be(s))o=s;else{if(i===1&&Be(s[0].val))return s=s[0],s.type="text",s;if(i){o=[];for(var a=[],u=0;u<i;u++){var d=s[u];d.kind==="visual"||d.type==="panel"?(a.length&&(o.push({type:"text",val:a.slice(0)}),a=[]),o.push(d)):a.push(d)}return a.length&&o.push({type:"text",val:a.slice(0)}),o.length===1?o[0]:{type:"stack",val:o}}}}return{type:"text",val:o}},Hle=function(s){s=s.split(";");var o={};return K(s,function(i){if(i){var a=i.split(":");a.length===2&&(i=rB(a[0].trim()),a=a[1].trim(),o[i]=a)}}),o},jle={textStroke:function(s){return s=l(s.match(Ple)||[],3),s[0],{stroke:s[2],strokeWidth:s[1]}},textStrokeWidth:function(s){return{strokeWidth:s}}},wy=function(s,o){return o=o||{},o.val=s||"",o},ko=function(s,o,i){return s.substring(o,o+i.length).toLowerCase()===i},Gle=function(s){var o=[],i=[],a=[],u=wy(),d={},f=[],v=[],x=0,b=[],w=[],k=[],D=function(q){if(q){q=Zt(q)?q:q.split(";");var J=[],re={};K(q,function(ce){if(ce){var oe=ce.split(":");if(oe.length===1&&(oe=ce.split("=")),oe.length===2){ce=oe[0].trim(),ce=ce.indexOf("data-")===0?ce:rB(ce),oe=oe[1].trim();var pe,Se=jle[ce];oe=Se?Se(oe):(pe={},pe[ce]=oe,pe),ke(d,oe),ke(re,oe),J.push.apply(J,c(Object.keys(oe)))}}}),h(re.description)&&!h(re.tabindex)&&(d.tabindex=100,re.tabindex=100,J.push("tabindex")),J.length&&(f.push(J),(q=v.length)?v.push(ht(v[q-1],re)):v.push(re))}else f.push([]),v.push([])},T=function(){var q=f.pop();v.pop(),q&&(K(q,function(J){delete d[J]}),(q=v.length)&&ke(d,v[q-1]))},M=function(){u&&u.val!==""&&i.push(u);var q=b[b.length-1];if(b.length&&q>x){var J=o[o.length-1];J.margin||(J.margin=[0,0,0,0]),J.margin[2]=Math.floor(w[x]/2)}if(i.length){J=mM(i),q=b.length&&x>q?Math.floor(w[x-1]/2):0;var re=rr(k)||0,ce;if(J.margin){var oe=ce=J.margin;ss(ce)?oe=[ce,ce,ce,ce]:Be(ce)&&(ce=parseInt(ce)||0,oe=[ce,ce,ce,ce]),ce=oe}else ce=[0,0,0,0];ce[0]+=q,ce[3]+=re,J.margin=ce,b.push(x),o.push(J),i=[],u=wy("",Ii(d))}},I=function(){if(u.val)if(u.width&&Be(u.val)){var q={type:"panel",width:u.width};u.verticalAlign&&(q.verticalAlign=u.verticalAlign),u.align&&(q.xContentAlignment=u.align),u.type="text",q.val=[_i(u,["width","align","verticalAlign"])],i.push(q)}else i.push(ht(u,d));u=wy("",Ii(d))};s=s.replace(Fle,"\xA0");var O=0,F=s.length;for(O=0;O<F;O++){var N=s[O];if(N==="<"){if(ko(s,O+1,"br")){O+=ko(s,O+3,"/")?4:3,u.val||i.length||i.push({val:" "}),M();continue}if(ko(s,O+1,"hr")){O+=ko(s,O+3,"/")?4:3,M(),o.push({type:"panel",width:"100%",yContentAlignment:"middle",val:[{type:"text",val:" "},{type:"panel",width:"100%",val:[{type:"icon",d:"M 0 0 L 10 0",width:"100%",height:"1px",stroke:"darkgray",fill:"none"}]}]});continue}for(var j=!1,W=0,$=tB.length;W<$;W++){var Y=tB[W];if(ko(s,O,Y.start)){O+=Y.start.length-1,I(),ke(d,Y.attrs),j=!0;break}else{for(var te=0,ee=Y.stops.length;te<ee;te++){var ae=Y.stops[te];if(ko(s,O,ae)){O+=ae.length-1,K(Y.attrs,function(q,J){return delete d[J]}),j=!0;break}}if(j)break}}if(j){I();continue}for(W=0,$=iB.length;W<$;W++)if(Y=iB[W],ko(s,O+1,Y.start)){for($=O+=Y.start.length+1;s[O]!==">";)O++;Y.key==="ul"&&(W=null,10<O-$&&(W=($=s.substring($,O).match(ZN))?$[1]:W),D(W),M(),x++,W=d.listPadding,W=h(W)?parseInt(W):10,w.push(W),k.push(W)),Y.key==="li"&&(Y=eB[d.listStyleType],i.unshift(se({type:"text",val:h(Y)?Y:eB.disk},d))),j=!0;break}else{for(te=0,ee=Y.stops.length;te<ee;te++)if(ae=Y.stops[te],ko(s,O+1,ae)){for(O+=ae.length+1;s[O]!==">";)O++;Y.key==="li"&&M(),Y.key==="ul"&&(T(),x--,M(),k.pop()),j=!0;break}if(j)break}if(j){I();continue}for(Y=function(q,J){if(q=nB[q],ko(s,O+1,q.tag)){O+=q.tag.length,J="";for(var re=s[O],ce={kind:"visual"};re!==">"&&O++<F;)re=s[O],J+=re;re=Vle(J),K(re,function(oe){var pe=l(oe.split("="));oe=pe[0],pe=pe.slice(1),oe=[oe,pe.join("=")],oe.length===2&&(ce[oe[0]]=oe[1].replace(JN,""))}),ce.style&&(ce=ke(Hle(ce.style),ce)),q.tag==="chart"?((J=zle(J))&&fe(J,function(oe){oe=oe.trim(),~Ble.indexOf(oe)?ce[oe]=!0:ce.type=oe}),ce.type=ce.type||"chart",ce.isNanoChart=!0):(ce.type=q.val,ce.fill=ce.fill||"black"),u.val&&i.push(Ii(u)),u=wy("",Ii(d)),ce=nr(ce),J=ce.fill||"",J=J.toLowerCase(),-1<J.indexOf("rgb")&&(re=void 0,(re=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(J))!==null&&(J=J.replace(re[0],om(re[0]).hex))),q.tag==="icon"&&J&&-1<J.indexOf(",")&&J.indexOf("rgba")===-1&&(q=J.split(",").map(function(oe){return oe.trim()}),J=it(q),re=ST(J),q[q.length-1]=re?parseFloat(J):J,re||q.push(90),ce.fill=Xo(q)),u.width?i.push(ht(u,{type:"panel",yAlignment:ce.verticalAlign,val:[ce]})):i.push(ce),j=!0}},W=0,$=nB.length;W<$;W++)Y(W,$);if(j){I();continue}if(ko(s,O+1,"absolute")){O+=9,I(),a=i.slice(0),i=[];continue}else if(ko(s,O+1,"/absolute")){O+=10,I(),i=a.concat({type:"panel",val:i}),a=[];continue}if(ko(s,O+1,"span")){for(O+=5,Y="",W=s[O];W!==">"&&O++<F;)W=s[O],Y+=W;(W=($=Y.match(ZN))?$[1]:null)||(Y=Y.match(QN),W=fe(Y,function(q){return q.replace(JN,"")})),D(W),j=!0}else ko(s,O+1,"/span")&&(O+=6,I(),T(),j=!0);if(j){u.val&&i.push(Ii(u)),u=wy("",Ii(d));continue}}u.val+=N}return u.val&&i.push(u),o.length?(o.push(mM(i)),a={type:"stack:y",val:o}):a=mM(i),{value:a,isRtl:!!s.match(Ole)}},tB=[{start:"<b>",stops:["</b>","<b/>"],attrs:{fontWeight:"bold"}},{start:"<strong>",stops:["</strong>","<strong/>"],attrs:{fontWeight:"bold"}},{start:"<i>",stops:["</i>","<i/>"],attrs:{fontStyle:"italic"}},{start:"<sup>",stops:["</sup>","<sup/>"],attrs:{fontSize:"0.7em",verticalAlign:"sup"}},{start:"<sub>",stops:["</sub>","<sub/>"],attrs:{fontSize:"0.7em",verticalAlign:"sub"}}],nB=[{tag:"icon",val:"icon"},{tag:"img",val:"image"},{tag:"chart",val:"nanoChart"}],iB=[{start:"ul",stops:["/ul","ul/"],key:"ul"},{start:"li",stops:["/li","<li/"],key:"li"}],rB=function(s){return 0<s.indexOf("-")?s.replace(Rle,function(o){return o[1].toUpperCase()}):s},Wle=function(s,o){function i(Y){for(var te=0,ee=0,ae,q,J=0,re=[],ce=0,oe=0,pe=u.length;oe<pe;oe++){var Se=u[oe];if(q=Se.length){for(q=a(Se,oe===0,pe===q),ae=q.width,q=q.height;ae>Y;){var Te;e:{for(var Ke=Te=Se.length;2<Ke;Ke--){var bt=Se[Ke-1],Ze=Se[Ke-2],xe=Se[Ke-3];if(2<Te&&(xe.isSpace?!bt.isSpace:Ze.isSpace)){Te=2+Te-Ke;break e}}Te=0}if(!Te)break;for(ae=oe,Te===void 0&&(Te=1),Ke=0;Ke<Te;Ke++)bt=u[ae].pop(),u[ae+1].unshift(bt);ae=a(Se,oe==0).width}re.push({x:0,y:ce,width:ae,height:q,info:{itemCount:Se.length}}),ce+=q,ee=ee<ae?ae:ee,te=te<ae||!te?ae:te,J++}}for(Y=u,oe=[],pe=0,Se=Y.length;pe<Se;pe++)oe.push(ay(Y[pe]));return{lines:oe,linesUsed:J,width:ee,height:ce,maxLineWidth:te||ae,score:new Hw(re).getScore(Bm.y),parts:s}}function a(Y,te,ee){ee===void 0&&(ee=!1);for(var ae=0,q=0,J=0,re=Y.length;J<re;J++){var ce=Y[J],oe=ce.width,pe=ce.height;q=q>pe?q:pe,(!ce.isSpace||(J!=re-1||ee)&&(0<J||te))&&(ae+=oe)}return{height:q,width:ae}}var u=[],d=o.step;d=d===void 0?.1:d;var f=o.width;f=f===void 0?0:f;var v=o.height;v=v===void 0?0:v,o=o.wrapText,o=o===void 0?!0:o;for(var x=d,b,w=[],k=0,D=s.length;k<D;k++){for(var T=s[k],M=T.metrics,I=T.parts,O=[],F=0,N=I.length;F<N;F++){var j=I[F],W=j.width;j=-1<j.text.indexOf(T.delimiter.text),u.push([]);var $={width:W,isSpace:j};M&&M.height&&($.height=M.height),O.push($),j||b&&!(b>W)||(b=W),x+=W}u[0]=u[0].concat(O)}for(f&&(x=f);x>=b+d&&(f=i(x),!(f.maxLineWidth>x||((!v||f.height<=v)&&w.push(f),!o&&w.length)));)x=f.maxLineWidth-d;return w.length||w.push(i(b)),w},uh={space:/(\s)/,variants:/&ore;|&ors;/g,startSpaces:/^ +/g,spaces:/ +/g,quotes:/'|"/g,fontSize:/^[\d\.]+(px|pt|em)?$/},sB={169:"copy",174:"reg",160:"nbsp",8482:"trade",34:"quot",38:"amp",60:"lt",62:"gt",176:"deg",8364:"euro",185:"sup1",178:"sup2",179:"sup3",188:"frac14",189:"frac12",190:"frac34",177:"plusmn",180:"acute",183:"middot"},oB={ore:"&ore;",ors:"&ors;",orc:"&orc;",or:"&||;"},Ule=un("x y width height rotate opacity fill stroke offsetX offsetY text".split(" ")),gM=un(["animation","transition"]),$le={initialize:!1,reposition:!0,destroy:!0,animatable:Ule},Yle=function(){function s(o){this._li=o,this.scope=Qu()}return s.prototype.attr=function(o){var i=this._li;if(Be(o))return this._li.attr(o);i.updateAttrs(o,!0),i.root.refresh()},s.prototype.attrEnd=function(o){return this.attr(o)},s.prototype.normalize=function(o){return o},s.prototype.parse=function(o,i){return i},s}(),Xle=function(){function s(o,i){this._visual=o,this._options={auto:!1,mode:"simple",behaviour:ke({},$le)},this._renderer=o.renderer;var a=ke({},this._renderer.defaultOptions().transition);this._attrTransition=new jN(new Yle(o),a),i&&this.options(i)}return s.prototype.options=function(o){o&&(p(o,"auto")&&(this._options.auto=o.auto||!1),p(o,"mode")&&(this._options.mode=o.mode||"simple"),o.behaviour&&ke(this._options.behaviour,o.behaviour),o.animation&&this._attrTransition.options({animation:o.animation}))},s.prototype.applyAttrs=function(o,i){var a=this._visual,u=o.transition,d=!1;if(u===!1?(u={auto:!1},d=!0):u==="auto"&&(u={auto:!0},d=!0),u&&vl(["auto","mode","behaviour"],u)&&(this.options(u),u=d?null:_i(o.transition,["auto","mode","animation","behaviour"]),Ds(u)&&(u=null,delete o.transition)),this._renderer.disableAnimation||!o.animation&&!u&&!this._options.auto)a.updateAttrs(po(o,gM),i);else if(!Ds(o)){var f=this._options.mode==="simple";if(a.isPatched||f)if(d=this._options.behaviour.animatable,f)h(o.animation)||u||!gR(d,o)||(o.transition=null,o.animation=this._attrTransition.getAnimationOptions()),a.updateAttrs(o,i);else{if(!u){if(u=Vi({},o,d),f=po(o,d),Ds(u)){a.updateAttrs(po(o,gM),i);return}i=Vi({},a.attrs,d),o.animation&&(u.animation=o.animation),u={start:f,middle:{from:i,to:u}}}this._attrTransition.options(u)}else a.updateAttrs(o,i)}},s.prototype.applyPatch=function(o){var i=this._visual,a=this._options;this._renderer.disableAnimation||!a.auto||!a.behaviour.initialize||i.isPatched?i.applyPatch(o):a.mode==="layout"?(i.applyPatch(o),this.layoutInitializeTransition()):(o.transition=this.getSimpleInitializeTransition(),i.applyPatch(o))},s.prototype.applyDestroy=function(){var o=this._visual,i=this._options;!this._renderer.disableAnimation&&i.auto&&i.behaviour.destroy?i.mode==="simple"?o.updateAttrs({transition:this.getSimpleDestroyTransition()},!0):(this.layoutDestroy(),delete this._visual):o.applyDestroy()},s.prototype.applyAdd=function(o,i){var a=this._visual,u=this._options;!this._renderer.disableAnimation&&u.auto&&a.isPatched&&u.behaviour.reposition?u.mode==="simple"?this.simpleAdd(o):this.layoutAdd(o):a.applyAdd(o,i)},s.prototype.getSimpleInitializeTransition=function(){var o=this._visual.getBbox(),i=o.x===0&&o.y===0?null:{translate:[o.x,o.y],scale:[1],val:"translate("+o.x+", "+o.y+")"};return{start:{transform:{translate:[o.x+o.width/2,o.y+o.height/2],scale:[0],val:"translate("+(o.x+o.width/2)+", "+(o.y+o.height/2)+") scale(0)"}},middle:{to:{transform:i}},end:{transform:i}}},s.prototype.getSimpleDestroyTransition=function(){var o=this._visual,i=o.getBbox();return{middle:{from:{transform:o.el.data.transform},to:{animation:{final:function(){var a=o.root;o.applyDestroy(),a.refresh()}},transform:{translate:[i.x+i.width/2,i.y+i.height/2],scale:[0],val:"translate("+(i.x+i.width/2)+", "+(i.y+i.height/2)+") scale(0)"}}}}},s.prototype.layoutInitializeTransition=function(){this._attrTransition.finishAnimation();var o=this._visual,i=o.root,a=o.getBbox(),u=o.getGlobalBbox(),d=u.width,f=o.layout.panel({width:0,height:0,x:a.x,y:a.y}).applyAdd(o.parent),v=o.layout.panel().add();o.updateAttrs({scale:0},!0).applyAdd(v),i.refresh(),v.refresh(),this._attrTransition.options({middle:{from:{width:0,height:0},to:{animation:{final:function(){o.updateAttrs({scale:1},!0).applyAdd(f.parent),f.applyDestroy(),v.applyDestroy(),o.refresh()},onFrame:function(x,b){f.updateAttrs(b),i.refresh(),x=f.getGlobalBbox(),o.applyPatch({translate:[x.x,x.y],scale:[x.width/d]})}},width:u.width,height:u.height}}})},s.prototype.layoutDestroy=function(){this._attrTransition.finishAnimation();var o=this._visual,i=o.getBbox(),a=o.getGlobalBbox(),u=a.width,d=o.root,f=o.layout.panel({width:i.width,height:i.height,x:i.x,y:i.y}).applyAdd(o.parent),v=o.layout.panel().add();o.updateAttrs(a,!0).applyAdd(v),d.refresh(),v.refresh(),this._attrTransition.options({middle:{from:{width:i.width,height:i.height},to:{animation:{final:function(){f.applyDestroy(),o.applyDestroy(),v.applyDestroy(),d.refresh()},onFrame:function(x,b){f.updateAttrs(b),d.refresh(),x=f.getGlobalBbox(),o.applyPatch({translate:[x.x,x.y],scale:[x.width/u]})}},width:0,height:0}}})},s.prototype.simpleAdd=function(o){this._attrTransition.finishAnimation(),this._visual.el.finishAnimation();var i=this._visual,a=i.getBbox(),u=i.getGlobalBbox(),d=i.layout.panel().add(),f=i.layout.panel({width:a.width,height:a.height}).add(o);i.updateAttrs(u,!0).applyAdd(d),f.refresh(),d.refresh();var v=f.getGlobalBbox();this._attrTransition.options({middle:{to:{animation:{final:function(){var x=f.getBbox();f.applyDestroy(),i.applyAdd(o),i.updateAttrs(x,!0),d.applyDestroy(),f.refresh(),i.refresh()},onFrame:function(x,b,w){i.applyPatch({translate:[w(u.x,v.x,x),w(u.y,v.y,x)]})}}}}})},s.prototype.layoutAdd=function(o){this._attrTransition.finishAnimation();var i=this._visual,a=i.getGlobalBbox(),u=i.getBbox(),d=i.layout.panel({width:0,height:0,x:u.x,y:u.y}).applyAdd(o),f=i.layout.panel(i.getBbox()).applyAdd(i.parent),v=o.root,x=f.root,b=i.layout.panel().add();i.updateAttrs(a,!0).applyAdd(b),v.refresh(),v!==x&&x.refresh(),b.refresh();var w=u.width,k=u.height,D=a.x,T=a.y;this._attrTransition.options({middle:{to:{animation:{final:function(){i.updateAttrs(u,!0).applyAdd(o),d.applyDestroy(),f.applyDestroy(),v.refresh(),v!==x&&x.refresh(),b.applyDestroy(),i.refresh()},onFrame:function(M,I,O){d.updateAttrs({width:O(0,w,M),height:O(0,k,M)}),f.updateAttrs({width:O(w,0,M),height:O(k,0,M)}),v.refresh(),v!==x&&x.refresh(),I=d.getGlobalBbox(),i.applyPatch({translate:[O(D,I.x,M),O(T,I.y,M)]})}}}}})},s}(),qle=un(["setSize","finalSize","renderSize","pixelCorrection"]),Kle=function(s){return s.px},vM={},Zle=un(["translate","rotate"]);K(["width","height","x","y"],function(s){return vM[s]=Kle});var eu=function(s){return s[s.WriteIfChanged=0]="WriteIfChanged",s[s.ReadOnly=1]="ReadOnly",s[s.WriteOnly=2]="WriteOnly",s}(eu||{}),jm=function(){function s(o,i){this.layout=o,this.forcePixelCorrection=!1,this.init(),this.applyConfig(i)}return s.prototype.init=function(){this.combinations=[],this.events={},this.subscriptions=[],this.attrs={},this._awaitHandlers=[],this.autoWrap="auto",this.renderer=this.layout.renderer,this.root=this,this.margin=Vm(0),this.isPatched=!1,this.offsetY=this.offsetX=this.globalY=this.globalX=0,this.wasAdded=!1,this.pixelCorrection=this.layout.pixelCorrection,this.state={needPatching:!0,needRecalculation:!0,needAttachPatching:!0,needDestroy:!1,destroyed:!1},this._availableAttrs=this.availableAttributes()},s.prototype.updateSize=function(o,i){},s.prototype.val=function(o){return this},s.prototype.calculateMargin=function(){return this.margin},s.prototype.arrToBox=function(o){return{x:o[0],y:o[1],width:o[2],height:o[3]}},s.prototype.getAnimation=function(){return this._animation||this.attrs.animation},s.prototype.getBbox=function(o){return this.arrToBox(this.getBboxArray(o))},s.prototype.getGlobalBbox=function(){return this.arrToBox(this.getGlobalBboxArray())},s.prototype.getBboxArray=function(o,i){return this.bboxArrayBased(la(this.x),la(this.y),o,i)},s.prototype.getGlobalBboxArray=function(o){return this.bboxArrayBased(this.globalX,this.globalY,!1,o)},s.prototype.bboxArrayBased=function(o,i,a,u){return[o+(a?this.offsetX:0)-(u?la(this.margin.left):0),i+(a?this.offsetY:0)-(u?la(this.margin.top):0),la(this.width)+(u?la(this.margin.horizontal):0),la(this.height)+(u?la(this.margin.vertical):0)]},s.prototype.setSize=function(o){this.suspend||(this.setSizeValue("width",o.width,this.maxWidth),this.setSizeValue("height",o.height,this.maxHeight),this.setSizeValue("x",o.x),this.setSizeValue("y",o.y),this.needPatch(!0),this.finalSizeCalled(),this.triggerEvent("setSize"))},s.prototype.getTypeEvents=function(){return qle},s.prototype.setSizeValue=function(o,i,a){var u=this[o],d=!u||u.isMutable;ss(i)&&u&&!tp(u)?this[o].px=h(a)&&i>a?a:i:h(i)&&d&&(this[o]=Ki(i))},s.prototype.handleEvent=function(o,i,a,u){if(h(i)&&(i=this.getEventByName(i,o!=="un")))return i[o](i instanceof eM?this.wrapEventCallback(a):a,u)},s.prototype.getEventByName=function(o,i){return!this.events[o]&&i&&(p(this.getTypeEvents(),o)?this.events[o]=new qc:this.subscribeDomEvents(o)),this.events[o]},s.prototype.subscribeDomEvents=function(o){throw Error("Methods doesn't implemented")},s.prototype.triggerEvent=function(o){(o=this.events[o])&&o.trigger(this.getBbox())},s.prototype.canCutActualWidth=function(){return!1},s.prototype.on=function(o,i,a){return(o=this.handleEvent(a?"onDefer":"on",o,i,a))&&this.subscriptions.push(o),this},s.prototype.un=function(o,i){return this.handleEvent("un",o,i),this},s.prototype.isRelative=function(){return this.width&&this.width.valueType!=="px"||this.height&&this.height.valueType!=="px"},s.prototype.add=function(o,i){return!this.wasAdded||o&&o!==this.parent?this.transitionAnimator?(this.transitionAnimator.applyAdd(o,i),this):this.applyAdd(o,i):this},s.prototype.await=function(o){return this.root._awaitHandlers.push(o),this},s.prototype.applyAdd=function(o,i){return this.insert({parent:o,position:i})},s.prototype.alignTo=function(o,i,a,u){return this.attr(XN(this,o,i,a,u))},s.prototype.alignIn=function(o,i,a){this.insert({parent:o}),o={};var u=this.getBbox();if(Be(i)){var d=are(i);d.x&&(o.xAlignment=d.x),d.y&&(o.yAlignment=d.y),this.attr(o)}return i=a||i,Be(i)&&(i=zw(i,u),o.offsetX=0-i.x,o.offsetY=0-i.y),this.attr(o)},s.prototype.insertFirst=function(o){return this.insert({parent:o,position:0})},s.prototype.insert=function(o){var i=o.parent;return o=o.position,nt(i)&&(i=this.parent),i&&i!==this.parent&&(this.parent&&(this.forcePixelCorrection=!0,this.parent.removeChild(this),this.updateAttrs({offsetX:0,offsetY:0})),i===this.layout?(this.parent=i=null,this.notifyParentChanged()):(o===0?i.prependChild:i.appendChild).call(i,this,o)&&(this.parent=i,this.notifyParentChanged())),this.parent||this.layout.addChild(this),this.wasAdded=!0,this.setRenewComplete(!i||this.parent.wasAdded),this},s.prototype.refresh=function(o){return this.parent?(this.root.refresh(o),this):(this.wasAdded||this.add(),this.setRenewComplete(!0),this.applyRefresh(o),!o&&this.endRefresh(),this)},s.prototype.applyRefresh=function(o){this.parent||(this.update(),o||this.layout.destroyChildren()),o||this.patch()},s.prototype.endRefresh=function(){this._awaitHandlers.length&&(K(this._awaitHandlers,function(o){return o()}),this._awaitHandlers=[]),this.triggerEvent("renderSize")},s.prototype.updateGlobalCoordinates=function(){this.setGlobalCoordinates()},s.prototype.needPatch=function(o){this.state.needPatching=!0},s.prototype.setGlobalCoordinates=function(o){var i=this.parent,a=this.x.px+(i?i.globalX:0)+(this.offsetX||0);i=this.y.px+(i?i.globalY:0)+(this.offsetY||0),(this.globalX!==a||this.globalY!==i||o)&&(this.globalX=a,this.globalY=i,this.triggerEvent("pixelCorrection"))},s.prototype.collectAttrs=function(o){return this.attrs},s.prototype.correctPixelValues=function(o,i){o.rotate&&Math.abs(o.rotate[0])/90%2===1&&(o.rotate[0]+=.1)},s.prototype.patch=function(){var o=this.state,i=this.collectAttrs();if(!o.destroyed&&o.needPatching&&this.isComplete())if(o.needDestroy)this.patchDestroy();else{this.pixelCorrection&&this.correctPixelValues(i,this.parent),o=this.parentChanged;var a=this.cached(i,eu.ReadOnly),u=Ds(a);this._transition&&(u&&(a={},u=!1),a.transition=this._transition,this._transition=null),u&&!o?this.emptyPatch():(h(this._animation)&&!u&&(a.animation=this._animation,Vi(a,i,oa),this._animation=void 0),this.transitionAnimator?this.transitionAnimator.applyPatch(a):this.applyPatch(a))}},s.prototype.emptyPatch=function(){this.state.needPatching=!1,this.isPatched=!0},s.prototype.applyPatch=function(o){this.applyPatchState(o)},s.prototype.applyPatchState=function(o){this.cached(o,eu.WriteOnly),this.state.needPatching=!1,this.isPatched=!0},s.prototype.parentAttrsChanged=function(o){},s.prototype.sharedAttrsUpdated=function(o){},s.prototype.fillProperties=function(o){var i=this,a={},u;xi(o,function(d){var f=o[d];if(p(Jc,d)&&h(f)){var v=Jc[d](i,d,f);v&&(ke(a,v),u=u||{},u[d]=f)}}),a.updateSharedAttrs&&this.sharedAttrsUpdated(u),a.needRecalc&&this.setRenewComplete(),a.updateGlobalCoordinates&&this.updateGlobalCoordinates(),h(o.animation)&&(this._animation=o.animation),o.transition&&(this._transition=o.transition)},s.prototype.addEvent=function(o){this.events[o]=new qc},s.prototype.cached=function(o,i,a,u,d){i===void 0&&(i=eu.WriteIfChanged),a===void 0&&(a="_cache_"),u===void 0&&(u=this);var f=p(u,a);o=Ac({},o,gM);var v=f?u[a]:o;return f?i===eu.WriteOnly?(ke(v,o),{}):(i=vT(v,o,Zle,i===eu.ReadOnly,d))?i:null:(u[a]=v,ke({},v))},s.prototype.notifyParentChanged=function(){this.updateRoot()},s.prototype.updateRoot=function(){var o=this.parent?this.parent.root:this,i=this.root;o!==i&&(0<i._awaitHandlers.length&&(o._awaitHandlers=o._awaitHandlers.concat(i._awaitHandlers),i.parent&&(i._awaitHandlers=[])),this.root=o)},s.prototype.availableAttributes=function(){return null},s.prototype.defaultConfig=function(){return null},s.prototype.applyConfig=function(o){var i=!o,a=this.defaultConfig();i&&a===null?this.config={}:(i&&(o={}),this.config=this.extendDefault(a||{},o),this.checkForAttrAnimation(z7(this.config)))},s.prototype.extendDefault=function(o,i){return ke(o,i)},s.prototype.checkForAttrAnimation=function(o,i){if(this.transitionAnimator||p(o,"animation")||p(o,"transition"))return this.transitionAnimator||(this.transitionAnimator=new Xle(this)),this.transitionAnimator.applyAttrs(o,i),this;this.updateAttrs(o,i)},s.prototype.updateAttrs=function(o,i){return this.applyAttrs(o),i&&this.isPatched&&this.needPatch(),this},s.prototype.applyAttrs=function(o){this.fillProperties(o);var i=this.attrs,a=this._availableAttrs;if(a){for(var u in o)(Object.hasOwnProperty.call(a,u)||u.indexOf("data-")===0)&&(i[u]=o[u]);o=i}else o=ke(i,o);this.attrs=o},s.prototype.setRenewComplete=function(o){var i=this.state,a=i.needRecalculation;(o||!a)&&(!this.parent||!o&&a?i.needRecalculation=!0:(i.needRecalculation=!0,this.parent.setRenewComplete(o)))},s.prototype.updateCombinations=function(){this.state.needRecalculation&&this.isComplete()&&(this.combinations=this.composeCombinations(),this.state.needRecalculation=!1,this.variant=null)},s.prototype.attr=function(o,i){if(Be(o)){if(nt(i))return p(this,o)?(i=this[o],p(vM,o)?vM[o](i):i):this.attrs[o];var a=o;o={},o[a]=i}return o=z7(o),this.checkForAttrAnimation(o,this.isPatched),this},s.prototype.update=function(){return this.updateCombinations(),this.updateSize(this.wasAdded&&!this.parent?this.layout.getRootBox():void 0),this.triggerEvent("finalSize"),this},s.prototype.isComplete=function(){return!0},s.prototype.composeCombinations=function(){return[]},s.prototype.finalSizeCalled=function(){},s.prototype.getContentSize=function(){return this.getBbox()},s.prototype.visible=function(o,i){var a=this.attr("display")!=="none";return h(o)||(o=!a),o===a?this:(this.attr({display:o?null:"none"}),(i!==!0||this.suspend===!0)&&(this.suspend=!o),this.setRenewComplete(!0),this)},s.prototype.destroy=function(){return this.transitionAnimator?(this.transitionAnimator.applyDestroy(),delete this.transitionAnimator,this):(this.applyDestroy(),this)},s.prototype.applyDestroy=function(){K(this.subscriptions,function(o){return o.un()}),this.subscriptions=[],this.isPatched=!1,this.parent?(this.parent.removeChild(this),this.layout.needToDestroy(this)):this.layout.removeChild(this),this.state.needDestroy=!0,this.state.needPatching=!0},s.prototype.patchDestroy=function(){this.state.destroyed=!0},s.prototype.setDomEventsElement=function(o){for(var i in this.events)this.events[i]instanceof eM&&this.events[i].setElement(o)},s.prototype.toLocal=function(o){return qN(o,"toLocal",this.parent)},s.prototype.toGlobal=function(o){return qN(o,"toGlobal",this.parent)},s.prototype.setPreliminarySize=function(o){var i=this.variant?this.variant.index:0;return this.combinations.length&&!o||this.updateCombinations(),i>=this.combinations.length&&(i=0),this.combinations.length&&this.setSize(this.combinations[i].minSize),this.parent&&this.updateGlobalCoordinates(),this},s.prototype.externalOn=function(o,i,a){if(o){var u=this.wrapEventCallback(a),d=function(f){f=l7(f,o,i),u(f)};return o.on(i,d),{un:function(){o.un(i,d)}}}},s.prototype.wrapEventCallback=function(o){var i=this;return h(o)?function(a){a.bbox=i.getBbox();var u=a.pointers=a.pointers?fe(a.pointers,function(d){return i.toRelativeXY(d)}):[i.toRelativeXY(a.eventArgs)];a.x=u[0][0],a.y=u[0][1],o&&o(a)}:void 0},s.prototype.toRelativeXY=function(o){if(!o)return[0,0];var i=h(o.clientX)?this.renderer.relativeToRoot(o.clientX-this.globalX,o.clientY-this.globalY):{x:0,y:0};return[i.x,i.y,o.id]},s}(),Gm=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.init=function(){s.prototype.init.call(this),this.width=this.width||Qc(),this.height=this.height||Qc(),this.x=this.x||Qc(),this.y=this.y||Qc()},o.prototype.availableAttributes=function(){return $F},o.prototype.updateSize=function(i,a){return a&&(this.variant=a),i&&this.setSize(i),this.setGlobalCoordinates(),this.updateVisual(),this},o.prototype.updateVisual=function(){this.setPosition(this.x,this.y)},o.prototype.setPosition=function(i,a){var u=!this.x||this.x.isMutable,d=!this.y||this.y.isMutable;this.x=i&&u?i:this.x,this.y=a&&d?a:this.y},o.prototype.getZeroSize=function(i){var a=Qc();return sr(i)&&(a.valueType="*"),a},o.prototype.composeCombinations=function(){var i=this,a=function(d){return Fa(d)?d:i.getZeroSize(d)},u=a(this.width);return a=a(this.height),[{score:{whitespace:0,magnitude:u.px*a.px},minSize:{width:u,height:a},index:0}]},o.prototype.patchDestroy=function(){s.prototype.patchDestroy.call(this),this.el&&(this.el.destroy(),delete this.el)},o.prototype.below=function(i){return this.belowItem=i,this.add()},o.prototype.useMainElementForEvents=function(i){this._useMainElementForEvents=i},o.prototype.subscribeDomEvents=function(i){var a=new eM(i),u=this.getLowermostElement();this._useMainElementForEvents&&(u=this.el),a.setElement(u),this.events[i]=a},o.prototype.getLowermostElement=function(){return this.el},o.prototype.collectAttrs=function(i){return i===void 0&&(i=!1),i?Al(this.getBbox(!0),this.attrs):this.attrs||{}},o.prototype.getParentGroup=function(){return this.parent?this.parent.getElement():null},o.prototype.notifyParentChanged=function(){s.prototype.notifyParentChanged.call(this),this.parentChanged=!0},o.prototype.applyPatch=function(i){if(!this.el||this.parentChanged){var a=this.el!=null,u=this.getParentGroup();this.el=a?this.el.attr(i):this.createElement(i),this.belowItem?(a=this.belowItem.getLowermostElement()||this.belowItem.el)?this.el.addBefore(a):this.el.add(u):this.el.add(u),this.setDomEventsElement(this.el)}else this.el.attr(i);this.parentChanged=!1,s.prototype.applyPatch.call(this,i)},o.prototype.transition=function(i){this.el&&this.el.transition(i)},o}(jm),aB=Qc(),Qle=[{score:{whitespace:0,magnitude:0},minSize:{width:aB,height:aB},maxlineWidth:0,lineUsed:1,lines:[[{width:0,height:0,isSpace:!1}]],parts:[{text:"",width:0,parts:[{text:"",width:0}]}],index:0}],Jle=un(["width","height","x","y"]),lB=["val","textVariants","verticalAlign"],cB=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.preserveStartSpaces=!0,i._cachedCombinations={},i.textElements=[],i._maxDescent=0,i}return e(o,s),o.prototype.val=function(i){if(h(i)){var a=Xi(i),u=a?i.val||"":i;return this.text!==u&&this.attr(a?i:{val:u}),this}return this.text},o.prototype.createElement=function(i){return this.renderer.element("text",i)},o.prototype.getMaxDescent=function(){return this._maxDescent},o.prototype.updateVisual=function(){var i=this,a=i._parentAttributes&&i._parentAttributes.textOverflow;a=(i._textOverflow||a)==="ellipsis";var u=i.variant,d=i.width?i.width.px:void 0,f=i.height?i.height.px:void 0;i.maxWidth;var v=i.xAlignment||i.xContentAlignment||"left";if(d=d||y(i.parent,["maxWidth"]),!u){for(var x=i.combinations,b=x.length,w=0;w<b;w++){var k=x[w];if(k&&(!d||k.minSize.width.px<d)&&(!f||k.minSize.height.px<f)){u=k;break}}u||(u=x[b-1])}K(u.parts,function(D){return D.metrics&&(i._maxDescent=Math.max(D.metrics.descent,i._maxDescent))}),i.wrappedLayout=function(D,T,M){for(var I=D.lines,O=D.parts,F=D.maxLineWidth,N=[],j=0,W=0,$=0,Y=O[$],te=Y.parts,ee=0,ae=I.length;ee<ae;ee++){var q=I[ee],J=q.length,re={text:"",x:0,y:0,styles:{}},ce=0,oe=[],pe=0,Se=0,Te=0,Ke=0;if(J){for(var bt=0;bt<=J;bt++){if(!te[j]||bt===J){var Ze=Y.metrics||{height:0,descent:0},xe=Ze.height,$e=Ze.descent;Ze=Ze.leading-Ze.fontSize;var ze=xe-$e;if(re.text&&(re.styles=Y.style||{},oe.push(ke({},re)),pe=pe<xe?xe:pe,Se=Se<ze?ze:Se,Te=Te<$e?$e:Te,Ke=Ke<Ze?Ze:Ke),bt<J){for(;Y&&!(j<Y.parts.length);)j-=Y.parts.length,Y=O[++$];te=Y.parts,re={text:"",x:ce,y:0,styles:{}}}}($e=q[bt])&&(xe=$e.width,$e=!$e.isSpace,(bt!==0||$e||ee===0)&&(Ze=bt!==J-1,ze=q.length===te.length,($e||Ze||ze)&&(ce+=xe),re.text+=te[j].text),j++)}for(q=T?ce:F,J=0,re=oe.length;J<re;J++)bt=oe[J],xe=bt.styles&&bt.styles.verticalAlign,$e=Y.metrics.fontSize/2,bt.y=W+(xe==="sup"?Ke+$e:xe==="sub"?Se+$e-Te:Se),bt.x+=ip[M]*(q-ce),N.push(bt);W+=pe}}return{parts:N,score:D.score}}(u,a,v)},o.prototype.composeCombinations=function(){if(!this.text)return Qle;y(this.parent,["config","type"])==="stack:text"&&this.parent;var i=_i(this._ownAttributes,["x","y"]),a=ht(this.layout.svgStyles,this._parentAttributes),u=ht(a,i),d=u.whiteSpace||"normal",f=this.preserveStartSpaces,v=(!this.width||this.width.valueType!=="*"&&this.width.isMutable)&&u.strategy?u.strategy:"none",x=this.ignoreCategories,b=u.fontFamily,w=u.fontStyle,k=u.fontWeight,D=u.fontSize,T=d!=="pre"&&d!=="nowrap"&&this.autoWrap==="auto";if(this._cachedCombinations.filter){var M=this._cachedCombinations,I=M.filter;if(I.whiteSpace===d&&I.text===this.text&&I.strategy===v&&I.fontFamily===b&&I.fontStyle===w&&I.fontWeight===k&&I.fontSize===D)return M.result}for(this._cachedCombinations.filter={whiteSpace:d,text:this.text,strategy:v,fontFamily:b,fontStyle:w,fontWeight:k,fontSize:D},i={own:u,personal:i,parent:a},v={ignoreCategories:x,preserveSpaces:d==="pre"||d==="pre-wrap",preserveStartSpaces:f,wrapText:T,wrappingStrategy:v,width:Fa(this.width)?this.width.px:0,height:Fa(this.height)?this.height.px:0,maxWidth:this.maxWidth,maxHeight:this.maxHeight,ellipsisWidth:this.config.ellipsisWidth},x=tre(this.text,i,this.layout.svgStyles,v),d=v.width,f=v.height,v={wrapText:v.wrapText,strategy:v.wrappingStrategy,width:d,height:f,maxWidth:v.maxWidth,maxHeight:v.maxHeight},T=[[]],i=0,a=x.length;i<a;i++)if(u=x[i],b=u.length){for(b=[],w=0,k=u.length;w<k;w++){for(D=H7(T),M=0,I=T.length;M<I;M++)D[M].push(u[w]);b=b.concat(D)}T=b}else for(w=0,k=T.length;w<k;w++)T[w].push(b==null?u:u[0]);for(x=T,T=[],i=0,a=x.length;i<a;i++){if(b=Wle(x[i],v),v){var O=void 0;u=void 0,w=b.length,k=v.wrapText,D=v.strategy,M=v.maxWidth,I=v.maxHeight;var F=D==="none",N=[],j=0;if(w){for(var W=0;W<w;W++){var $=b[W],Y=$.score;O=O&&O!==$.linesUsed;var te=(!h(M)||$.width<M)&&(!h(I)||$.height<I);k&&te&&(F||!u||O||$[D]<u[D]||Y.whitespace<u.score.whitespace)&&(j+=F&&j||O?1:0,u=N[j]=$),O=$.linesUsed}N.length||N.push(b[k?w-1:0])}u=N}else u=b;T=T.concat(u)}for(v=T,x=0,T=v.length;x<T;x++)i=v[x],a=f,i&&(i.minSize={width:Ki(d||i.width),height:Ki(a||i.height)},delete i.width,delete i.height),v[x].index=x;return this._cachedCombinations.result=v},o.prototype.fillProperties=function(i){i&&(h(i.val)&&(this.text!==i.val&&this.setRenewComplete(),this.text=i.val),h(i.stroke)&&(this._strokeAttrs=Vi({},i,gy)),h(i.textOverflow)&&(this._textOverflow=i.textOverflow),s.prototype.fillProperties.call(this,i))},o.prototype.getLowermostElement=function(){return this.textElements[0]},o.prototype.patchDestroy=function(){var i=this.textElements;if(i){for(var a=0,u=i.length;a<u;a++)i[a]&&i[a].destroy();this.textElements=[]}s.prototype.patchDestroy.call(this)},o.prototype.availableAttributes=function(){return Koe},o.prototype.collectAttrs=function(){var i=s.prototype.collectAttrs.call(this,!0);return i.translate={x:i.x,y:i.y},Ac({},i,Jle)},o.prototype.applyPatch=function(i){var a=this.wrappedLayout||{},u=this.textElements,d=a.parts,f=d?d.length:1,v=u.length,x=this.getParentGroup(),b=(this.el||x?i:ht(this.layout.svgStyles,i))||{},w=!!this.el,k=this.getAnimation();for(w||(this.el=this.createElement(b).add(x)),x=0;x<f;x++){var D=d?d[x]:a,T={text:D.text,x:D.x||0,y:D.y||0};if(T=ht(T,D.styles),this.preserveStartSpaces&&(T.style="white-space: pre"),T.x=T.x===0?"0px":T.x,x<v)D=u[x],T=_i(T,lB),(T=this.cached(T,eu.WriteIfChanged,"_cache_",D,!0))&&D.attr(Y_(Y_({},T),{animation:k}));else{if(T=Dd(_i(D,["styles"]),T,un(lB)),D=this.renderer.element("tspan"),this.cached(T,eu.WriteOnly,"_cache_",D),!D)return this;D.prev=T,u.push(D),D.add(this.el),k?(D.attr(ht(T,{text:""})),D.attr({text:T.text,animation:k})):D.attr(T)}}for(a=function(M){var I=u.pop();k?I.attr({text:"",animation:ht(k,{onFinish:function(){return I.destroy()}})}):I.destroy()},x=v-1;x>=f;x--)a();w&&this.el.attr(b),this._strokeAttrs&&this.el.attr({strokeAttrs:this._strokeAttrs}),this.applyPatchState(i)},o.prototype.sharedAttrsUpdated=function(i){this._ownAttributes=this._ownAttributes||{},ke(this._ownAttributes,i),this.setRenewComplete()},o.prototype.parentAttrsChanged=function(i){var a=this;a._parentAttributes||(a._parentAttributes={}),ke(a._parentAttributes,i);var u=!1;xi(i,function(d){a[d]!==i[d]&&(u=!0)}),u&&a.setRenewComplete()},o}(Gm),ece=function(s){function o(i,a){return(s.call(this,i,a)||this).updateSize()}return e(o,s),o.prototype.availableAttributes=function(){return Xoe},o.prototype.createElement=function(i){var a=this.renderer.image(i);return i.width^i.height&&~AA.indexOf("Safari")&&(a.el.onload=function(){var u=a.el.getBBox();!i.width&&a.el.setAttribute("width",u.width),!i.height&&a.el.setAttribute("height",u.height)}),a},o.prototype.collectAttrs=function(){var i=s.prototype.collectAttrs.call(this,!0);return ht(i,{src:this.src})},o.prototype.fillProperties=function(i){i&&(this.src=h(i.src)?i.src:this.src||"",s.prototype.fillProperties.call(this,i))},o}(Gm),tce=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.availableAttributes=function(){return YF},o.prototype.collectAttrs=function(){var i=s.prototype.collectAttrs.call(this,!0),a={rx:this.rx,ry:this.ry},u=parseInt(i["stroke-width"])||0;return u&&(a.x=i.x+u/2,a.y=i.y+u/2,a.width=i.width-u,a.height=i.height-u),ht(i,a)},o.prototype.fillProperties=function(i){if(i){var a=h(i.radius)?i.radius:i.cornerRadius;this.rx=h(i.rx)?i.rx:h(a)?a:this.rx||0,this.ry=h(i.ry)?i.ry:h(a)?a:this.ry||0,p(i,"stroke-width")&&(this.strokeWidth=parseInt(i["stroke-width"])||0),s.prototype.fillProperties.call(this,i)}},o.prototype.createElement=function(i){return this.renderer.rect(i)},o.prototype.correctPixelValues=function(i,a){s.prototype.correctPixelValues.call(this,i,a),a=zm(i,this.strokeWidth,a),ke(i,a)},o}(Gm),uB=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.availableAttributes=function(){return Yoe},o.prototype.collectAttrs=function(){var i=_i(s.prototype.collectAttrs.call(this,!0),["cx","cy","r"]);return ke(i,this.getShapeBox()),i},o.prototype.getShapeBox=function(i){return i=i||this.getBbox(!0),{x:this.relativeSize?h(this.cx)?this.cx-this.r:null:i.x,y:this.relativeSize?h(this.cy)?this.cy-this.r:null:i.y,width:this.relativeSize?this.calculateFromRadius(this.r):i.width,height:this.relativeSize?this.calculateFromRadius(this.r):i.height,shapeName:this.mode}},o.prototype.fillProperties=function(i){i&&(this.mode=i.mode||i.subType||this.mode,nt(this.relativeSize)&&this.setSizeType(i),this.cx=i.cx,this.cy=i.cy,this.r=i.r,s.prototype.fillProperties.call(this,i))},o.prototype.createElement=function(i){return this.renderer.shape(this.mode,i)},o.prototype.setSizeType=function(i){vl(["x","y","width","height"],i)?this.relativeSize=!1:vl(["cx","cy","r"],i)&&(this.relativeSize=!0)},o.prototype.calculateFromRadius=function(i){return h(i)?2*i:null},o.prototype.default=function(i,a){return Qn(i)?a:i},o}(Gm),hB={},dB=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.init=function(){s.prototype.init.call(this),this.padding=this.padding||Vm(0)},o.prototype.extendDefault=function(i,a){return a.name&&nt(a.size)&&(i.width=i.height=16),s.prototype.extendDefault.call(this,i,a)},o.prototype.collectAttrs=function(){var i=s.prototype.collectAttrs.call(this);return this.updateIconState(),i.d=this._iconD,h(this._rotate)&&(this._rotate.length===1&&(this._rotate.push(this._iconWidth?i.x+this._iconWidth/2:0),this._rotate.push(this._iconHeight?i.y+this._iconHeight/2:0)),i.rotate=this._rotate),i},o.prototype.getFromStoreOrShapes=function(i){var a=this;if(i&&i!=="none"){var u,d;return(d=hB[i])?d:(u=sa[i])?hB[i]=u(0,0,10,10,{r:2}).toString():QR(i,function(f){f.displayCdnWarning&&En.emit("warning","dom","cdnLoad",{container:a.renderer.wrapper.el})},function(){En.emit("warning","dom","iconNotFound",{data:[i],container:a.renderer.wrapper.el})})}},o.prototype.updateIconState=function(i){i=i&&(i.d||i.path)||this.attrs.d||this.attrs.path;var a=this.getShapeBox();this.pixelCorrection&&(a=zm(a,a.height===1||a.width===1?1:0,this.parent));var u=i||(this._icon?this.getFromStoreOrShapes(this._icon):null);u&&(i=wN(u,[a.x,a.y,a.width,a.height,this._userSize],this._outerShape,this.padding,!!i),this._iconD=i[0],this._iconSize=i[1],this._iconWidth=i[2],this._iconHeight=i[3])},o.prototype.val=function(i){return h(i)&&this.attr(i),this},o.prototype.getIconSize=function(){return this.updateIconState(),this._iconSize},o.prototype.createElement=function(i){return this.renderer.path(i)},o.prototype.fillProperties=function(i){if(i){var a=i.outline,u=i.hatch;this._icon=p(i,"name")?i.name:this._icon,this._userSize=p(i,"size")?parseInt(i.size):this._userSize,this._outerShape=h(i.outerShape)?n7(i.outerShape):this._outerShape,(i.size||(i.d||i.path)&&!i.width&&!i.height)&&(this.updateIconState(i),i.width=this._iconWidth,i.height=this._iconHeight),h(i.rotate)&&(this._rotate=lre(i.rotate),i.rotate=void 0),h(a)&&(a.color&&(i.stroke=a.color),a.width&&(i.borderWidth=a.width)),h(u)&&(u.style&&(i.hatchPattern=u.style),u.color&&(i.hatch=u.color)),s.prototype.fillProperties.call(this,i)}},o}(uB),nce=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.availableAttributes=function(){return fw},o.prototype.createElement=function(i){if(i=this.renderer.element("g",i),this._innerSvg){var a=i.el;if(h(a.innerHTML))return a.innerHTML=this._innerSvg,i;var u=Qt.createElement("div");u.innerHTML="<svg><g>"+this._innerSvg+"</g></svg>",K(u.childNodes[0].childNodes,function(d){return a.appendChild(d)})}return i},o.prototype.fillProperties=function(i){i&&(this._innerSvg=i.innerSvg||this._innerSvg,s.prototype.fillProperties.call(this,i))},o}(Gm),ice=un(KN),rce=un(["width","height","x","y"]),Cy=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.init=function(){s.prototype.init.call(this),this.childElements=[],this.attachedElements=[],this.itemsCount=0,this.padding=this.padding||Vm(0,this.width?this.width.px:0),this.stretchSum={width:1,height:1},this.scoring=new Ile},o.prototype.sameChildren=function(i){return i=fe(i,function(a){var u=y(a,["constructor","name"]);return a.type||(u?u.toLowerCase():void 0)}).join(),this.childrenHash===i?!0:(this.childrenHash=i,!1)},o.prototype.val=function(i){if(!i)return this.childElements;if(Zt(i)||(i=[i]),this.sameChildren(i))for(var a=0,u=i.length;a<u;a++){var d=i[a];d instanceof jm&&(this.childElements[a].destroy(),d.insert({parent:this,position:a})),d.val&&this.childElements[a].attr(d),this.childElements[a].val(d.val||d)}else for(this.destroyChildren(),this.destroyAttachedElements(),a=0,u=i.length;a<u;a++)d=i[a],d instanceof jm||(Be(d)&&(d={type:"text",text:d}),Zt(d)&&(d={type:"stack",val:d}),d.add||(d=this.layout.item(d))),d.add(this);return this},o.prototype.addElementToParent=function(i){this.attach(i,{setSize:null})},o.prototype.attach=function(i,a){a=a&&h(a.setSize)?a.setSize:function(u){return i.attr({x:0,y:0,width:u.width,height:u.height})},this.attachedElements.push({el:i,domAttached:!1,setSize:a}),this.state.needAttachPatching=!0,this.isPatched&&this.patchAttachedElements()},o.prototype.updateSize=function(i,a){var u=!this.variant||a&&this.variant!==a,d=i&&(i.width!==this.width.px||i.height!==this.height.px||i.x!==this.x.px||i.y!==this.y.px);return d&&this.setSize(i),this.setGlobalCoordinates(),this.variant=a||this.variant||this.selectVariant(),i||this.setSize(this.variant.minSize),(u||d)&&this.arrange(),this},o.prototype.calculatePadding=function(i,a){a=this.padding;var u=a.right,d=a.top,f=a.bottom,v=function(x){return x.valueType==="%"?x.val*i/100:x.px};return{left:v(a.left),right:v(u),top:v(d),bottom:v(f)}},o.prototype.getContentSize=function(){var i=this.getBbox(),a=this.calculatePadding(i.width,i.height);return{width:Math.max(i.width-a.left-a.right,0),height:Math.max(i.height-a.top-a.bottom,0),x:i.x+a.left,y:i.y+a.top}},o.prototype.getStretchingArea=function(){var i=this.stretchSum,a=this.getReservedSpace(),u=this.getContentSize();return{width:Math.max(u.width-a.width,0)/(i.width||1),height:Math.max(u.height-a.height,0)/(i.height||1)}},o.prototype.getReservedSpace=function(){return{width:0,height:0}},o.prototype.selectVariant=function(){var i=this.combinations,a=null,u=i.length,d=this.strategy||this.layout.svgStyles.strategy,f=null,v=function(I){return I&&I.valueType!=="*"};if(u){for(var x=0;x<u;x++){var b=i[x],w=b.score,k=this.fitsSize(b.minSize),D=v(this.width),T=v(this.height),M=f&&this.scoring.compareScores(f,w,d)===1;D=!f||D&&T&&M,k.width&&k.height&&D&&(a=b,f=w)}if(f=null,!a){for(x=u-1;0<=x;x--)u=i[x],v=d==="height"?d:"width",(f&&f.minSize[v].px<u.minSize[v].px&&!a||f&&a&&f.minSize[v].px===a.minSize[v].px)&&(a=f),f=i[x];a=a||f}return a}},o.prototype.fitsSize=function(i){var a=la(this.width),u=la(this.height);return{width:!a||1>i.width.px-a,height:!u||1>i.height.px-u}},o.prototype.composeCombinations=function(){var i=this,a=[],u=this.childElements,d=!u||!u.length,f=this.suspend,v=this.width,x=this.height;if(d||f){if(a=[],f)for(var b=0;b<u.length;b++){var w=u[b];w.combinations.length||w.updateCombinations(),w=w.combinations,a.push(w.length?w[0]:null)}return u=function(k){return f||!k||d&&k.isMutable?Qc():k},[{components:a,score:{whitespace:0,magnitude:v&&x?v.px*x.px:0},minSize:{width:u(v),height:u(x)},index:0}]}for(v=1,b=0;b<u.length;b++)w=u[b],w.combinations.length&&!w.state.needRecalculation||w.updateCombinations(),w=w.combinations.slice(),x=w.length,v*=x,x||w.push(null),a.push(w);return 1e3<v&&(a=fe(a,function(k){return k=i.maxWidth?cre(k,i.maxWidth):k[0],[k]})),u=this.mixCombinations(a),this.filterCombinations(u)},o.prototype.mixCombinations=function(i){return this.getCombinations(i)},o.prototype.getCombinations=function(i,a){if(a=a||{codes:[],result:[],counter:0},0<i.length)for(var u=i[0].length,d=0;d<u;d++){var f=i.slice(0);a.codes[a.counter]=i[0][d],f.shift(),a.counter++,this.getCombinations(f,a)}else i=a.codes.slice(0),a.result.push(i);return a.counter--,a.result},o.prototype.getOverflowWidth=function(){var i;return((i=this.combinations)===null||i===void 0?void 0:i.length)===1&&(i=this.childElements[0],this.maxWidth===this.combinations[0].minSize.width.px&&i)?YN(i.width,{padding:this.padding}):this.width},o.prototype.filterCombinations=function(i){var a=this.width,u=this.height,d=Fa(a),f=Fa(u),v=this.autoWrap==="none"||this.autoWrap==="default",x=!d&&!f&&!h(this.maxWidth)&&this.autoWrap==="golden",b=function(ce){return h(ce)?ce:1/0},w=b(this.maxWidth);b=b(this.maxHeight);var k=function(ce){ce.valueType="px",ce.val=ce.px};if(i.length===1)return w=this.measure(i[0]),i=w.minSize,d?i.width=Ii(a):h(this.maxWidth)&&this.maxWidth<i.width.px?(i.width.val=i.width.px=this.maxWidth,i.width.valueType="px",i.width.isMutable=!0):this.childElements.length===1&&this.childElements[0].textOverflow==="ellipsis"&&k(i.width),f&&(i.height=Ii(u)),w.index=0,[w];if(!(d||f||v||x)){a=[],u=0,f=d=void 0;for(var D=0,T=i.length;D<T;D++){var M=this.measure(i[D]),I=M.minSize;v=w-I.width.px,k=b-I.height.px,x=Math.max(Math.abs(Math.min(0,v)),Math.abs(Math.min(0,k))),0<=v&&0<=k?(a.push(M),M.index=u++):(!d||nt(f)||f>x)&&(f=x,d=M)}return!a.length&&d&&a.push(d),a}var O=null,F=0,N=i.length-1,j=this.autoWrap==="none",W=this.config.type==="stack:text",$=this.textOverflow==="ellipsis";for(D=0,T=i.length;D<T;D++){M=this.measure(i[D]),I=M.minSize;var Y=I.width.px;I=I.height.px;var te=Y/I,ee=!d||M.minSize.width.px<=a.px,ae=!f||M.minSize.height.px<=u.px,q=!x||!O||Math.abs(1.618-te)<Math.abs(1.618-F)&&.35>M.score.whitespace,J=!W||!j||M.components[0].linesUsed===1;if((Y<=w&&I<=b||d||f)&&ee&&ae&&q&&J){d&&(M.minSize.width=Ii(a)),d?M.minSize.width=Ii(a):h(this.maxWidth)&&this.maxWidth<M.minSize.width.px?(M.minSize.width.val=M.minSize.width.px=this.maxWidth,M.minSize.width.valueType="px",M.minSize.width.isMutable=!1):this.childElements.length===1&&(this.childElements[0].textOverflow==="ellipsis"||W&&$)&&k(M.minSize.width),f&&(M.minSize.height=Ii(u));var re=M;if(x&&(O=M,F=te),d||v||x&&1.618>te)break}!v&&D!==T-1||re||!(ee||j&&J)||(N=0)}return w=re||this.measure(i[N]),w.index=0,W&&v&&this.canCutActualWidth()&&(i=w.minSize,h(this.maxWidth)&&this.maxWidth<i.width.px&&(i.width.val=i.width.px=this.maxWidth,i.width.valueType="px",i.width.isMutable=!1)),[w]},o.prototype.selectClosest=function(i,a,u){function d(D,T,M){return D=D.minSize,T=T.minSize,M?Math.abs(D[M].px-T[M].px):Math.abs(D.width.px-T.width.px)+Math.abs(D.height.px-T.height.px)}for(var f=i[0],v=f?d(a,f,u):null,x=1,b=i.length;x<b;x++){var w=i[x];if(w!==null){var k=d(a,w,u);(v===null||v>k)&&(v=k,f=w)}}return f},o.prototype.applyFitSize=function(i,a){var u=this.fitWidth,d=this.fitHeight,f=1,v=1;u&&u<i&&(f=u/i),d&&d<a&&(v=d/a),(u||d)&&this.attr({transform:{scale:Math.min(f,v)}})},o.prototype.arrange=function(){var i=this.variant;if(i){var a=this.childElements,u=i.components,d=this.getContentSize(),f=this.width.isMutable?i.minSize.width:this.width,v=this.height.isMutable?i.minSize.height:this.height;if(i=this.calculatePadding(f.px,v.px),u)for(this.applyFitSize(f.px,v.px),f=0,v=a.length;f<v;f++){var x=a[f],b=u[f],w=x.width,k=x.height;if(b){var D=x.calculateMargin(),T=la(x.userX),M=la(x.userY);T=d.width-D.horizontal.px-(T?T-i.left:0),M=d.height-D.vertical.px-(M?M-i.top:0),w=Us(w)?w:b.minSize.width,k=Us(k)?k:b.minSize.height;var I=function(F,N){return sr(N)?F:Or(N)?N.val*F/100:N.px};T=I(T,w),M=I(M,k),I=x.xAlignment||this.xContentAlignment,k=x.yAlignment||this.yContentAlignment,x.canCutActualWidth()&&T>x.maxWidth&&(T=x.maxWidth);var O=d.width-T-D.horizontal.px;w=d.height-M-D.vertical.px,I=(ip[I]||0)*(0<O?O:0),k=(ip[k]||0)*(0<w?w:0),x.updateSize({width:T,height:M,x:x.userX?x.userX.px:I+i.left+D.left.px,y:x.userY?x.userY.px:k+i.top+D.top.px},b)}}}},o.prototype.measure=function(i){for(var a=[],u=0,d=0,f=!1,v=!1,x=[],b=this.childElements,w=0,k=i.length;w<k;w++){var D=i[w],T=b[w];if(D){var M=Fa(T.width)?T.width:D.minSize.width,I=Fa(T.height)?T.height:D.minSize.height,O=T.calculateMargin(),F=Us(T.userX)?T.userX.px:0;T=Us(T.userY)?T.userY.px:0;var N=O.horizontal.relative/100;M=(M.px+F+O.horizontal.absolute)*(1+N/(1-N)),I=I.px+T+O.vertical.absolute+O.vertical.relative/100*M,O=sr(D.minSize.width),F=sr(D.minSize.height),f=f||O,v=v||F,u=M>u?M:u,d=I>d?I:d,x.push(D.score),a.push({x:0,y:0,width:D.minSize.width.px,height:D.minSize.height.px})}}return{components:i,minSize:this.completeSize(Ki(u,{stretch:f}),Ki(d,{stretch:v})),score:{whitespace:this.combineScores(x,a),magnitude:u*d},index:0}},o.prototype.completeSize=function(i,a){return $N(i,a,{padding:this.padding})},o.prototype.createElement=function(i){return this.renderer.element("g",i)},o.prototype.updateRoot=function(){s.prototype.updateRoot.call(this),K(this.childElements,function(i){return i.updateRoot()})},o.prototype.updateCombinations=function(){K(this.childElements,function(i){return i.updateCombinations()}),s.prototype.updateCombinations.call(this)},o.prototype.updateGlobalCoordinates=function(){s.prototype.updateGlobalCoordinates.call(this),K(this.childElements,function(i){return i.updateGlobalCoordinates()})},o.prototype.applyDestroy=function(){for(var i=this.childElements;i.length;)i[0].applyDestroy();s.prototype.applyDestroy.call(this)},o.prototype.applyRefresh=function(i){if(s.prototype.applyRefresh.call(this,i),this.isPatched&&!i){if(K(this.childElements,function(u){return u.applyRefresh()}),(i=this.el&&this.el.data.vals["clip-path"])&&i.isDef){var a=this.getBbox();i.attr=ke(i.attr||{},{width:a.width,height:a.height}),i.updateAttr&&i.updateAttr(i)}this.state.needAttachPatching&&this.patchAttachedElements()}},o.prototype.applyPatch=function(i){s.prototype.applyPatch.call(this,i),this.patchTitle(i),i=(i=i&&i.translate)&&(i.x||i.y),(this.forcePixelCorrection||i)&&this.pixelCorrection&&(this.updateGlobalCoordinates(),this.correctPixelValuesDown())},o.prototype.correctPixelValuesDown=function(){K(this.childElements,function(i){i.pixelCorrection&&i.isPatched&&(i.needPatch(),i.patch(),i instanceof o&&i.correctPixelValuesDown())})},o.prototype.patchAttachedElements=function(){var i=this,a=i.el,u=[];K(i.attachedElements,function(d){d.el.isDestroyed?u.push(d):d.domAttached||(d.el.add(a),d.domAttached=!0)}),u.length&&K(u,function(d){i.attachedElements.splice(i.attachedElements.indexOf(d),1)}),i.state.needAttachPatching=!1},o.prototype.destroyAttachedElements=function(){K(this.attachedElements,function(i){return i.el&&i.el.destroy()})},o.prototype.patchTitle=function(i){i=this.title;var a=this._titleVisual;h(i)&&(i?(a||(a=this._titleVisual=this.renderer.element("title").add(this.el)),a.attr({text:i})):a&&(a.destroy(),this._titleVisual=null))},o.prototype.availableAttributes=function(){return fw},o.prototype.collectAttrs=function(){var i=s.prototype.collectAttrs.call(this,!0);return i.translate={x:i.x,y:i.y},p(i,"shadow")&&!p(i,"clipPath")&&delete i.shadow,Ac({},i,rce)},o.prototype.appendChild=function(i,a){return 0<a?this.insertChild(i,a):this.addChild(i,"push")},o.prototype.prependChild=function(i){return this.addChild(i,"unshift")},o.prototype.addChild=function(i,a){return this.childElements&&0>this.childElements.indexOf(i)?(this.childElements[a](i),a=this.childElements.length,this.itemsCount<a&&(this.itemsCount=a),this._sharedAttributes&&i.parentAttrsChanged(this._sharedAttributes),!0):!1},o.prototype.removeChild=function(i){i.parent=null,i=this.childElements.indexOf(i),0>i||(this.childElements.splice(i,1),this.itemsCount=this.childElements.length,this.setRenewComplete())},o.prototype.insertChild=function(i,a){var u=this.childElements,d=u.indexOf(i),f=0>d;return f||u.splice(d,1),u.splice(a,0,i),f?(this.itemsCount=u.length,this._sharedAttributes&&i.parentAttrsChanged(this._sharedAttributes),!0):(this.setRenewComplete(),!1)},o.prototype.isNotEmpty=function(){return 0<this.childElements.length},o.prototype.clear=function(i){for(var a=this.childElements,u=0,d=a.length;u<d;u++){var f=a[u];f&&(f.parent=null,i.indexOf(f)===-1&&f.patchDestroy())}return this.childElements=[],this.combinations=[],this.variant=null,this.itemsCount=0,this},o.prototype.destroyChildren=function(){var i=this.childElements;if(i){for(var a=0,u=i.length;a<u;a++){var d=i[a];d&&(d.parent=null,d.patchDestroy())}this.childElements=[]}},o.prototype.patchDestroy=function(){this.destroyChildren(),s.prototype.patchDestroy.call(this)},o.prototype.combineScores=function(i,a){return!a||2>a.length?i[0].whitespace:(i=this.scoring.mergeScores(i),a=this.scoreCombination(a),(i+a.whitespace)/2)},o.prototype.isComplete=function(){var i=this.itemsCount===0&&0<this.childElements.length||this.childElements.length===this.itemsCount,a=this.itemsCount===0&&(Fa(this.width)||Fa(this.height));return i||a},o.prototype.scoreCombination=function(i){return new Hw(i).getScore()},o.prototype.finalSizeCalled=function(){if(this.attachedElements){var i=this.getBbox();K(this.attachedElements,function(a){a.setSize&&a.setSize(i)})}},o.prototype.snap=function(i,a){return a===void 0&&(a=1),zm(i,a,this)},o.prototype.getElement=function(){return this.el},o.prototype.getLowermostElement=function(){var i=this.el;return i?i.childNodes[0]:null},o.prototype.sharedAttrsUpdated=function(i){var a=this._sharedAttributes=this._sharedAttributes||{};Vi(a,i,ice),K(this.childElements,function(u){return u.parentAttrsChanged(a)})},o.prototype.parentAttrsChanged=function(i){var a=this,u;xi(i,function(d){a[d]!==i[d]&&(u=u||{},u[d]=i[d])}),u&&(this._sharedAttributes=u,this.sharedAttrsUpdated(u))},o}(Gm),ky=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.init=function(){s.prototype.init.call(this),this.orientation="x"},o.prototype.fillProperties=function(i){i&&(this.orientation=i.subType||i.orientation||this.orientation,s.prototype.fillProperties.call(this,i))},o.prototype.arrange=function(){var i=this.variant;if(i){var a=this.childElements,u=i.components,d=i.extra||{},f=this.getContentSize(),v=this.width.isMutable?i.minSize.width:this.width,x=this.height.isMutable?i.minSize.height:this.height;i=this.calculatePadding(v.px,x.px);var b=this.orientation==="y";this.applyFitSize(v.px,x.px);var w=0,k=0,D=0;for(v=0,this.stretchSum=d.stretchSum||this.stretchSum,d=0,x=a.length;d<x;d++){var T=a[d],M=u[d];if(M){var I=T.calculateMargin(),O=Us(T.width)?T.width:M.minSize.width,F=Us(T.height)?T.height:M.minSize.height,N=sr(O)?I.horizontal.px:(Or(O)?O.val*f.width/100:O.px)+I.horizontal.px,j=sr(F)?I.vertical.px:(Or(F)?F.val*f.height/100:F.px)+I.vertical.px;T=sr(O)?f.width*O.val/this.stretchSum.width:N,F=sr(F)?f.height*F.val/this.stretchSum.height:j,b?(w=w>N?w:N,k+=j,D=D>T?D:T,v+=F):(w+=N,k=k>j?k:j,D+=T,v=v>F?v:F)}}var W=0,$=0,Y=0,te=0;for(w=b?f.width:Pn([0,f.width-w]),k=b?Pn([0,f.height-k]):f.height,D=Pn([0,f.width-D]),v=Pn([0,f.height-v]),d=0,x=a.length;d<x;d++)T=a[d],(M=u[d])&&(I=T.calculateMargin(),O=T.width&&!T.width.isMutable?T.width:M.minSize.width,F=T.height&&!T.height.isMutable?T.height:M.minSize.height,N=sr(O)?w*O.val/this.stretchSum.width:Or(O)?O.val*f.width/100:O.px,j=sr(F)?k*F.val/this.stretchSum.height:Or(F)?F.val*f.height/100:F.px,T.updateSize({width:N,height:j,x:W+(ip[T.xAlignment||this.xContentAlignment]||0)*(b?f.width-N-I.horizontal.px:D)+i.left+I.left.px,y:$+(ip[T.yAlignment||this.yContentAlignment]||0)*(b?v:f.height-j-I.vertical.px)+i.top+I.top.px},M),b?(Y=Y>N?Y:N,$=te+=j+I.vertical.px):(Y+=N+I.horizontal.px,te=te>j?te:j,W=Y))}},o.prototype.reverse=function(){this.childElements.reverse(),this.state.needRecalculation=!0},o.prototype.getReservedSpace=function(){var i=this.variant?{width:this.variant.minSize.width.px,height:this.variant.minSize.height.px}:s.prototype.getReservedSpace.call(this),a=this.orientation==="y";return{width:a?0:i.width,height:a?i.height:0}},o.prototype.selectClosest=function(i,a){return s.prototype.selectClosest.call(this,i,a,this.orientation==="y"?"width":"height")},o.prototype.measure=function(i){for(var a=[],u=[],d=0,f=0,v=0,x=0,b=!1,w=!1,k=0,D=0,T=0,M=this.childElements,I=0,O=i.length;I<O;I++){var F=i[I],N=M[I];if(F){var j=F.minSize.width,W=F.minSize.height,$=Us(N.width)?N.width:j,Y=Us(N.height)?N.height:W;N=M[I].calculateMargin(),b=b||sr($),w=w||sr(Y),u.push(F.score),a.push({x:0,y:0,width:j.px,height:W.px}),this.orientation==="x"?(d+=(Or($)?0:$.px)+N.horizontal.absolute,v+=(Or($)?$.val:0)+N.horizontal.relative,F=Math.max(tp(Y)?Y.px:0,W.px)+N.vertical.absolute,f=f>F?f:F,k+=sr($)?$.val:0):(f+=(Or(Y)?0:Y.px)+N.vertical.absolute,x+=(Or(Y)?Y.val:0)+N.vertical.relative,$=Math.max(tp($)?$.px:0,j.px)+N.horizontal.absolute,d=d>$?d:$,D+=sr(Y)?Y.val:0),T+=N.vertical.relative}}return d=100>v?100*d/(100-v):0,f=100*f/(100-x)+T*d/100,{components:i,minSize:this.completeSize(Ki(d,{stretch:Us(this.width)?!1:b}),Ki(f,{stretch:Us(this.height)?!1:w})),score:{whitespace:this.combineScores(u,a),magnitude:d*f},extra:{stretchSum:{width:k||1,height:D||1}},index:0}},o.prototype.val=function(i){return i&&i.length&&(this.itemsCount=i.length),s.prototype.val.call(this,i)},o.prototype.scoreCombination=function(i){var a=Bm[this.orientation||"x"];return new Hw(i).getScore(a)},o}(Cy),pB=["cellSpacing","cellPadding","borders"],sce=function(s){function o(i,a){return i=s.call(this,i,a)||this,i.rowCount=0,i.columnCount=0,i.gridElements=[],i.borders=[],i.borderElements=[],a&&a.cellSpacing&&i.applyCellSpacing(a.cellSpacing),i}return e(o,s),o.prototype.attr=function(i,a){return p(i,"cellSpacing")&&this.applyCellSpacing(i.cellSpacing),s.prototype.attr.call(this,i,a)},o.prototype.applyCellSpacing=function(i){(this.cellSpacing=parseInt(i)||0)&&typeof this.padding.initial=="number"&&(this.padding=Vm(this.padding.initial+this.cellSpacing/2));var a=Vm(this.cellSpacing/2);K(this.childElements,function(u){u.padding=a})},o.prototype.isComplete=function(){var i=this.childElements;return i=i?i.length:0,0<i&&i===this.rowCount*this.columnCount},o.prototype.arrange=function(){var i=this.variant;if(i){this.calculatePadding((this.width.isMutable?i.minSize.width:this.width).px,(this.height.isMutable?i.minSize.height:this.height).px);for(var a=this.childElements,u=this.getContentSize(),d=i.components,f=[],v=[],x=[],b=[],w=0;w<this.rowCount;w++)for(var k=0;k<this.columnCount;k++){var D=w*this.columnCount+k,T=d[D],M=a[D];if(T){var I=T.minSize,O=function(W,$){return Or(W)?W.val*$/100:W.px};T=O(I.width,u.width),O=O(I.height,u.height),D=M.width&&!M.width.isMutable?M.width:I.width,M=M.height&&!M.height.isMutable?M.height:I.height,f[k]=Pn([f[k],sr(D)?D.val:0]),v[w]=Pn([v[w],sr(M)?M.val:0]),x[k]=Pn([x[k],T]),b[w]=Pn([b[w],O])}else x[k]=Pn([x[k],0]),b[w]=Pn([b[w],0]),f[k]=Pn([f[k],0]),v[w]=Pn([v[w],0])}w=[],k=[],f=rr(f),I=rr(v),v=[];for(var F=0;F<this.rowCount;F++)for(var N=0;N<this.columnCount;N++){D=F*this.columnCount+N,T=d[D],M=a[D],D=i.minSize,O=u.width-D.width.px+x[N];var j=u.height-D.height.px+b[F];T?(D=Us(M.width)?M.width:T.minSize.width,M=Us(M.height)?M.height:T.minSize.height,T=sr(D)?O*D.val/f:Or(D)?D.val*u.width/100:D.px,O=sr(M)?j*M.val/I:Or(M)?M.val*u.height/100:M.px,w[N]=Pn([w[N],T]),k[F]=Pn([k[F],O]),v.push([T,O])):(w[N]=Pn([w[N],0]),k[F]=Pn([k[F],0]))}for(u=this.padding.top.px,d=0;d<this.rowCount;d++){for(x=k[d],b=this.padding.left.px,f=0;f<this.columnCount;f++)D=d*this.columnCount+f,I=w[f],M=a[D],F=v[this.columnCount*d+f],T=I,O=x,N=b,j=u,Fa(M.width)&&(N+=(ip[M.xAlignment]||0)*(I-F[0])),Fa(M.height)&&(j+=(ip[M.yAlignment]||0)*(x-F[1])),M.updateSize({width:T,height:O,x:N,y:j},i.components[D]),b+=I;u+=x}}},o.prototype.refreshBorders=function(){for(var i=function(f,v){if(v=a.borders[f],!v)return"continue";var x=a.childElements[f];f=a.borderElements[f]=a.borderElements[f]||[];for(var b=function(M,I){return M=zm([M?0:I?x.width.px:0,M&&I?x.height.px:0,M?x.width.px:0,M?0:x.height.px],1,x),"M "+M[0]+" "+M[1]+" l "+M[2]+" "+M[3]},w=0;4>w;w++)if(v[w]){var k=f[w],D=!(w%2),T=w===1||w===2;k?k.attr({d:b(D,T)}):(k=a.renderer.path({d:b(D,T),strokeWidth:1,stroke:"gray",fill:"none"}),k.add(x),f[w]=k)}},a=this,u=0,d=this.childElements.length;u<d;u++)i(u)},o.prototype.applyPatch=function(i){this.refreshBorders(),s.prototype.applyPatch.call(this,i)},o.prototype.getReservedSpace=function(){var i=this.variant;return i?{width:i.minSize.width.px,height:i.minSize.height.px}:{width:0,height:0}},o.prototype.scoreCombination=function(i){return new Hw(i).getScore(Bm.xy,[this.rowCount,this.columnCount])},o.prototype.measure=function(i){function a(j,W){if(j.length!==W.length)return 0;for(var $=[],Y=0;Y<j.length;Y++){var te=[j[Y]],ee=W[Y];0<ee&&te.push(ee/100),$.push(te)}for(j=Ele($),$=W=0;$<j.length;$++){te=Y=0,ee=j[$];for(var ae=0;ae<ee.length;ae++){var q=ee[ae];1>q?Y+=q:te+=q}W=Pn([W,1>Y?te/(1-Y):te])}return W}for(var u=[],d=[],f={widths:[],heights:[]},v={widths:[],heights:[]},x={width:!1,height:!1},b=function(j){return Or(j)?0:j.px},w=function(j){return Or(j)?j.val:0},k=this.childElements,D=0;D<this.rowCount;D++)for(var T=0;T<this.columnCount;T++){var M=D*this.columnCount+T,I=i[M],O=k[M];if(I){M=I.minSize.width;var F=I.minSize.height,N=Us(O.width)?O.width:M;O=Us(O.height)?O.height:F,x.width=x.width||sr(N),x.height=x.height||sr(O),u.push(I.score),d.push({x:0,y:0,width:M.px,height:F.px}),f.widths[T]=Pn([f.widths[T]||0,b(M)]),f.heights[D]=Pn([f.heights[D]||0,b(F)]),v.widths[T]=Pn([v.widths[T]||0,w(M)]),v.heights[D]=Pn([v.heights[D]||0,w(F)])}else f.widths[T]=Pn([f.widths[T]||0,0]),f.heights[D]=Pn([f.heights[D]||0,0]),v.widths[T]=Pn([v.widths[T]||0,0]),v.heights[D]=Pn([v.heights[D]||0,0])}return f=function(j,W,$){var Y=a(j.widths,W.widths);return j=a(j.heights,W.heights),{width:Ki(Y,{stretch:$.width}),height:Ki(j,{stretch:$.height})}}(f,v,x),{components:i,score:{whitespace:this.combineScores(u,d),magnitude:f.width.px*f.height.px},minSize:this.completeSize(f.width,f.height),index:0}},o.prototype.mixCombinations=function(i){for(var a=this.rowCount,u=this.columnCount,d=[],f=i.reduce(function(T,M){return T.length>M.length?T:M}).length,v=0;v<a;v++)for(var x=0;x<u;x++)for(var b=i[v*u+x],w=b.length-1,k=f;0<k--;){var D=w*k/f+.5<<0;d[k]||(d[k]=[]),d[k].push(b[D])}return d},o.prototype.val=function(i){if(!i)return this.gridElements;this.rowCount=i.length,this.columnCount=CA(i,function(x,b){return b.length>x?b.length:x},0),this.clear(Mc(i));for(var a=this.cellSpacing/2||0,u=0;u<this.rowCount;u++)for(var d=0;d<this.columnCount;d++){var f=i[u][d]||this.layout.panel({type:"panel"}),v=this.wrapInnerItem(f,a);this.gridElements.push(f),v.add(this)}return this.refreshBorders(),this},o.prototype.wrapInnerItem=function(i,a){return i.parent?i.parent:(a=this.layout.panel({padding:a}),i.width.valueType!=="px"&&(a.width=bn(i.width),i.width.valueType==="%"&&(i.width.val=100)),i.height.valueType!=="px"&&(a.height=bn(i.height),i.height.valueType==="%"&&(i.height.val=100)),i.constructor.name!=="Icon"&&(a.attrs=po(i.attrs,gy),i.attrs={}),i.add(a),a)},o.prototype.clear=function(i){for(var a=this.childElements,u=0,d=a.length;u<d;u++){var f=a[u],v=this.gridElements[u];f&&(f.parent=null,f.destroyAttachedElements(),i.indexOf(v)===-1&&f.patchDestroy())}return this.borderElements=[],this.gridElements=[],this.childElements=[],this.combinations=[],this.variant=null,this.itemsCount=0,this},o.prototype.fillProperties=function(i){if(i){var a=this.processAttrs(i);s.prototype.fillProperties.call(this,i),a&&this.isComplete()&&this.setRenewComplete()}},o.prototype.processAttrs=function(i){for(var a=!1,u=pB.length,d=0;d<u;d++){var f=pB[d],v=i[f];h(v)&&(a=a||this[f]!==v,this[f]=v,delete i[f])}return a},o}(Cy),fB=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.availableAttributes=function(){return qoe},o.prototype.defaultConfig=function(){var i=this.layout;return i=i?g(i.renderer,"errorReporting.chart"):void 0,i=(i?i.boxDefaults():Em()).outline,{fill:"white","border-color":i.color,"border-width":i.width}},o.prototype.getPaddingOffset=function(i,a){i=i.valueType?i.px:i;var u=a.valueType?a.px:a;return a=Qne(i,u,this.shape||{}),i=i===0&&u===0,{top:a[1]+(i?0:this.strokeWidth),bottom:a[3]+(i?0:this.strokeWidth),left:a[0]+(i?0:this.strokeWidth),right:a[2]+(i?0:this.strokeWidth)}},o.prototype.fillProperties=function(i){i&&(this.processAttrs(i),s.prototype.fillProperties.call(this,i))},o.prototype.destroyRect=function(){this.rect&&(delete this._box_cache_,this.rect.destroy(),this.rect=null)},o.prototype.patchRect=function(){var i=this.strokeWidth,a=this.getBbox(),u=!a.width||!a.height;!this.childElements.length||u?this.destroyRect():a.width===2*i&&a.height===2*i?this.destroyRect():(i=ht(this.attrs||{},{"border-width":this.strokeWidth,stroke:this.stroke,fill:this.fillColor,shadow:this.shadow,width:Pn([a.width-i,0]),height:Pn([a.height-i,0]),x:i/2,y:i/2,shape:this.shape}),this.pixelCorrection&&(a=zm(i,this.strokeWidth,this),ke(i,a)),i=Ac({},i,$oe),(i=this.cached(i,eu.WriteIfChanged,"_box_cache_"))&&(this.rect?this.rect.attr(i):(this.rect=this.renderer.shape("rectangle",i),(i=this.firstItem())?(i=this.getLowermostElement()||i.el,this.rect.addBefore(i)):this.rect.add(this.getElement())),this.rectAttrsApplied({d:this.rect.attr("d")})))},o.prototype.emptyPatch=function(){s.prototype.emptyPatch.call(this),this.patchRect()},o.prototype.applyPatch=function(i){s.prototype.applyPatch.call(this,Ac({},i,Zoe)),this.patchRect()},o.prototype.patchDestroy=function(){this.rect&&(this.rect.destroy(),delete this.rect),s.prototype.patchDestroy.call(this)},o.prototype.rectAttrsApplied=function(i){},o.prototype.firstItem=function(){return this.childElements&&this.childElements.length?We(this.childElements,function(i){return i.isPatched}):null},o.prototype.calculatePadding=function(i,a){var u=this.padding;return i=this.getPaddingOffset(i,a),{left:u.left.px+i.left,right:u.right.px+i.right,top:u.top.px+i.top,bottom:u.bottom.px+i.bottom}},o.prototype.completeSize=function(i,a){var u=this.padding,d=this.getPaddingOffset(i,a);return $N(i,a,{padding:u,offset:d})},o.prototype.processAttrs=function(i){if(p(i,"stroke-width")&&(this.strokeWidth=parseInt(i["stroke-width"])||0,delete i["stroke-width"]),p(i,"stroke")&&(this.stroke=i.stroke,delete i.stroke),p(i,"color")&&(this.fillColor=i.color,delete i.color),p(i,"fill")&&(this.fillColor=i.fill,delete i.fill),p(i,"shadow")&&(this.shadow=i.shadow,delete i.shadow),p(i,"shape")&&(this.shape=i.shape,delete i.shape,this.setRenewComplete()),p(i,"radius")){this.shape=this.shape||{},this.shape.r=i.radius;var a=i.corners&&Zt(i.corners),u=a?i.corners:this.shape.corners||[{type:"round"},{type:"round"},{type:"round"},{type:"round"}];a&&!p(u[0],"type")&&(u=fe(u,function(d){return{type:d}})),this.shape.corners=u,delete i.radius,delete i.corners,this.setRenewComplete()}},o}(Cy),mB=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.fillProperties=function(i){i&&p(i,"text")&&(this.textAttr!==i.text&&(this.textAttr=i.text,Be(this.textAttr)&&(this.textAttr={val:this.textAttr}),this.createTextAndSetTextValue()),delete i.text),s.prototype.fillProperties.call(this,i)},o.prototype.createTextAndSetTextValue=function(){this.textAttr?this.textVisual?this.textVisual.attr(this.textAttr):(this.textVisual=this.layout.textStack(),this.textAttr.zIndex=1,this.textVisual.attr(this.textAttr),this.textVisual.add(this)):this.textVisual&&(this.textVisual.destroy(),this.textVisual=null)},o}(fB),oce=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.fillProperties=function(i){var a=this,u=h(i.val)?i.val:i.text,d=i.xAlignment,f=i.yAlignment,v=i.xContentAlignment||d,x=i.yContentAlignment||f;!i.xContentAlignment&&i.xAlignment&&(i.xContentAlignment=d),!i.yContentAlignment&&i.yAlignment&&(i.yContentAlignment=f),v&&this.xContentAlignment!==v&&K(this.childElements,function(b){!b.config.xContentAlignment&&b.attr({xContentAlignment:v})}),x&&this.yContentAlignment!==x&&K(this.childElements,function(b){!b.config.yContentAlignment&&b.attr({yContentAlignment:x})}),i.width&&(i.strategy=i.strategy||"none"),i.stroke&&(this._strokeAttrs=Vi({},i,gy),K(this.childElements,function(b){b.attr(a._strokeAttrs)})),s.prototype.fillProperties.call(this,i),h(u)&&this.val(u)},o.prototype.init=function(){s.prototype.init.call(this),this.orientation="y"},o.prototype.val=function(i){return h(i)?(Be(i)&&this._textAttr!==i&&(this._textAttr=i,this.parseTextAndSetTextValue()),this):this._textAttr},o.prototype.setTextExtraProps=function(i,a){var u=this;i.type!=="text"&&i.type!=="icon"||ke(i,a),Zt(i.val)&&K(i.val,function(d){return u.setTextExtraProps(d,a)})},o.prototype.collectAttrs=function(){var i=s.prototype.collectAttrs.call(this);return po(i,gy)},o.prototype.canCutActualWidth=function(){return h(this.maxWidth)&&this.textOverflow==="ellipsis"},o.prototype.editLine=function(i){var a;if(i.type==="text"&&i.val)if(Zt(i.val)&&Xt(i.val,function(D){return D.align}).length){var u=[];K(i.val,function(D){u.push({type:"text",val:[D],xAlignment:D.align})}),i=ke(i,{type:"stack",val:u,width:i.width||"100%"})}else Be(i.val)&&i.align&&(i.xAlignment=i.align);var d=this.textOverflow,f=d&&(d==="ellipsis"||d==="clip");d=d==="ellipsis";var v=this.getAnimation()||((a=this.renderer.defaultOptions().transition)===null||a===void 0?void 0:a.animation);if(a=v&&!this._recreate,f||v){var x={};f&&(x.width="*"),d&&(x.ellipsisWidth=this.maxWidth||this.width.px),a&&(x.animation=v),this.setTextExtraProps(i,x)}var b=this.xContentAlignment||this.xAlignment,w=this.yContentAlignment||this.yAlignment,k=function(D){b&&(D.xAlignment=D.xAlignment||b),w&&(D.yAlignment=D.yAlignment||w)};return(b||w)&&(Zt(i)?K(i,function(D){return k(D)}):k(i)),this._strokeAttrs&&ke(i,this._strokeAttrs),i},o.prototype.canReuse=function(i){if(Zt(i.val)||Zt(i)){i=i.val||i;for(var a=0,u=i.length;a<u;a++)if(!this.canReuse(i[a]))return!1;return!0}return!(i.kind==="visual"&&i.type!=="icon"||i.align)},o.prototype.destroyElements=function(){for(;this.childElements.length;)this.childElements[0].destroy()},o.prototype.sameHash=function(i){return i=i.val||i,i=Be(i)?"":fe(i,function(a){return a.type}).join(),this._configHash===i?!0:(this._configHash=i,!1)},o.prototype.parseTextAndSetTextValue=function(){var i=this._textAttr;if(i===""&&this.destroyElements(),i){i=Gle(i),i.isRtl&&(this.attrs.direction="rtl",this.attrs.textAnchor="end");var a=i.value,u=a.type==="stack:y"?a.val:[a],d=this.childElements.length;i=[];var f=this.sameHash(a);for(this._recreate=this._recreate||this._type&&a.type&&this._type!==a.type||a.val&&(!this.canReuse(a)||!f)||a.isNanoChart,this._type=Zt(a)?"array":a.type,a=0,f=u.length;a<f;a++){var v=u[a],x=v.length;Ds(v.val)&&!x&&Ds(v.name)&&Ds(v.src)&&Ds(v.d)&&v.kind!=="visual"||i.push(this.editLine(v))}var b=fe(i,function(w){return(w=We(w.val,function(k){return k.verticalAlign}))&&w.verticalAlign});if(!this._recreate&&0<d){for(a=0,f=i.length;a<f;a++)a<d?(u=i[a],this.childElements[a].val(u.val&&u.val.length&&u.type!=="text"?u.val:u)):(v=this.layout.item(i[a]).add(this),0<a&&v.attr({preserveStartSpaces:!1}));for(a=d-1,f=i.length;a>=f;a--)this.childElements[a].destroy()}else for(this._recreate=void 0,this.destroyElements(),this.sharedAttrsUpdated(this.attrs),a=0,f=i.length;a<f;a++)u=i[a],v=void 0,u.kind==="visual"&&u.align&&(u.xAlignment=u.align),Zt(u.val)&&(u.yContentAlignment=u.yContentAlignment||b[a]||this.yContentAlignment),(d=this.layout.item(u))&&(v=d.add(this)),0<a&&v&&v.attr({preserveStartSpaces:!1});K(this.childElements,function(w,k){if(!b[k]&&w instanceof ky&&(k=w.childElements,w=Xt(k,function(T){return T instanceof dB}),w.length)){var D=0;k=Xt(k,function(T){return T instanceof cB}),K(k,function(T){return D=Math.max(D,T.update().getMaxDescent())}),K(w,function(T){var M=T.calculateMargin();M.bottom.val||M.top.val||T.attr({margin:{top:0,left:M.left.val,right:M.right.val,bottom:D}})})}})}},o}(ky),Rl={},hh={},gB={strategy:"width",textRendering:"geometricPrecision"},vB={fontSize:"12px",fontFamily:"tahoma, geneva, sans-serif"};Rl.panel=Cy,Rl.stack=ky,Rl.grid=sce,Rl["stack:text"]=oce,Rl["box:text"]=mB,Rl.box=fB,hh.icon=dB,hh.image=ece,hh.rect=tce,hh.shape=uB,hh.text=cB,hh.svgContainer=nce;var jw={},yM=function(){function s(o){this.children=[],this._needToDestroy=[];var i=this;o=ht(gB,o),i.renderer=zN.create(o),i.pixelCorrection=h(o.pixelCorrection)?o.pixelCorrection:!0,i.svgStyles=ht({},gB),i.refreshHandler=tM.onDefer(function(a){a=i.disableAnimation(),i.refreshRootBox(),i.refresh(),a&&i.enableAnimation()},30)}return s.prototype.refresh=function(){this.destroyChildren(),this.eachChildren(function(o){return o.refresh()})},s.prototype.refreshRootBox=function(){this.rootBox=this.renderer.box()},s.prototype.getRootBox=function(){return this.rootBox||this.refreshRootBox(),this.rootBox},s.prototype.eachChildren=function(o){var i=this,a;K(this.children,function(u){u.parent?(a=a||[],a.push(u)):o(u)}),a&&K(a,function(u){i.children.splice(i.children.indexOf(u),1)})},s.prototype.removeChild=function(o){o=this.children.indexOf(o),0<=o&&(this.needToDestroy(this.children[o]),this.children.splice(o,1))},s.prototype.addChild=function(o){this.children.indexOf(o)===-1&&this.children.push(o)},s.prototype.needToDestroy=function(o){this._needToDestroy.push(o)},s.prototype.destroyChildren=function(){1>this._needToDestroy.length||(K(this._needToDestroy,function(o){return o.patch()}),this._needToDestroy=[])},s.prototype.destroy=function(){this.refreshHandler&&this.refreshHandler.un(),this.renderer.destroy()},s.prototype.item=function(o){return o?this.createLayoutItem(bn(o)):null},s.prototype.panel=function(o){o=o||{type:"panel"},o=Be(o)?{type:o}:bn(o),G7(o);var i=Rl[o.type],a=!i&&o.type,u=a?[this.createLayoutItem(o)]:o.val||[];return i||(delete o.type,delete o.val,o=ht(a?{}:o,{type:"panel",val:u})),this.createPanel(o)},s.prototype.box=function(o){return o=ht({type:"box"},o||{}),!o.mode&&o.text&&(o.mode="text"),o.mode&&(o.type="box:"+o.mode),this.createPanel(o)},s.prototype.stack=function(o){return o=ht({type:"stack"},o||{}),this.createPanel(o)},s.prototype.stackY=function(o){return o=ht({type:"stack:y"},o||{}),this.panel(o)},s.prototype.text=function(o){return o===void 0&&(o=""),this.createVisual({type:"text",val:o})},s.prototype.textStack=function(o){return o===void 0&&(o=""),this.createPanel({type:"stack:text",text:o})},s.prototype.rect=function(o){return this.createVisual(ht({type:"rect"},o||{}))},s.prototype.group=function(o){return this.createVisual(ht({type:"group"},o||{}))},s.prototype.svgContainer=function(o){return this.createVisual(ht({type:"svgContainer"},{innerSvg:o}))},s.prototype.image=function(o){return this.createVisual(ht({type:"image"},o||{}))},s.prototype.shape=function(o,i){return this.createVisual(ht({type:"shape",mode:o},i||{}))},s.prototype.icon=function(o){return this.createVisual(ht({type:"icon",name:Be(o)?o:null},o||{}))},s.prototype.attr=function(o,i){return Xi(o)?Vi(this.svgStyles,o,{fontFamily:"",fontSize:""}):Be(o)&&h(i)&&this.svgStyles[o]&&(this.svgStyles[o]=i),o=this.renderer.attr(null,o,i),h(o)?o:this},s.prototype.add=function(o){return o&&this.attr({container:o}),this},s.prototype.button=function(o){return this.createPanel(ht({type:"button"},o||{}))},s.prototype.input=function(o){return this.createPanel(ht({type:"input"},o||{}))},s.prototype.file=function(o){return this.createPanel(ht({type:"file"},o||{}))},s.prototype.color=function(o){return this.createPanel(ht({type:"color"},o||{}))},s.prototype.range=function(o,i,a){return this.createPanel(ht({type:"range"},o||{}),i,a)},s.prototype.finishAnimations=function(){return ch.getAnimations().map(function(o){return o.cancel()})},s.prototype.disableAnimation=function(){var o=this.attr("disableAnimation")===!1;return o&&this.attr("disableAnimation",!0),o},s.prototype.enableAnimation=function(){this.attr("disableAnimation",!1)},s.prototype.createPanel=function(o,i,a){for(var u=Rl[o.type],d=o.val||[],f=[],v=0,x=d.length;v<x;v++){var b=d[v];if(b instanceof Array){f.push([]);for(var w=0,k=b.length;w<k;w++){var D=b[w];(D=D instanceof jm?D:this.createLayoutItem(D))&&f[v].push(D)}}else(D=b instanceof jm?b:this.createLayoutItem(b))&&f.push(D)}return o=new u(this,o),o.chart=i,o.uiParent=a,f.length&&o.val(f),o},s.prototype.createVisual=function(o){var i=o.type,a=hh[i];if(!a){if(o.isNanoChart){o=Object.keys(Rd("nanoChartTypes").members),a=i.length;for(var u=0,d=o.length;u<d;u++){var f=o[u],v=i,x=f;if(v.length===0)v=x.length;else if(x.length===0)v=v.length;else{for(var b=[],w=0;w<=x.length;w++)b[w]=[w];for(var k=0;k<=v.length;k++)b[0][k]=k;for(w=1;w<=x.length;w++)for(k=1;k<=v.length;k++)b[w][k]=x[w-1]===v[k-1]?b[w-1][k-1]:Math.min(b[w-1][k-1]+1,Math.min(b[w][k-1]+1,b[w-1][k]+1));v=b[x.length][v.length]}if(3>v&&(!D||v<a)){var D=f;a=v}}En.emit("warning","layout",D?"microchartNotFoundSuggestion":"microchartNotFound",{data:[i,D],container:g(this.renderer,"wrapper.el")})}return null}return new a(this,o)},s.prototype.createLayoutItem=function(o){return!o.type&&!Be(o.type)?null:(G7(o),Rl[o.type]?this.createPanel(o):this.createVisual(o))},s}(),xM=function(){function s(o){o===void 0&&(o={}),this.schema=o,this.lengths={},this.indexes={},this.calculations={},this.uniqTypes={},this.ordered={},this.data={},this.dataFlat={}}return s.prototype.getKeys=function(){for(var o=this.getAllKeys(),i=[],a=0,u=o.length;a<u;a++)this.data[o[a]].length&&i.push(o[a]);return i},s.prototype.getAllKeys=function(){return Object.keys(this.data)},s.prototype.getKey=function(o){return(o=this.data[o])?o.slice():[]},s.prototype.getKeyRef=function(o){return this.data[o]||[]},s.prototype.hasKey=function(o){return this.data[o]&&this.data[o].length},s.prototype.hasAllKeys=function(o){var i=!0;o=C(o)==="array"?o:o.split(",");for(var a=0,u=o.length;a<u;a++)if(!this.hasKey(o[a])){i=!1;break}return i},s.prototype.hasAnyKeys=function(o){for(var i=0,a=o.length;i<a;i++)if(this.hasKey(o[i]))return!0},s.prototype.getValue=function(o,i){var a;return(a=this.data[o])?a[i]:void 0},s.prototype.setValue=function(o,i,a){this.data[o][i]=a},s.prototype.getItem=function(o){for(var i=this.getKeys(),a={},u,d=0,f=i.length;d<f;d++){var v=i[d];h(u=this.getValue(v,o))&&(a[v]=u)}return a},s.prototype.findValue_i=function(o,i,a){a===void 0&&(a=0);var u,d,f=this.uniqTypes[o];if(f&&f[0]==="date")return this.findValue_iDate(o,i,a);if((d=this.data[o])&&(u=d.indexOf(i,a))>a-1)return this.indexes[o][u]},s.prototype.findValue_iDate=function(o,i,a){a===void 0&&(a=0);var u=this.data[o];i=i.getTime?i.getTime():i;for(var d=u.length;a<d;a++)if(u[a].getTime()===i)return this.indexes[o][a]},s.prototype.findInterpolatedInfo=function(o,i){var a=this.uniqTypes[o];if(a&&a[0]==="date")return this.findInterpolatedInfo_date(o,i);o=this.data[o],a=0;for(var u=o.length;a<u;a++){var d=o[a],f=void 0;if(i===d)return{i:a,inter:0};if(i>=d&&a<u-1&&i<(f=o[a+1]))return{i:a,inter:rt(0,1,d,f,i)}}return{i:-1,inter:0}},s.prototype.findInterpolatedInfo_date=function(o,i){o=this.data[o];var a=C(i);i=a==="string"?Date.parse(i):a==="date"?i.getTime():i,a=0;for(var u=o.length;a<u;a++){var d=o[a].getTime(),f=void 0;if(i===d)return{i:a,inter:0};if(i>=d&&a<u-1&&i<(f=o[a+1].getTime()))return{i:a,inter:rt(0,1,d,f,i)}}return{i:-1,inter:0}},s.prototype.max_i=function(o){return(o=this.calculations[o])?o.max_i:-1},s.prototype.min_i=function(o){return(o=this.calculations[o])?o.min_i:-1},s.prototype.max=function(o){return(o=this.calculations[o])?o.max:void 0},s.prototype.min=function(o){return(o=this.calculations[o])?o.min:void 0},s.prototype.sum=function(o){return(o=this.calculations[o])?o.sum:void 0},s.prototype.sumAbs=function(o){return(o=this.calculations[o])?o.sumAbs:void 0},s.prototype.concat=function(o){return this.getKeyRef(o).slice(0)},s.prototype.indexObject=function(o,i){var a=Object.keys(o);this.indexKeys(a,o,i)},s.prototype.indexKeys=function(o,i,a){for(var u,d=0,f=o.length;d<f;d++){var v=o[d],x=this.schema[v]||{},b=i[v];u=this.data[v]=this.data[v]||[];var w=this.indexes[v]=this.indexes[v]||[];if(this.lengths[v]=this.lengths[v]+1||1,h(i[v]))if(u[a]=b,w.push(a),(u=this.addUniqType(v,b))==="number")this.addCalcValue(v,b,a);else if(u==="array"&&x.flatten)for(v=this.dataFlat[v]=this.dataFlat[v]||[],x=0,u=b.length;x<u;x++)v.push(b[x]);else u==="date"&&this.addCalcValue(v,b.getTime(),a)}},s.prototype.sortBy=function(o,i,a){i===void 0&&(i=!0);var u=this,d=this.indexes[o],f=!!d,v=a?function(w){return a(u.getItem(w))}:function(){var w=u.data[o];return f=w&&w.length,function(k){return w[k]}}();if(f){d=d.map(function(w,k){return{_i:w,val:v(k)}});var x=function(w,k){return w.val<k.val?-1:w.val>k.val?1:0},b=function(w,k){return x(k,w)};return d.sort(i?x:b),fe(d,function(w){return w._i})}},s.prototype.sortByNone=function(){var o=this,i=0;K($n(this.data),function(u){o.data[u].length>i&&(i=o.data[u].length)});var a=[];return rs(i,function(u){return a.push(u)}),a},s.prototype.addUniqType=function(o,i){return i=C(i),o=this.uniqTypes[o]=this.uniqTypes[o]||[],0>o.indexOf(i)&&o.push(i),i},s.prototype.addCalcValue=function(o,i,a){var u=this.calculations[o]=this.calculations[o];u?(i>u.max&&(u.max=i,u.max_i=a),i<u.min&&(u.min=i,u.min_i=a),u.sum+=i,u.sumAbs+=Jo.abs(i)):this.calculations[o]={min:i,max:i,min_i:a,max_i:a,sum:i,sumAbs:Jo.abs(i)}},s.prototype.reset=function(o){var i=this;o?this.resetKey(o):(K(this.getKeys(),function(a){i.resetKey(a)}),this.lengths={})},s.prototype.resetKey=function(o){delete this.data[o],delete this.indexes[o],delete this.calculations[o],delete this.uniqTypes[o],delete this.lengths[o],delete this.ordered[o]},s.prototype.countDecimals=function(o){var i=this.data[o],a=[0];if(this.dataFlat[o]?i=this.dataFlat[o]:o.length!==2||!this.data[o[0]]||o[1]!=="e"&&o[1]!=="s"||(i=this.data[o[0]]),i&&i.length){o=0;for(var u=i.length;o<u;o++)a.push(uy(i[o]))}return Math.max.apply(Math,c(a))},s.prototype.log=function(o){o=Object.keys(this.data),K(o,function(i){})},s}(),ace=function(){function s(o){this.chart=o,this.items={},this.spItems=[]}return s.prototype.getSPItems=function(){return this.spItems.slice(0)},s.prototype.register=function(o){var i=js(o);return this.items[i]=o,o.kind==="SmartPalette"&&this.spItems.push(o),o},s.prototype.remove=function(o){if(o=le(o.id,o.currentOptions.id))return this.removeById(o)},s.prototype.exists=function(o){return this.items[o]},s.prototype.filter=function(o){return Xt(this.items,o)},s.prototype.destroyItem=function(o){var i;return(i=this.items[o])?(i.destroy&&i.destroy(),this.removeById(o),!0):!1},s.prototype.removeById=function(o){var i=this.items,a;return(a=i[o])?(a.kind==="SmartPalette"&&m(this.spItems,a),delete i[o],!0):!1},s}(),Gw={},lce={LineString:"line",MultiLineString:"line",Polygon:"column",MultiPolygon:"column",Point:"marker",MultiPoint:"marker"},yB={organization:"organizational"},xB=function(){function s(b,w){var k={};if(0<w.length)if(C(w)==="string"){k=gm(w,"seriesType,chartType");var D=gm(w,"seriesType,chartType",!0);k.invalid&&(k={},D={})}else k=w;if(0<b.length||!k.chartType)if(C(b)==="string"){b=hre(b);var T=gm(b,"chartType"),M=gm(b,"chartType",!0)}else T=b;switch(D=Al({},D,M,k,T),D.chartType){case"radar":case"gauge":var I=!0}return{dst:k,ct:T,ctdst:D,isPaneType:I}}function o(b,w){var k=x,D=b.toLowerCase(),T;if(w&&(T=d(w))&&(w=s(x,T),k=w.ctdst),k.chartType&&k.chartType.toLowerCase()===D||k.seriesType&&k.seriesType.toLowerCase()===D)return!0;if(b==="calendar"||b==="heatmap"||b==="variwide")return D===k.seriesType}function i(b){var w;return b&&b.currentOptions&&(b=b.currentOptions),b&&(w=d(b))?s(x,w):s(x,"")}function a(b,w){var k=i(w);if(k=k.ctdst||k,w=k[b])return w.toLowerCase();if(!w&&b==="seriesType"&&k.chartType==="map")return"map"}function u(b){var w;if(f.chartType&&-1<"pie,gauge,funnel,cone,pyramid".indexOf(f.chartType)&&(w=!0),w&&b){for(var k=[],D=[],T=0,M=b.length;T<M;T++){w=!1;var I=b[T];I.i=T,I.type&&gm(I.type,"chartType","noDef").chartType&&(k.push([I]),w=!0),w||D.push(I)}return D.length&&k.splice(0,0,D),k}return w}function d(b){var w,k,D,T=b.type;return o("map")&&!T&&(w=b.map)&&(k=w.type||g(w,"features.0.geometry.type"))&&(T=(D=lce[k])?D:k),T}var f={},v={},x;return{init:function(b){var w=g(b,"type")||"";b=g(b,"defaultSeries.type")||g(b,"defaultSeries_type")||"",w=s(w,b),f=w.ct||{},v=w.dst||{},x=w.ctdst||{},w.isPaneType},isType:o,getIsTypeChecker:function(b){var w=x,k;b&&(k=d(b))&&(b=s(x,k),w=b.ctdst);var D=function(T,M){return w[T]&&w[T].toLowerCase()===M};return function(T){var M=T.toLowerCase();if(D("chartType",M)||D("seriesType",M))return!0;if(T==="calendar"||T==="heatmap"||T==="variwide")return M===w.seriesType}},hasSetting:function(b,w,k){var D=x,T;if(k&&(T=d(k))&&(k=s(x,T),D=k.ctdst),k=D[b]){if(k=k.toLowerCase(),b==="behavior"){if(-1<(","+k+",").indexOf(","+w.toLowerCase()+","))return!0}else if(k&&k===w.toLowerCase())return!0}},settingVal:a,getSettingChecker:function(b){var w,k=i(b);return k=k.ctdst||k,function(D){if(w=k[D])return w.toLowerCase();if(!w&&D==="seriesType"&&k.chartType==="map")return"map"}},curCtDst:i,mergeSettings:s,getPaneGroups:function(b){var w=[],k=[],D;v.chartType&&(D=1);for(var T=0,M=b.length;T<M;T++){var I=!1,O=b[T];if(O.i=T,D||O.type){var F=D||gm(O.type,"chartType","noDef");(D||F.chartType)&&(w.push([O]),I=!0)}I||k.push(O)}return 0<k.length&&w.splice(0,0,k),fe(w,function(N){var j=fe(N,function(W){return W.id}).join("");return N.hash=j,N})},shouldDataMerge:u,dataMergeType:function(b){if(u())return b=We(b,function(w){return We(w.points,function(k){return le(k[1],k.y,0).length})}),f.chartType==="gauge"&&b?"collect":"sum"},isMapLayer:function(b){if(o("map")&&(typeof b.getMapData()=="object"||o("map")&&(g(b.userOptions,"mapDataId")||g(b.userPoints,"0.mapDataId"))))return!0},isHoriz:function(){return a("chartType")==="horizontal"||a("linearGaugeType")==="horizontal"}}},cce={solid:"",dot:"1,3",dash:"4,3",dashdot:"4,3,1,3",dashdotdot:"4,3,1,3,1,3",shortdash:"3,1",shortdot:"1,1",shortdashdot:"3,1,1,1",shortdashdotdot:"3,1,1,1,1,1",longdash:"8,3",longdashdot:"8,3,1,3",longdashdotdot:"8,3,1,3,1,3"},bB=function(s){return s},uce=function(){return[{option:"outline.color",check:bB,dependent:"outline.width",value:1},{option:"outline.width",check:function(s){return 0<s},dependent:"boxVisible",value:!0},{option:"fill",check:bB,dependent:"boxVisible",value:!0,important:!0}]},_B={},bM=function(s,o){var i=function(u){var d=_B[u];return d||(d=_B[u]=u.split(".")),d},a=uce();return a.push.apply(a,c(o||[])),K(a,function(u){var d=Zt(u.option)?u.option:[u.option];d=We(d,function(v){return u.check(y(s,i(v)))});var f=u.important||nt(y(s,i(u.dependent)));d&&f&&Kf(s,i(u.dependent),u.value)}),s},Gr=function(s,o,i,a,u){var d;nt(d=s[i])||(o[a||i]=u?u(d):d)},Ww=h,hce=[10,5,4,2,1,.5,.4,.2],dce=[50,20,10,5,4,2,1],wB={badMin:"min",badMax:"max"},_M=Jo,dh=function(s,o){return{val:function(i){return s(qv(i.indexedData),o?i.scCache:i.cache,"max","min")},axis:"y"}},ph=function(s,o,i){return{val:function(a){return o(a.pOptions[s],i?a.scCache:a.cache,s+"Max",s+"Min")},axis:s}},xr=function(s,o,i){return{val:function(a){return o(a,s)},axis:s,fStr:i}},Xn=function(s,o){return p(s.cache,o)?s.cache[o]:s.scCache&&s.scCache[o]},Na=function(s,o,i){return s=s.cache[o==="y"?"list":o+"List"],s.length?i(s):""},rp=function(s){return{val:function(o){return s(o)},yVal:!0}},CB={yaxislabel:function(s){return s.cache.yAxis?y(s.cache.yAxis.currentOptions,["label","text"]):void 0},xaxislabel:function(s){return s.cache.xAxis?y(s.cache.xAxis.currentOptions,["label","text"]):void 0},zaxislabel:function(s){return s.chart.currentOptions.zAxisLabelText||y(s.chart.currentOptions,["zAxis","label","text"])},percentoftotal:xr("y",L_),ypercentoftotal:xr("y",L_),xpercentoftotal:xr("x",L_),zpercentoftotal:xr("z",L_),icon:function(s){return s.point?s.point.getIconTag():void 0}},pce={percentofdatarange:dh(nh,!0),ypercentofdatarange:dh(nh,!0),xpercentofdatarange:ph("x",nh,!0),zpercentofdatarange:ph("z",nh,!0),percentofdatamax:dh(Ra,!0),ypercentofdatamax:dh(Ra,!0),xpercentofdatamax:ph("x",Ra,!0),zpercentofdatamax:ph("z",Ra,!0),percentofseriesrange:dh(nh),ypercentofseriesrange:dh(nh),xpercentofseriesrange:ph("x",nh),zpercentofseriesrange:ph("z",nh),percentofseriesmax:dh(Ra),ypercentofseriesmax:dh(Ra),xpercentofseriesmax:ph("x",Ra),zpercentofseriesmax:ph("z",Ra),percentofaxisrange:xr("y",z3),ypercentofaxisrange:xr("y",z3),xpercentofaxisrange:xr("x",z3),percentofseries:xr("y",E_),ypercentofseries:xr("y",E_),xpercentofseries:xr("x",E_),zpercentofseries:xr("z",E_),percentofgroup:xr("y",I_),ypercentofgroup:xr("y",I_),xpercentofgroup:xr("x",I_),zpercentofgroup:xr("z",I_),percentile:xr("y",O_,"n0"),ypercentile:xr("y",O_,"n0"),xpercentile:xr("x",O_,"n0"),zpercentile:xr("z",O_,"n0"),seriespointcount:function(s){return s.series.userPoints.length},seriesname:function(s){return s.sOptions.name},parentid:function(s){return s.pOptions.parent||""},parentname:function(s){var o=s.pOptions.parent,i=s.chart.chartItemManager.exists(o);return(o&&i?i:s.sOptions).name},complete:function(s){return le(g(s.pOptions,"complete.y"),g(s.pOptions,"complete"),0)},zvalue:function(s){return s.pOptions.z},xvalue:function(s){var o=h(s.pOptions.x)?s.fOptions.xIsTime?new Date(s.pOptions.x):s.pOptions.x:s.pOptions.name;return h(o)?o:h(s.point.x)?s.point.x:y(s.cache,["xAxis","type"])==="category"&&y(s.cache,["xAxis","catList",s.indexedData.x])||void 0},yvalue:rp(function(s){return K7(s)}),value:rp(function(s){return K7(s)}),ystart:rp(function(s){return Xv(s.indexedData)?s.indexedData.ys:s.indexedData.y}),open:rp(function(s){return s.pOptions.open}),close:rp(function(s){return s.pOptions.close}),high:rp(function(s){return h(s.pOptions.high)?s.pOptions.high:Xv(s.indexedData)?s.indexedData.ye:s.indexedData.y}),low:rp(function(s){return h(s.pOptions.low)?s.pOptions.low:Xv(s.indexedData)?s.indexedData.ys:s.indexedData.y}),id:function(s){return s.pOptions.id},name:function(s){return s.pOptions.name||(typeof s.pOptions.x=="string"?s.pOptions.x:s.indexedData.name||"")||(h(s.point.x)?s.point.x:y(s.cache,["xAxis","type"])==="category"&&y(s.cache,["xAxis","catList",s.indexedData.x]))||""},color:function(s){return vo(s.series.getPointAttr(s.point).baseColor,0)},yrange:function(s){return qv(s.indexedData)},subvaluelist:function(s){return(s=s.pOptions.subvalue)&&s.values?s.values.join(","):""}},Wm={type:function(s){return Xn(s,"type")},maxpointname:function(s){return Xn(s,"nMax")},ymaxpointname:function(s){return Xn(s,"nMax")},xmaxpointname:function(s){return Xn(s,"nXMax")},zmaxpointname:function(s){return Xn(s,"nZMax")},minpointname:function(s){return Xn(s,"nMin")},yminpointname:function(s){return Xn(s,"nMin")},xminpointname:function(s){return Xn(s,"nXMin")},zminpointname:function(s){return Xn(s,"nZMin")},pointcount:function(s){return Xn(s,"list").length},median:function(s){return Na(s,"y",Jb)},ymedian:function(s){return Na(s,"y",Jb)},xmedian:function(s){return Na(s,"x",Jb)},zmedian:function(s){return Na(s,"z",Jb)},mode:function(s){return Na(s,"y",Qb)},ymode:function(s){return Na(s,"y",Qb)},xmode:function(s){return Na(s,"x",Qb)},zmode:function(s){return Na(s,"z",Qb)},rangesum:function(s){return Xn(s,"yRangeSum")},yrangesum:function(s){return Xn(s,"yRangeSum")},yaverage:function(s){return Xn(s,"average")},average:function(s){return Xn(s,"average")},zaverage:function(s){return Xn(s,"zAverage")},xaverage:function(s){return Xn(s,"xAverage")}},wM={lasty:function(s){return Na(s,"y",it)},lastx:function(s){return Na(s,"x",it)},lastz:function(s){return Na(s,"z",it)},name:function(s){return s.series.name},value:function(s){return s.cache.sum},color:function(s){return s.sOptions.color?s.sOptions.color:s.series._points.length===1?s.series._points[0].tokenValue("%color"):s.series.info.style.base.color},id:function(s){return s.sOptions.id||s.sOptions.options.id},ylist:function(s){return s.cache.list?s.cache.list.join(","):""},xlist:function(s){return s.cache.list?s.cache.list.join(","):""},zlist:function(s){return s.cache.list?s.cache.list.join(","):""}},Dy={name:function(s){return le(s.item.name,s.cache.name,g(s.cache,"label.text"),"")},color:function(s){return s.item.color},minutes:function(s){return H3(s,6e4)},hours:function(s){return H3(s,36e5)},days:function(s){return H3(s,864e5)}};fo("value,ysum",function(s){return Dy[s]=function(o){return o.val.pop?o.val[1]:o.val}}),fo("min,ymin,xmin",function(s){return Dy[s]=function(o){var i=o.evaluedValue[0],a=o.cache.min,u=o.cache.low;return o=(o=o.cache.value)&&(Zt(o[0])?o[0][0]:o[0]),le(i,a,u,o)}}),fo("max,ymax,xmax",function(s){return Dy[s]=function(o){var i=o.evaluedValue[1],a=o.cache.max,u=o.cache.options;return o=(o=o.cache.value)&&(Zt(o[0])?o[0][1]:o[1]),le(i,a,u,o)}}),fo("range,yrange",function(s){return Dy[s]=function(o){return o.val.pop?o.val[1]-o.val[0]:o.val}}),fo("Sum,Average",function(s){var o=em(s);fo("Min,Max",function(i){var a=em(i);fo("y,x,z",function(u){var d=u==="y";d&&(Wm[a+o]=function(f){return Xn(f,a+s)}),Wm[u+a+o]=function(f){return Xn(f,(d?a:u+i)+s)}})})}),fo("Sum,Min,Max,Range,Absmax",function(s){return fo("y,x,z",function(o){var i=em(s),a=o==="y";a&&(Wm[i]=function(d){return Xn(d,i)}),Wm[o+i]=function(d){return Xn(d,a?i:o+s)};var u=i+"ofseries";a&&(wM[u]=function(d){return d.scCache[i]}),wM[o+u]=function(d){return d.scCache[a?i:o+s]}})});var fce=ke(pce,CB),mce=ke(wM,ht(CB,Wm)),gce=ke({title:function(s){return s.chart.options("title.label.text")},maxseriesname:function(s){return Xn(s,"snMax")},ymaxseriesname:function(s){return Xn(s,"snMax")},xmaxseriesname:function(s){return Xn(s,"snXMax")},zmaxseriesname:function(s){return Xn(s,"snZMax")},minseriesname:function(s){return Xn(s,"snMin")},yminseriesname:function(s){return Xn(s,"snMin")},xminseriesname:function(s){return Xn(s,"snXMin")},zminseriesname:function(s){return Xn(s,"snZMin")},name:function(s){return Xn(s,"name")},typelist:function(s){return s.cache.typeList.join(",")},sumlist:function(s){return s.cache.sumList.join(",")},ysumlist:function(s){return s.cache.sumList.join(",")},xsumlist:function(s){return s.cache.xSumList.join(",")},zsumlist:function(s){return s.cache.zSumList.join(",")}},Wm),vce=Dy,kB=hy,CM=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(.\d+)[+-](\d{2}):(\d{2})/g,Do=function(s,o){return function(i){return s[o](i)}},yce=function(s,o){var i=ta(s);return s=o([i[0],i[1]]),o=o([i[2],i[3]]),o=Mm([s[0],s[1],o[0],o[1]]),0>o[2]&&(o[0]-=o[2],o[2]=Math.abs(o[2])),0>o[3]&&(o[1]-=o[3],o[3]=Math.abs(o[2])),o},xce=[3,2,3,2],bce=/(-?[0-9]+),(-?[0-9]+)/,_ce=/[\s,]/,DB={top:"t",topright:"r",right:"r",bottomright:"r",bottom:"b",topleft:"l",left:"l",bottomleft:"l"},wce={topright:"righttop",bottomright:"rightbottom",topleft:"lefttop",bottomleft:"leftbottom"},Cce={insidetop:"tctc",insidetopright:"trtr",insideright:"mrmr",insidebottomright:"brbr",insidebottom:"bcbc",insidetopleft:"tltl",insidelefttop:"tltl",insiderighttop:"trtr",insiderightbottom:"brbr",insideleftbottom:"blbl",insideleft:"mlml",insidebottomleft:"blbl",insidecenter:"mcmc",insidemiddle:"mcmc",top:"bctc",topcenter:"bctc",righttop:"tltr",right:"mlmr",middleright:"mlmr",rightbottom:"blbr",bottom:"tcbc",bottomcenter:"tcbc",lefttop:"trtl",left:"mrml",middleleft:"mrml",leftbottom:"brbl",topright:"brtr",bottomright:"trbr",topleft:"bltl",bottomleft:"tlbl",outsidetopright:"bltr",outsidebottomright:"tlbr",outsidetopleft:"brtl",outsidebottomleft:"trbl",outsiderighttop:"bltr",outsiderightbottom:"tlbr",outsidelefttop:"brtl",outsideleftbottom:"trbl"},kce={top:0,bottom:0,middle:0,left:1,right:1,center:1},Dce=fe(function(s){return(s=Rd(s))?Object.keys(s.members):[]}("orientation"),function(s){return s.toLowerCase()}).join("|"),SB=function(){function s(o,i,a){if(a===void 0&&(a=[]),this.currentOptions={},this.userOptions={},this.chart=o,i===void 0){var u=1;i={}}i=this.normalizeOptions(i),this.userOptions=bn(i),g(this.userOptions,"data.length")&&(this.userOptions.data=this.userOptions.data.map(function(d){return bn(d)})),this.renderer=o&&(o.renderer||o),this.init.apply(this,c(a)),!u&&this.setOptions()}return s.prototype.options=function(o,i){return typeof o=="string"?this.optionsGet(o):(se(this.userOptions,this.normalizeOptions(o)),this.setOptions(),this)},s.prototype.init=function(){this.defaultMutable=!0},s.prototype.normalizeOptions=function(o,i){return nr(o,i)},s.prototype.optionsGetter=function(o){return u9(this,o)},s.prototype.optionsGet=function(o){return g(this.currentOptions,o.replace(/_/g,"."))},s.prototype.defaultOptions=function(){return{}},s.prototype.contextOptions=function(){return this.defaultContextOptions},s.prototype.dependentOptions=function(){return[]},s.prototype.completeUserOptions=function(){return bM(this.userOptions,this.dependentOptions())},s.prototype.setOptions=function(){var o=[this.defaultOptions()],i=this.contextOptions();return i&&o.push(i),o.push(this.completeUserOptions()),!this.defaultMutable&&o.unshift({}),this.currentOptions=se.apply(null,o),this},s}(),TB=function(s){function o(i,a,u){return u===void 0&&(u=[]),i=s.call(this,i,a,u)||this,i.attribs={},i.events={},i.updateOptions={},i.subscriptions=[],i}return e(o,s),o.prototype.init=function(){this.defaultMutable=!0},o.prototype.defaultOptions=function(){return this.chart?{animation:this.chart.options("animation")}:{}},o.prototype.setOptions=function(){return s.prototype.setOptions.call(this),this.setRootVisuals(),this},o.prototype.options=function(i,a){var u=this.optionsGetter(i);return u!=="NotGetter"?u:(se(this.userOptions,this.normalizeOptions(i)),this.setOptions(),a!==!1&&this.render(null,a),this)},o.prototype.normalizeUpdateOpt=function(i,a){return typeof a=="object"?(i=Ml(i),a=se(i,nr(a))):a=i,a},o.prototype.afterUpdate=function(i){if(i&&i.then){var a=this;ch.await(function(){i.then&&(i.then.call(a.chart),delete i.then)})}},o.prototype.setRootVisuals=function(){return this.rootPanel||(this.rootPanel=this.renderer.panel()),this},o.prototype.setAttribs=function(){return this},o.prototype.render=function(i,a){return this},o.prototype.getBounds=function(i){var a=i||this.rootPanel,u=a;for(i=[0,0];u;)i[0]+=u.x.px+u.offsetX,i[1]+=u.y.px+u.offsetY,u=u.parent;return a.isPatched?(a=a.getBbox(),a=[a.width,a.height]):(u=a.combinations,u.length||(u=a.composeCombinations()),u=u[0],a=[le(g(a.attrs,"width"),u.minSize.width.px),le(g(a.attrs,"height"),u.minSize.height.px)]),i.concat(a)},o.prototype.add=function(i,a){return this.parentLayoutItem=i||this.renderer,this.render(),this.rootPanel.add(i,a),this},o.prototype.destroy=function(){K(this.rootVisuals,function(i){return i&&i.destroy&&i.destroy()}),this.rootPanel&&this.rootPanel.destroy()},o.prototype.handleEvent=function(i,a,u,d){if(h(a)&&h(u)&&(a=this.events[a]))return a[i](u,d)},o.prototype.trigger=function(i,a){this.events[i].trigger(a,this)},o.prototype.on=function(i,a,u){return(i=this.handleEvent(u?"onDefer":"on",i,a,u))&&this.subscriptions.push(i),this},o.prototype.un=function(i,a){return this.handleEvent("un",i,a),this},o.prototype.triggerUser=function(i,a){return this.triggerUserTarget(i,this,a)},o.prototype.triggerUserTarget=function(i,a,u){var d=this.currentOptions.events;if(d=(i=d&&Kb(d,i))&&d[i],ge(d))return d.call(a,u||void 0)},o.prototype.hasUserEvent=function(i){var a=this.currentOptions.events;if(i){if(i==="any")return a&&$n(a).length;if(a)return(i=Kb(a,i))&&ge(a[i])}},o.prototype.hasAnyNamedEvent=function(i){return this.hasUserEvent(i)||this.events[i]},o.prototype.click=function(i){},o}(SB),ca=function(s){function o(i,a,u){return u===void 0&&(u=[]),u=s.call(this,i,a,u)||this,u.chart=i,a===void 0&&(a={}),u.id=a.id||void 0,u.ciManager=i.chartItemManager,u.ciManager.register(u),u}return e(o,s),o.prototype.destroy=function(){s.prototype.destroy.call(this),this.ciManager.remove(this)},o}(TB),Sce=function(s){var o=[],i=function(a,u){u===void 0&&(u="");var d;if(typeof a!="object"||a===null)return a;var f=function(x,b){var w=typeof x;b=u.length?u+"."+b:b,w==="object"&&x!==null?i(x,b):w==="function"&&o.push([b,x])};if(Array.isArray(a)){var v=a.length;for(d=0;d<v;d++)f(a[d],d)}else for(d in a)a.hasOwnProperty(d)&&f(a[d],d)};return i(s),o},Tce=un("rotate fontFamily fontStyle fontWeight fontSize color margin padding".split(" ")),Ace=un(["val","xAlignment","yAlignment","stroke"]),Uw=function(s){function o(i,a,u){return i=s.call(this,i,a)||this,i.target=u,i.currentState="",i}return e(o,s),o.prototype.setRootVisuals=function(){var i=this.rootVisuals=this.rootVisuals||{},a=this.rootPanel,u=this.renderer;return this.rootPanel||(a=this.rootPanel=u.panel()),i.background||(i.background=i.background||u.item({type:"rect",fill:"transparent"}).add(a)),i.text||(i.text=i.text||u.textStack().attr({width:"auto",autoWrap:"none",val:this.getText()}).add(a)),this},o.prototype.setAttribs=function(){this.currentOptions;var i,a={};return a[""]=this.translate(this.currentOptions),(i=this.currentOptions.states)&&(i.hover&&(a.hover=this.translate(g(this.currentOptions,"states.hover"))),i.select&&(a.select=this.translate(g(this.currentOptions,"states.selected")))),this.attribs=a,this},o.prototype.applyAttrs=function(i){this.rootPanel.attr(po(i,Ace)),this.rootVisuals.text.attr(po(i,Tce)),this.chart.triggerOptionsApplied("label",this)},o.prototype.isVisible=function(){return this.currentOptions.visible!==!1&&this.getText().length},o.prototype.getSize=function(i){if(!this.isVisible())return[0,0];i&&this.applyAttrs(i),this.rootPanel.updateCombinations();var a=this.rootPanel.combinations;return i=this.rootPanel.calculateMargin(),a.length?(a=a[0].minSize,[a.width.px+i.horizontal.px,a.height.px+i.vertical.px]):[0,0]},o.prototype.getSizes=function(i){if(!this.isVisible())return[[0,0]];i&&this.applyAttrs(i),this.rootPanel.updateCombinations(),i=this.rootPanel.combinations;var a=this.rootPanel.calculateMargin();return a=[a.horizontal.px,a.vertical.px],i.length?(i[0].minSize,fe(i,function(u){return u=u.minSize,[u.width.px+a[0],u.height.px+a[1]]})):[[0,0]]},o.prototype.render=function(){var i=this;this.setOptions(),this.setAttribs();var a=this.currentOptions,u=this.attribs[""],d=u.attr.label;u=u.layout.label;var f=this.rootVisuals.text;if(this.isVisible()){this.rootPanel&&this.rootPanel.visible(!0),this.applyAttrs(u);var v=this.rootVisuals.text.variant;Math.abs(u.rotate)===90&&u.yAlignment==="center"&&v&&f.attr({y:v.minSize.width.px/2*(0>u.rotate?1:-1)}),f&&(f.attr(d),f.attr({val:this.getText()}),g(a,"states.hover")&&((void 0).on("mouseover",function(){i.setState("hover")}),(void 0).on("mouseout",function(){i.setState("")})))}else this.rootPanel&&this.rootPanel.visible(!1);return this},o.prototype.translate=function(i){var a={},u={};return i=i||this.currentOptions,u=Al({},i.style||{}),yl(a,i,function(d,f){d.color=f},"color",vo),u=Oa(this.currentOptions,void 0,{color:this.currentOptions.baseColor}),{attr:{label:a},layout:{label:u}}},o.prototype.setState=function(i){if(i!==this.currentState){var a=this.attribs[i],u=a.attr.label;this.rootPanel.options(a.layout.label),this.rootPanel.attr(u),this.currentState=i}},o.prototype.attr=function(i){this.rootPanel.attr(i)},o.prototype.getTextEl=function(){return this.rootVisuals.text},o.prototype.getText=function(){return this.evalText(this.options("text"))||""},o.prototype.evalText=function(i){var a=this.target||this.chart;return i&&a&&a.replaceTokens&&(i=a.replaceTokens(i)),i},o}(TB),Mce="visible fill outline opacity radius padding position margin corners shadow width height".split(" "),kM=function(s){return s=s?s.boxDefaults():Em(),s.fill=am(s.fill,.8),s.position="bltl",s},$w=function(s){function o(i,a,u){return i=s.call(this,i,a,[i,a,u])||this,i.target=u,i.fillShading="box",i.asHTML=!1,i.isVisible=!1,i.applyOptions(!1),i}return e(o,s),o.prototype.init=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];i=l(i,3),i[0],i[1],i[2]},o.prototype.defaultOptions=function(){var i=g(this.chart.currentOptions,"defaultAnnotation");return se(kM(this.chart),i)},o.prototype.setRootVisuals=function(){var i=this,a=this.renderer;return this.rootPanel||(a=this.rootPanel=this.rootPanel||(this.asHTML||this.currentOptions.asHTML?a.renderer.htmlElement().attr({left:0,top:0}):a.box({autoWrap:"default",transition:{auto:!0}})),this.rootVisuals||(this.rootVisuals={content:this.createContentVisual(a)}),a.on("click",function(u){return i.click(u)})),this},o.prototype.getBounds=function(i){return!i&&this.currentOptions.asHTML?this.bbox():s.prototype.getBounds.call(this,i)},o.prototype.createContentVisual=function(i){var a=this.renderer;return this.asHTML||this.currentOptions.asHTML?a.renderer.htmlElement().add(i):a.textStack().add(i)},o.prototype.bbox=function(i){var a=this.rootPanel,u=a.getBbox();return this.currentOptions.asHTML&&(i=i?xl(this.currentOptions.margin):[0,0,0,0],u.x=(parseFloat(a.attr("left"))||0)-i[3],u.y=(parseFloat(a.attr("top"))||0)-i[0],u.width=u.width+i[1]+i[3],u.height=u.height+i[0]+i[2]),[u.x,u.y,u.width,u.height]},o.prototype.visible=function(i){return h(i)||(i=this.rootPanel.attr("display")!=="none"),this.rootPanel.attr({display:i?"block":"none"}),this.setVisible(i),this},o.prototype.setVisible=function(i){this.isVisible=i},o.prototype.alignTo=function(){for(var i,a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];(i=this.rootPanel).alignTo.apply(i,c(a))},o.prototype.options=function(i,a){var u=this.optionsGetter(i);if(u!=="NotGetter")return u;u=this.normalizeOptions(i);var d=this.userOptions.label,f=u.label&&u.label.text;return d=d&&d.text,f=h(f)&&d!==f,!vT(this.userOptions,u)&&!y(a,["force"])?this:(this.setOptions(),u=h(a),this.applyOptions(u?a:{skipReflow:!0}),a===!1||u&&a.skipReflow?this:(f=(u=this.rootPanel)&&u.isPatched&&(f||void 0),!f&&u&&this.chart.isRendered&&a!==!1&&(i=$n(i),0<Qo(i,Mce).length&&(f=!0)),f&&(l(Zv(this),1)[0]?u.refresh&&u.refresh():this.chart.chartAreaSet.reflow(a,!1,!0)),this.afterUpdate(a),this))},o.prototype.normalizeOptions=function(i){var a=void 0;a===void 0&&(a="corners");var u,d;return(d=C(u=g(i,a)))!=="undefined"&&d==="object"&&(i[a]=Ene(u)),s.prototype.normalizeOptions.call(this,i)},o.prototype.applyOptions=function(i){i===void 0&&(i={}),i=nr(i),this.rootPanel||this.setOptions();var a=this.currentOptions,u=this.userOptions,d=this.rootPanel,f=this.rootVisuals.content,v=this.asHTML||a.asHTML,x=bn(le(i.animation,a.animation,{}));i=bn(a);var b=Oa(a.label),w=g(a,"label.text");if(x===!1&&(x={duration:0}),v){var k=this.rootPanel,D=k.transition(),T=k.renderer.isAnimationDisabled(i);i.animation=k.isPatched&&!T?D?se(D.getAnimationOptions(),x):x:null,i=W7(i)}else i=$v(i,le(a.fillShading,this.fillShading)),i.animation=x;return((w=this.evalText(w))||!this.asHTML&&f&&f.textAttr!==w||this.asHTML&&d.innerHTML!==w)&&(b=se(b,{animation:x}),this.asHTML||a.asHTML?b.innerHTML=w:(b.val=w,u.width&&(u=u.width-(i.padding?i.padding[1]+i.padding[3]:0)-2*(i["stroke-width"]||0),b.maxWidth||b.width||(b.maxWidth=u),b.strategy="none")),f&&f.attr(b)),this.checkVisibility(a),a=this.currentOptions.position,this._pos_!==a?(this._pos_=a,f=this._posInfo_=o9(this.currentOptions),f[0]?(a=f[1],u=f[2],b=this.chart.chartAreaSet,f=this.rootPanel.getBboxArray?this.rootPanel.getBboxArray():[0,0].join(this.bbox(!0).slice(2)),u=u===0?this.chart.rootVisuals.itemsBox.getGlobalBboxArray():b.items[0].getContentGlobalBbox(),a=[a[0]+u[0]-f[0],a[1]+u[1]-f[1]]):a=void 0):a=void 0,a&&(i[v?"left":"offsetX"]=v?a[0]+"px":a[0],i[v?"top":"offsetY"]=v?a[1]+"px":a[1]),d.attr(this.transformRootAttr(i)),this.triggerOptionsApplied(),this},o.prototype.triggerOptionsApplied=function(){this.chart.triggerOptionsApplied("annotation",this)},o.prototype.transformRootAttr=function(i){return i},o.prototype.checkVisibility=function(i){i=i.visible!==!1;var a=this.rootPanel?this.rootPanel.attr("display")!=="none":this.isVisible,u=i!==a;this.setVisible(a),u&&this.visible(i)},o.prototype.destroy=function(){s.prototype.destroy.call(this),this._unsubscribeContentBox&&this._unsubscribeContentBox(),this.rootPanel&&this.rootPanel.destroy()},o.prototype.remove=function(i){var a=this.chart,u;m(a._annotations,this),(u=We(a.userOptions.annotations,{id:this.id}))&&m(a.userOptions.annotations,u),this.destroy(),i!==!1&&this.chart.chartAreaSet.reflow(!1,!1,!0)},o.prototype.measure=function(i){return this.isMeasured=!0,i&&!this.currentOptions.maxWidth&&this.rootPanel.attr({maxWidth:i[2]}),this.rootPanel?this.rootPanel.isHtml?Rt(this.bbox(!0)):this.rootPanel.setPreliminarySize(!0).getGlobalBboxArray(!0):[0,0,0,0]},o.prototype.positionApplied=function(i){},o.prototype.positionUpdated=function(i){this.positionApplied(i)},o.prototype.getText=function(){},o.prototype.evalText=function(i){var a=this.target||this.chart;return a&&a.replaceTokens&&typeof i=="string"&&-1<i.indexOf("%")&&(i=a.replaceTokens(i)),i},o}(ca),Ece=function(s){function o(i,a){return a=s.call(this,i.chart,a,i)||this,a.chartArea=i,a.fillShading="titleBox",a}return e(o,s),o.prototype.applyOptions=function(){var i=this.currentOptions;return i.visible===!1?(this.rootPanel.attr({suspend:"true"}),this):(s.prototype.applyOptions.call(this),(i=g(i,"position"))&&(i==="full"?this.rootPanel.attr({width:"100%",strategy:"none"}):this.rootPanel.attr({width:"auto"})),this)},o.prototype.triggerOptionsApplied=function(){this.chart.triggerOptionsApplied("title",this)},o.prototype.defaultOptions=function(){var i=this.chart;return i=i?i.boxDefaults():Em(),se(i,{position:"left",padding:[3,3,6,3],corners:["cut","square","square","square"],label:{align:"left",style:{fontSize:14}},shadow:le(i.shadow,!0)})},o.prototype.dependentOptions=function(){return[{option:"fill",check:function(i){return i},dependent:"padding",value:3}]},o.prototype.setRootVisuals=function(){return s.prototype.setRootVisuals.call(this),this.rootPanel.attr({transition:!1}),this},o.prototype.createContentVisual=function(i){return this.renderer.textStack().add(i)},o}($w),DM=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.kind="EntryWrapper",i}return e(o,s),o.prototype.defaultOptions=function(){return{}},o.prototype.styleIconVisual=function(i,a){if(i){i=i.base;var u=se({},this.currentOptions),d=g(u,"outline.color");St(u,"outline.color",d||Mt("outline",u.color||"white")),u=Zo(u),i&&i.attr(u),a.isStyled=!0}},o.prototype.getIconVisual=function(i,a,u){a=this.renderer,u=u.iconVisual||{};var d=u.root=u.root||a.panel({yAlignment:"center"});return i=this.getIconPaths(i),i.base&&!u.base&&(u.base=u.base||a.renderer.path({d:i.base}).add(d)),u},o.prototype.getIconPaths=function(i){return{base:sa.rectangle(0,0,i[0],i[1],{r:2,corners:["round","round","round","round"]}),extra:void 0}},o.prototype.setState=function(i){},o.prototype.replaceTokens=function(i,a){return this.chart.replaceTokens(i,a)},o.prototype.getFormatInfo=function(){return this.chart.getFormatInfo()},o}(ca),AB=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.kind="RangeValueEntry",i}return e(o,s),o.prototype.replaceTokens=function(i,a){return Kv(i,this,a||this.getFormatInfo())},o}(DM),Wr=function(s){return typeof s=="string"?(s=s.trim(),s.match(_F)?parseFloat(s):s.match(/\/|:|AM|PM|\.\d\./g)&&!ei(new Date(s).getTime())&&6<=s.length&&6<=s.replace(/[^0-9]/g,"").length?new Date(s).getTime():parseFloat(s)):s},MB=function(){function s(o,i){this.chart=o,this.kind="SmartPalette",this.axisRange=[],this.legendEntries=[],this.colorRanges=[],this.mode="colorBar",this.rangesMode="manual",this.currentOptions={},this.userOptions={},this.refreshExtremes=!1,js(i),this.setOptions(i),this.id=i.id,o&&(this.ciManager=o.chartItemManager).register(this)}return s.prototype.options=function(o){var i=u9(this,o);return i!=="NotGetter"?i:(this.setOptions(o),this)},s.prototype.setOptions=function(o){se(this.userOptions,this.normalizeOptions(o,"colors,id")),this.refreshExtremes=Be(o.pointValue)&&this.currentOptions.pointValue!==this.userOptions.pointValue,this.currentOptions=this.translateOptions(se({},this.defaultOptions(),this.userOptions)),this.initialized=!1,this.mode=o.ranges?"ranges":"colorBar",this.stopPosDefined=!0,this.colorRanges=[],this.stops=this.getStops(),this.setStopRange()},s.prototype.normalizeOptions=function(o,i){return nr(o,i)},s.prototype.translateOptions=function(o){var i;if(i=o.ranges)if(C(i)==="array")o.ranges=fe(i,function(x){return C(x)==="object"?x:{value:x}});else{var a=i.min,u=i.max,d=[];if(i=i.interval,!h(i)||h(a)&&h(u)||(En.emit("warning",o.id||this.id,"minMaxRequired",{container:this.chart.getWrapper()}),a=a||0,u=le(u,3*i)),h(a)&&h(u)){var f=u-a;u=le(i,f/3),i=DA(f/u),20<i&&(u=DA(f/20),i=DA(f/u),En.emit("warning",o.id||this.id,"spRangesOverflow",{data:["ranges.interval"],container:this.chart.getWrapper()})),f=0;for(var v=i;f<v;f++)d.push({value:f===i-1?[a+u*f,a+u*(f+1)]:a+u*f});o.ranges=d}}return o},s.prototype.defaultOptions=function(){return{}},s.prototype.syncLegendEntries=function(o){var i=o.smartPalette,a=i.getRangeConfigs(),u,d=[];return i.legendEntries.length?(d=i.legendEntries,K(d,function(f){return f.setColumns()})):(K(a,function(f){d.push(u=o.addEntry(new Lce(o.chart,f))),u.setColumns()}),i.legendEntries=d),d},s.prototype.getRangeConfigs=function(){var o=this.currentOptions,i=o.ranges,a=C(i);this.axisConfig;var u=function(d,f){return se({legendEntry:{value:"%min - %max",name:" ",cursor:"default",set:1}},o.defaultRange||{},d,f)};if(a==="array")return this.colorRanges.length?this.colorRanges:fe(i,function(d,f){var v=f?i[f-1]:void 0,x=f<i.length-1?i[f+1]:void 0;return f=Ir(d.value,Wr),x?(v=x.value,u({min:f.pop?f[0]:f,max:v.pop?v[0]:v},d)):C(f)==="array"?u({min:f[0],max:f[1]},_i(d,"value")):u({min:f,max:f+Math.abs(f-Wr(v.value))},d)})},s.prototype.setStopRange=function(){var o=fe(this.stops,function(u){return u[0]}),i=Math.min.apply(Math,c(o));o=Math.max.apply(Math,c(o)),this.stopRange=o-i,this.stopExtremes=[i,o];var a=Ir(this.currentOptions.colorsValueRange,Wr);this.clips=!(0<=i&&1>=o)||a},s.prototype.getStops=function(o){var i=this,a=this,u=a.currentOptions,d=function(){var w=[],k=[];k=b.map(function(O){return Wr(O[0])});for(var D=0,T=b.length;D<T;D++)k[D]=b[D][0];for(k=[Math.min.apply(null,k),Math.max.apply(null,k)],D=b.length-1;-1<D;D--){T=b[D];var M=void 0,I=void 0;M=[vn(k[1]-Wr(T[0])+k[0],2),T[1]],(I=0<D?b[D-1]:void 0)&&(3<I.length?(M[2]=1-I[3],M[3]=1-I[2]):2<I.length&&(M[2]=0,M[3]=1-I[2])),w.push(M)}b=w},f=function(){var w=u.colors,k=Ir(u.colorsValueRange,Wr);a.stopPosDefined=!1,o==="solid"&&w.push(w[w.length-1]);var D=le(g(k,"0"),0),T=(le(g(k,"1"),1)-D)/(w.length-1);return fe(w,function(M,I){return o==="solid"?[D+I*T,M,1]:[D+I*T,M]})},v=function(){var w=u.ranges,k=[],D=!0,T=[];if(K(w,function($){var Y=C($)==="object"?$.value:$;D=($=$.color)?D:!1,Y=Ir(Y,Wr),Y.pop?(k.push([Y[0],$,1]),k.push([Y[1],$]),T.push(Y[0])):(k.push([Y,$,1]),T.push(Y))}),!D){u.colors||(u.colors=["white"],En.emit("warning",u.id,"colorsRequired",{container:i.chart.getWrapper()}));for(var M=u.colors,I=Math.min.apply(Math,c(T)),O=[],F=(Math.max.apply(Math,c(T))-I)/(M.length-1),N=0,j=M.length;N<j;N++)O.push([I+F*N,M[N]]);var W=new s(a.chart,{stops:O,invert:u.invert});K(k,function($){$[1]=W.getValueColor($[0])}),K(w,function($){$.color=$.value.pop?W.getValueColor(Wr($.value[0])):W.getValueColor(Wr($.value))}),W.destroy()}return k},x=function(w){if(w&&w.length)return w.map(function(k){return k=k.slice(0),k[0]=Wr(k[0]),k})},b=a.mode==="ranges"?v():x(u.stops)||f();return u.invert&&a.mode!=="ranges"&&d(),b},s.prototype.getPointColor=function(o,i,a){return a=a||{},i=this.getPointValue(i,o,a),this.getValueColor(i,o)},s.prototype.getValueColor=function(o,i){var a=this.stops||this.getStops(i);return function(){if(i){var u;if(u=i.info.style.base)for(var d=0,f=a.length;d<f;d++)a[d][1].toLowerCase()==="%color"&&(a[d][1]=u.color)}}(),o=this.valueToStopPos(o),function(u){e:{for(var d=0,f=a.length;d<f;d++){var v=a[d];if(Wr(v[0])>u){d=d===0?[v]:[a[d-1],v];break e}if(Wr(v[0]),d===f-1){d=[v];break e}}d=void 0}if(f=d[0],v=[],d.length===1)return d[0][1];if(u=rt(0,1,f[0],d[1][0],u),2<f.length&&(v[0]=f[2],3<f.length&&(v[1]=f[3])),u<v[0])return f[1];if(1<v.length&&u>v[1])return d[1][1];var x=[0,1];return 1<v.length?x=v:0<v.length&&(x[0]=v[0]),u=rt(0,1,x[0],x[1],u),Vd(f[1],d[1][1],100*u)}(o)},s.prototype.setPointSpValues=function(o,i){var a=o.userPoints;i=this.currentOptions;var u=i.colorsValueRange,d=o.colorKey||"valueSP",f=function(D){return D!==null&&!ei(D)},v=function(D){return f(D)&&h(D)};if(o.info.usesSmartPalette&&a&&a.length){var x=a.length-1,b=a[x];if(b[d]=this.getPointValue(b,o),this.extremes&&!this.refreshExtremes)var w=this.extremes[0],k=this.extremes[1];else f(b[d])&&(w=k=b[d]);for(b=this.getPointValue(a[0],o),k=v(k)?k:b,w=v(w)?w:b;x--;)b=a[x],b=b[d]=this.getPointValue(b,o),f(b)&&(b>k||!v(k)?k=b:(b<w||!v(w))&&(w=b));this.extremes=[w,k],this.refreshExtremes=!1,this.dataRange=k-w,a=!u&&0<=w&&1>=k,o=this.axisConfig={},x=void 0,(x=i.colorsValueRange)?(w=x[0],k=x[1]):a&&this.clips?(w=0,k=1):this.clips||(w=this.stopPosToValue(0),k=this.stopPosToValue(1)),w=Yv(w,k,8,{minIntervalGap:0}),this.axisRange=[w.min,w.max],k=.001*(w.max-w.min),o.min=w.min-k,o.max=w.max+k,o.interval=w.interval,o.tickInterval=w.interval,o.startOnTick=o.endOnTick=!1}return this.extremes},s.prototype.getPointValue=function(o,i,a){a=a||{},this.chart.ctManager;var u=this.currentOptions,d=h(o._i)?i._points[o._i]:We(i._points,{id:o.id})||We(i._points,{currentOptions:{id:o.id}});return d||(o=0),a=a.spSrc,typeof o=="number"?d=o:(o=i.ctmIsType("heatmap")?"percentOfZAxisRange":"percentOfYAxisRange",(u=u.pointValue)||(i=1<i.userPoints.length?a==="chart"?"{%percentOfDataRange/100}":"{%percentOfSeriesRange/100}":"{"+o+"/100}",u=i),i=u,C(i)==="function"?d=i(d):(i.indexOf(":")===-1&&(i=i.replace("}",":n5}")),this.tokenUsed=i,d=d.replaceTokens(i,{y:{culture:"en-US"},x:{culture:"en-US"}}),d=d.replace(/,/g,""),d=Wr(d))),d},s.prototype.valueToStopPos=function(o){var i,a=h9(this),u=a.dataPerc;return a.stopPerc&&!u&&(i=this.axisRange)&&h(i[0])?rt(0,1,i[0],i[1],o):o},s.prototype.stopPosToValue=function(o){var i,a=h9(this),u=a.dataPerc;return a.stopPerc&&!u&&(i=this.extremes)&&h(i[0])&&!ei(i[0])?rt(i[0],i[1],0,1,o):o},s.prototype.getTraditionalStops=function(o,i){function a(M,I,O){function F(j){return j=rt(v[0],v[1],0,1,j),j=u.stopPosToValue(j),u.getValueColor(j)}var N=[];return N=function(){for(var j=[],W=0,$=M.length;W<$;W++){var Y=M[W],te=W<$-1?M[W+1]:"undefined",ee=0<W?M[W-1]:"undefined";if(Y[0]<I&&te[0]>I)j.push(I);else if(!(Y[0]<I&&te[0]<I)){if(Y[0]===I)j.push(Y[0]);else if(te[0]!==I)if(Y[0]>O&&ee){if(ee[0]<O){j.push(O);break}}else j.push(Y[0])}}return j}(),function(j){for(var W=[],$=0,Y=j.length;$<Y;$++){var te=j[$];W.push([rt(0,1,I,O,te),F(te)])}return W}(N)}var u=this,d=[],f=u.getStops(o),v=[];o=u.axisRange;var x=function(M){return rt(0,1,v[0],v[1],M)};v=u.stopExtremes;for(var b=0,w=f.length;b<w;b++){var k=f[b],D=b<w?f[b+1]:void 0;if(d.push([x(Wr(k[0])),k[1]]),D){if(2<k.length){var T=k[2]===1?1e-4:0;d.push([rt(x(Wr(k[0])),x(D[0])-T,0,1,k[2]),k[1]])}3<k.length&&d.push([rt(x(Wr(k[0])),x(D[0]),0,1,k[3]),D[1]])}}return i&&(i.pop&&(o=i),i&&u.clips&&o.length===2&&(i=x(u.valueToStopPos(o[0])),o=x(u.valueToStopPos(o[1])),d=a(d,i,o))),d},s.prototype.getPaletteCSS=function(o,i){o=this.getTraditionalStops(o);var a=[];return a.push(i?"to bottom":"to right"),o.map(function(u){var d=om(u[1]).hex;u=100*Wr(u[0]),a.push(d+" "+u+"%")}),"background: linear-gradient("+a.join(", ")+");"},s.prototype.destroy=function(){this.ciManager.remove(this),this.destroyEntries()},s.prototype.destroyEntries=function(){K(this.legendEntries,function(o){return o.destroy()})},s}(),Lce=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.kind="SmartPaletteEntry",i}return e(o,s),o}(AB),EB,Ice=function(){function s(o,i){this._layout=o,this._renderer=o.renderer,this._options={label:"",type:"default",delay:300,fill:"#fff"},this._mini=this._isShowing=this._isStarted=!1,EB||(this._renderer.cssText(`

.loader,
.loader .loader-overlay {
	position: absolute;
	top: 0;
	right: 0;
	left: 0;
	bottom: 0;
	overflow: hidden;
}

.loader {
	animation:loader-fadeIn ease-in 1;
	animation-fill-mode:forwards;
	animation-duration:0.1s;

	opacity: 0;
	visibility: visible;
}

.loader.hide,
.loader.anim-hide {
	animation:loader-fadeOut ease-in 1;
	animation-fill-mode:forwards;
	animation-duration:0.03s;
}

.loader.hide {
	animation-duration:0s;
	visibility: hidden;
}

.loader .loader-overlay {
	opacity: 0.3;
}

.loader .loader-text {
	color: #666;
	margin-top: 5px;
}

.loader.mini .loader-text {
	top: 7px;
	left: 20px;
}

.loader .loader-icon-holder {
	position: relative;
	top: calc(50% - 35px);
	text-align: center;
}

.loader.mini .loader-icon-holder {
	top: 7px;
	left:0;
}

.loader.mini .loader-text {
	top: 1px;
	font-size: 6px;
}

.loader.bars .loader-icon,
.loader.bars .loader-icon:before,
.loader.bars .loader-icon:after {
	background: rgba(50,102,187, 0.75);
	animation: loader-bars 1s infinite ease-in-out;
	width: 10px;
	height: 40px;
}
.loader.bars .loader-icon {
	color: rgba(50,102,187, 0.75);
	text-indent: -9999em;
	font-size: 11px;
	-webkit-animation-delay: -0.16s;
	animation-delay: -0.16s;
	margin: 0 auto;
}

.loader.bars .loader-icon:before,
.loader.bars .loader-icon:after {
	position: absolute;
	top: 0;
	content: '';
}

.loader.bars .loader-icon:before {
	left: -15px;
	animation-delay: -0.32s;
}
.loader.bars .loader-icon:after {
	left: 15px;
}

.loader.bars.mini .loader-icon,
.loader.bars.mini .loader-icon:before,
.loader.bars.mini .loader-icon:after {
	width: 5px;
	height: 20px;
	animation: loader-bars 1s infinite ease-in-out;
}

.loader.bars.mini .loader-icon:before {
	left: -7px;
	animation-delay: -0.32s;
}

.loader.bars.mini .loader-icon:after {
	left: 7px;
}

.loader.bars.mini .loader-icon {
	top: 5px;
	left: 5px;
}


@keyframes loader-fadeIn { 0% { opacity:0; } 100% { opacity:1; } }
@keyframes loader-fadeOut { 0% { opacity:1; transform: scale(1); } 99% { transform: scale(1); } 100% { opacity:0; transform: scale(0); } }

@keyframes loader-bars {
0%,
80%,
100% {
	transform: scaleY(0.75);
}
40% {
	transform: scaleY(1.25);
}
}

@keyframes loader-default { from {  opacity: 1 } to {  opacity: 0 } }


.loader.default .loader-icon {
	width: 50px;
	height: 50px;
	position: relative;
	margin: 0 auto;
}

.loader.default .loader-icon .inner
{
	animation: loader-default ease-out 0.96s infinite;
	position: absolute;
	background: #444; 
	border-radius: 2px;
	transform-origin: 2px 25px;
	left: 50%; 
	height: 25%;
	width: 8.33%;
}

.loader.default.mini .loader-icon {
	width: 20px;
	height: 20px;
}

.loader.default.mini .loader-icon .inner
{
	border-radius: 1px;
	transform-origin: 0px 10px;
}

.loader.default .loader-icon .inner:nth-of-type(1) {
	transform: rotate(0deg);
	animation-delay: -0.88s;
}
.loader.default .loader-icon .inner:nth-of-type(2) {
	transform: rotate(30deg);
	animation-delay: -0.8s;
}

.loader.default .loader-icon .inner:nth-of-type(3) {
	transform: rotate(60deg);
	animation-delay: -0.72s;
}

.loader.default .loader-icon .inner:nth-of-type(4) {
	transform: rotate(90deg);
	animation-delay: -0.64s;
}
.loader.default .loader-icon .inner:nth-of-type(5) {
	transform: rotate(120deg);
	animation-delay: -0.56s;
}
.loader.default .loader-icon .inner:nth-of-type(6) {
	transform: rotate(150deg);
	animation-delay: -0.48s;
}
.loader.default .loader-icon .inner:nth-of-type(7) {
	transform: rotate(180deg);
	animation-delay: -0.4s;
}
.loader.default .loader-icon .inner:nth-of-type(8) {
	transform: rotate(210deg);
	animation-delay: -0.32s;
}
.loader.default .loader-icon .inner:nth-of-type(9){
	transform: rotate(240deg);
	animation-delay: -0.24s;
}
.loader.default .loader-icon .inner:nth-of-type(10){
	transform: rotate(270deg);
	animation-delay: -0.16s;
}
.loader.default .loader-icon .inner:nth-of-type(11) {
	transform: rotate(300deg);
	animation-delay: -0.08s;
}
.loader.default .loader-icon .inner:nth-of-type(12) {
	transform: rotate(330deg);
}
`),EB=!0),i&&this.options(i)}return s.prototype.options=function(o){ke(this._options,o)},s.prototype.loading=function(o,i){return o===!1?this.end():this._renderer.isRootHidden()?!1:this.start(o,i)},s.prototype.destroy=function(){this.end(),this._loaderElement&&this._loaderElement.destroy()},s.prototype.ensureAnimationApplied=function(o){var i=this,a=new Date().getTime()-i._endTime;i._animationApplied||!i._isShowing||i._options.break!==!0||0>a?o():(i._loaderElement.attr({"animation-delay":"0ms"}),qR(function(){i._animationApplied=!0,i.insideRequest=!0,o(),i.insideRequest=!1}))},s.prototype.mainClass=function(){return"loader "+this._options.type},s.prototype.createElements=function(){if(!this._loaderElement){this._loaderElement=this._renderer.htmlElement("",{class:this.mainClass()+" hide"}).add(this._renderer.wrapper),this._overlayElement=this._renderer.htmlElement("",{class:"loader-overlay"}).add(this._loaderElement),this._iconHolderElement=this._renderer.htmlElement("",{class:"loader-icon-holder"}).add(this._loaderElement),this._iconElement=this._renderer.htmlElement("",{class:"loader-icon"}).add(this._iconHolderElement),this._textElement=this._renderer.htmlElement("",{class:"loader-text"}).add(this._iconHolderElement);for(var o=0;12>o;o++)this._renderer.htmlElement("",{class:"inner"}).add(this._iconElement)}return this._loaderElement},s.prototype.end=function(){if(!this._isStarted||!this._loaderElement)return!1;if(this._isShowing){var o=0<new Date().getTime()-this._endTime&&this._animationApplied?"anim-hide":"hide";this._loaderElement.attr({class:this.mainClass()+" "+(this._mini?"mini ":"")+o,"animation-delay":"0ms"})}return this._isStarted=this._isShowing=!1,!0},s.prototype.start=function(o,i){var a=this,u=a._isStarted,d=(h(i)?i:a._options.delay)||0,f=!a._loaderElement,v=Be(o)||o===null?o:a._options.label,x=a._textToShow!==v;return a._isStarted&&!x&&i?!1:(a._isStarted=!0,a._textToShow=v,a.createElements(),function(){if((x||f)&&a._textElement.attr({innerHTML:v}),!a._isShowing){var b=a._layout.getRootBox();a._mini=50>b.height||50>b.width,a._endTime=d+new Date().getTime(),a._animationApplied=!1,qR(function(){if(!a._animationApplied){a._animationApplied=!0;var w=a._endTime-new Date().getTime();a._isShowing&&a._loaderElement.attr({"animation-delay":(0<w?w:0)+"ms"})}}),a._loaderElement.attr({class:a._mini?a.mainClass()+" mini":a.mainClass(),width:b.width+"px",height:b.height+"px","animation-delay":d+"ms"}),a._overlayElement.attr({"background-color":a._options.fill||"#fff"}),a._isShowing=!0}}(),!u)},s}(),Oce=function(){return function(s){this.series=s}}(),LB={contentArea:0,axis:1},Rce=function(){function s(o){this.layout=o,this.uses={}}return s.prototype.use=function(o){return this.uses=o,this},s.prototype.build=function(o){var i=this.layout,a={};o=this.uses=o||this.uses;var u=se({content:{holder:{stretch:!0}},axis:{offset:0}},o);if(o.title&&(a.titleBoxPanel=i.panel(),a.titleBox=new Ece(o.title.holder).add(a.titleBoxPanel)),o.axis){var d=u.axis.offset;a.topAxes=i.panel({type:"stack:y"}).attr(z_("left","bottom",0,-d)),a.leftAxes=i.panel({type:"stack:x"}).attr(z_("right","top",-d,0)),a.rightAxes=i.panel({type:"stack:x"}).attr(z_("left","top",d,0)),a.bottomAxes=i.panel({type:"stack:y"}).attr(z_("left","top",0,d))}var f=[],v=o.outline?o.outline.width:1;if(o.content&&o.content.stroke){a.contentStroke=i.renderer.path({fill:"none",stroke:"none","stroke-width":o.content.stroke.width});var x=o.content.stroke.onFront===!0}o.background&&(a.caBackgroundPanel=i.panel({padding:v/2}),a.caBackground=i.rect(Gd({fill:"rgba(0,0,0,0)",shadow:!1})).add(a.caBackgroundPanel),(o.contentHolderFront||x)&&a.contentStroke.add(a.caBackgroundPanel),o.contentHolderFront||f.push(a.caBackgroundPanel));var b=function(k){return Gd(i.panel({type:"panel"})).attr({x:v/2,y:v/2})};o.axisMarkers&&(a.axisMarkersBehind=b(),a.axisMarkersFront=b()),o.gridLines&&(a.gridLinesBehind=b(),a.gridLinesFront=b()),a.dataContent=b(),d=ih({}),d=a.contentHolder=i.panel(u.content.holder.stretch?Gd(d):d);var w=function(k){return k&&f.push(k)};return w(a.gridLinesBehind),!o.axis&&o.contentHolderFront?(w(a.axisMarkersBehind),a.axisContentBehind=b(),f.push(a.axisContentBehind)):w(a.axisMarkersBehind),f.push(a.dataContent),w(a.gridLinesFront),w(a.axisMarkersFront),!o.axis&&o.contentHolderFront&&(a.axisContentFront=b(),f.push(a.axisContentFront)),a.content=i.panel(Gd(ih({val:f}))).add(d),o.contentOverlay&&(a.contentOverlay=i.panel(Gd(ih({}))).add(d)),!o.contentHolderFront&&x===!1&&a.contentStroke.add(d),o.annotationLayer&&(a.anHolder=i.panel(Gd(ih({}))).add(d)),o.overflow&&(a.topOverflow=i.panel(),a.leftOverflow=i.panel(),a.rightOverflow=i.panel(),a.bottomOverflow=i.panel()),x=function(k){if(!k)return k;var D=i.panel({zIndex:LB.axis});return k.add(D),D},x={type:"grid",val:[[i.panel(),x(a.topAxes),i.panel()],[x(a.leftAxes),d,x(a.rightAxes)],[i.panel(),x(a.bottomAxes),i.panel()]]},o.contentHolderFront&&(a.contentHolderBehind=i.panel(),a.contentHolderFront=i.panel()),a.grid=!o.axis&&o.contentHolderFront?i.panel({val:[a.caBackgroundPanel,a.contentHolderBehind,d,a.contentHolderFront]}):o.axis?i.panel(u.content.holder.stretch?Gd(x):x):d,a.mainStacks=o.overflow?i.panel({type:"stack:y",val:[ih({val:o.title?[a.topOverflow,{type:"stack:y",yAlignment:"bottom",val:[a.titleBoxPanel]}]:[a.topOverflow]}),{type:"stack:x",val:[ih({val:[a.leftOverflow]}),a.grid,ih({val:[a.rightOverflow]})]},ih({val:[a.bottomOverflow]})]}):a.grid,a},s}(),SM,IB={custom:1e3,AxisMarker:1200},TM=function(s){var o=s.point,i=s.yVal;return s=s.color||o.tokenValue("%color"),o=rm(s),{value:i,label:{color:.65<o?"#000":"#fff"},fill:s,outline:{color:.85<o?"#d3d3d3":s},gridLine:{color:s}}},AM=function(){function s(o){this.chartArea=o,this.boxes=[],this.labelBoxes=[],this.paths=[],this._allBoxes=void 0,this.anyColLabelOverflow=!1}return s.prototype.addIdBox=function(o,i){i.id=o,this.addBox(i)},s.prototype.addBox=function(o){o&&o.length===4&&this.boxes.push(o)},s.prototype.addBodyBox=function(o){this.addBox(o)},s.prototype.addLabelBox=function(o,i){o&&o.length===4&&(o.id=i,this.labelBoxes.push(o))},s.prototype.reset=function(){this.boxes=[],this.labelBoxes=[],this._allBoxes=void 0,this.anyColLabelOverflow=!1},s.prototype.collideAllExcept=function(o,i){if(Pc(this.boxes,o)||Pc(this.labelBoxes,o))return!0},s.prototype.collideAll=function(o,i){if(Pc(this.boxes,o,i)||Pc(this.labelBoxes,o,i))return!0},s.prototype.collideLabels=function(o,i){return!!Pc(this.labelBoxes,o,i)},s.prototype.alignAvoid=function(o,i){return o=Dv(o,this.boxes,i),Dv(o,this.labelBoxes,i)},s}(),sp=function(s,o){s=le(s.currentOptions.mouseTracking,{}),s=s.enabled!==!1&&s!==!1;var i=!0;return o&&(i=o.currentOptions.mouseTracking!==!1),s&&i},Pce=function(s){function o(i,a){var u=s.call(this,i.chart,a,[i,a])||this;return u.series=i,u.attribs={point:{},states:{}},u.kind="Point",u.visuals={marker:void 0,rect:void 0,body:void 0,rectComplete:void 0,errorY:void 0,errorX:void 0,errorXV:void 0,errorYV:void 0,label:void 0,labelConnector:void 0},u._state="",u.info={},u.isMousedOver=!1,u.chart=i.chart,u.x=a.x,u.y=a.y,u.name=a.name,u._i=a._i,u._state="",(u.selected=a.selected)&&Y3(u,!0),u}return e(o,s),o.prototype.init=function(i,a){this.series=i,this._i=a._i,this.defaultMutable=!0},o.prototype.options=function(i,a){var u=this.series,d=!0,f=this.optionsGetter(i);if(f!=="NotGetter")return f;if(typeof i.mapData=="object"&&(this.setMapData(i.mapData),$n(i).length===1))return this;i=nr(i,"map,mapData,geometry"),f=$n(i),0<Qo(f,HF).length?u.seriesDirty.pointData(!0):0<Qo(f,jF).length&&u.seriesDirty.pointIndex(!0);var v;if(0<(v=Qo(f,Hoe)).length&&(h(i.selected)&&Y3(this,i.selected),h(i.muted)&&this._state!=="select"&&this.setState(i.muted?"mute":""),this.chart.isRendered&&this.syncLeCheckbox(),f.length===v.length)){d=!1;var x=!0}if(h(i._i)&&(this._i=i._i),ke(this.userOptions,i),x?ke(this.currentOptions,i):(u.userPoints[this._i]=this.userOptions,this.genOptions()),K3(this),d&&a!==!1){u.chartArea.invalidate(),u.setDataInfo(),a=this.normalizeUpdateOpt({animation:u.currentOptions.animation},a),this.chart.redraw(a);var b=!0}return this.triggerUser("update"),!b&&this.afterUpdate(a),this},o.prototype.defaultOptions=function(){return q3(this.series,this._i)},o.prototype.contextOptions=function(){},o.prototype.setOptions=function(){return s.prototype.setOptions.call(this),K3(this),this},o.prototype.setState=function(i,a){var u=this,d=u.series,f=u.chart;d.chartArea,i=Z3(u,i);var v={};if(h(a?.animation)){se(v,a.animation===!1?{duration:0}:a.animation);var x=!!v.duration}var b=function(T){return se(x?{animation:v}:{},T)};if(i!==u._state){var w=(u.coord()||{}).styleSet||d.getPointAttr(this);a=w.pointAttr;var k=w.svAttr;w=function(T){var M=T.rootPanel;return M?M.rect||M.el:T};var D;(D=u.visuals.body)&&(w=w(D))&&w.attr&&w.attr(b(a[i])),(D=u.visuals.rectComplete)&&(a=b9(d.visualizer,u,i),u.visuals.rectComplete.attr(b(a))),K(["errorY","errorX","errorXV","errorYV"],function(T){(D=u.visuals[T])&&D.attr(b(k[i]))}),a=u.selected,w=u.selected=i==="select",u._state=i,d=d.info.type.isPie,w&&!a?(u.triggerUser("select"),f._pointSelection(),d&&u.options({exploded:!0})):!w&&a&&(u.triggerUser("unselect"),f._pointSelection(),d&&(X3(u,!1),u.options({exploded:!1})))}},o.prototype.select=function(i,a,u){i=h(i)?i:!this.selected,Y3(this,i,u)},o.prototype.mouseOver=function(i){var a=this.chart,u=g(i,"eventArgs");if(!this.isMousedOver&&sp(this.series,this)){this.isMousedOver=!0;var d=a.hoveredPoint;return a.hoveredPoint=this,d&&d!==this&&d.mouseOut(i),a.hoveredPoint=this,i=this.triggerUser("mouseOver",u),i!==!1&&this._state!=="select"&&this.setState("hover"),u=this.mouseOverOutCursor(),a.setCursor(u.over),i}},o.prototype.mouseOut=function(i){var a=g(i,"eventArgs"),u=this.series;if(this.isMousedOver=!1,!this._cursorCaptured){if(g(u.currentOptions,"mouseTracking.sticky"))var d=(d=this.chart.hoveredPoint)?d.series===u:!1;return d||(u.state!=="select"&&u.setState(""),u.tooltip.hideTooltip(),d===!1&&u.triggerUser("mouseOut",i),this.chart.hoveredPoint=void 0),i=this.triggerUser("mouseOut",a),i!==!1&&this._state!=="select"&&(this.setState(""),u.visualizer.hideHaloMo()),this.chart.setCursor(),i}},o.prototype.click=function(i){var a=this.currentOptions.nativeClick,u=g(i,"eventArgs"),d={eventArgs:i.eventArgs,currentTarget:this};ke(d,this.series.chartArea.clickData(d));var f=this.series.currentOptions.pointSelection;i=i.accumulate||u&&u.ctrlKey,this.triggerUser("click",d)!==!1&&(a&&a.call(this,d),f&&this.select(void 0,void 0,i),this.syncLeCheckbox())},o.prototype.mouseOverOutCursor=function(){var i=this.currentOptions,a=this.series.currentOptions,u=i.cursor||a.cursor,d=sp(this.series,this);a=a.pointSelection,i=this.hasUserEvent("click")||i.nativeClick;var f={over:void 0,out:"initial"};return d&&(u||a||i)&&(f.over=u||"pointer"),f},o.prototype.genOptions=function(){if(this.currentOptions.mapDataId&&this.userOptions.mapDataId&&this.currentOptions.mapDataId===this.userOptions.mapDataId){var i=this.currentOptions.map,a=this.userOptions.map,u=void 0,d=void 0;delete this.currentOptions.map,delete this.userOptions.map,this.userOptions.mapData&&this.currentOptions.mapData&&this.userOptions.mapData!==this.currentOptions.mapData&&this.userOptions.mapData.id===this.currentOptions.mapData.id&&(u=this.currentOptions.mapData,d=this.userOptions.mapData,delete this.currentOptions.mapData,delete this.userOptions.mapData),this.currentOptions=se(this.defaultOptions(),this.userOptions),this.currentOptions.map=i,this.userOptions.map=a,u&&d&&(this.currentOptions.mapData=u,this.userOptions.mapData=d)}else this.currentOptions=se(this.defaultOptions(),this.userOptions)},o.prototype.getMapData=function(){return g(this.info,"map")||g(this.userOptions,"mapData")||g(this.userOptions,"map")||{}},o.prototype.setMapData=function(i){return St(this.info,"map",i),this},o.prototype.getPosConfig=function(){return{}},o.prototype.destroy=function(){K(this.visuals,function(a){return a&&a.destroy()});var i=this.legendEntry;i&&i.destroy(),this.chart.setCursor(),s.prototype.destroy.call(this)},o.prototype.syncLegendItems=function(i){var a=this.series;i=1/a.points().items.length,i=a._i+i*this._i,a=a.chart.requestLegend(a);var u=this.options("legendEntry.visible");u===!1||a.spMode!=="none"&&u!==!0||(this.legendEntry?this.legendEntry.setColumns():this.legendEntry=a.addEntry(this,i))},o.prototype.syncLeCheckbox=function(){var i;!((i=this.legendEntry)===null||i===void 0)&&i.checkbox&&(this.legendEntry.updateCheckbox(),this.legendEntry.checkbox.refresh())},o.prototype.getIconVisual=function(i,a,u){var d=this.series;return a!==this&&(a=void 0),d.getIconVisual(i,a||this,u)},o.prototype.iconName=function(){return this.series.iconName()},o.prototype.getIconTag=function(){var i=this.series,a=i.info.style;return i=i.getPointAttr(this.currentOptions).baseColor||a.base.color,"<icon name="+this.iconName()+" fill="+i+" verticalAlign=middle width=20 height=10>"},o.prototype.styleIconVisual=function(i){var a=this.series.getPointAttr(this.currentOptions);i&&i.base.attr(a.pointAttr[""])},o.prototype.getParents=function(){var i=this.series,a=i.visualizer,u=[];return a.getParents?u=a.getParents(this):En.emit("warning","","The getParents() function is not supported for this type of series type.",{container:i.chart.getWrapper()}),zi(Hr,function(){return u},function(d){})()},o.prototype.getChildren=function(){var i=this.series,a=i.visualizer,u=[];return a.getChildren?u=a.getChildren(this):En.emit("warning","","The getChildren() function is not supported for this type of series type.",{container:i.chart.getWrapper()}),zi(Hr,function(){return u},function(d){})()},o.prototype.replaceTokens=function(i,a){return Q7(i,this.series,this,a||this.series.getFormatInfo())},o.prototype.tokenValue=function(i){return this.replaceTokens({token:i})},o.prototype.remove=function(i){var a=this.series,u=sh(a.userPoints,{id:this.options("id")});-1<u&&(a.removePoint(u,i),this.triggerUser("remove"))},o.prototype.zoomTo=function(i){var a=this.series;if(a.ctManager.isType("calendar"))a.zoomTo(i);else if(a.ctManager.isType("map")){var u=this.getMapData();(u=g(u,"bbox")||g(u,"properties.bbox"))&&a.chart.zoom(u,i)}else a.chartArea._isStaticDragArea?(u=this.coord(),u=u.xyz.length===4?On(u.xyz):u.xyz.slice(0,2),u=e_(u)?{center:Il(u,a.visualizer._coordOffset)}:void 0):(u=a.indexer.getValue("pos",this._i).xyz.slice(0,2),u=e_(u)?{pos:u}:void 0),u&&a.chartArea.zoom(u,i)},o.prototype.setRootVisuals=function(){return this},o.prototype.coord=function(){return this.series.indexer.getItem(this._i).coordinates},o.prototype.bbox=function(){var i=this.coord();if(i.pathObj&&i.pathObj.isPath)var a=i.pathObj.bbox();else{var u=Be(i.pathD)?i.pathD:i.pathD.pop?i.pathD.join(" "):void 0;i.htShape?a=i.htShape.bbox():Be(u)?(u=-1<u.indexOf("url")?_l(Rt(this.visuals.body.getBbox())):u)&&(a=Aw(u)):i.pathD.bbox&&(a=i.pathD.bbox())}!a&&i.xyz&&(a=i.xyz.slice(0,2),a.push(0,0)),u=[],Dm(u,i.sv,i.svs);var d=[a];return Dm(d,g(i,"collision.body")),u.length&&d.push(ir(u)),1<d.length&&(a=Yn(d)),a},o}(ca),Fce={top:"bottom",bottom:"top",left:"right",right:"left",center:"center",middle:"middle"},Nce={top:"right",bottom:"left",left:"top",right:"bottom",center:"middle",middle:"center"},Bce=function(){var s=function(i){return i=i.split(","),fe(i,function(a){return{align:"incenter",vAlign:a}})},o={normal:{},range:{},stacked:{},ganttCandle:{}};return K({normal:{auto:"outtop,intop,outbottom",others:"inmiddle,inbottom"},range:{auto:"outtop,inmiddle,outbottom",others:"intop,inbottom"},ganttCandle:{auto:"inmiddle,outtop,outbottom",others:""},stacked:{auto:"inmiddle",others:"intop,inbottom"}},function(i,a){K(i,function(u,d){return o[a][d]=s(u)})}),o},Vce=function(){var s={normal:{auto:[{align:"left",vAlign:"top"},{align:"center",vAlign:"top"},{align:"right",vAlign:"top"},{align:"left",vAlign:"middle"},{align:"right",vAlign:"middle"},{align:"left",vAlign:"bottom"},{align:"center",vAlign:"bottom"},{align:"right",vAlign:"bottom"}],others:[{align:"incenter",vAlign:"inmiddle"}]}};return K(s.normal.auto,function(o,i){s.normal.others.push({align:"in"+o.align,vAlign:"in"+o.vAlign})}),function(o){K(o,function(i,a){i=o[a],i.align="out"+i.align,i.vAlign="out"+i.vAlign})}(s.normal.auto),s},Um=function(s){return s[0]==="i"?["in",s.substr(2).toLowerCase()]:["out",s.substr(3).toLowerCase()]},MM=function(s,o,i,a,u){return o=u?o:i,s=u?s.align:s.vAlign,a&&a[0]!==s[0]||o&&o.toLowerCase()!==Um(s)[1]},OB=function(s){return s.align[0]==="i"&&s.vAlign[0]==="i"},RB=function(s,o){return s=Um(s),s[0]+o[s[1]]},Pl=function(s,o){var i=o?Nce:Fce;return{align:RB(o?s.vAlign:s.align,i),vAlign:RB(o?s.align:s.vAlign,i),rotation:s.rotation||0}},zce=function(s,o,i,a,u,d){return i=o.slice(0),u=function(f,v){var x=[],b=On(f);f=ta(f);var w={u:[b[0],f[1]],d:[b[0],f[3]],l:[f[0],b[1]],r:[f[2],b[1]]};return K(["u","d","l","r"],function(k){var D;(D=v[k])&&x.push(Vr(w[k],[D,D]))}),x}(o,u),i=c([i],a,u),d=(d=d.rectComplete)?Rt(d):void 0,i=Yn(i),o=VT(o,c(a,u,d?[d]:[])),s.isHoriz()?(o=Ed(o,[o[2]-10,o[3]]),i=Ed(i,[i[2]+10,i[3]])):(o=Ed(o,[o[2],o[3]-10]),i=Ed(i,[i[2],i[3]+10])),{in:o,out:i}},Hce=function(s,o,i,a,u){return s=ws(Yn(c([o],i)),-5),{in:VT(o,i),out:s,outCorner:ws(s,3)}},jce=function(s,o,i,a,u){s=s.isHoriz();var d=u.getValue("coordinates",a);return a=u.getValue("coordinates",a-1),d&&a&&(i=i.slice(0),a=a.xyz,d=d.xyz,s?i.push(ir([d,[a[0],d[1]]])):i.push(ir([d,[d[0],a[1]]]))),{in:VT(o,i),out:ws(Yn(c([o],i)),-5)}},Gce=function(s,o,i,a){var u=o.currentOptions.label||{},d=u.align,f=u.verticalAlign,v=u.placement==="auto"?void 0:u.placement;a=d||f||v,u.rotation;var x=o.series.info.hasYRanges,b=s.isHoriz(),w=o.series;o=w.info;var k=o.hasSubvalues;s=w.yAxis.isStacked();var D=w.xAxis.type==="category";return w=Bce(),o=k||b&&D&&o.type.zStacked,u.alignSequence?u.alignSequence:v&&(b&&d||!b&&f)?(a=v[0]==="i"?"in":"out",u=b?[{align:a+d,vAlign:"inmiddle"}]:[{align:"incenter",vAlign:a+f}]):(s=w[s?"stacked":o?"ganttCandle":x?"range":"normal"],o=function(T){return{u:function(M){return M},d:function(M){return fe(M,function(I){return Pl(I)})},r:function(M){return fe(M,function(I){return Pl(I,!0)})},l:function(M){return fe(M,function(I){return Pl(Pl(I,!0))})}}[i](T)},u=o(s.auto),x=function(T){return!MM(T,d,f,v,b)},a&&(u=Xt(u,x),a=o(s.others),u.push.apply(u,c(Xt(a,x)))),u)},Wce=function(s,o,i){o=o.currentOptions.label||{};var a=o.align,u=o.verticalAlign,d=o.placement==="auto"?void 0:o.placement;if(s=a||u||d,o.rotation,i=Vce(),o.alignSequence)return o.alignSequence;if(a&&u)return s=d&&d[0]==="i"?"in":"out",[{align:s+a,vAlign:s+u}];i=i.normal,o=i.auto;var f=function(v){var x=a?MM(v,a,u,d,!0):!0;return v=u?MM(v,a,u,d,!1):!0,x&&v};return s&&(o=Xt(o,function(v){return!f(v)}),o.push.apply(o,c(Xt(i.others,function(v){return!f(v)})))),o},Uce=function(s,o,i,a){var u,d;h(i)?(K(s,function(f){var v=Mi(o,On(f.box)),x=0;v=Math.abs(DF(i-v+180,360)-180),(!h(d)||v<d)&&(u=f,d=v),45>v?x+=2:(135<v&&(x+=1),a.length&&(UR(f.box,a[0])&&(x-=2),a[1]&&UR(f.box,a[1])&&(x-=2))),f.score=x}),u&&u.score++):PB(s,o)},PB=function(s,o){var i,a,u=h(o);K(s,function(d){var f=0,v=Um(d.vAlign)[1],x=Um(d.align)[1];if(u){var b=On(d.box);b=go(o,b),(!h(a)||b<a)&&(a=b,i=d)}x==="center"&&(f++,v==="top"&&f++),v==="middle"&&f++,d.score=f}),u&&(i.score+=3)},$ce=function(s,o,i,a,u,d){K(s,function(f){var v=0,x=f;u?x=d?Pl(f,!0):Pl(Pl(f,!0)):d&&(x=Pl(f));var b=Um(x.vAlign)[1];if(x=Um(x.align)[1],i||a){var w=i?"right":"left";o?b==="bottom"&&x===w?v+=2:(b==="middle"&&x===w||b==="bottom"&&x==="center")&&v++:(x===w&&v++,b!=="bottom"&&v++)}else o?b==="bottom"&&x==="center"?v+=2:b==="middle"?v++:b==="top"&&--v:(x==="center"&&v++,b==="top"&&v++);f.score=v})},Yce=function(s,o,i,a,u){return o=Rt(o.coordRect),On(o),PB(s),s=Rn(s,function(d){return d.score}),s.reverse(),s},Xce=function(s,o,i,a,u){a=function(x){return u.getValue("coordinates",x)},o=a(i._i);var d=a(i._i-1),f=a(i._i+1);if(a=[],i.series.ctSvIs("lineSeriesType","step")||(d&&a.push([o.xyz,d.xyz]),f&&a.push([o.xyz,f.xyz])),a.length===2){i=Mi(a[0][0],a[0][1]);var v=Mi(a[1][0],a[1][1]);v=DF(v-i+180,360)-180,v=i+v/2+180}else a.length&&(v=Mi(a[0][1],a[0][0]));return Uce(s,o.xyz,v,a),s=Rn(s,function(x){return x.score}),s.reverse(),s},qce=function(s,o,i,a,u){var d=function(b){return u.getValue("coordinates",b)};a=d(i._i);var f=d(i._i-1);d=d(i._i+1);var v=i.series;i=v._i===0;var x=v.yAxis;return v=x.isStackedFull(),x=x.isStacked(),o=o.isHoriz(),$ce(s,x&&!(x&&!v&&i),!f,!d,o,o?a.xyz[0]<a.xyzs[0]:a.xyz[1]>a.xyzs[1]),s=Rn(s,function(b){return b.score}),s.reverse(),s},FB=function(){return{opacity:.9,width:3,color:"#dedeac"}},NB=function(){return{axes:"x,y",values:"x,y",requiredData:"x,y",supportedData:"x,y,subvalue,subvalueX",privateAxes:"",customAxisOptions:{}}},Kce="circle diamond four-point-star five-point-star six-point-star seven-point-star".split(" "),op=function(s){function o(i){var a=s.call(this,i)||this;return a.series=i,a.kind="base",a.typeConfig=NB(),a.typeConfigCtSpecific={chartType:{gauge:{privateAxes:"x",customAxisOptions:{x:{}}},radar:{x:{isRadial:!0,scale:{range:{padding:0}}},y:{isRadial:!0}}},radarType:{polar:{x:{radialInterpolation:"spider"}},spider:{x:{radialInterpolation:"spider"}}},gaugeType:{},linearGaugeType:{horizontal:{}}},a.shapeLabelMeta={},a.debugBBox=!1,a.staticBodyDGetter=void 0,a.staticSeriesBodyInfo=gl,a.staticPointCompleteVisInfo=gl,a.coordDirty=!0,a.coordinates={},a.paths={areas:void 0,lines:void 0},a.pointValueParser=H_,a.collidePointBoxes=!0,a.getLabelHitTest=function(){return function(u,d,f){var v=u.meta.label;u=u.meta.labelAttr;var x=v&&v.slice(2);return v&&Oc([v[0]+(u.offsetX||0),v[1]+(u.offsetY||0),x[0],x[1]],[d,f])}},T9(i),a.debounce=new Kd,a}return e(o,s),o.prototype.getTypeConfigDefault=function(){return NB()},o.prototype.getTypeConfig=function(i){if(!this._typeConfigCache||i){var a=this.series;i=this.getTypeConfigDefault();var u=this.typeConfigCtSpecific,d,f,v=this.series.ctManager.getSettingChecker(a),x;for(x in u)a=u[x],(d=v(x))&&(f=a[d])&&se(i,f);u&&(delete i.chartTypeSpecific,se(i,u)),this._typeConfigCache=i}return this._typeConfigCache},o.prototype.pointArrayExpander=function(i){return{x:i[0],y:i[1]}},o.prototype.pointLeVisible=function(i){return!0},o.prototype.contextDefaults=function(){},o.prototype.eachPoint=function(i){for(var a=this.series.points().items,u=0,d=a.length;u<d&&i(a[u],a[u]._i)!==!1;u++);},o.prototype.render=function(i,a){var u=this.series,d=u.currentOptions,f=this,v=u.info.type,x=(u.pane||u.chartArea).collisionManager,b,w=f.isHoriz(),k,D,T=u.rootVisuals,M=u.info,I=M.type,O=y(u.chart.currentOptions,["navigator","enabled"]),F=u.renderer;if(h(f.lastRenderVisibility)&&!f.lastRenderVisibility&&!u.isVisible)return f;var N=le(y(u.currentOptions,["defaultPoint","subvalue","line","length"]),20),j=N,W=function(Ze){var xe;Ze&&(xe=Ze(f,i))&&(ae=xe.d)&&(b={d:ae,zIndex:h(xe.zIndex)?xe.zIndex:u.zIndex+jr.series},xe.clipPath&&(b.clipPath=xe.clipPath),b=f.render_applyDynamicAttrVals([b,xe.state,{animation:xe.animation}],i,xe.state),(k=xe.visGetter())?(b.animation&&(Ze=f.getAnimatorOptions(xe.shapeName))&&(b.animation.pathAnimation=Ze,Ze.fromD=y(k,["data","attrs","d"]),k.finishAnimation()),b.clipPath&&b.animation&&(Ze=k.data.vals["clip-path"])&&(Ze.el.attr({animation:b.animation,d:b.clipPath}),delete b.clipPath),k.attr(b)):(xe.visSetter(k=F.path(b)),k.add(xe.target),K(xe.events,function($e,ze){return k.on(ze,$e)})))},$=T.points;F=F.renderer,i=Xi(i)?i:{},T=$&&$.pixelCorrection,u.state=d.selected?"select":d.muted?"mute":u.state||"",(I.drawArea||I.drawLine)&&(T&&(u.ctSv("lineSeriesType")==="step"||I.drawMarker&&u.ctSv("radarType")!=="polar"&&y(u.currentOptions,["defaultPoint","marker","visible"])!==!1)?i.coordinatesCorrection=function(Ze){return jd($,Ze,1)}:i.coordinatesCorrection=function(Ze){return Ze.map(function(xe){return[xe[0],xe[1]]})}),!a&&u.preRender(i),i.coordinatesCorrection=null,K(f.staticSeriesBodyInfo,W);var Y=u.points().items,te=function(Ze,xe,$e,ze,Ht,Fn){var _n,Lt="",Pi=function(Ci){return w&&!Fn||!w&&Fn?[[Ci[0],Ci[1]-Ht],[Ci[0],Ci[1]+Ht]]:[[Ci[0]-Ht,Ci[1]],[Ci[0]+Ht,Ci[1]]]};if(I.drawRect&&Ze){Ze=Rt(Ze);var Ys=GR(Ze,xe,1),Hi=GR(Ze,$e,1);Ys||Hi||(_n=Gte(Ze,[xe,$e]))}return _n?K(_n,function(Ci){Ci&&Ci.length&&(Lt+=Gn(Lr(Ci)),ze&&ze.labelObstacles.push(ir(Ci)))}):(Lt=Gn(Lr([xe,$e])),ze&&ze.labelObstacles.push(ir([xe,$e]))),Ht&&(Lt+=Gn(Lr(Pi(xe))),Lt+=Gn(Lr(Pi($e)))),Lt},ee=this.staticBodyDGetter||Pre,ae,q,J,re,ce,oe,pe,Se,Te,Ke;a=function(Ze,xe){if(Te=Y[bt.renderOrder[Ze]],!Te)return"continue";if(q=u.indexer.getValue("coordinates",Te._i),ce=Te.visuals,q){var $e=Te.currentOptions;Ze=$e.marker||{},oe=Ke=q.styleSet||u.getPointAttr($e),q.styleSet=Ke,pe=Ke.svAttr[""],Se=!1,D=Te._state=$e.selected?"select":$e.muted?"mute":Te._state||"",(xe=Ke.pointAttr[D])||(D==="select"&&En.emit("warning",u.name||u.id,"pointSelectNoAttrs",{data:[$e.id||$e.name||$e.x],container:u.chart.getWrapper()}),xe=Ke.pointAttr[""]),J=q.xyz,re=q.xyzs,q.meta.labelObstacles=[],Ke.labelVisible&&f.initPointLabel(Te,q,Ke,i),M.hasSubvalues&&(j=le(y($e,["subvalue","line","length"]),N),j*=le(q.width,q.unclusteredWidth,y(q,["marker","size"]),10)/100),O&&I.drawMarker&&(I.drawLine||I.drawArea)||M.hasMaxedMarkerLimit&&I.drawMarker&&(I.drawLine||I.drawArea)&&($e.color||$e.outline||$e.marker||ce.body||(Se=!0)),bt.isRadial&&(Se=!1);var ze=void 0,Ht=void 0,Fn=void 0;if(!Se&&(Ht=q.prev,!Ht||Ht.isVisible||q.isVisible||q.everVisible)){Ht&&!Ht.isVisible&&q.isVisible&&ce.body&&Ht.pathD&&ce.body.attr({d:Ht.pathD,animation:!1}),ae=q.pathObj||q.path||ee(f,Te,q,$,xe.r,Ke.drawMarker),q.pathD=ae;var _n=Ht=void 0;(_n=q.meta.marker)&&(Ht=0<_n[2]&&0<_n[3]);var Lt=(_n=u.getPointMarkerType(Te.currentOptions))&&_n.indexOf&&-1<_n.indexOf("url(");if(M.type.seriesType==="marker"&&!sa[_n]&&_n!=="needle"&&!Lt&&(_n=le(Te.currentOptions.mouseTracking,y(u.currentOptions,["defaultPoint","mouseTracking"])),!h(_n)||_n===!0)){var Pi=Aw(ae);Pi=Vr(On(Pi),[Math.max(15,Pi[2]),Math.max(15,Pi[3])]);var Ys=f.getLabelHitTest();q.hitTest=function(on,ha){return Oc(Pi,[on,ha])||Ys(this,on,ha)},q.meta.marker=Pi.slice(0)}if(Ht||!ZP(ae)?(typeof ae=="string"&&Ss(ae,"url(")?(ze=ae.replace(/url\(/g,"").replace(/\)/g,""),b=S9(J[0],J[1],u,Te,ze,Ze)):ae.arcShape&&typeof ae=="object"?(b=se(Ii(ae.arcShape),{zIndex:u.zIndex+jr.body}),Fn=!0):b={d:ae,zIndex:u.zIndex+jr.body},b=f.render_applyDynamicAttrVals([b,xe],i,xe),(k=ce.body)?((xe=f.getPointAnimatorOptions(q,Te))&&!Ds(xe)&&(b.animation.pathAnimation=xe,!k.isComposite&&k.finishAnimation()),k.attr(b)):(Fn&&u.ctSv("columnType")==="solid"&&(b.shading="solid"),ce.body=k=Fn?F.element("arcShape",b):ze?F.element("image",b):F.path(b),k.add($))):(k=ce.body)&&k.attr({d:ae}),Fn&&k.hitTest){var Hi=q.htShape=k;q.hitTest=function(on,ha){return Hi.hitTest(on,ha)}}else if(!q.hitTest&&Be(q.pathD)&&$e.mouseTracking!==!1){var Ci=q;q.hitTest=function(on,ha){return(Ci.htShape||(Ci.htShape=Jn(Ci.pathD))).hitTest(on,ha)}}u.isVisible!==!1&&(x.addBodyBox(y(q,["collision","body"])),x.addBox(q.meta.marker))}if(v.drawMarker||!u.currentOptions.forceMarker&&Ze.visible!==!0||(oe=u.getPointAttr($e,!0),xe=oe.pointAttr[D],ae=Fre(Te,f.getBodyShapeName(Te,!0),q,xe.r,$),ae.indexOf&&Ss(ae,"url(")?($e=(ze=u.xAxis)&&ze.isStackedFull()?(J[0]+re[0])/2:J[0],Fn=J[1],ze=ae.replace(/url\(/g,"").replace(/\)/g,""),b=S9($e,Fn,u,Te,ze,Ze)):(b={d:ae,zIndex:u.zIndex+jr.marker},ze=void 0),b=f.render_applyDynamicAttrVals([b,xe],i,xe),(k=ce.marker)?k.attr(b):(ce.marker=k=ze?F.element("image",b):F.path(b),k.add($))),M.hasSubvalues&&!f.isRadial&&M.type.seriesType!=="ohlc"){Ze={get:function(){return ce.errorY},set:function(on){return ce.errorY=on},onX:!1},xe={get:function(){return ce.errorX},set:function(on){return ce.errorX=on},onX:!0};var up=pe["stroke-width"]||1,Nl=j/2;ze=function(on,ha){on=jd($,on,up),b={d:te(q.rect,on[0],on[1],q.meta,v.seriesType!=="candlestick"?Nl:0,ha.onX),zIndex:u.zIndex+jr.error},b=f.render_applyDynamicAttrVals([b,pe],i,pe),(k=ha.get())?k.attr(b):(ha.set(k=F.path(b)),k.add($))},q.sv&&q.svs&&($e=q.sv,Fn=q.svs,Ht=w?0:1,M.drawRect&&(q.sv[Ht]===q.xyz[Ht]&&($e=q.xyzs),q.svs[Ht]===q.xyzs[Ht]&&(Fn=q.xyz)),ze([$e,Fn],Ze)),q.svx&&q.svxs&&ze([q.svx,q.svxs],xe),Ze=w?q.svxv:q.svv,xe=w?q.svv:q.svxv;var qt=[];if(Ze){qt=[];var ua=[];K(jd($,Ze,up),function(on){on=[[on[0]-Nl,on[1]],[on[0]+Nl,on[1]]],qt.push.apply(qt,c(on)),q.meta.labelObstacles.push(on),ua.push(on)}),b={d:zv(ua),zIndex:u.zIndex+jr.error},b=f.render_applyDynamicAttrVals([b,pe],i,pe),(k=ce.errorYV)?k.attr(b):(ce.errorYV=k=F.path(b),k.add($))}if(xe){qt=[];var nu=[];K(jd($,xe,up),function(on){on=[[on[0],on[1]-Nl],[on[0],on[1]+Nl]],qt.push.apply(qt,c(on)),nu.push(on)}),q.meta.labelObstacles.push(ir(qt)),b={d:zv(nu),zIndex:u.zIndex+jr.error},b=f.render_applyDynamicAttrVals([b,pe],i,pe),(k=ce.errorXV)?k.attr(b):(ce.errorXV=k=F.path(b),k.add($))}}M.hasComplete&&W(function(on){return on.staticPointCompleteVisInfo(on,Te,q)}),Ke.labelVisible&&I.isShape&&!u.pane||I.isAnnotation?(bt.renderLabel(Te,Ke,q,u.indexer,i),x.addLabelBox(q.meta.label)):(f.hideVisual(f.getLabelWrapper(ce.label,Ke)),f.hideVisual(ce.labelConnector))}else f.hideVisual(ce.body),f.hideVisual(f.getLabelWrapper(ce.label,Ke));f.hideUnusedPointVisuals(Te),Te.chart.triggerOptionsApplied("point",Te)};var bt=this;for(d=0,T=Y.length;d<T;d++)a(d);return f.isRendered=!0,f.hideUnused(),f.lastRenderVisibility=u.isVisible,f},o.prototype.renderLabels=function(i,a){a=this.series;var u=(a.pane||a.chartArea).collisionManager;if(a.info.type.isAnnotation||!(a.chart.isRendered&&this.isRendered||a.isVisible))return this;i=Xi(i)?i:{},i.coordinatesCorrection=null;for(var d=a.points().items,f,v,x,b=0,w=d.length;b<w;b++)(x=d[this.renderOrder[b]])&&(f=a.indexer.getValue("coordinates",x._i),v=x.visuals,f?(v=x.currentOptions,v=f.styleSet||a.getPointAttr(v),v.labelVisible&&a.isVisible&&(this.renderLabel(x,v,f,a.indexer,i),v=f.meta.label,this.collidePointBoxes?u.addLabelBox(v):v&&u.addLabelBox(k9(f.meta.labelTextBox,v,f.meta.labelAttr)))):(this.hideVisual(v.body),this.hideVisual(v.label)),this.hideUnusedPointVisuals(x));return this.isRendered=!0,this.hideUnused(),this},o.prototype.renderHierarchy=function(i){return this},o.prototype.getAnimatorOptions=function(i,a){a=this.updateInfo;var u=this.series;if(a&&a.action){var d=u.ctManager.settingVal("lineSeriesType",u.currentOptions);return{action:a.action,at:a.at,count:le(a.count,1),del:a.del||0,type:d,shapeName:i,shift:a.shift||!1,fromD:void 0,pointsLen:u._points.length}}return null},o.prototype.getPointAnimatorOptions=function(i,a){if(this.isRadial&&a){var u=y(this.series,["pointBodyDGenerator"]);if(this.getBodyShapeName(a)==="needle"&&i.coordPrev)return{needle:{from:i.coordPrev,to:i,gen:function(v){return u("needle",v)}}};if(this.series.ctSv("gaugeType")==="circular"){var d=go(i.arc.cxy,i.xyz),f=i.coordPrev;return{xlat:{from:i.coordPrev,to:i,fn:function(v){var x=f.xyz,b=i.xyz,w=x[0];return x=x[1],b=[w+(b[0]-w)*v,x+(b[1]-x)*v],w=f.arc.angle,v=jn(i.arc.cxy,w+(i.arc.angle-w)*v,d),[v[0]-b[0],v[1]-b[1]]}}}}}return{}},o.prototype.renderDebug=function(i,a,u){},o.prototype.isHoriz=function(){var i=this.series;return(i.pane||i.chartArea).isHoriz},o.prototype.renderLabel=function(i,a,u,d,f){Ore(this,i,a,u,d,f)},o.prototype.initPointLabel=function(i,a,u,d){var f=this.series,v=a.meta,x=i.visuals,b=this.kind,w=(f.pane||f.chartArea).collisionManager,k=f.info.style.base,D=f.renderer,T=f.rootVisuals,M=f.info.type;f.chartArea;var I=this.isHoriz();return v.labelSize?v.labelSize:(f=y(i.currentOptions,["label","text"])||f.info.labelTextInfo.label,C(f)==="function"&&(f=f(i)||""),f=i.replaceTokens(f),v.labelText=f,i=Oa(u.label,b==="pie"?["offset"]:void 0,k),b={},i.autoWrap="default",i.val=f,(f=y(v,["label","bounds"]))&&(this.collidePointBoxes?(b.width=f[2],b.height=f[3]):(b.maxWidth=f[2],b.maxHeight=f[3],b.width=null,b.height=null),b.x=f[0],b.y=f[1],Al(i,{xAlignment:"center",yAlignment:"middle"}),i.maxWidth=f[2],i.maxHeight=f[3],i.width=null,i.height=null),(k=!x.label)?x=x.label=D.textStack().attr(se({},i)):(D={},d!=null&&d.animation&&(D.animation=bn(d.animation)),x=x.label.attr(se(D,i))),d=x.setPreliminarySize(!0).getBboxArray().slice(2),D=10<=Math.max(d[0]-b.maxWidth,d[1]-b.maxHeight),k?D?(T=this.wrapLabel(x,b,u).add(T.points),d[0]=b.maxWidth,d[1]=b.maxHeight):T=x.attr(b).add(T.points):T=this.getLabelWrapper(x,u).attr(b),!M.drawRect&&this.kind!=="ohlc"||I||(this.isRadial?(a=a.pathOptions,M=(a.innerR+a.r)/2,a=go(mo(a.cxy,a.start,M),mo(a.cxy,a.end,M))):a=a.rect.width,d[0]>a&&(w.anyColLabelOverflow=!0)),!y(u,["label","autoHide"])&&v.shape&&(u=!I||w.anyColLabelOverflow,w=v.shape[2],I=v.shape[3],a=u?w/d[1]:I/d[1],M={fitWidth:null,fitHeight:null},.5<a&&(a=Math.floor(100*a)/100,1>a&&(d[0]*=a,d[1]*=a),u&&(M.fitHeight=w),!u&&(M.fitHeight=I)),T.attr(M)),this.collidePointBoxes||(b.width=f[2],b.height=f[3],b.maxWidth=null,b.maxHeight=null,T.attr(se({},b)),v.labelTextBox=[0,0,Math.min(f[2],d[0]),Math.min(f[3],d[1])]),delete i.width,delete i.height,v.labelAttr=i,v.labelSize=f?[f[2],f[3]]:d,v.labelInternalSize=d),this},o.prototype.wrapLabel=function(i,a,u){return i.attr(a)},o.prototype.getLabelWrapper=function(i,a){return y(a,["label","wrapped"])?i.parent.parent:i},o.prototype.possibleLabelPositions=function(i,a,u,d,f){return Rre(this,i,a,u,d,f)},o.prototype.getBodyShapeName=function(i,a){return this.series.getPointMarkerType(i.currentOptions)},o.prototype.updatePointsGlobals=function(){var i=this.series.pane;return this.pointsGlobals=i?i.getGlobalOffsets():void 0},o.prototype.setCoordinates=function(i,a){function u(Fe,ot){ot===void 0&&(ot={xIsSorted:!0,isFinal:!1});var Pt=ot.isFinal,Fi=ot.xIsSorted,os=y(v.currentOptions,["line","tension"]);os=h(os)?Mn(rt(.7,1,0,1,os),0,1):.8;var kt={spline:function(ft){return[nie(ft,os)]},step:M?function(ft){return Lr(ft)}:function(ft,Xs){return tie(ft,Xs,!Fi)},normal:function(ft){return Lr(ft)}}[Ke?"spline":ae];if(Y.drawLine||Y.drawArea){ot=[];var So=function(ft,Xs,To){return To===void 0&&(To=!1),To?Gn(kt(ft))+"Z"+Gn(kt(Xs))+"Z":(Xs.reverse(),ft.push.apply(ft,c(Xs)),Gn(kt(ft))+"Z")};J.length&&(J=d?d(J):J,ce.push(J),Fe=Fe||0<Se.length,Y.drawLine&&(M?Pt&&(ot=ce.slice(0),ce.length===1?pe.push(Gn(kt(J,Te))+(Fe?"":"Z")):(Fe=ot[ot.length-1].slice(0),Fe.push.apply(Fe,c(ot[0])),Fe=Gn(kt(Fe,Te)),pe.push(Fe),2<ce.length&&(Fe=ce.slice(1,ce.length-1),K(Fe,function(ft){pe.push(Gn(kt(ft,Te)))})))):1<J.length&&pe.push(kt(J,Te))),Y.drawArea&&(M?(oe.push({s:re,e:J}),Pt&&(Se=[],oe.length===1?(re=d?d(re):re,Se.push(So(re,J,!0))):(Fe=oe[oe.length-1],Pt=Fe.s.slice(0),Fe=Fe.e.slice(0),ot=oe[0].s,Fe.push.apply(Fe,c(oe[0].e)),Pt.push.apply(Pt,c(ot)),Se.push(So(Pt,Fe)),2<oe.length&&(Pt=oe.slice(1,oe.length-1),K(Pt,function(ft){Se.push(So(ft.s,ft.e))}))))):(re.reverse(),re=d?d(re):re,ot=[kt(J,Te)],ot.push(kt(re,!Te).join(" ").replace(/M/gi,"L")),Se.push(Gn(ot)+"Z"))))}J=[],re=[]}var d=a?a.coordinatesCorrection:null,f=this,v=f.series,x=v.currentOptions,b=v.indexer,w=v.pane,k,D,T=v.chartArea.isZoomLive();if(h(f.lastRenderVisibility)&&!f.lastRenderVisibility&&!v.isVisible)return f;var M=w?w.isRadial:!1,I=v.indexer.data.coordinates||v.prevCoords;I&&(I=I.slice(0));var O=i.x,F=i.y,N=i.width,j=i.height,W=v.ctManager,$=v.info,Y=$.type,te=v.userPoints,ee=v.points().items,ae=W.settingVal("lineSeriesType",x),q=y(x,["emptyPointMode"])||"undefined",J=[],re=[],ce=[];a=[];var oe=[],pe=[],Se=[],Te=f.isHoriz(),Ke=W.isType("map")&&Y.seriesType==="line"&&ae==="spline"||W.isType("radar")&&w&&w.getRadarType()==="polar"&&Y.seriesType==="line",bt=y(w,["projection","val2linxy"]),Ze=Te?i.height:i.width;M&&(Ze=1,f.isRadial=!0),w=w?w.xAxis:v.xAxis,W=w.clusterCounts[v.type];var xe=h(W);W=le(W,1);var $e=w.getShortestDistPerc(),ze=$e*Ze,Ht=w.currentOptions.spacingPercentage,Fn=ze*Ht;(1<=Fn||M)&&(ze-=Fn);var _n=le(w.currentOptions.staticColumnWidth,ze),Lt=_n/W;x.type!=="column"||M||(Lt=Math.max(Lt,5));var Pi=_n/W;M||(Lt=vn(Lt),Pi=vn(_n/W)),w=le(v.clusterIndex,1);var Ys=-(Lt*W)/2+Lt*w;Fn=$e*Ht;var Hi={xLength:1,clusterWidth:$e-(1<=Fn?Fn:0)};se(Hi,{thisWidth:Hi.clusterWidth/W}),se(Hi,{unclusteredWidth:Hi.clusterWidth/W,clusterOffset:-(Hi.thisWidth*W)/2+Hi.thisWidth*w}),W=function(Fe){return typeof Fe=="string"&&-1<Fe.indexOf("%")?parseInt(Fe)/100*Math.min(N,j):Fe};var Ci=function(Fe,ot){var Pt;(Pt=k[Fe])&&(D[Fe]=BM.apply(void 0,c(Pt)),ot&&ge(ot)&&(D[Fe]=ot.apply(void 0,c(D[Fe]))))},up=function(Fe){var ot;if(ot=k[Fe]){var Pt=D[Fe]=[];K(ot,function(Fi){Pt.push(BM.apply(void 0,c(Fi)))})}},Nl=b.hasAllKeys("ys,ye"),qt=b.hasAllKeys("xs,xe");w=v.ctManager.settingVal("bubbleSizingType",v.options());var ua=W(y(x,["size","max"]))||50,nu=W(y(x,["size","min"]))||5,on=_R(ua/2),ha=_R(nu/2);b.indexKeys(["coordinates","bbox"],{},0);var aV=function(Fe,ot){return[O+Fe*N,F+ot*j]};Ht=function(Fe,ot){return[qt?Fe:Hi.clusterOffset+Hi.thisWidth/2+Fe,ot]};var lV=function(Fe){return qt?Fe:Hi.clusterOffset+Hi.thisWidth/2+Fe};W=function(Fe,ot){return[Fe,qt?ot:Ys+Lt/2+ot]};var n2=function(Fe,ot,Pt){return bt&&(ot=l(Te?bt(ot,Fe,Pt):bt(Fe,ot,Pt),2),Fe=ot[0],ot=ot[1]),Fe=aV(Fe,ot),M&&(h(Pt)||(Pt=.9),Fe.push(N/2*Pt)),Fe};w={column:M?Ht:function(Fe,ot){return[qt?O+Fe*N:O+Ys+Lt/2+Fe*N,F+ot*j]},marker:M?n2:aV,bubble:w==="width"?function(Fe,ot,Pt){return Fe=n2(Fe,ot),Fe.push(rt(nu,ua,0,1,Pt)),Fe}:function(Fe,ot,Pt){return Fe=n2(Fe,ot),Fe.push(2*Math.sqrt(rt(ha,on,0,1,Pt)/Math.PI)),Fe}},w.ohlc=w.column,Te&&(w.column=M?W:function(Fe,ot){return[O+Fe*N,qt?F+ot*j:F+Ys+Lt/2+ot*j]}),w.variwide=w.column;var BM=w[v.type]||w.marker;for(Ht=function(Fe,ot){ot=[];var Pt={};if(b.getValue("isEmpty",Fe))return q!=="ignore"&&u(!0),"continue";k=b.getValue("pos",Fe),D={width:xe?Lt:void 0,unclusteredWidth:Pi,clusterSpace:$e*Ze,meta:Pt},f.clearPrevCoord(b.getValue("coordinates",Fe)),b.setValue("coordinates",Fe,D);var Fi=M&&Y.drawRect?n2:void 0;Ci("xyz",Fi),Ci("xyzs",Fi);var os=D.xyzs;Fi=D.xyz;var kt=os[1]-Fi[1],So=Lt;if(M){var ft=f.series.pane.angleArc();D.arc={angle:rt(ft.start,ft.end,0,1,k.xyz[0]),cxy:On(Rt(i))}}Pt.xy=Fi,ft=void 0;var Xs=qt?os[0]:Fi[0]-Lt/2,To=qt?Fi[0]-os[0]:Lt,cV=void 0;if(M&&(kt=k.xyzs[1]-k.xyz[1],Xs=qt?k.xyzs[0]:k.xyz[0]-Lt/2,cV=qt?k.xyzs[0]:k.xyz[0],To=qt?k.xyz[0]-k.xyzs[0]:So),xe)if(M){if(Te){if(kt=D.rectPos={y:qt?k.xyzs[1]:lV(k.xyz[1]-Lt/2),x:k.xyzs[0],width:k.xyz[0]-k.xyzs[0],height:Lt,ccw:k.xyzRDesc[1]},k.xyzRDesc[1]&&Zt(te[Fe].y)){for(So=void 0,0>kt.width?So=kt.x+kt.width:0<kt.width&&(So=kt.x,kt.x+=kt.width);So<kt.x;)So+=1;kt.width=So-kt.x}}else kt=D.rectPos={x:lV(cV)-Lt/2,y:k.xyz[1],width:To,height:kt};D.arcPos={start:kt.x,end:kt.x+kt.width,angle:kt.x+kt.width/2}}else Te?(ft=qt?os[1]:Fi[1]-Lt/2,So=qt?Fi[1]-os[1]:Lt,kt=os[0]-Fi[0],ft={y:ft,x:Fi[0],width:kt,height:So}):ft={x:Xs,y:Fi[1],width:To,height:kt},ft=mP(ft),Pt.shape=Rt(ft);if(h(Xs)&&To&&(D.rect=ft,Y.drawRect&&$.hasComplete&&(Xs=k.completee-k.completes,To=k.completeXe-k.completeXs,M?(kt=D.rectPos,D.rectCompletePos=Te?{x:rt(kt.x,kt.x+kt.width,0,1,k.completes),y:rt(kt.y+kt.height,kt.y,0,1,k.completeXe),width:Xs*kt.width,height:To*kt.height,targetBox:Rt(i)}:{x:kt.x+k.completeXs*kt.width,y:kt.y+(1-k.completee)*kt.height,width:To*kt.width,height:Xs*kt.height,targetBox:Rt(i)}):D.rectComplete=Te?{x:rt(ft.x,ft.x+ft.width,0,1,k.completes),y:rt(ft.y+ft.height,ft.y,0,1,k.completeXe),width:Xs*ft.width,height:To*ft.height}:{x:ft.x+k.completeXs*ft.width,y:ft.y+(1-k.completee)*ft.height,width:To*ft.width,height:Xs*ft.height}),ft&&ot.push([ft.x,ft.y,ft.width,ft.height])),J.push(Fi),Ke&&k.interpPoints&&K(k.interpPoints,function(qm){J.push(BM.apply(void 0,c(qm)))}),Y.drawArea&&re.push(os),$.hasSubvalues&&!M&&(K(["sv","svs","svx","svxs"],Ci),K(["svv","svxv"],up)),v.coordinatesModifier&&v.coordinatesModifier(f,D),os=(D.styleSet=T?I[Fe].styleSet:v.getPointAttr(v.userPoints[Fe])).markerSize,ft=y(x,["defaultPoint","marker","visible"])||y(te[Fe],["marker","visible"])===!0,Y.drawMarker||x.forceMarker||ft)if($.hasMaxedMarkerLimit&&!ft&&(os=0),f.isRadial&&f.getBodyShapeName(ee[Fe])==="needle"){if(!T){var nhe=(Pt=v.pointBodyDGenerator)&&Pt("needle",D),VM;D.hitTest=function(qm,i2){return VM=VM||Jn(nhe),VM.hitTest(qm,i2)}}}else Pt.marker=Vr(Fi,[os,os]),Pt=Pt.marker.slice(0),Fi=void 0,(Fi=Fe===0||Fe===te.length-1?y(q3(f.series,Fe),["marker","offset"]):le(y(te[Fe],["marker","offset"]),y(x,["defaultPoint","marker","offset"])))&&(Fi=bw(Fi))&&(Pt=Il(Pt,Fi)),ot.push(Pt);if(!Y.isRadarColumn&&ot.length&&!T){ot=Yn(ot);var Xm=15>ot[2]||15>ot[3]?n_(ot,[15,15]):ot.slice(0);if(Nl&&!Y.isRadar&&(Xm=Hte(Xm,[D.xyzs]),!Y.drawRect&&h(_n)&&(Pt=.8*_n,Xm=n_(Xm,Te?[0,Pt]:[Pt,0]))),D.pathD=_l(Xm),Pt=le(te[Fe].mouseTracking,y(x,["defaultPoint","mouseTracking"])),!h(Pt)||Pt===!0){var ihe=f.getLabelHitTest();D.hitTest=function(qm,i2){return Oc(Xm,[qm,i2])||ihe(this,qm,i2)}}b.setValue("bbox",Fe,ot)}},w=0,W=te.length;w<W;w++)Ht(w);if(u(null,{isFinal:!0,xIsSorted:v.info.xIsSorted}),f.paths={lines:pe,areas:Se},f.coordinates.line=ce,Y.drawArea&&(f.coordinates.area=a),f.coordRect=i,f.validate(!0),I)for(w=0,W=ee.length;w<W;w++)(a=v.indexer.getValue("coordinates",w))&&(a.coordPrev=f.clearPrevCoord(I[w]));return f.renderOrder=b.sortByNone(),f.renderOrderRev=f.renderOrder.slice(0),f.renderOrderRev.reverse(),this},o.prototype.clearPrevCoord=function(i){var a=i&&i.coordPrev;return a&&(a.prevCoord&&(this.clearPrevCoord(a),a.prevCoord=void 0),a.pathD&&(a.pathD.clearCache&&a.pathD.clearCache(!0),a.pathD=void 0),a.hitTest=void 0,i.coordPrev=void 0),i},o.prototype.setPos=function(i,a){},o.prototype.getShapeOptions=function(i,a){var u=this.series;return a=u.pane||u.chartArea,u=u.currentOptions.shape,a.defaultShapeOptions&&(u=Wc({},u,a.defaultShapeOptions().ca)),C9(u,i)},o.prototype.validate=function(i){this.coordDirty=!i},o.prototype.hideUnused=function(){var i=this.series,a=i.visuals;return i=i.info.type,i.drawLine||i.tree||!a.line||this.hideVisual(a.line),!i.drawArea&&a.area&&this.hideVisual(a.area),this},o.prototype.hideVisual=function(i){i&&(i.finishAnimation&&i.finishAnimation(),i.attr({opacity:0}))},o.prototype.hideUnusedPointVisuals=function(i){},o.prototype.render_applyDynamicAttrVals=function(i,a,u){var d=this.series;if(u=u||d.info.style.states[d.state]||{},i.pop&&1<i.length){for(var f=se({},i[0]),v=1,x=i.length;v<x;v++)f=wA(f,i[v]);i=f}return f=i.animation?i.animation:{},i.animation=a&&a.animation?se({},d.getAnimationConfig(),a.animation||{},f):a!==!1?se({},d.getAnimationConfig(),f):se({},{duration:0},f),d.isVisible?(i.opacity=le(i.opacity,u.opacity,1),i.display="block"):(i.opacity=0,i.display="none"),i},o.prototype.render_applyDynamicAttrValsLE=function(i,a,u){return i=this.render_applyDynamicAttrVals(i,a,u),i.opacity=1,i.display="block",i},o.prototype.getPointIconVisual=function(i,a,u){return this.getIconVisual(i,a,u)},o.prototype.getIconVisual=function(i,a,u){var d=this,f=d.series,v=f.renderer,x=u.iconVisual||{},b=d.getIconPaths(i,a),w;a=function(D,T){typeof b[D]=="string"&&b[D].indexOf("url(")===0?(w=b[D].replace(/url\(/g,"").replace(/\)/g,""),T={src:w,cx:i[0]/2,cy:i[1]/2,zIndex:5,width:i[0],height:i[1]}):T=d.render_applyDynamicAttrValsLE([{d:b[D],opacity:1,zIndex:T},{}],{animation:f.getAnimationConfig()},{}),(x[D]=x[D]||(w?v.renderer.element("image",T).add(k):v.renderer.path(T).add(k))).attr(T),u.icons[D]=T.d};var k=x.root=x.root||v.panel({yAlignment:"center"});return b.base?a("base",2):qi(x.base),b.extra?a("extra",1):qi(x.extra),x},o.prototype.getIconPaths=function(i,a){return G_(this,i,a)},o.prototype.getIconStyles=function(i){return D9(this)},o.prototype.setIconVisualAttr=function(i,a){var u=this,d=u.series,f=u.getIconStyles(i),v;if(i)var x=i.base,b=i.extra;if(i=function(D){var T={animation:a.isStyled?d.getAnimationConfig():!1};return v=u.render_applyDynamicAttrValsLE(D,{},{}),v=se(v,T),d.isVisible===!1&&(u.modifyHiddenIconStyle(v),delete v.display,delete v.opacity),v},f.base&&x){var w=i(f.base),k=a.icons.base;k&&(w.d=k),x.attr(w)}f.extra&&b&&b.attr(i(f.extra)),a.isStyled=!0},o.prototype.modifyHiddenIconStyle=function(i){var a=i.fill;return this.series.isVisible===!1&&(i.fill&&(a=hP(a,.8),a=Fd(a,"v",-.2),a=An(a),i.fill=a),i.stroke&&(i.stroke=hP(i.stroke,.2)),1<i["stroke-width"]&&(i["stroke-width"]=1)),i},o.prototype.showHalo=function(i){var a=this.series,u=a.chartArea,d=Rt(u.contentRect),f=a.visuals,v=a.renderer;if(i&&!a.indexer.getValue("isEmpty",i._i)){var x=i.currentOptions.focusGlow;if(x!==!1){var b=x?ke(FB(),x):FB();b.width=h(b.width)?2*b.width:b.width,Ss(b.color,"%")&&(b.color=i.replaceTokens(b.color)),eh(b)&&(x=Zo({outline:b}),se(x,{d:Gn(this.haloPath(i,b)),"stroke-linejoin":"round","pointer-events":"none",zIndex:1}),i=i.visuals.body,u.panes&&i&&(d=ws(Yn([d,Rt(i.box())]),-10)),x.clipPath={d:_l(d)+x.d,"clip-rule":"evenodd"},d=bn(x),d["stroke-opacity"]*=.4,x["stroke-width"]*=.6,a.haloPath=x.d,u=f.pointHalo||[],u.length||(u=f.pointHalo=[v.renderer.path().add(a.rootVisuals.pointHalo),v.renderer.path().add(a.rootVisuals.pointHalo)]),u[0].attr(x),u[1].attr(d))}}else u=f.pointHalo||[],u.length&&K(u,function(w){return w.attr({d:"M0 0"})}),a.haloPath=""},o.prototype.hideHalo=function(){this.showHalo()},o.prototype.hideHaloMo=function(){var i=this.series,a=i.xAxis;i=i.chartArea.tooltip.cttEnabled(i.yAxis,a),a=a&&(a.currentOptions.crosshair||{}).enabled,i||a||this.hideHalo()},o.prototype.haloPath=function(i,a){var u=this.series;a=a.width;var d=u.indexer.getValue("coordinates",i._i);u=u.info.hasMaxedMarkerLimit;var f=d&&le(d.pathD,d.pathObj,d.meta.bodyD),v=typeof f=="string"&&-1<f.indexOf("url("),x=f.arcShape,b=!v&&ZP(f);return x?i.visuals.body.attrApplier.outlinePath():v?_l(Rt(i.visuals.body.box())):((b||u)&&(i=d.meta.xy||d.xyz,f=sa.circle(i[0]-a/2,i[1]-a/2,a,a)),f)},o.prototype.pointMouseOver=function(i,a){var u=this.series,d=u.chart,f=d.hoveredPoint===a&&this.hoveredItem===a;y(d.hoveredPoint,["series"]),u.chartArea.debounce.clear("unmute"),(this.hoveredItem=a)&&a.mouseOver(i);var v=u.translateToGlobal([i.x,i.y]),x;if(u.pane&&(x=u.pane.getGlobalOffsets()),y(d.currentOptions,["defaultTooltip","enabled"])===!1&&a.labelAutoHidden){var b;(b=a.visuals.label)&&b.attr({opacity:1}).refresh()}!u.chartArea.tooltip.cttEnabled(u.yAxis,u.xAxis)&&u.tooltip.showTooltip(a,i,v,x),a&&!f&&this.showHalo(a),a&&!f&&((i=Q3(a))?J3(a,"",i):(u.state!=="select"&&u.setState("hover"),a.chart.highlighted&&bo(a.chart,a)))},o.prototype.pointMouseOut=function(i,a){var u=this.series,d=u.chart;u=u.chartArea,this.hoveredItem=void 0,y(d.currentOptions,["defaultTooltip","enabled"])===!1&&a.labelAutoHidden&&(d=void 0,(d=a.visuals.label)&&d.attr({opacity:0}).refresh()),i=a&&a.mouseOut(i),this.hideHalo(),i!==!1&&a&&y(a.currentOptions,["states","mute","enabled"])!==!1&&u.debounce.defer("unmute",function(){bo(a.series.chart)},230)},o.prototype.pointClick=function(i,a){a&&a.click(i)},o.prototype.pointMouseOutAny=function(){var i;if(i=this.hoveredItem)return this.series.state!=="select"&&this.series.setState(""),this.pointMouseOut({},i),!0},o}(Oce),Fl={marker:op},Zce=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.staticSeriesBodyInfo=[Nre,_9],i.kind="area",i}return e(o,s),o.prototype.contextDefaults=function(){},o.prototype.hideUnusedPointVisuals=function(i){i=i.visuals,qi(i.marker),qi(i.labelConnector),qi(i.rectComplete),qi(i.rect)},o.prototype.getIconPaths=function(i,a){var u=i[0],d=i[1];return i=w9(this,i,a),i.extra+=" L "+u+" "+d+" L0 "+d+" Z",i},o.prototype.getIconStyles=function(i){var a=this.series.info.style.attr;return i=s.prototype.getIconStyles.call(this,i),a=se(i,{extra:a.area}),i=a.extra,i.fill&&!i.stroke&&(i.stroke=Mv(i.fill)),a},o}(op),BB=function(){return{axes:"x,y",values:"x,y",requiredData:"x,y",supportedData:"x,y,subvalue,subvalueX,complete,completeX",privateAxes:"",customAxisOptions:{}}},Sy=function(s){function o(i){var a=s.call(this,i)||this;return a.series=i,a.kind="column",a.typeConfig=BB(),a.staticBodyDGetter=tA,a.staticPointCompleteVisInfo=Vre,a.staticPositionsFromAligments=Bre,a.connectorVisuals=[],a.connectorAttrs=[],a.connectorAttrsHL=[],a}return e(o,s),o.prototype.buildChildLookup=function(){this.series.chartArea.buildChildLookup()},o.prototype.getChildren=function(i){return this.series,this.buildChildLookup(),this.series.chartArea.childLookup[i.currentOptions.id]||[]},o.prototype.getTypeConfigDefault=function(){return BB()},o.prototype.render=function(i){return s.prototype.render.call(this,i),this},o.prototype.setCoordinates=function(i,a){return g(this,"series.pane.isRadial")&&(this.isRadial=!0,this.staticBodyDGetter=this.series.pane.staticBodyDGetter,this.staticPositionsFromAligments=this.series.pane.staticPositionsFromAligments),s.prototype.setCoordinates.call(this,i,a),this},o.prototype.getParents=function(i){var a=this,u=[],d,f=[];return i?((d=i.options("parent"))&&(f=Qv(d)),fe(f,function(v){return a.series.ciManager.exists(v)})):(this.eachPoint(function(v){(d=v.options("parent"))?(f=Qv(d),!a.series.ciManager.exists(f[0])&&u.push(v)):u.push(v)}),ai(u))},o.prototype.renderHierarchy=function(i){var a=this.series,u=this.isHoriz(),d=a.indexer,f=a[(u?"x":"y")+"Axis"].isInverted()?1:0,v=function(w,k,D){D===void 0&&(D=3);var T=function(oe,pe,Se){return yn(oe,pe)>yn(oe,Se)?Se:pe},M=ta(k.meta.shape),I=w.xyz.slice(0,2),O=k.xyz.slice(0,2),F=u?1:0,N=u?0:1,j=I[F]<O[F]?1:-1,W=I[F];O=O[F];var $=yn(W,O)-k.clusterSpace/2,Y=yn(W,T(W,M[F],M[F+2])),te=w.xyz[N];w=k.xyz[N];var ee=k.xyzs[N],ae,q=[ae=I],J=function(oe,pe){var Se=ae.slice(0);Se[oe]=pe,q.push(ae=Se)},re=Rn([ee,w]),ce=5*f;return k=te+ce,T=T(ae[N],re[0],re[1]),I=ae[N]-T,w=0<I?-1:1,M=function(oe){oe===void 0&&(oe=1),J(N,te+ce/oe),J(F,W+$*j),J(N,Mn(ee+ce/oe,re[0],re[1])),J(F,W+Y*j)},wo(re,k)&&w!==f?M(1):wo(re,k)?(J(N,k),J(F,W+Y*j)):I===0?M(1.5):w===f?(J(N,T-ce),J(F,O),J(N,ee)):w!==f&&M(1),Sl(q,D)},x=[],b=function(w,k){if(k.length){var D=d.getValue("coordinates",w._i);K(k,function(T){if(T){var M=a.ciManager.exists(T.pid);if(M&&M.series.isVisible){var I=M.series.indexer.getValue("coordinates",M._i),O=se({color:"#494949",width:1,caps:{end:{type:"arrow",size:4,concavity:.005}}},M.series.options("line")||{},w.options("connectorLine")||{},T.line);T.zIndex=5,T=se(Cs(O),{d:v(I,D,O.radius),key:w.id+"-"+M.id,zIndex:le(T.zIndex,5)}),x.push(T)}}})}return[]};return this.eachPoint(function(w){return b(w,m9(w))}),this.updateDeps(x,i),this},o.prototype.updateDeps=function(i,a){var u=this,d=u.series.renderer.renderer,f=u.series.rootVisuals.area;i=y(a,["preserveNoodleAttrs"])?fe(i,function(x){return u.render_applyDynamicAttrVals(x,a)}):u.connectorAttrs=fe(i,function(x){return u.render_applyDynamicAttrVals(x,a)}),a!=null&&a.animation&&(i=i.slice(0),i=i.map(function(x){return x=bn(x),x.animation=a.animation,x}));var v=u.connectorAttrsHL;return v.length&&(i=i.map(function(x){var b=We(v,function(w){return w.key===x.key});return b?se({},x,b):x})),i&&h(i.length)&&$o(i,u.connectorVisuals,function(x){var b=d.path(bn(x)).add(f);b.data.key=x.key,u.connectorVisuals.push(b)},function(x,b){return b.attr(bn(x))},function(x){f.removeChild(x.el),m(u.connectorVisuals,x),x.destroy()},function(x){return x.key},function(x){return x.data.key}),u},o.prototype.styleLines=function(i,a,u){return v9(this,i,a,u)},o.prototype.resetLines=function(i){var a=this,u=a.connectorAttrs.slice(0);if(i){var d=[],f=a.series.renderer.renderer,v=a.series.rootVisuals.area,x=function(b){var w=u[b],k=a.connectorVisuals[b];v.removeChild(k.el),k.destroy(),k=f.path(se(bn(w),{animation:{duration:0}})).add(v),k.data.key=w.key,a.connectorVisuals[b]=k,a.connectorAttrsHL.length&&(b=We(a.connectorAttrsHL,function(D){return D.key===w.key}))&&m(a.connectorAttrsHL,b)};return i.forEach(function(b){var w=sh(a.connectorAttrs,function(k){return k.key===b});-1<w?x(w):d.push(b)}),d}a.connectorAttrsHL=[],this.updateDeps([],{animation:{duration:0}}),this.updateDeps(u,{animation:{duration:0}})},o.prototype.styleLine=function(i,a){var u=i.key,d=this.connectorVisuals,f=this.connectorAttrs,v=sh(f,function(x){return x.key===u});(d=d[v])&&(i=se({},f[v],i),i=this.render_applyDynamicAttrVals(i,a),a&&(a=y(a,["animation"]))&&se(i,{animation:a}),d.attr(i))},o.prototype.getBodyShapeName=function(i,a){return a?this.series.getPointMarkerType(i.currentOptions):"square"},o.prototype.hideUnusedPointVisuals=function(i){var a=i.series.options("forceMarker")||g(i.currentOptions,"marker.visible")===!0;i=i.visuals,!a&&qi(i.marker),qi(i.labelConnector)},o.prototype.possibleLabelPositions=function(i,a,u,d,f){u=this.series,a=d.meta;var v=i.currentOptions.label||{},x=u.chartArea;x=(u.pane||x).collisionManager,u=this.isHoriz();var b=v.rotate;return v=!u&&x.anyColLabelOverflow,x=Rt(this.series.contentRect()),a=a.labelSize.slice(0),h(b)&&(v=!1,Math.abs(b)===90?v=!0:b!==0&&(a=zT(c([0,0],a),[b,0,0]).slice(2))),v&&(d.meta.isVertical=!0,a.reverse()),f=this.isRadial?f.getValue("pos",i._i):d,f=u?f.xyz[0]>f.xyzs[0]?"r":"l":f.xyz[1]>f.xyzs[1]?"d":"u",i=Gce(this,i,f),this.staticPositionsFromAligments(this,d,f,x,a,i,v)},o.prototype.getIconPaths=function(i,a){return eA(this,i,a)},o.prototype.getIconStyles=function(i){i=this.series;var a=i.info,u=i.getPointAttr(),d=D9(this);if(a.hasUniqueStyles||a.type.colorByPoint)i=u.pointAttr[""],yl(d,i,"base.hatch","hatch"),yl(d,i,"base.hatchPattern","hatchPattern");else if(d=se(d,{base:u.pointAttr[""]}),a=d.base.fill,u=a.linearGradient){var f=u.hash;u=a.linearGradient=Ei(90),u.hash=f+"LE"+i.isVisible}return d},o.prototype.getPointAnimatorOptions=function(i,a){return(a=this.series.pane)&&a.isRadial&&i.coordPrev?a.getRadarType()==="spider"?{}:{slice:{to:i.pathOptions,from:i.coordPrev.pathOptions}}:{}},o.prototype.destroy=function(){var i=this,a=i.series;i.series.renderer.renderer;var u=a.rootVisuals.area;i.connectorVisuals.slice(0).forEach(function(d){u.removeChild(d.el),m(i.connectorVisuals,d),d.destroy()})},o}(op),Qce=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.kind="line",i.staticSeriesBodyInfo=[_9],i}return e(o,s),o.prototype.contextDefaults=function(){},o.prototype.render=function(i){return s.prototype.render.call(this,i),this},o.prototype.hideUnusedPointVisuals=function(i){i=i.visuals,qi(i.marker),qi(i.labelConnector)},o.prototype.getIconPaths=function(i,a){return w9(this,i,a)},o.prototype.getIconStyles=function(i){var a=this.series,u=se({},a.info.style.attr),d=s.prototype.getIconStyles.call(this,i),f=Math.max.apply(Math,c(a.chartArea.series(function(w){return w.info.type.drawLine}).items.map(function(w){return y(w.currentOptions,["line","width"])||0}))),v=1,x=function(w,k){return k===void 0&&(k=v),w&&Math.max(1,w*k)};if(a=function(w,k){return k===void 0&&(k=v),Math.round(x(w,k))},4<f&&(v=4/f),(f=u.line["stroke-width"])&&(u.line["stroke-width"]=a(f),a=void 0,2<f&&(a=u.line["stroke-dasharray"]))){f=a.split(",").map(function(w){return parseInt(w)}),f=rr(f),i=Jn(i.extra.data.attrs.d).length();var b=v;b=Math.min(b,i/(2.2*f)),u.line["stroke-dasharray"]=a.split(",").map(function(w){return x(parseInt(w),b)}).join(",")}return se(d,{extra:_i(u.line,["caps"])})},o}(op),VB=function(){return{axes:"x,y",values:"x,open,high,low,close"}},Jce=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.kind="candlestick",i.typeConfig=VB(),i.pointValueParser=zre,i.staticBodyDGetter=tA,i}return e(o,s),o.prototype.getTypeConfigDefault=function(){return VB()},o.prototype.pointArrayExpander=function(i){return{x:i[0],open:i[1],high:i[2],low:i[3],close:i[4]}},o.prototype.hideUnusedPointVisuals=function(i){i=i.visuals,qi(i.rect),qi(i.marker),qi(i.labelConnector)},o.prototype.getIconPaths=function(i,a){var u=i[1]/2,d=i.slice(0),f=Math.round(.4*i[0]),v=f/2;d[0]-=f;var x=eA(this,d,a);return K(x,function(b,w){b=b.isPath?b:Jn(Gn(b)),x[w]=b.translate(function(k){return[k[0]+v,k[1]]})}),x.extra="M0 "+u+" L "+v+" "+u,x.extra+="M"+(i[0]-v)+" "+u+" L"+i[0]+" "+u+" ",x},o.prototype.getIconStyles=function(i){return i=this.series.info.style.base.color,{base:{fill:i,stroke:Mt("outline",i),"stroke-width":1},extra:{fill:"none",stroke:Mt("outline",i),"stroke-width":1}}},o}(Sy),zB=function(){return{axes:"x,y",values:"x,open,high,low,close",customAxisOptions:{z:{visible:!1}}}},eue=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.kind="ohlc",i.typeConfig=zB(),i.pointValueParser=Hre,i.staticBodyDGetter=jre,i}return e(o,s),o.prototype.getTypeConfigDefault=function(){return zB()},o.prototype.pointArrayExpander=function(i){return{x:i[0],open:i[1],high:i[2],low:i[3],close:i[4]}},o.prototype.hideUnusedPointVisuals=function(i){var a=i.visuals;qi(a.rect),!i.series.options("forceMarker")&&qi(a.marker),qi(a.marker),qi(a.labelConnector)},o.prototype.getIconPaths=function(i,a){a=i[1]/2;var u=.3*i[0],d={extra:""};return d.extra="M0 "+a+" L "+i[0]+" "+a,d.extra+="M"+u+" 0 L"+u+" "+a,d.extra+="M"+(i[0]-u)+" "+i[1]+" L"+(i[0]-u)+" "+a,d},o.prototype.getIconStyles=function(i){return{extra:{fill:"none",stroke:Mt("outline",this.series.info.style.base.color),"stroke-width":1}}},o}(Sy),tue=function(s){function o(i){var a=s.call(this,i)||this;return a.series=i,a.kind="variwide",i.chart.typeContextOptions={axes:{x:{spacingPercentage:0,scale:{type:"stackedFull"}}}},a}return e(o,s),o}(Sy),HB=function(){return{axes:"x,y,z",values:"x,y,z",requiredData:"x,y,z",supportedData:"x,y,z,subvalue,subvalueX",customAxisOptions:{z:{visible:!1}}}},nue=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.kind="bubble",i.typeConfig=HB(),i.staticBodyDGetter=Wre,i}return e(o,s),o.prototype.getTypeConfigDefault=function(){return HB()},o.prototype.pointArrayExpander=function(i){return{x:i[0],y:i[1],z:i[2]}},o.prototype.setCoordinates=function(i,a){var u=this.series;return s.prototype.setCoordinates.call(this,i,a),this.renderOrder=u.indexer.sortBy("z",!1)||u.indexer.sortBy("ze",!1),this.renderOrderRev=this.renderOrder.slice(0),this.renderOrderRev.reverse(),this},o.prototype.getIconPaths=function(i,a){return G_(this,i,a,"circle")},o.prototype.possibleLabelPositions=function(i,a,u,d,f){var v=this.series;v.isVisible,a=a||d.pathD||d.meta.bodyD,i.visuals,v.renderer,v.visuals,v.rootVisuals,v=d.meta;var x=d.xyz,b=v.labelSize;return v.marker&&d.meta.marker[2],a=n9(Jn(a),b,x),x=[],a?(a.isInside=!0,x.push(a)):(v.marker||(v.marker=[0,0,0]),v.marker[2]=d.xyzs[2],x=s.prototype.possibleLabelPositions.call(this,i,"",u,d,f)),x},o.prototype.hideUnusedPointVisuals=function(i){var a=i.visuals;qi(a.rect),i.series.options("forceMarker")||i.options("marker.visible")||qi(a.marker),qi(a.labelConnector)},o}(op);Fl.area=Zce,Fl.column=Sy,Fl.line=Qce,Fl.candlestick=Jce,Fl.ohlc=eue,Fl.variwide=tue,Fl.bubble=nue;var EM,$s,Yw,Xw=function(){return{radius:2,shadow:!0,boxVisible:!0,fill:"auto",outline:{color:"auto",width:1},transparency:.2,enabled:!0,timeout:1200,margin:7,padding:5,followCursor:"auto"}},iue=function(s){return s.pop?s.map(function(o){return o.id}).join(""):s.id},jB=function(){function s(o){var i=this;this.series=o,this.kind="Tooltip",this.currentOptions=Xw(),this.moveTooltip=sw(function(u,d,f){var v=i.chart.rootVisuals.tooltip;if(v){var x=v.rootPanel.el;x&&(u=i.position(u,i.targetPanel(),v.bbox(),d,!0,f).outBox,x.attr({animation:{duration:10},transform:{translate:u.slice(0,2)}}))}},10);var a=o.kind==="Series"?o.chartArea:o;this.chart=o.chart,this.curCA=a,this.chart.tooltipRef=this,this.currentOptions=se(Xw(),a.currentOptions.defaultTooltip||this.chart.currentOptions.defaultTooltip||{}),this.isVisible=!1,this.debounce=new Kd}return s.prototype.options=function(o){return o=nr(o),this.setOptions(o),this},s.prototype.setOptions=function(o){return this.currentOptions=se(Xw(),this.curCA.currentOptions.defaultTooltip||this.chart.currentOptions.defaultTooltip||{},o),this},s.prototype.targetMetrics=function(o){var i=o.coord(),a=this.currentOptions.margin||0;o.series;var u=g(i,"meta.label");return o=o.bbox(),g(i,"meta.marker.length")===4&&(o=Yn([o,i.meta.marker])),{xyz:i.xyz,xyzs:i.xyzs,elBox:ws(o,-a),labelBox:u&&ws(u,-a)}},s.prototype.showTooltip=function(o,i,a,u){var d=this,f=this.currentOptions,v=this.debounce,x=this.isFollowCursor(o,i);o&&o!==EM&&f.enabled!==!1&&f.combined!==!0?(EM=o,v.clear("showtimeout"),v.clear("hidetimeout"),x?this.show(o,i,a,u):v.defer("showtimeout",function(){return d.show(o,i,a,u)},20)):x&&this.moveTooltip(o,a,u)},s.prototype.isFollowCursor=function(o,i){var a=this.currentOptions;return typeof a.followCursor=="boolean"?a.followCursor:i.device==="touch"||a.combined||!o.series?!1:(o=o.series.info.type,!o.isAnnotation&&(o.isShape||o.isMapLayer||o.tree))},s.prototype.hideTooltip=function(o){var i=this,a=this,u=this.series,d=this.debounce;if(o=le(o,this.currentOptions.timeout,1200),d.clear("showtimeout"),d.clear("hidetimeout"),EM=null,u.options("mouseTracking.sticky")!==!0){var f=g(this.chart.rootVisuals,"tooltip.rootPanel.el");f&&d.defer("hidetimeout",function(){$s===a&&(f&&f.attr&&f.attr({opacity:0,animation:{duration:40}}),setTimeout(function(){return i.hide()},40))},o)}},s.prototype.defaultAnimation=function(o){return{duration:o?0:40}},s.prototype.hide=function(){var o=this.chart.rootVisuals.tooltip;o&&o.isVisible&&(o.visible(!1),o.isVisible=!1,Yw="",this.chart.renderer&&this.chart.renderer.refresh()),$s===this&&($s.debounce.clear("hidetimeout"),$s=void 0)},s.prototype.translateToGlobal=function(o){var i=this.series.translateToGlobal(o);return o.length===4&&i.push.apply(i,c(o.slice(2,4))),i},s.prototype.correctChartBox=function(o){return o=this.translateToGlobal(o),o[0]=-o[0],o[1]=-o[1],o},s.prototype.correctCABox=function(o){return this.series.correctRootBox(o)},s.prototype.targetPanel=function(){return this.series.rootVisuals.points},s.prototype.color=function(o){return o.tokenValue("%color")},s.prototype.text=function(o){var i=o.series;return i=le(g(o.currentOptions,"tooltip"),g(i.currentOptions,"defaultPoint.tooltip"),i.getAutoTooltipText(o),i.info.labelTextInfo.tooltip),ge(i)&&(i=i(o),Qn(i))?(En.emit("warning",this.chart.id,"ttFnResultBad",{data:[i],container:this.chart.getWrapper()}),""):o.replaceTokens(i)},s.prototype.show=function(o,i,a,u){this.preShow(),this.chart.renderer;var d=this.chart,f=iue(o),v=(o.pop?o[0]:o).series;f+=v.id||v.currentOptions.name||v.currentOptions.id||"";var x=Yw===f,b=this.targetPanel(),w=this.currentOptions;if(!x){if(v=d.rootVisuals.tooltip,!x){var k=this.text(o),D=this.color(o),T=g(w,"outline.color");if(T=se({style:{"pointer-events":"none"}},w,{label:{text:k,align:this.chart.isRtlCulture?"right":"left",animation:{duration:0}},outline:{color:T==="auto"?Mt("outline",D):T}}),T.margin=0,v){var M=v.isVisible;v.visible(!0),(d=v.rootPanel.el)&&d.attr&&d.attr({opacity:1})}else v=d.rootVisuals.tooltip=new sue(d,se({asHTML:!1,autoWrap:"default"},T)).add(d.rootVisuals.front);v.options(T,!1),v.rootPanel.setPreliminarySize&&v.rootPanel.setPreliminarySize(!0)}d=v.bbox(),k=this.isFollowCursor(o,i),w=!!this.series.pane,b=this.position(o,b,d,a,k,u),u=b.xy,b=b.outBox,x?v.options({position:u.join(",")}):(x=v.chart.rootVisuals.itemsBox.getGlobalBboxArray(),w?(u=["rootVisuals","dataContent"],u=(y(this.series,u)||y(this.series.chartArea,u)).getGlobalBboxArray(),x=[u[0]-x[0],u[1]-x[1]],u=[b[0]+x[0],b[1]+x[1]]):u=[b[0]-x[0],b[1]-x[1]],T=T.fill,d[3]&&(x=kl(d),b=this.currentOptions,b===void 0&&(b={}),d=1-(b.opacity||1),b=h(b.radius)?b.radius/4+3:5,x=Math.round(b/x.height*100),D=vo(D,d),D=zr(Ei(90),[["0%",D],["0%",D],[0+x+"%",Yt("#f0f2fd",d)],[0+x+"%",Yt("#ffffff",d)],[100-x+"%",Yt("#ffffff",d)],[100-x+"%",Yt("#e6e9fd",d)],["100%",D],["100%",D]])),v.options({fillShading:!1,fill:T==="auto"?D:T,position:u.join(",")},{animation:M?this.defaultAnimation():this.defaultAnimation(!0),force:!0}),$s=this,Yw=f,this.postShow(o,i,a)),Yw=f}},s.prototype.position=function(o,i,a,u,d,f){var v=this.kind==="TooltipCa",x=!!this.series.pane,b=this.curCA.rootVisuals.content,w=y(this.chart.userOptions,["defaultTooltip","margin"]),k=this.currentOptions.margin;if(d&&!h(w)&&(k=20),d)f&&(u[0]-=f.x,u[1]-=f.y);else{var D=this.targetMetrics(o);if(!D)return{xy:[0,0],outbox:a}}var T=D?D.xyz:u,M=D&&D.xyzs;w=D?D.elBox:Vr(T,[2*k,2*k]);var I=D&&D.labelBox?Yn([w,D.labelBox]):void 0,O=M&&T[0]!==M[0];Rt((this.series.kind==="chartArea"?this.series.rootVisuals.content:this.series.chartArea.rootPanel).getGlobalBbox());var F=ws(Rt(this.chart.rootPanel.getGlobalBbox()),0),N=this.correctCABox(Rt(b.getGlobalBbox()));b=this.correctChartBox(Rt(this.chart.rootPanel.getGlobalBbox()));var j=x?this.correctCABox(Rt(this.chart.rootPanel.getGlobalBbox())):F,W=x?j:b.slice(0);if(x||K(this.curCA._axes,function(Y){if(Y.isVisible){Y=Y.sideIndex();var te=ta(N);switch(Y){case 0:W=RT(W,te[1]),j=RT(j,te[1]);break;case 1:W=PT(W,te[2]),j=PT(j,te[2]);break;case 2:W=FT(W,te[3]),j=FT(j,te[3]);break;case 3:W=OT(W,te[0]),j=OT(j,te[0])}}}),i=Hc(i,O?[(T[0]+M[0])/2,T[1]]:T,1),i=[i[0]-a[2]/2,i[1]-a[3]-k],i=d?i:this.translateToGlobal(i),k=i.slice(0),k.push.apply(k,c(a.slice(2))),M="inCenter",T="outTop",w&&(v&&(this.curCA.isHoriz?(T=u[1]<b[3]/2?"outBottom":"outTop",M="inMiddle"):(M=u[0]<b[2]/2?"outRight":"outLeft",T="inMiddle")),O=d?w:this.translateToGlobal(w),k=Ld(k,O,M,T).box,!v&&!d&&(O=(o[0]||o).series.visualizer,F=void 0,D&&D.labelBox&&(F=this.possiblePositions(o[0]||o,a,I,W,O)),F&&F.length!==0||(F=this.possiblePositions(o[0]||o,a,w,W,O)),0<F.length))){var $=!0;k=x?F[0]:this.translateToGlobal(F[0]),Wte(this.translateToGlobal(w),Lc(k,j))&&($=F[0][4]!=="forced")}return k=Lc(k,j),w&&!v&&!$&&Oc(k,u)&&(T=T==="outTop"?"outBottom":"inMiddle",o=k.slice(0),O=d?w:this.translateToGlobal(w),k=Ld(k,O,M,T).box,k=Lc(k,j),d&&Oc(k,u)&&(d=b[2]-u[0],u[0]>k[2]||d>k[2]?(M=u[0]>b[2]/2?"outLeft":"outRight",k=Ld(k,O,M,T).box,k=Lc(k,j)):k=o)),f&&(k[0]+=Math.round(f.x),k[1]+=Math.round(f.y)),{xy:i,outBox:k}},s.prototype.possiblePositions=function(o,i,a,u,d){o=o.series;var f=o.chartArea.collisionManager;d=o.yAxis;var v=o.isStacked,x=o.info.type,b=!1;x.drawRect||(b=!0);var w=function(T){return T.split(",").map(function(M){return M=M.split("-"),{align:"out"+M[0],vAlign:"out"+M[1]}})},k=w("center-top,center-bottom,left-middle,right-middle");b&&k.push.apply(k,c(w("left-top,right-top,left-bottom,right-bottom"))),x.drawRect&&o.ctSv("chartType")==="horizontal"&&(k=k.map(function(T){return Pl(T,!0)}),d&&!d.isInverted()&&(k=k.map(function(T){return Pl(T)})));var D=function(T){return Ic(u,T)};if(o=k.map(function(T){return Ld(c([0,0],i.slice(2)),a,T.align,T.vAlign).box}),d=o.filter(D).filter(function(T){return D(T)&&v?!f.collideLabels(T):!f.collideAll(T)}),!d.length){if(D(o[0]))return o[0].push("possible"),[o[0]];o[0].push("forced"),d=[o[0]],1<o.length&&D(o[1])&&(o[1].push("possible"),d.push(o[1]),d.reverse())}return d},s.prototype.preShow=function(){$s&&$s.chart!==this.chart&&$s.hide(),$s=this},s.prototype.hideActiveTooltip=function(o){$s&&(o?$s&&o===$s.chart&&$s.hide():$s.hide())},s.prototype.postShow=function(o,i,a){i.device==="touch"&&this.hideTooltip(8e3),this.isVisible=!0,this.chart.chartAreaSet.items[0].debounce.clear("clickoff"),this.chart.tooltipRef=this},s.prototype.cttEnabled=function(o,i){var a=this.currentOptions,u=a.combined,d=o.currentOptions.crosshair||{};if(o=i&&i.options("crosshair.enabled"),d=d.enabled,a.enabled)return u?!0:h(u)?u:o!==!0||!i||d?!1:o},s}(),rue=function(s){function o(i){var a=s.call(this,i)||this;return a.chartArea=i,a.kind="TooltipCa",a}return e(o,s),o.prototype.color=function(i){return"#f0f0f0"},o.prototype.targetMetrics=function(i){var a=this,u=this.chartArea.isHoriz;i=Xt(i,function(b){return!b.series.indexer.getValue("isEmpty",b._i)}).map(function(b){return s.prototype.targetMetrics.call(a,b)});var d=i.map(function(b){return b.xyz});d.push.apply(d,c(i.map(function(b){return b.xyzs})));var f,v,x=function(b){var w=Rn(d,function(k){return k[b]});f=w[0],v=w[w.length-1]};if(x(u?0:1),i.length)return{xyz:v,xyzs:f,elBox:Yn(i.map(function(b){return b.elBox})),labelBox:Yn(i.map(function(b){return b.labelBox}))}},o.prototype.translateToGlobal=function(i){var a=this.targetPanel().getGlobalBbox();return a=[i[0]+a.x,i[1]+a.y],i.length===4&&a.push.apply(a,c(i.slice(2,4))),a},o.prototype.correctCABox=function(i){return i},o.prototype.targetPanel=function(){return this.chartArea.rootVisuals.content},o.prototype.defaultAnimation=function(i){return{duration:i?0:40}},o.prototype.text=function(i){var a=this;if(i.length){var u=mre(i),d=i[0].chart.options("defaultTooltip");d=g(d,"label.text")||"<b>%xValue</b><br>%points";var f=void 0;return u.points=i.filter(function(v){return v.options("mouseTracking")!==!1}).map(function(v){return s.prototype.text.call(a,v)}).filter(function(v){return Be(v)&&v.trim().length}).join("<br>"),f=typeof d=="function"?d(i):d,P_(f,u)}},o}(jB),sue=function(s){function o(){return s!==null&&s.apply(this,arguments)||this}return e(o,s),o.prototype.defaultOptions=function(){var i=g(this.chart.currentOptions,"defaultTooltip");return se(Xw(),i)},o.prototype.triggerOptionsApplied=function(){},o}($w);Qt.documentElement;var GB=function(){return{mouseTracking:{sticky:!1},markerLimit:110,opacity:.9,defaultPoint:{}}},LM=function(s){function o(i,a){var u=s.call(this,i.chart,a,[i,a])||this;return u.chartArea=i,u.kind="Series",u.isVisible=!0,u.legendEntries=[],u.isStacked=!0,u.visuals={panel:void 0,line:void 0,area:void 0,pointHalo:void 0,shapeLabels:void 0},u.zIndex=0,u.cpbIndexOffset=0,u._points=[],u.pgCalcCache=[],u.userPoints=[],u.dataPoints=[],u.dirty=!0,u.state="",u.seriesDirty=new oue(u),u.chart=i.chart,u.renderer=i.renderer,u.ctManager=i.ctManager,u.indexer=new xM({svv:{flatten:!0},svxv:{flatten:!0}}),u.initFP(),a&&u.options(a,!1),u.tooltip=new jB(u),u}return e(o,s),o.prototype.init=function(){},o.prototype.getCaSeriesPoints=function(){var i=this,a=this.chartArea.userOptions.series;if(a&&a.length)return(a=We(a,function(u){return u.name===i.name}))&&a.points},o.prototype.initFP=function(){var i=this;this.points=zi(Hr,M9(this),E9(this),{push:function(a,u){function d(f,v,x){var b=y(u,["shift"]);b===!0&&f.userPoints.shift(),v.pop&&(v=f.visualizer.pointArrayExpander(v)),f.userPoints.push(v);var w=f.getCaSeriesPoints();w&&w.push(v),f.visualizer.updateInfo={action:"splice",at:f.userPoints.length-1,count:1,del:0,shift:b},f.chart.renderer.finishAnimations(),f.invalidate().refresh(x),f.visualizer.updateInfo=void 0}Array.isArray(a)?a.forEach(function(f,v){return d(i,f,v===a.length-1)}):d(i,a,u)},splice:function(a,u,d,f){var v;(v=i.userPoints).splice.apply(v,c([a,u],d)),(v=i.getCaSeriesPoints())&&v.splice.apply(v,c([a,u],d)),i.visualizer.updateInfo={action:"splice",at:a,del:u,count:d.length},i.chart.renderer.finishAnimations(),i.invalidate().refresh(f),i.visualizer.updateInfo=void 0}})},o.prototype.syncLegendItems=function(){var i=this,a=this,u=a.info.type.colorByPoint,d=a.chartArea,f=a.chart,v=a.currentOptions.legendEntry||{},x=a.legendEntries,b=f.requestLegend(this),w=a.ctmIsType("map"),k=function(){a.legendEntry?a.legendEntry.setColumns():a.legendEntry=b.addEntry(i,a._i)},D=function(){a.legendEntry&&(a.legendEntry.destroy(),a.legendEntry=void 0)},T=function(F){F.syncLegendItems(a.legendEntry),F.legendEntry&&(x.push(F.legendEntry),F.legendEntry.setColumns())},M=function(){a.points().each(function(F){F.legendEntry&&(F.legendEntry.destroy(),F.legendEntry=void 0)}),a.legendEntries=[]};if(!(!a.isVisible&&f.isRendered&&a.visualizer.isRendered||w&&a.currentOptions.isBaseLayer)){d.chartAreaSet.enumerateData();var I=y(a.chartArea.currentOptions,["legend","visible"])!==!1;if(u){!O&&a.setPoints();var O=!0}u&&I&&a.options("defaultPoint.legendEntry.visible")!==!1?(x=a.legendEntries=[],a.points().each(T),v.visible===!0?k():D()):(I&&v.visible!==!1?k():D(),a._points.length&&a._points[0].legendEntry&&M(),(a.info.hasUniqueStyles||x.length)&&(!O&&a.setPoints(),O=!0,a.points().each(function(F){I&&F.options("legendEntry.visible")===!0?T(F):F.legendEntry&&(F.legendEntry.destroy(),a.legendEntries=Xt(x,function(N){return N!==F.legendEntry}),F.legendEntry=void 0)})))}},o.prototype.iconName=function(){var i=this;if(!i._iconName){var a=function(v){return!v||v.size!==0&&v.type!=="none"},u=function(v){return"system/default/"+v},d=function(){var v=i.points(0);return v&&v.currentOptions.marker},f=y(i.currentOptions,["defaultPoint","marker"]);a=!a(f)||!a(d()),d=this.info.type,i._iconName=d.drawArea?u(a?"areaSolo":"area"):d.drawLine?u(a?"lineSolo":"line"):d.drawMarker?u("circle"):u("square")}return i._iconName},o.prototype.getIconVisual=function(i,a,u){return a===this&&(a=void 0),this.visualizer.getIconVisual(i,a,u)},o.prototype.styleIconVisual=function(i,a){i&&this.visualizer.setIconVisualAttr(i,a)},o.prototype.setAxes=function(){var i=this,a=i.options(),u=i.visualizer.getTypeConfig(),d=u.customAxisOptions||{},f=u.privateAxes||"";u=u.axes.length?u.axes.split(","):[];var v;return K(u,function(x){v=x+"Axis";var b,w=i.chartArea.axConfList,k=se({},d[x]);(b=i[v])&&(b=b.parentAxis||b);var D=i.userOptions[v],T=D||a[v]||(b?b.id:void 0);(b=Ss(f,x)&&(!b||!b.currentOptions.isPrivate))&&(T=bn(w[x][0]),D&&T.id!==D&&(T={}),delete T.id,k=se(k,T),k.isPrivate=!0,T=D||Td(6)),D=i[v],x=i[v]=i.chartArea.requestAxis(i,x,T,k),x.isPrivate=b,D&&D.isPrivate&&D.id!==x.id&&D.destroy(),St(i.currentOptions,v,x.id)}),this},o.prototype.assignAxes=function(){var i=this,a=this.visualizer.getTypeConfig().axes.split(","),u=this.chartArea.axConfList,d,f,v,x=this.options();K(a,function(b){d=b+"Axis",u[b]=u[b]||[],(f=x[d])?C(f)==="object"&&(v=js(f),u[b].push(f),x[d]=v):(f=le(u[b][0],i.chartArea.chartAreaSet.freeAxes[b]))&&(x[d]=f.id)})},o.prototype.reIndexStringVals=function(i){var a=this.indexer,u=i.toPosition,d=[i.prefix];if(d.push.apply(d,c(i.usedDataKeys)),d=ai(d),i=a.data,K(d,function(v){if(Ss(a.uniqTypes[v],"string")){var x=a.getKey(v);a.reset(v);for(var b=0,w=x.length;b<w;b++){var k={};k[v]=u(x[b]),a.indexKeys([v],k,b)}}}),Qo(["ye","ys"],d).length===2&&i.ys&&i.ys.length){a.reset("yr"),d=0;for(var f=i.ys.length;d<f;d++)a.indexKeys(["yr"],{yr:i.ye[d]-i.ys[d]},d)}this.seriesDirty.pointIndex(!1)},o.prototype.getFormatInfo=function(){var i=this,a={},u,d=this.visualizer.getTypeConfig().axes.split(","),f=this.chart.currentOptions.defaultCultureName;return f&&(a.culture=f),K(d,function(v){(u=i[v+"Axis"])?a[v]=u.getFormatInfo():a[v]={}}),a},o.prototype.options=function(i,a){var u=!0,d=this.optionsGetter(i);if(d!=="NotGetter")return d;d=$n(i);var f=d.length===1;if(typeof i.mapData=="object"&&(this.setMapData(i.mapData),f))return this;if(0<Qo(d,GF).length){var v=f;ke(this.userOptions,i),ke(this.currentOptions,i),this.visualizer&&(h(i.muted)&&this.state!=="select"?this.setState(i.muted?"mute":""):h(i.selected)&&this.select(i.selected))}if(!v){if(h(i.visible)&&(this.isVisible=i.visible,f&&(u=!1),this.chart.isRendered&&this.legendEntry&&this.legendEntry.updateCheckbox(this.isVisible)),(i.points||i.emptyPointMode)&&(this.seriesDirty.points(!0),this.seriesDirty.pointIndex(!0),this.seriesDirty.resetCache()),this.userPoints=i.points||this.userPoints,delete i.points,i=this.normalizeOptions(i),(i.defaultPoint||i.firstPoint||i.lastPoint)&&this.seriesDirty.points(!0),i=ke(this.userOptions,i),this.name=i.name||"",this.setOptions(),this.type=this.ctManager.settingVal("seriesType",this.options()),this.setType(u),a!==!1){a=this.normalizeUpdateOpt({animation:this.currentOptions.animation},a),u&&this.chartArea.invalidate(),this.chart.redraw(a);var x=!0}u&&this.chart.updateSideItems(a)}return this.chart.triggerOptionsApplied("series",this),!x&&this.afterUpdate(a),this},o.prototype.optionsGetter=function(i){return i==="visible"?this.isVisible:s.prototype.optionsGetter.call(this,i)},o.prototype.normalizeArrPoints=function(){var i;if(i=this.userPoints){var a=C(i);if(a==="string"&&i.indexOf("JSC.points")===0)this.userPoints=xT(i);else if(a==="object"&&i.data)this.userPoints=AP(i);else if(i.length){a=0;for(var u=i.length;a<u;a++){var d=i[a];d.pop?i[a]=this.visualizer.pointArrayExpander(d):typeof d=="number"?i[a]={y:d}:s.prototype.normalizeOptions.call(this,i[a],"map,attributes")}this.userPoints=i}}},o.prototype.setType=function(i){var a=this.options(),u=this.ctManager;a.type==="gauge"&&(this.type=a.type="gauge marker");var d=u.settingVal("seriesType",a);u=u.settingVal("chartType",a),u==="organizational"&&(this.type=d=a.type="annotation"),d=a=d||this.type||d||u,d=p(Fl,d)?Fl[d]:op,this.visualizer&&this.visualizer.kind===a||(this.visualizer=new d(this),this.setOptions(),this.assignAxes()),this.visualizer.kind==="calendar"&&(this.isStacked=!1),this.visualizer.getTypeConfig(!0),this._ctmIsTypeCache=this._ctSvCache=void 0,this.normalizeArrPoints(),i!==!1&&this.setData()},o.prototype.normalizeOptions=function(i){i=s.prototype.normalizeOptions.call(this,i),Ane(i,"size",["min","max"]),bP(i,"emptyPointMode");var a=i,u,d;return(d=C(u=g(a,"animation.easing")))!=="undefined"&&d==="string"&&St(a,"animation.easing",xR(u)),i},o.prototype.defaultOptions=function(){var i=this.chart.options("navigator.enabled");return se(i?se(GB(),{line:{width:2}}):GB(),{animation:this.chart.options("animation")})},o.prototype.contextOptions=function(){return this.visualizer?this.visualizer.contextDefaults():void 0},o.prototype.setOptions=function(){var i=this.chart.options("navigator.enabled"),a=this.normalizeOptions(this.chart.currentOptions.defaultSeries||{}),u=this.currentOptions=se({},this.defaultOptions(),this.contextOptions(),a,this.userOptions);if(i&&this.ctManager.settingVal("seriesType",u)==="line"&&(this.currentOptions=se(u,{defaultPoint:{marker:{type:"circle",color:"none",outline:{width:0}},states:{hover:{marker:{outline:{width:2}}}}}})),a=this.ctManager,i=this.ctSv("gaugeType"),a.settingVal("chartType",u)==="gauge"){a=a.curCtDst(u);var d=a.dst.explicit||"";a=Ss((a.ct||{}).explicit||"","seriesType"),u=u.type||"";var f=Ss(u,"gauge");d=d.indexOf("seriesType")!==-1;var v=i==="circular"?"marker":"column";if(!a&&!d)if(i==="circular"){f&&!d&&(v=u+v,this.currentOptions.type=v);var x={type:v,defaultPoint:{marker:{type:"needle",length:.8}}}}else i==="linear"&&(f&&!d&&(v=u+v,this.currentOptions.type=v),x={type:v})}return x&&Wc(this.currentOptions,x),K3(this),this},o.prototype.ctSv=function(i){return this._ctSvCache||(this._ctSvCache=this.ctManager.getSettingChecker(this.currentOptions)),this._ctSvCache(i)},o.prototype.ctSvIs=function(i,a){return this.ctSv(i)===a},o.prototype.ctmIsType=function(i){return this._ctmIsTypeCache||(this._ctmIsTypeCache=this.ctManager.getIsTypeChecker(this.currentOptions)),this._ctmIsTypeCache(i)},o.prototype.correctRootBox=function(i){var a=this.chart.navigator;if(this.pane){var u=this.pane.getGlobalOffsets();i[0]-=u.x,i[1]-=u.y}return a&&(i[1]+=a.defaults.toolbarHeight,i[3]-=a.defaults.toolbarHeight),i},o.prototype.setInfo=function(){var i=this.ctManager,a=this.options(),u=i.hasSetting,d=function(x){return u("behavior",x,a)},f=i.settingVal("chartType",a),v=i.settingVal("seriesType",a);f==="organizational"&&(this.type=v=a.type="annotation"),i={seriesType:v,drawMarker:d("drawMarker"),drawArea:d("drawArea"),drawRect:d("drawRect"),drawLine:d("drawLine")||f==="organizational",colorByPoint:d("colorByPoint")||h(a.palette),colorByPointLocal:h(a.palette),snapToZero:d("snapToZero"),drawSubvalue:d("drawSubvalue"),noNameGrouping:d("noNameGrouping"),tree:d("tree"),varyPalette:d("varyPalette"),labelConnector:d("labelConnector"),clusters:d("clusters"),noPos:d("noPos"),isMapLayer:i.isMapLayer(this),isAnnotation:d("annotation"),isShape:i.settingVal("seriesLayout",a)==="visualshape",isPie:f==="pie",isRadar:f==="radar",hasNeedles:f==="gauge"&&v==="marker"&&y(a,["defaultPoint","marker","type"])==="needle",roundCaps:this.ctSvIs("columnType","roundcaps"),isRadarColumn:!1},y(a,["map","type"])==="line"&&(i.drawMarker=!1,i.drawArea=!1,i.drawLine=!0),(i.isPie||a.isMerged)&&(i.colorByPoint=!0),i.isRadar&&i.drawRect&&(i.isRadarColumn=!0),f==="gauge"&&(i.snapToZero=!0),d=y(this,["info","style"]),this.info={type:i,hasSubvalues:!1,hasComplete:!1,hasYRanges:!1,hasUniqueStyles:!1,hasMaxedMarkerLimit:!1,data:{},style:d||{},xIsSorted:!0,labelTextInfo:{},map:this.info?this.info.map:{}},(C(a.palette||this.chart.palette)==="object"||f==="heatmap")&&(this.info.usesSmartPalette=!0)},o.prototype.setDataInfo=function(i){var a=this.visualizer,u=this.chart,d=this.info,f=d.type,v=this.userPoints,x=v.length,b=this.indexer,w=0,k=a.pointValueParser,D=a.pointDataKeys||HF;if(this.seriesDirty.pointIndex()||i){this._catCache=[],h(this._i)||this.chartArea.chartAreaSet.enumerateSeries(this),f.clusters&&(this.zAxis&&y(this.zAxis.currentOptions,["scale","type"])==="stacked"||y(this.chart.currentOptions,["zAxisScaleType"])==="stacked"||y(this.chart.currentOptions,["zAxis","scale","type"])==="stacked")&&(f.clusters=!1,f.zStacked=!0),this.prevCoords=b.data.coordinates||this.prevCoords;var T=b.getAllKeys.length===0;b.reset(),i=void 0;var M=!0;!this.isVisible&&!T&&u.isRendered&&this.isStacked&&(i={y:0}),T=this.cpbIndexOffset;var I=function(N){return N},O;for(u=void 0,(u=this.currentOptions.defaultPoint)&&(O=u.subvalue)&&(I=function(N){return N.subvalue?N:se(N,{subvalue:O})});w<x;w++){var F=v[w];this.setLegendEntryVisibility(F),js(F),F=i?se({},F,i):F,I(F),F._i=w,f.colorByPoint&&(F.cpbIndex=le(F.cpbIndex,f.colorByPointLocal?w:T++)),F=k(this,F,D,a.skipSubvalues),b.indexObject(F,w),w&&M&&h(F.x)&&ss(F.x)&&F.x<b.data.x[w-1]&&(M=!1)}d.hasYRanges=!1,b.hasAllKeys(["y","ys"])&&(f.snapToZero=!1,d.hasYRanges=!0),b.hasAllKeys(["ys","ye"])&&!b.hasKey("y")&&(f.snapToZero=!1,d.hasYRanges=!0),this.currentOptions.isPreview&&(f.snapToZero=!1),d.hasMaxedMarkerLimit=f.drawMarker&&x>this.currentOptions.markerLimit,d.xIsSorted=M,b.hasAnyKeys(["subvalue","subvalueX"])&&(d.hasSubvalues=!0),b.hasAnyKeys(["complete","completee","completeX","completeXe"])&&(d.hasComplete=!0),a=void 0,f.varyPalette||b.hasAnyKeys(["color","outline","marker","label","fill"])||f.seriesType==="candlestick"?a=!0:f.seriesType==="ohlc"?y(this.currentOptions,["defaultPoint","altColor"])&&(a=!0):(f.tree||f.isRadarColumn)&&(a=!0),C(this.chart.options("palette"))==="object"?f.colorByPoint=!0:(y(u,["marker","fill"])==="%color"||this.currentOptions.firstPoint||this.currentOptions.lastPoint)&&(a=!0),d.hasUniqueStyles=a||d.hasUniqueStyles,this.seriesDirty.pointIndex(!1),this.seriesDirty.pos(!0),this.validateData(),this.setAttribs(!0),this.visualizer.validate(!1),this.syncLegendItems()}},o.prototype.setLegendEntryVisibility=function(i){this.visualizer.pointLeVisible(i)===!1&&(i=i.legendEntry||(i.legendEntry={}),i.visible=le(i.visible,!1))},o.prototype.validateData=function(){if(this.visualizer&&this.userPoints.length&&!this.ctmIsType("map")){var i=this.visualizer.getTypeConfig(),a=i.requiredData,u=i.supportedData,d=this.indexer.getAllKeys();a&&(a=a.split(","),Ss(d,"ys")&&d.push("y"),Ss(d,"xs")&&d.push("x"),Ss(d,"zs")&&d.push("z"),Qo(d,a).length<a.length&&En.emit("error",this.id,"dataRequired",{data:[this.name||this.id,a.join(", ")],container:this.chart.getWrapper()})),u&&i.supportedData.split(",")}},o.prototype.setData=function(){this.setInfo(),this.setDataInfo(!0)},o.prototype.setPoints=function(){var i=this,a=i.xAxis||{};if(i.seriesDirty.points()){if(!i._points.length||i.dirty){i._defPointGen=void 0,$o(i.userPoints,i._points,function(x){return new Pce(i,x)},function(x,b){return b.options(x,!1)},function(x){return x.destroy()},function(x,b){return le(x.id,x.name)||b},function(x,b){return le(x.currentOptions.id,x.currentOptions.name,x.id)||b});var u=[],d={};K(i._points,function(x){d[x.id]=x}),K(i.userPoints,function(x){Dm(u,d[x.id])}),i._points=u}if(i.info.usesSmartPalette){var f=i.getSP(),v=f.userOptions.pointValue;100<this._points.length&&Be(v)&&En.emit("warning",i.id,"spPointValueSuggestion",{container:this.chart.getWrapper()}),f.setPointSpValues(i)}i.seriesDirty.points(!1)}return a.type==="category"&&y(a.currentOptions,["categories","length"])&&K(i._points,function(x){x.currentOptions.name||typeof x.x=="string"||(x.name=i.xAxis.catList[i.indexer.data.x[x._i]])}),this},o.prototype.getAutoLabelText=function(i,a){function u(){switch(T.type.seriesType){case"candlestick":case"ohlc":var ee=M?O(["%icon"," ","O:%open H:%high L:%low C:%close"]):"%xValue {%close-%open}<br/>Open: %open<br/>High: %high<br/>Low: %low<br/>Close: %close";return ee;default:var ae=ee="",q=M?"":"<br/>",J=Ss(Sm(I.vScale),Sm("stacked")),re=T.type.drawLine,ce=1<D.chartArea.series().items.length,oe=!M&&!re&&!J;return M?ae="%icon":(I.sName&&ce&&!oe&&(ee+=F("%seriesName")+"<br/>"),I.xScale==="category"?ee+=I.xAxisLabel?"%xAxisLabel: "+(F("%name")+"<br/>"):"%name ":(I.pointName&&(ee="%name<br/>"),ee+=I.xAxisLabel?"%xAxisLabel: "+F("%xValue")+"<br/>":"%xValue ")),ee+=$("yAxisLabel",q,N()," "),I.hasZ&&(ee+=$("zAxisLabel","<br/>","%zValue","<br/>",!0)),M||(re||J?J&&(ee+="<br/>%ypercentOfGroup% of "+j()):ee+="<br/>"+w()),I.hasComplete&&(ee+="<br/>%complete Complete"),ee=ae?O([ae,"<span style='width:5;'> </span>",ee]):ee,k(ee.trim())}}function d(){var ee=W();return ee+=" "+$("yAxisLabel","<br/>",N(),"<br/>"),I.hasZ&&(ee+=" "+$("zAxisLabel","<br/>","%zValue","<br/>",!0)),ee+=w(),k(ee.trim())}function f(){var ee=(I.sName?F("%seriesName")+"<br/>":"")+"%name: "+N();return k(ee.trim())}function v(ee){var ae="",q=I.mapInfo||{};return ee&&ee.options("name")&&(ae+="%name"),I.mapInfo&&I.serName&&I.serName!==q.name&&(ae+=ae.trim().length?"<br/>":"",q.mapLevel==="province"&&(ee=q.country,Ss(Sm(I.serName),Sm(ee))&&(ae+="%country"))),I.serName&&(ae+=ae.trim().length?"<br/>":"",ae+="%seriesName"),T.type.st==="marker"&&(ae+=ae.trim().length?"<br/>":"",ae+="<br/>Lat: "+F("%yValue"),ae+="<br/>Long: "+F("%xValue")),I.hasZ&&(ae+=ae.trim().length?"<br/>":"",ae+=$("zAxisLabel","<br/>","%zValue","<br/>",!0)),k(ae.trim())}function x(){var ee=I.sName?"%seriesName":"";return ee+=" "+W(),ee+=ee.trim().length?"<br/>":"",ee+=$("yAxisLabel","<br/>",N(),"<br/>"),k(ee.trim())}function b(){var ee="";return I.xScale==="category"?ee+=I.xAxisLabel?"%xAxisLabel: "+(F("%name")+"<br/>"):"%name ":(I.pointName&&(ee="%name<br/>"),ee+=I.xAxisLabel?"%xAxisLabel: "+F("%xValue")+"<br/>":"%xValue "),ee+=" "+$("yAxisLabel","<br/>",N(),"<br/>"),I.hasZ&&(ee+=" "+$("zAxisLabel","<br/>","%zValue","<br/>",!0)),k(ee.trim())}function w(ee){var ae="";return I.vScale!=="time"&&(ae=h(ee)?ee+"% of ":"%percentOfSeries% of ",ae+=I.sName?"%seriesName":T.type.colorByPoint?"Series":"%icon",Ss(Sm(I.vScale),Sm("stacked"))&&(ae+="<br/>%percentOfGroup% of "+j())),ae}function k(ee){return ee.replace(/<br\/><br\/>/g,"<br/>").replace(/<br\/> <br\/>/g,"<br/>")}i===void 0&&(i={});var D=this,T=this.info,M=D.chartArea.tooltip.cttEnabled(D.yAxis,D.xAxis),I=se(i,T.labelTextInfo);i=this.options("defaultPoint.label.text");var O=function(ee){return(D.chart.isRtlCulture?ee.reverse():ee).join("")},F=function(ee){return"<b>"+ee+"</b>"},N=function(){return I.hasRange?I.vScale==="time"?"%yStart\u2013%yValue":"(%yStart\u2013%yValue)":"%yValue"},j=function(){return I.xScale==="category"?"%name":"%xValue"},W=function(){return I.pointName||Be(I.pointX)?I.pointName?"%name":"%xValue":""},$=function(ee,ae,q,J,re){return M?q:I[ee]?ae+("%"+ee)+": "+F(q)+"<br/>":(re?"("+q+")":q)+J},Y="",te="";switch(I.ct){case"horizontal":case"vertical":Y=u();break;case"cone":case"pyramid":case"funnel":case"treemap":case"pie":Y=d();break;case"heatmap":Y=b();break;case"radar":Y=u();break;case"gauge":Y=x();break;case"navigator":Y=u();break;case"organizational":te=Y="%XValue";break;case"map":Y=a?v(a):"%name",te="%name";break;case"calendar":Y=u(),te="%name";break;case"venn":te="%name",Y=f();break;default:Y=u()}return{tooltip:Y,label:i||te||"%yValue"}},o.prototype.getAutoTooltipText=function(i){return this.getAutoLabelText({pointName:i.name,pointX:i.options("x"),hasComplete:h(i.options("complete"))}).tooltip},o.prototype.setPane=function(i){this.pane=i,i.hasNeedles=i.hasNeedles||this.info.type.hasNeedles,i.hasRoundCaps=i.hasRoundCaps||this.info.type.roundCaps,T9(this)},o.prototype.render=function(i,a){return this.renderRect=i.rect||i,this.userPoints.length&&this.visualizer.render(a),this},o.prototype.renderLabels=function(i,a){this.renderRect=i.rect||i,this.userPoints.length&&this.visualizer.renderLabels(a)},o.prototype.renderHierarchy=function(i,a){this.renderRect=i.rect||i,this.userPoints.length&&this.visualizer.renderHierarchy(a)},o.prototype.setPos=function(){var i=this,a=i.ctManager,u=i.pane,d=i.ctmIsType("radar"),f=i.ctmIsType("gauge"),v=i.info,x=i.options(),b=i.userPoints,w=y(x,["emptyPointMode"])||"undefined",k,D=f&&v.type.seriesType==="marker",T=y(i.currentOptions,["defaultPoint","marker","length"]);a=a.settingVal("lineSeriesType",x);var M=v.type.seriesType==="line"&&a==="spline"&&i.ctmIsType("map")||v.type.seriesType==="line"&&d&&u&&u.getRadarType()==="polar",I=d?15/360:5,O,F,N;if(i.seriesDirty.pos()&&!i.info.type.noPos){i.info.labelTextInfo=L9(this),u=i.getAutoLabelText({},i._points[0]),ke(i.info.labelTextInfo,u),i.isStacked=i.yAxis.isStacked(),i.indexer.indexKeys(["pos"],{},0);var j=i.getXYZTranslator(),W=function(q,J,re,ce){h(ee[q])&&(ae[q]=j(J,re,ce))},$=j(0,0,0),Y=function(q,J){return Math.floor(Ea(q,J)/I)},te=function(q,J,re,ce){var oe=[];return re&&rs(re,function(pe){pe&&(pe=[rt(q[0],J[0],0,1,1/re*pe),rt(q[1],J[1],0,1,1/re*pe)],oe.push(ce?ce.apply(void 0,c(pe)):pe))}),oe};for(u=function(q,J){if(ee=i.indexer.getItem(q),ee.isEmpty&&w==="ignore"&&!y(i,["pane","isRadial"]))return"continue";var re=_s(ee.ye,ee.y),ce=_s(ee.ys,0),oe=_s(ee.xe,ee.x),pe=_s(ee.xs,oe),Se=_s(ee.ze,ee.z),Te=void 0;D&&(k=_s(y(ee,["marker","length"]),T,.8))&&(k.pop?(J=l(k,2),Te=J[0],Se=J[1]):(Se=k,Te=0)),Te=_s(ee.zs,Te,Se),ae={xyz:j(oe,re,Se),xyzOrigins:$,xyzs:j(pe,ce,Te),xyzRDesc:[pe>oe,ce>re,Te>Se]},v.type.seriesType==="map"&&i.visualizer.setPos(ee,ae),v.hasSubvalues&&(W("sv",oe,ee.sv,Se),W("svs",oe,ee.svs,Se),W("svx",ee.svx,re,Se),W("svxs",ee.svxs,re,Se),h(ee.svv)&&(ae.svv=O=[],K(ee.svv,function(Ke){O.push(j(oe,Ke,Se))})),h(ee.svxv)&&(ae.svxv=O=[],K(ee.svxv,function(Ke){O.push(j(Ke,re,Se))}))),v.hasComplete&&(h(_s(ee.completee,ee.complete))||h(_s(ee.completeXe,ee.completeX))?(J=function(Ke,bt,Ze){h(St(ae,bt,_s(ee[bt],ee[Ze])))?St(ae,Ke,ee[Ke]||0):(ae[Ke]=0,ae[bt]=1)},J("completes","completee","complete"),J("completeXs","completeXe","completeX")):ae.completes=ae.completee=ae.completeXs=ae.completeXe=0),i.indexer.setValue("pos",q,ae),M&&N&&(q=void 0,i.ctmIsType("map")?q=Y(N,[oe,re]):d&&(q=Y(F.xyz,ae.xyz)),F.interpPoints=te(N,[oe,re],q,j)),F=ae,N=[oe,re]},a=0,b=b.length;a<b;a++)u(a,b);if(d&&M){var ee=i.indexer.getItem(0),ae=i.indexer.getValue("pos",0);b=F.xyz[0]+2*yn(F.xyz[0],1),b=[F.xyz,[b,ae.xyz[1]]],u=Y(b[0],b[1]),F.interpPoints=te(b[0],b[1],u),F.interpPoints.unshift(b[0],b[0])}}else i.info.type.noPos&&(i.info.labelTextInfo=L9(this),u=i.getAutoLabelText(),ke(i.info.labelTextInfo,u));return i.seriesDirty.pos(!1),this},o.prototype.setCoordinates=function(i,a){return this.userPoints.length&&this.visualizer.setCoordinates(i||this.contentRect(),a),this},o.prototype.setState=function(i,a){if(a===void 0&&(a={}),this.chartArea,i=Z3(this,i),this.state!==i){var u={},d=le(a.continueAnimation,!0);if(a.animation){se(u,a.animation===!1?{duration:0}:a.animation);var f=!!u.duration}a=function(w){return se(f?{continueAnimation:d,animation:u}:{continueAnimation:d},w)};var v=this.info.type,x,b=this.getStateAttrs(i);v.drawLine&&(x=this.visuals.line)&&b.line&&x.attr(a(b.line)),v.drawArea&&(x=this.visuals.area)&&x.attr(a(b.area)),this.state=i,i==="select"&&this.chart._seriesSelection()}},o.prototype.getStateAttrs=function(i){var a=this.info.type,u=this.info.style,d=u.states;return i=Z3(this,i),i=d[i],d={line:void 0,area:void 0},a.drawLine&&(d.line=ke({},i)),a.drawArea&&(d.area=Zo({fill:le(i.areaColor,u.base.areaColor),opacity:le(i.areaOpacity,u.base.areaOpacity)})),d},o.prototype.getXYZValAxes=function(){var i=this.pane,a=y(i,["xAxis"])||this.xAxis,u=y(i,["yAxis"])||this.yAxis;return i=y(i,["zAxis"])||this.zAxis,[a,u,i]},o.prototype.getXYZTranslator=function(){var i=this.chartArea,a=this.pane,u=a?a.isHoriz:i.isHoriz,d=le(y(a,["projection"]),i.projection),f=l(this.getXYZValAxes(),3);i=f[0],a=f[1],f=f[2];var v=i?i.getValToLin()||gl:ho,x=a?a.getValToLin()||gl:ho,b=f?f.getValToLin()||gl:ho;return this.ctmIsType("map")?this.transformFn=function(w,k,D){return w=d.val2linxy(w,k),[v(w[0]),x(w[1]),b(D)]}:this.transformFn=u?function(w,k,D){return[x(k),v(w),b(D)]}:function(w,k,D){return[v(w),x(k),b(D)]}},o.prototype.preRender=function(i){i===void 0&&(i={});var a=i.rect||this.contentRect();if(i.rect){var u=_s(this.options("shape.padding"),.3);u&&(a=fP(a,u))}h(this._i)||this.chartArea.chartAreaSet.enumerateData(),this.setPos().setPoints().setAttribs().setCoordinates(a,i)},o.prototype.contentRect=function(){return this.renderRect},o.prototype.destroy=function(){var i=this.visualizer,a=this.rootChartArea||this.chartArea;i&&i.clearHighlightVisuals&&i.clearHighlightVisuals(),i&&i.destroy&&i.destroy(),this.rootVisuals=null,this._points&&this.points().each(function(u){return u.destroy()}),s.prototype.destroy.call(this),K(this.visuals,function(u){return h(u)&&Ir(u,function(d){return d.destroy&&d.destroy()})||!0}),this.legendEntry&&this.legendEntry.destroy(),this.xAxis&&(m(this.xAxis.serList,this),this.xAxis.dataInfo.serColl=this.xAxis.getSeriesColl(function(u){return u.isVisible})),this.yAxis&&(m(this.yAxis.serList,this),this.yAxis.dataInfo.serColl=this.yAxis.getSeriesColl(function(u){return u.isVisible}),a&&m(a.renderBySortedSeriesRev,this))},o.prototype.translateToGlobal=function(i){var a=this.chartArea.rootVisuals.content.getGlobalBbox();return a=[i[0]+a.x,i[1]+a.y],2<i.length&&(a[2]=i[2],a[3]=i[3]),a},o.prototype.hitTest=function(i){var a=this.visualizer;if(this.isVisible&&sp(this)){var u=this.indexer.getKey("coordinates"),d,f=a.renderOrderRev;(a=a.pointsGlobals||a.updatePointsGlobals())&&(i[0]-=a.x,i[1]-=a.y),a=function(w){if((d=u[w])&&d.hitTest&&d.hitTest(i[0],i[1]))return!0};var v=void 0;if(f){f.length>u.length&&(f=f.filter(function(w){return w<u.length}));for(var x=0,b=u.length;x<b;x++)if(v=f[x],a(v))return f=this._points[v],sp(this,f)&&f}else for(x=0,b=u.length;x<b;x++)if(a(x))return f=this._points[x],sp(this,f)&&f}},o.prototype.mouseOut=function(i){var a=this.chart.requestLegend(this);a&&a.pointOut(),this.visualizer.pointMouseOutAny()&&this.triggerUser("mouseOut",i)},o.prototype.mouseMove=function(i,a){if(sp(this)){a=this.chartArea;var u=this.visualizer,d=this.chart.requestLegend(this),f=[i.x,i.y],v;if(v=this.hitTest(f)){var x=this.state==="hover"||u.hoveredItem;return a.crosshair(f,i,!0),u.pointMouseOver(i,v),d.pointOver(v),!x&&this.triggerUser("mouseOver"),!0}y(this.currentOptions,["mouseTracking","sticky"])||(u.pointMouseOutAny()&&this.triggerUser("mouseOut",i),d&&d.pointOut())}},o.prototype.mouseClick=function(i){if(sp(this)){var a;if(a=this.hitTest([i.x,i.y]))return this.visualizer.pointClick(i,a),this.triggerUser("click",i),a}},o.prototype.pointOver=function(i,a){},o.prototype.showHaloAtX=function(i,a){a===void 0&&(a=!0);var u=this.indexer;i=u.findValue_i("x",i);var d=this.info.labelTextInfo.hasRange,f=[],v=this._points[i];if(v&&(v.options("mouseTracking")!==!1||a)&&this.visualizer.showHalo(v),h(i)){var x=u.getItem(i);return d?K(["svs","sv","ys","ye"],function(b){b=x[b],h(b)&&f.push(b)}):f.push(_s(u.getValue("ye",i),u.getValue("y",i))),[this.yAxis,v,f]}},o.prototype.hideHalo=function(){this.visualizer.showHalo()},o.prototype.setAttribs=function(i){var a=this.currentOptions,u=this._i,d=this.ctmIsType("treemap"),f=a.line||d&&y(a,["shape","outline"])||{};d=this.info;var v=this.chart.palette,x=this.userPoints.length>a.markerLimit?1:2,b=C(v)==="array"?v:xw("default");this.info.style={set:{color:w,opacity:D,line:{},area:{}},attr:{line:{},area:{}},states:{}},v=d.style;var w=le(a.color,y(a,["defaultPoint","color"]),b[u%b.length]);u=le(y(a,["defaultPoint","marker","type"]),pw[u%pw.length]),w=i3(w);var k=le(w[3],1),D=le(a.opacity,1)*k;b=le(y(a,["outline","opacity"]),a.opacity,1)*k,k*=le(y(a,["shape","opacity"]),a.opacity,.8),w=An(w,"rgb");var T=Mt(f.color||Ri.seriesLine,w),M=y(a,["shape","fill"])||a.fill;if(M){M=_ne(w,M),M=Mt(Xo(M),w);var I=M.linearGradient?M:uP(i3(M))}if(I=this.ctSvIs("areaShadingType","subtle")?Bc(wi.areaFill,I||w):w,D=v.base={color:w,altColor:"white",opacity:D,lineColor:T,lineOpacity:b,areaOpacity:k,areaColor:I,markerType:u},!i)return i=d.style.states,w=2,this.ctmIsType("organizational")&&(w=0),v=a.states||{},a=v.hover||{},I=v.select||{},v=v.mute||{},d.type.drawLine&&(x=d.style.set.line={width:_s(f.width,x),color:D.lineColor,opacity:le(f.opacity,1)*D.lineOpacity,dashStyle:f.dashStyle},f.caps&&(x.caps=f.caps),i[""]=d.style.attr.line=Cs(x),f=a.line||{},i.hover=a.enabled!==!1?se({},i[""],{"stroke-width":le(f.width,x.width+w),stroke:Mt(le(f.color,a.color,x.color),D.color),"stroke-opacity":le(f.opacity,a.opacity,x.opacity)}):{},f=I.line||{},i.select=I.enabled!==!1?se({},i[""],{"stroke-width":le(f.width,x.width+w),stroke:Mt(le(f.color,I.color,x.color),D.color),"stroke-opacity":le(f.opacity,I.opacity,x.opacity)}):{},f=v.line||{},i.mute=v.enabled!==!1?se({},i[""],{"stroke-width":le(f.width,x.width),stroke:Mt(le(f.color,v.color,x.color),D.color),"stroke-opacity":le(f.opacity,v.opacity,.15*x.opacity)}):{}),d.type.drawArea&&(f=d.style.set.area={color:D.areaColor,opacity:D.areaOpacity},(f.fill=D.areaFill)||(this.ctSvIs("areaShadingType","subtle")?f.fill=Bc(wi.areaFill,f.color):f.fill=f.color),a.enabled!==!1&&(i.hover.areaOpacity=le(a.opacity,D.areaOpacity),a.fill&&(i.hover.areaColor=Mt(a.fill,D.areaColor))),v.enabled!==!1&&(i.mute.areaOpacity=le(v.opacity,.15*D.areaOpacity),v.fill&&(i.mute.areaColor=Mt(v.fill,D.areaColor))),I.enabled!==!1&&(i.select.areaOpacity=le(I.opacity,D.areaOpacity),I.fill&&(i.select.areaColor=Mt(I.fill,D.areaColor))),d.style.attr.area=Zo(f)),this},o.prototype.getPointAttr=function(i,a){function u(ze,Ht,Fn){var _n={},Lt=function(qt,ua){return ua?ua(y(ze,qt)):y(ze,qt)},Pi=function(qt){vR(_n,Ht,qt,qt)},Ys=function(qt,ua,nu){Kf(_n,qt,Mt(y(Ht,qt)||nu,ua))},Hi=function(qt,ua,nu){h(y(ze,qt))&&Kf(Nl,ua,Lt(qt,nu))},Ci=function(qt){return qt&&qt.pop&&qt.length===2?vo(qt):qt};Ys(["color"],q);var up=_n.color&&Mt(Ri.outline,Ci(_n.color));Ys(["outline","color"],q,up),Ht.fill&&(_n.color=Mt(Xo(Ht.fill,void 0,void 0,void 0,q),q)),Pi(["outline","width"]),Pi(["outline","dashStyle"]),Pi(["size"]),Pi(["opacity"]),y(Ht,["hatch","style"])&&(Pi(["hatch","style"]),Ys(["hatch","color"],q));var Nl={color:Fn.color?Iv(Ci(ze.color),Fn.color,["val"]):Ci(ze.color),opacity:Lt(["opacity"],Fn.opacity),outline:{color:Lt(["outline","color"],Fn.outlineColor),width:Lt(["outline","width"],Fn.outlineWidth)}};return Hi(["outline","dashStyle"],["dashStyle"],Fn.dashStyle),Hi(["size"],["size"],Fn.size),Hi(["hatch","style"],["hatch","style"],Fn.hatch),Hi(["hatch","color"],["hatch","color"],Fn.hatchColor),se(Nl,_n)}function d(ze,Ht,Fn){var _n=y(ze,["states",Ht])||{},Lt=_n.marker||{},Pi,Ys,Hi;return(Pi=Wc(Lt.outline,_n.outline,Fn.outline))&&(Lt.outline=Pi),(Pi=Lt.fill||_n.fill)&&(Lt.fill=Pi),h(Ys=le(Lt.size,_n.size))&&(Lt.size=Ys),h(Hi=le(Lt.opacity,_n.opacity,Fn&&Fn.opacity))&&(Lt.opacity=Hi),ze=y(ze,["marker","states",Ht])||{},Wc(Lt,ze)||{}}var f=i?i.currentOptions?i.currentOptions:i:{},v=this.currentOptions,x=h(f._i)?q3(this,f._i):v.defaultPoint||{},b=!i,w=this.info.hasUniqueStyles||this.info.type.colorByPoint,k=this.info,D=k.style.base;this.ctManager;var T=k.type;this.currentOptions;var M=this.ctmIsType("calendar")?Ri.lightenDark:this.ctmIsType("map")?"darkenmore":Ri.outline,I,O=this.ctmIsType("map"),F={},N=T.drawMarker||v.forceMarker||y(x,["marker","visible"])||(i?y(f,["marker","visible"]):y(x,["marker","visible"]));if(a=a||T.drawMarker,(b||!w)&&(I=this.info.style.defaultPoint)&&(!a||I.drawMarker))return I;f=po(f,{map:void 0,attributes:void 0,mapData:void 0}),f=Wc(f,x||{}),I=f.label||{};var j=f.marker||{},W=f.states||{},$=W.hover||{},Y=W.select||{},te=W.mute||{},ee=y(this.currentOptions,["mouseTracking","enabled"])!==!1,ae=te.enabled!==!1;ee=(W=h(Y.enabled)?Y.enabled:this.currentOptions.pointSelection!==!1||b&&!w)||ee&&$.enabled!==!1||$.enabled===!0;var q=b?f.color||D.color:this.getPointColors(f);if(typeof q=="object"&&q.color){var J=q.fill;q=q.color}var re=Mt(M,q);M=(T.labelVisible||I.visible)!==!1&&(!!y(I,["text","length"])||ge(I.text)||I.visible);var ce=le(f.opacity,1)*D.opacity,oe=this.getPointHatchStyle(f);if(!b&&f&&(this.info.type.seriesType==="candlestick"||this.info.type.seriesType==="ohlc")&&f.close<f.open){var pe=(i||{}).altColor||(x||{}).altColor;if(this.info.type.seriesType==="ohlc")pe&&f.color&&(f=se({},f),f.color=Mt(pe,f.color)),q=re=pe?Mt(pe,re):re;else{(pe=pe||D.altColor)&&f.color&&(f=se({},f),f.fill=Mt(pe,f.color)),q=pe?Mt(pe,D.altColor):D.altColor;var Se=!0}}J={color:J?Xo(J):q,opacity:ce,hatch:{style:oe},outline:{color:re,width:1}},D=u(J,f,{});var Te=T.isAnnotation?{color:function(ze){return ze},outline:{color:function(ze){return Mt(Ri.labelContrast,ze)},width:function(ze){return ze+2}}}:{color:function(ze){return Mt(Ri.hover,ze)}};if(T.isMapLayer&&T.drawLine&&(Te.outlineWidth=function(ze){return ze+2}),v=v.states||{},pe=un(["color","opacity"]),ee){var Ke=Vi({},v.hover||{},pe);$=se(Ke,$);var bt=u(D,$,Te)}if(ae){Ke=Vi({},v.mute||{},pe),te=se(Ke,te);var Ze=u(D,te,{opacity:function(ze){return .15*ze}})}if(W){var xe=v.select||{};Te=Vi({},xe,pe),Y=se(xe,Y),xe=u(bt,Y,{color:function(ze){return Mt("select",ze)},outlineWidth:function(ze){return ze+1}})}if(M&&(Y=I.color||y(I,["style","color"]),$=this.ctSvIs("columnType","cushion"),te=this.ctSv("chartType")==="map"&&this.ctSv("seriesType")==="marker"&&"#505050",Ke=I.align!=="center"&&I.verticalAlign!=="middle"&&T.drawMarker?q:D.color,C(Ke)==="object"&&(Ke=Mv(Ke)),I.color=Y||te||Mt(T.isMapLayer||T.isAnnotation?Ri.labelContrast:Ri.label,Ke),Y||$||(I.hcColor=Mt(Ri.labelContrast,Ke))),(a||N)&&(te=Ke=$=$=void 0,Te=ee&&d(f,"hover",v.hover||{}),te=W&&d(f,"select",v.select||{}),Y=ae&&d(f,"mute",v.mute||{}),J.marker=$={color:q,size:10,opacity:ce,hatch:{style:oe},outline:{color:re,width:1}},oe=h(j.visible)?j.visible:!0,D.marker=$=u($,j,{}),oe||($.size=0),ee&&(oe=h(Te.visible)?Te.visible:oe,Ke=Vi({},v.hover||{},pe),bt.marker=Ke=u($,se(Ke,Te),{size:function(ze){return 1.2*ze},color:function(ze){return Mt(Ri.hover,ze)}}),oe||(Ke.size=0)),W&&(oe=h(te.visible)?te.visible:oe,Te=Vi({},v.select||{},pe),xe.marker=te=u(Ke,se(Te,te),{color:function(ze){return Mt("select",ze)},outlineWidth:function(ze){return ze+1}}),oe||(te.size=0),xe.marker=te),ae&&(Ke=Vi({},v.mute||{},pe),Ze.marker=u($,se(Ke,Y),{opacity:function(ze){return .15*ze}}))),j={},J=a?D.marker:D,oe=j[""]=A_(Zo(J)),ee&&(J=a?bt.marker:bt,j.hover=A_(Zo(J))),W&&(J=a?xe.marker:xe,j.select=A_(Zo(J))),ae&&(J=a?Ze.marker:Ze,j.mute=A_(Zo(J))),!T.isMapLayer||T.drawLine||a||T.seriesType==="bubble"||(j[""]["stroke-linejoin"]="round",j[""].zIndex=this.zIndex,ee&&(j.hover.zIndex=this.zIndex+1),W&&(j.select.zIndex=0)),T.seriesType==="bubble"&&h(f.zIndex)&&(j[""].zIndex=f.zIndex),k.hasSubvalues&&(bt=y(f,["subvalue","line"])||{},J={opacity:ce,outline:{width:le(bt.width,1),color:Mt(bt.color||re,q),length:bt.length,dashStyle:bt.dashStyle}},F[""]=Zo(J)),this.chart.use3D||Se||this.ctmIsType("venn")||!(O||T.drawRect||T.isShape&&!T.isPie||this.ctmIsType("heatmap")||this.ctmIsType("calendar")||this.ctmIsType("treemap"))||b||(Se={},(O=y(this,["indexer","data","coordinates"]))&&(Se.pointData=O[f._i]),oe.fill&&oe.fill.stops||this.attrShader(j,Se)),T.drawArea===!1&&(j[""].fill="none",ee&&(j.hover.fill="none"),W&&(j.select.fill="none")),M){var $e=se({},I);$e=se($e,I.line),$e=Cs($e)}return T={baseColor:q,pointAttr:j,svAttr:F,labelVisible:M,labelConnector:T.labelConnector,labelConnectorAttr:$e,drawMarker:T.drawMarker,label:I},b||!w?k.style.defaultPoint=T:(T.isDefault=b,this.indexer.indexKeys(["color"],{},0),this.indexer.setValue("color",f._i,T.baseColor)),(N||a)&&(T.markerSize=D.marker.size),this.ctmIsType("gauge")&&this.ctSvIs("gaugeType","circular")&&(i=(i||{}).altColor||(x||{}).altColor)&&(T.pointAttr[""].altColor=Mt(i,q)),T},o.prototype.attrShader=function(i,a){var u=a.radAngle,d=this.ctManager,f=this.currentOptions,v=this.info.type.isRadarColumn,x=d.settingVal("columnType",f)||"default";if(d=d.settingVal("chartType",f)==="horizontal"||this.ctSvIs("linearGaugeType","horizontal"),f=!1,this.ctmIsType("map")){x="subtle";var b=this.chart.ctManager;b.settingVal("seriesType")==="map"&&(b=b.settingVal("columnType"),x=b!==x?b:x)}h(u)&&(d=u),this.ctSvIs("funnelShapeType","square")&&(x="square"),u==="le"&&(d=!0,f=!1),u={horizontal:d,inverted:f,isRadial:v},this.ctmIsType("calendar")&&(u.strokeMode="lighterOnDark"),this.ctmIsType("treemap")&&x==="cushion"?(v=this.renderRect,d=a.pointData.cxy,f=a.pointData.bbox,b=Rt(v),a=On(b),f=f[2]/b[2]+f[3]/b[3],u.offsets=[(a[0]-d[0])/v.width,(a[1]-d[1])/v.height],u.share=f):v&&a.pointData?u.lgCoords=this.pane.getShaderOptions(a.pointData.pathOptions):this.ctmIsType("gauge")&&this.ctSvIs("gaugeType","circular")&&(x=this.ctSvIs("seriesType","column")?"none":"subtle"),x==="roundcaps"&&(x="subtle"),wne(x,i,u)},o.prototype.getPointColor=function(i){return i=this.getPointColors(i),i.fill||i.color},o.prototype.getSP=function(){var i=this.chart,a=this.currentOptions.palette||this.chart.palette,u=C(a)==="object",d;if((!u||!(a.stops||a.colors||a.ranges))&&this.ctmIsType("heatmap")){var f=this.indexer.calculations.z;f?(this.chart.palette=a=sN(u?a:{},[f.min,f.max]),this.chart.legends().each(function(v){return v.updateSp()})):this.chart.palette=a={colors:this.chart.palette}}return a.id&&(d=i.getSmartPalette(a.id)),d||i.getSmartPalette(a)},o.prototype.getPointColors=function(i,a){var u=this.info,d=u.type,f=u.style.base,v=this.currentOptions;u=u.type.colorByPoint;var x;if(a=a||d.drawMarker,d.isTree||(x=i.color),a){var b=i.marker||{},w=b.color;b=b.fill}return w&&(w=Xo(w)),w||x?x?{color:vo(x),fill:b||w}:{color:vo(f.color),fill:b||w}:(u?(d=v.palette||this.chart.palette,v=C(d),v==="string"&&(d=c_(d)),v==="object"?f=this.getSP().getPointColor(this,i):(i=this.indexer.getValue("cpbIndex",i._i),f=h(i)?d[i%d.length]:f.color),f=vo(f)):(f=i.color||f.color,d.varyPalette&&!i.color&&(v=i._i,i=xn(f),f=im(i[0],i[1],i[2]),x=h(v)?wR(1,v+1)[v]:Jo.random(),v=.03*x,.5<x&&(v=-v),f[2]=Mn(f[2]+v*f[2],0,1),f=Fc(f[0],f[1],f[2]),f=An([f[0],f[1],f[2],i[3]]),d.isVaryingColors=!0)),{color:f,fill:b})},o.prototype.getPointHatchStyle=function(i,a){a=this.info.type;var u=this.currentOptions,d=this.chart.currentOptions,f=d.defaultSeries||{},v=y(i,["hatch","style"]);return u=u.hatchPalette||d.hatchPalette||f.hatchPalette,v||(a.colorByPoint?(a=C(u),a!=="undefined"&&(a==="boolean"&&(u=xw("hatch")),i=this.indexer.getValue("cpbIndex",i._i),h(i)?v=u[i%u.length]:u&&(v=u[this._i%u.length]))):u&&(v=u[this._i%u.length])),v},o.prototype.getPointMarkerType=function(i){var a,u=this.info.style.base;return(a=y(i,["marker","type"]))||(this.info.type.colorByPoint&&!this.info.usesSmartPalette&&i?(a=this.indexer.getValue("cpbIndex",i._i),a=h(a)?a:i._i||0,a=pw[a%pw.length]):a=u.markerType),a},o.prototype.getUniqueColors=function(i){var a=this.info,u=a.type,d=[];if(a.hasUniqueStyles||u.colorByPoint){a=this.indexer.getKey("color");for(var f=0,v=a.length;f<v;f++)if(u=a[f]){if(u!==x&&(d.push(u),d.length===i))break;var x=u}}else d.push(this.info.style.base.color);return d},o.prototype.setColor=function(){var i=this.chart,a=this.options("palette")||i.palette;C(a)==="object"&&i.getSmartPalette(a).setPointSpValues(this)},o.prototype.invalidate=function(){return this.dirty=!0,this.seriesDirty.all(!0),delete this.info.style.defaultPoint,this},o.prototype.refresh=function(i){return this.dirty&&(this.chartArea.invalidate(),this.chartArea.chartAreaSet.enumerateData(),this.setDataInfo(),i!==!1&&this.chart.redraw(le(i,{animation:this.getAnimationConfig()})),this.chart.updateSideItems()),this},o.prototype.visible=function(i,a){var u=this.seriesDirty,d=this.chartArea;return h(i)?i!==this.isVisible&&(this.isVisible=i,this.dirty=!0,u.pos(!0),u.coord(!0),d.resetTimers()):(this.isVisible=!this.isVisible,this.dirty=!0,u.pos(!0),u.coord(!0),d.resetTimers()),this.dirty&&(this.legendEntry&&this.legendEntry.updateCheckbox(this.isVisible),d.series().each(function(f){return f.seriesDirty.pos(!0)}),a!==!1&&this.chart.redraw(a||{animation:this.getAnimationConfig()}),this.triggerUser(this.isVisible?"show":"hide")),this},o.prototype.getAnimationConfig=function(){return se({},this.userOptions.animation||this.chart.currentOptions.animation)},o.prototype.select=function(i,a){var u;h(i)&&(u=i),this.points().each(function(d){return d.select(i,a)}),this.setState(u?"select":"")},o.prototype.removePoint=function(i,a){-1<i&&(this.userPoints.splice(i,1),this.visualizer.updateInfo={action:"splice",at:i,count:0,del:1},this.invalidate(),a!==!1&&this.refresh())},o.prototype.zoomTo=function(i){var a=this.ctmIsType("calendar");this._points.length&&this.ctmIsType("map")?(a=this.chart.geoParser.getSeriesBBox(this),a[2]===0&&a[3]===0&&(a=Vr(a,[.01,.01])),this.chart.zoom(a,i)):a&&this.chart.zoom(this.currentOptions.attributes.date,i)},o.prototype.remove=function(i){var a=this.chartArea,u=sh(a._series,{id:this.id});-1<u&&(a.spliceSeries(u,1,[]),this.triggerUser("remove"),i!==!1&&a.chart.redraw())},o.prototype.yAt=function(i){var a=this.indexer;if(a.data.y)return this.interpolate("x","y",i);if(a.data.ys&&a.data.ye)return[this.interpolate("x","ys",i),this.interpolate("x","ye",i)]},o.prototype.interpolate=function(i,a,u){var d=this.indexer;if(this.xAxis.dataType==="time"&&typeof u=="string"&&d.uniqTypes.x[0]==="number"&&(u=Date.parse(u)),i=d.findInterpolatedInfo(i,u),i.i!==-1)return 0<i.inter?(u=d.getValue(a,i.i),a=d.getValue(a,i.i+1),rt(u,a,0,1,i.inter)):d.getValue(a,i.i)},o.prototype.getCalcCache=function(){return pre(this)},o.prototype.replaceTokens=function(i,a){return J7(i,this,a||this.getFormatInfo())},o.prototype.tokenValue=function(i){return this.replaceTokens({token:i})},o.prototype.getMapData=function(){var i=y(this.info,["map"]);return typeof i=="string"||i&&0<$n(i).length?i:(i=y(this.userOptions,["map"])||{},typeof i=="string"||i&&0<$n(i).length?i:y(ct,["JSC","internal","_modules","maps","geo",this.userOptions.mapDataId]))},o.prototype.setMapData=function(i){return St(this.info,"map",i),this},o.prototype.getConfig=function(){var i=ke({},this.userOptions);return i.points=this.userPoints,i},o}(ca),oue=function(){function s(o){this.series=o,this.setAll(!0)}return s.prototype.setAll=function(o){this.pointData(o),this._coord=this._pos=this._points=o,this.series._ctSvCache=null,this.series._ctmIsTypeCache=null},s.prototype.any=function(){return this._pointData||this._pointIndex||this._points||this._pos||this._coord},s.prototype.points=function(o){var i=this;return i.getSet(o,i._points,function(a){return i._points=a})},s.prototype.pos=function(o){var i=this;return i.getSet(o,i._pos,function(a){return i._pos=a})},s.prototype.coord=function(o){var i=this;return i.getSet(o,i.series.visualizer.coordDirty,function(a){return i.series.visualizer.coordDirty=a})},s.prototype.pointData=function(o){var i=this;return o===!0?(i.pointIndex(o),i.series.chartArea.series().each(function(a){a.seriesDirty.pos(!0)}),i.resetCache(),i.series.chartArea.chartAreaSet._calcCache=void 0):o===!1&&i.pointIndex(o),i.getSet(o,i._pointData,function(a){return i._pointData=a})},s.prototype.resetCache=function(){this.series.calcCache=void 0,this.series.pgCalcCache=[]},s.prototype.pointIndex=function(o){var i=this;return i.getSet(o,i._pointIndex,function(a){return i._pointIndex=a})},s.prototype.all=function(o){this.setAll(o)},s.prototype.getSet=function(o,i,a){if(h(o))a(o);else return i},s}(),IM=function(s){function o(i,a){return a=s.call(this,i,a)||this,a.items=i,a.kindObject=o,a.points=zi(Hr,M9(a),E9(a)),a}return e(o,s),o.prototype.options=function(i,a){var u=this.items.length?!1:a,d=this.each(function(f){f.options(i,u)});return!u&&a!==!1&&Ure(i)&&this.items[0].chart.redraw(a),d},o.prototype.remove=function(i){var a=[],u=this.items[0].chart;return K(this.items.slice(0),function(d){d.remove?d.remove(!1):a.push(d)}),this.items=a,u&&i!==!1&&u.redraw(i),this},o}(Hr),aue=function(s){function o(i,a){return a=s.call(this,i.chart,a)||this,a.marker=i,a.fillMod="axisMarkerY",a}return e(o,s),o.prototype.styleIconVisual=function(i,a){i=i.base;var u=this.marker.isRange(),d=se({},this.currentOptions),f=d.line,v=f.color||Mt("outline",d.color||"white");u?(St(d,"outline.color",v),u=Zo(d)):(St(d,"line.color",v),St(d,"line.width",Math.min(4,f.width)),u=Cs(d.line)),i&&i.attr(u),a.isStyled=!0},o.prototype.getIconPaths=function(i){var a=i[0],u=i[1],d=.8*u;return this.marker.isRange()?{base:sa.square(0,d,i[0],i[1]-2*d),extra:void 0}:{base:Er([[0,u/2],[a,u/2]],{isOpen:!0}),extra:void 0}},o}(AB),WB={top:"left",middle:"center",bottom:"left",left:"top",center:"middle",right:"bottom"},UB=function(s){function o(i,a){var u=s.call(this,i.chart,a,[i,a])||this;return u.axis=i,u.kind="AxisMarker",u.rootVisuals={path:void 0,label:void 0},u.invalid=!1,u._arrangeInfo={box:void 0,visible:!0,edgeBoxes:[],labelSizes:[],possible:[],used:void 0},u.events={click:new qc},u.isHoriz=!i.isHoriz,u.options(a,!1),u}return e(o,s),o.prototype.init=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];a=l(i,2),i=a[0],a=a[1],h(a.value)?this.defaultContextOptions={legendEntry:{value:a.value.pop?i.prefix==="x"?"%xmin - %xmax":"%min - %max":"%value"}}:this.invalid=!0,this.axis=i},o.prototype.defaultOptions=function(){if(this.axis){var i=this.axis.options("defaultMarker");return se({color:"#a6bce3",opacity:.8,line:{width:1,onTop:!1},labelPadding:5,legendEntry:{color:"#3a3e4b",value:"%"}},i||{})}},o.prototype.options=function(i,a){var u=this.axis,d=this.optionsGetter(i);return d!=="NotGetter"?d:(h(i.low)&&h(i.high)&&(i.value=[i.low,i.high]),s.prototype.options.call(this,i,a),g(u.userOptions,"markers.length")&&se(u.userOptions.markers[this.getIndexInAx()],i),u.invalidate(),this.syncLegendEntry(i),a!==!1&&(!this.chart.isRendered||!this.isRendered||this.options("label")||this.options("includeInScale")||h(i.value)&&this.legendEntry?(this.render(u.viewState),this.axis.chart.redraw(a)):this.render(u.viewState)),this)},o.prototype.normalizeOptions=function(i){i=s.prototype.normalizeOptions.call(this,i),_P(i,"color"),_P(i,"line.color");var a=i.value;return C(a)==="object"&&h(a.low)&&h(a.high)&&(i.value=[a.low,a.high]),i},o.prototype.click=function(i){this.trigger("click",i)},o.prototype.setRootVisuals=function(){return this},o.prototype.setAttribs=function(){var i=this.currentOptions,a=this.axis;return this.isRange()?(a=a.prefix==="x"?wi.axisMarkerX:wi.axisMarkerY,i={fill:Bc(a,Xo(i.color,1-le(i.opacity,1)))}):i=Cs(se({color:i.color,opacity:i.opacity},i.line)),this.attribs={path:i,label:void 0},this},o.prototype.render=function(i,a){this.setOptions().setRootVisuals().setAttribs();var u=this.currentOptions;i=this.axis;var d=u.label||{},f=this.rootVisuals,v=this.renderer.renderer,x=this.value();if(x.length!==0){var b=this.visualTarget(),w=g(u,"line.width"),k=i.getCaPath(x,b,void 0,{lineWidth:x.length?0:w,forMarker:1});return w=!f.path,this.invalid=!i.valVisible(x),v=f.path=f.path||this.bindEventsOn(v.path()),(v.parentNode!==b.el||nt(v.parentNode))&&v.add(b),i=this.attrBuilder({d:k},this.attribs.path,a),i["fill-rule"]="evenodd",w?i.animation=!1:i.reset=!0,v.attr(i),(f=f.label)&&this.getText()&&(this._arrangeInfo.visible?(f.add(b),i=this.attrBuilder(Oa(d,void 0,u),{"pointer-events":"none"},a),(a=this._arrangeInfo.used)&&a.box||(a=this._arrangeInfo.possible[0]),a&&a.box&&(f.rootPanel.visible(!0),u=a.rotation,d=a.textAlignment[0],b=a.textAlignment[1],w=0<u,!w||this.axis.isHoriz||h(this.userOptions.label.rotate)||(u*=d==="right"?1:-1),x=0<u,v=w&&x?a.box[2]:0,x=w?x?0:a.box[3]:0,f.rootVisuals.text.attr({xContentAlignment:w?WB[b]:d,yContentAlignment:w?WB[d]:b,opacity:1}),i.rotate=[u,0,0],i.autoWrap!==!1&&(i.maxWidth=a.box[w?3:2]),i.offsetX=a.box[0]+v,i.offsetY=a.box[1]+x,i.zIndex=1,f.rootPanel.attr(i))):f.rootPanel.visible(!1)),this.isRendered=!0,this}},o.prototype.bindEventsOn=function(i){var a=this;return i.on("click",function(u){a.click(u)}),i},o.prototype.syncLegendEntry=function(i){var a=this,u=a.axis,d=u.chartArea&&a.chart.requestLegend(),f=function(v){if(u.isRadial){var x=We(a.chart.axes().items,function(b){return kd(b.childAxes,u)});return We(d.items,function(b){return(b=b.target.marker)&&b.axis===x&&sn(b.currentOptions.value,v.value)})}};d&&d.isVisible&&d.allowEntries()&&(a.legendEntry?(i&&h(i.value)&&a.legendEntry.target.options({value:i.value}),a.legendEntry.setColumns()):g(a.currentOptions,"legendEntry.visible")===!1||f(a.currentOptions)||(a.legendEntry=d.addEntry(new aue(a,_i(a.currentOptions,["id"]))).setColumns(),a.legendEntry.sortOrderValue=IB[a.kind]))},o.prototype.resetTimers=function(){g(this,"_arrangeInfo.used.time")&&(this._arrangeInfo.used.time=0)},o.prototype.visualTarget=function(){var i=this._visualTargets=this._visualTargets||this.axis.chartArea.getAxisMarkerVisualTargets();return this.options("onTop")?i.front:i.behind},o.prototype.attrBuilder=function(i,a,u){return i===void 0&&(i={}),a===void 0&&(a={}),u===void 0&&(u={}),i=se({},i,a,u),u.animation||(i=se(i,{animation:this.chart.options("animation")})),i.opacity=this.invalid?0:1,i},o.prototype.getText=function(){var i=this.axis,a=g(this.currentOptions,"label.text");return a&&-1<a.indexOf("%")&&(a=Kv(a,this,this.chart.getFormatInfo(void 0,"major")),a=i.chartArea.replaceTokens(a)),a},o.prototype.value=function(){var i=this.axis,a=le(this.currentOptions.value,this._value);return i.normUserValue(a)},o.prototype.isRange=function(){return this.value().pop!==void 0},o.prototype.getIndexInAx=function(){var i=this;return sh(this.axis.currentOptions.markers,function(a){return a.id===i.id})},o.prototype.remove=function(i){this.destroy(),this.legendEntry&&i!==!1&&(this.legendEntry.legend.chart.chartAreaSet.reflow(i),this.chart.isRendered&&this.chart.renderer.refresh())},o.prototype.destroy=function(){var i=this.rootVisuals;this.axis.removeMarker(this),i.path.destroy(),i.label&&i.label.destroy(),this.legendEntry&&this.legendEntry.destroy()},o}(ca),$B=function(){function s(o,i,a){this.axis=o,this.valToLin=i,this.range=bn(o.range),this.chartArea=a,this.inverted=o.isInverted(),this.breaks=o.breaks,this.caRect=bn(a.contentRect),this.isLog=o.isLog()}return s.prototype.equalsRange=function(o){var i=this.range,a=o.range;if(i.min===a.min&&i.max===a.max){e:{if(i=this.breaks,a=o.breaks,i&&a){if(i.length===a.length){for(var u=0,d=i.length;u<d;u++){var f=i[u],v=a[u];if(f=f[0]===v[0]&&f[1]===v[1]?!0:void 0,!f){i=void 0;break e}}i=!0;break e}}else if(i===a){i=!0;break e}i=void 0}if(i)return this.inverted===!0!=(o.isInverted()===!0)?void 0:!0}},s.prototype.equals=function(o){var i=this.caRect;if(this.equalsRange(o)&&(o=o.chartArea.contentRect,i&&o&&yP(i,o)===0))return!0},s.prototype.isValid=function(){if(this.caRect)return!0},s.prototype.rect=function(){return this.caRect=this.caRect||this.chartArea.contentRect},s}(),lue=function(){function s(){this.items=[]}return s.prototype.get=function(o,i){for(var a=this.items,u=0,d=a.length-1,f;u<=d;){if(f=Jo.floor((u+d)/2),o===a[f].value)return a[f];o<a[f].value?d=f-1:u=f+1}return i?u||0:void 0},s.prototype.add=function(o){var i=this.get(o,!0);if(C(i)==="number"){var a=i;i={value:o,clusters:{}},this.items.splice(a,0,i)}return i},s.prototype.toArray=function(){for(var o=this.items,i=[],a=0,u=o.length;a<u;a++)i.push(o[a].value);return i},s.prototype.getShortestRange=function(){var o=void 0,i=xoe;return 1<this.items.length?(K(this.items,function(a,u){u&&(u=a.value-o,u<i&&(i=u)),o=a.value}),i):1},s.prototype.getSmallestAbsValue=function(){var o=this.items,i=o.map(function(v){return Math.abs(v.value)}),a=Math.max.apply(Math,c(i)),u=a,d=0;for(o=o.length;d<o;d++){var f=i[d];0<f&&f<u&&(a=this.items[d].value,u=f)}return a},s.prototype.reset=function(){this.items=[]},s}(),YB={min:1,curly:3,measure:1.5},qw=function(s){return s&&s.kind==="Point"},XB=function(s){function o(i,a,u,d){return u=s.call(this,i.chart,u,[i,d,u])||this,u.axis=i,u._value=a,u.type=d,u.visuals={},u.tickLen=0,u.invalid=!1,u.isDestroyed=!1,u._age=0,u._isNew=!0,u._metrics=void 0,u._visible=!0,u._isRange=h(a)&&!!a.pop,F9(u),u}return e(o,s),o.prototype.init=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var u=l(i,3);i=u[0],a=u[1],u=u[2],this.defMinorTickOptions=u.defaultMinorTick,this.axis=i,this.type=a,this.defaultMutable=!1,this._isRange=h(u.value)&&!!u.value.pop,typeof u.target=="function"&&(this.target=u.target())},o.prototype.setType=function(i,a){this.type=i,a&&(this.userOptions.target=a),this.setOptions(),F9(this)},o.prototype.defaultOptions=function(){if(this.axis){var i=this.axis.currentOptions;switch(this.type){case"minor":i=this.defMinorTickOptions||se({},i.defaultTick,i.defaultMinorTick);break;default:i=i.defaultTick||{}}return i}},o.prototype.dependentOptions=function(){return[{option:["line.color","line.width"],check:function(i){return i},dependent:"line.visible",value:!0}]},o.prototype.px=function(i,a){return this._px=h(i)&&!ei(i)?i:void 0,this._pxPrev=h(a)&&!ei(a)?a:void 0,this._px},o.prototype.getTickTargetPanel=function(){var i=this.axis;return this.currentOptions.onTop?i.chartArea.rootVisuals.gridLinesFront:i.chartArea.rootVisuals.gridLinesBehind},o.prototype.options=function(i,a){var u=this.optionsGetter(i);return u!=="NotGetter"||(i&&(h(i.value)&&(this._needUpdateText=this._value!==i.value,this._value=i.value,this._isRange=!!i.value.pop),typeof i.target=="function"&&(this.target=i.target())),u=s.prototype.options.call(this,i,a),nt(a)&&Xi(i)&&!this.chart.dirty&&this.axis.options({})),u},o.prototype.setRootVisuals=function(){var i=this.axis,a=this.getTickTargetPanel();return i&&!this.rootVisuals&&(this.rootVisuals={ticks:i.rootVisuals.tickSpacer,labels:i.rootVisuals.main,gridLines:a}),this},o.prototype.bindEvents=function(){var i=this;if(i.visuals){var a=i.hasUserEvent("click"),u=i.visuals.labelText;a=a?"pointer":"default",u.on("vclick",function(d){return i.click(d)}),u.on("mouseover",function(d){return i.mouseover(d)}),u.on("mouseout",function(d){return i.mouseout(d)}),u.attr({cursor:a})}return i},o.prototype.mouseover=function(i){var a=this.target,u=this.chart.touched(),d=this.axis.prefix==="x";if(this.triggerUser("mouseOver",i)!==!1&&a&&qw(a)){var f=a.series;nA(this)&&(i=U_(this).debounce,a=d?a:f,i.clear("unmute"),J3(a,"",Q3(this)||(d?"group":"series")),u&&i.defer("unmute",function(){bo(f.chart)},8e3))}},o.prototype.mouseout=function(i){var a=this.target;if(this.triggerUser("mouseOut",i)!==!1&&a&&qw(a)&&nA(this)){var u=a.series;U_(this).debounce.defer("unmute",function(){bo(u.chart)},230)}},o.prototype.click=function(i){var a=this.axis.prefix==="x",u=this.target;this.triggerUser("click",i)!==!1&&u&&(qw(u)&&nA(this)&&i.device!=="touch"?(i=u.series,U_(this).debounce.clear("unmute"),bo(i.chart)):i.device==="touch"&&(this.axis.chartArea.resetTimers(),qw(u)&&(U_(this),i=a?u:u.series,this.chart.highlighted===i&&bo(i.chart))))},o.prototype.setPos=function(){},o.prototype.value=function(){var i=this.axis,a=le(this.currentOptions.value,this._value);return i.normUserValue(a)},o.prototype.render=function(i,a){if(a===void 0&&(a={}),this.isDestroyed)return this;this.setOptions().setRootVisuals();var u=this.currentOptions,d=this.axis,f=d.chartArea,v=!1;i=this.visuals;var x=this.renderer,b={},w=x.renderer,k=this._metrics,D=d.isRadial,T=this._positionData,M=this.getVisualTargets(),I=this.value(),O=d.currentOptions.orientation,F=O==="top"||O==="right"||O==="opposite";if(this.type==="origin"){var N=(O=d.userOptions.originTick)&&O.enabled===!1;v=d.linToPos(this._px),(O||v!==0&&v!==1)&&!N&&(u=se({},u,d.currentOptions.originTick))}if(this._isSquished&&d.currentOptions.defaultHiddenTick&&(u=se({},u,d.currentOptions.defaultHiddenTick)),N=u.fill&&u.fill!=="none",h(this._metrics.px)){if(O=d.tickVisible(I)||u.internal,v=!i.tickLine&&!N,O||!v){v=void 0,v=Cs(u.line||{});var j=v["stroke-width"]||0;if(!N){var W=i.tickLine=i.tickLine||w.path().attr({opacity:0}).add(M.line),$=void 0;if(this._rngData)if(D=this._rngData.renderData)b=se({d:D.d},D.pathOptions);else{b={},D=d._rngData.origin;var Y=d.duV(u.placement==="inside"),te=D[Y.vc],ee=[];D=function(oe){var pe=[],Se=[];Se[Y.vc]=te,Se[Y.hc]=oe,pe.push(jc(M.tick,Se,j)),ty(pe,Y.o,le(u.line.length,5)),ee.push(Lr(pe))},D(this._metrics.px[0]),D(this._metrics.px[1]),b={d:Gn(ee)}}else $=T.tickPoints,T=D?$[0]:jc(M.tick,$[0],j),D=D?$[1]:jc(M.tick,$[1],j),b={d:T?Lr([D,T]):"M0 0"};$=this.attrBuilder(b,v,a),b={},W.attr($)}if(a.onCa){v=!i.gridLine,k=Ii(u.gridLine||{}),F=k.width==="column";var ae=N?!0:!d.autoHideGrid();v&&!eh(u.gridLine)||!M.grid||(yl(k,k,"visible","visible",function(oe){return oe==="auto"?ae:oe}),F&&(x=d.isStackedFull(),k.width=x?d.clusterWidth(this._value):d.clusterWidth(),k.caps=f.hasRoundCaps?"round":void 0,delete k.dashStyle),k=Cs(k),x=I,F?(F=k["stroke-width"],F==="column"&&(F=d.clusterWidth()),F&&(k["stroke-width"]=Math.round(F+j)),this._isRange&&(d.type==="category"||this.options("gridLine.center"))&&(x=Jf(I))):this._isRange&&this.options("gridLine.center")&&(x=Jf(I)),d=d.getCaPath(x,M.grid,void 0,{lineWidth:k["stroke-width"],multiShape:this._isRange}),i=i.gridLine=i.gridLine||w.path(d).attr({opacity:0}),i.parentNode&&i.parentNode===M.grid.el||i.add(M.grid),v=this.attrBuilder({zIndex:5,d},k,a),(d=y(v,["caps","size"]))&&d!==v["stroke-width"]&&(v.caps.size=v["stroke-width"]),i.attr(v))}else{v=Oa(P9(this,u.label)),w=k.text,St(u,"label.text",w);var q=this.angledAttr();if(b.val=w,b=this.attrBuilder(b,se({autoWrap:"default"},v),a),h(v.opacity)&&(b.opacity=v.opacity),b=_i(b,["rotate","x","y"]),f=q.rotate?q.rotate.length?q.rotate[0]:q.rotate:0,w=le(u.outline&&u.outline.width,1),v=Y7(u),I=g(d.currentOptions,"defaultTick.placement")==="inside",D=u.line.length,v=u.padding-(v?2*w:0),T={padding:f?0:v,radius:u.radius,corners:u.corners,fill:u.fill,outline:u.outline},!f&&N&&(T.shape={callout:{position:d.isHoriz?[.5,F!==I?1:0]:[F!==I?0:1,.5],size:[D,D]}}),q=se(q,$v(T)),N&&(q.zIndex=3),K(["animation","margin"],function(oe){b[oe]&&(q[oe]=b[oe],delete b[oe])}),!i.label){var J=i.label=x.box();if(i.labelText=x.textStack().add(J),J.add(M.label),this.bindEvents(),this.chart.inited){var re=b.opacity,ce=b.animation;J.renderer.isAnimationDisabled(b)||(q.opacity=0,J.await(function(){J.el.transition({middle:{to:{opacity:re}},end:{opacity:re},animation:ce})}))}}x=b.autoWrap!=="none"&&b.textOverflow!=="ellipsis",q.xContentAlignment=this.contentAlignment(),x&&(b.xContentAlignment=q.xContentAlignment),b.width=k.textSize[0],b.height=k.textSize[1],(this.isCrosshair||this.axis.prefix==="sp")&&(b.animation={duration:0}),i.labelText.attr(b),k=f?0:v,!f&&k&&(q.x-=k,q.y-=k),i.label.attr(q),Y7(u)&&!f&&(k=i.labelText.setPreliminarySize().getBbox(),x=i.label.getPaddingOffset(k.width,k.height),k=x.left,x=x.top,w&&(x-=w*(d.isHoriz?I&&F||!I&&!F?-1:1:0)),(k||x)&&i.label.attr({x:q.x-k,y:q.y-x}))}this.visible(O,a)}this._isNew=!1}return this},o.prototype.contentAlignment=function(){if(this._isRange&&this._rngData.rotate===!1&&this.currentOptions.enabled!==!1)return"center";switch(this.axis.sideIndex()){case 0:case 2:return"center";case 1:return"left";case 3:return"right"}return null},o.prototype.getVisualTargets=function(){return this.axis.getVisualTargets(this.currentOptions,this._isRange)},o.prototype.angledBounds=function(){var i,a=this.metrics().textSize;if(i=this.angledAttr())return zT([i.x,i.y,a[0],a[1]],i.rotate)},o.prototype.angledAttr=function(){var i=this.axis,a=i.currentOptions,u=this._positionData,d=u.textBBox,f=On(d),v=le(a.defaultTick.padding,3),x={x:d[0],y:d[1]},b=this.labelSize,w=b[0];if(b=b[1],h(this._cxyRotate))x.rotate=[this._cxyRotate,f[0]-d[0],f[1]-d[1]];else if((!this._isRange||this._isBaseRange)&&i.isHoriz){d=i.sideIndex(),d=d===0||d===1,f=g(a,"defaultTick.label.rotate"),a=le(f,a.autoRotate);var k=[0,0];if(i.labelMode==="angled"&&a){if(x.x+=u.textBBox[2]/2,a=TR(a),u=Ec(0,0,a-90,b/2).x,d?(x.x-=u,0>a?k=[0,b]:(k=[w,b],x.x-=w),i.isHoriz&&(x.y=i.tickMetricsData.getMaxLength()-this._metrics.tickLength-v-b)):(x.x+=u,0>a&&(k=[w,0],x.x-=w)),this._isBaseRange&&i.isHoriz){u=this.currentOptions.placement==="inside";var D=Sd(a)*Math.abs(Math.cos(a*Math.PI/180)),T=Math.abs(Math.sin(a*Math.PI/180));D*=w,b*=T;var M=Math.abs(this._metrics.px[1]-this._metrics.px[0]),I=Math.max(0,Math.abs(D)+Math.abs(b)-M);i=nt(f)?M/i.tickMetricsData.getMaxLength():1,x.x=I?x.x-(d?-1:1)*Sd(a)*(M*i/2-b/2):x.x-(d?-1:1)*D*i/2,u&&(x.y-=T*(w/2+v+this.tickLen))}x.rotate=[a,k[0],k[1]]}}return x.rotate||(x.rotate=[0,0,0]),x},o.prototype.metrics=function(i){i===void 0&&(i={});var a=this.currentOptions,u=this.axis,d=this.tickLen=le(y(a,["line","length"]),5),f=le(this.currentOptions.padding,3),v=this._px=u.getCaLen(this.value());if(u=u.valToAngle(this.value()),!th(a.label))return this.labelSize=[0,0],this._metrics={angle:u,px:v,textSize:[0,0],tickLength:d,tickPadding:f};var x=this.renderer,b=this.getText(),w,k;if((k=this._metrics)&&(k=this._metrics,a=a.label.style,a===void 0&&(a={}),k=k.text===b&&k.fontFamily===a.fontFamily&&k.fontSize===a.fontSize&&k.fontStyle===a.fontStyle&&k.fontWeight===a.fontWeight),k&&(w=!0),a=this._metrics||{},w)this._metrics=se(a,{tickLength:d,tickPadding:f,px:v,angle:u});else{w=Oa(P9(this)),x=x.textStack(),x.attr(se({autoWrap:"default",val:b},w));var D=x.composeCombinations()[0];k=[D.minSize.width.px,D.minSize.height.px],w.maxWidth&&(D=D.components[0].maxLineWidth,k[0]=h(D)?D:k[0]),D=void 0,!~b.indexOf(" ")||~b.indexOf("<br")||~b.indexOf(`
`)||~b.indexOf("</")||w.autoWrap==="none"||w.autoWrap==="default"||(x.attr({maxWidth:k[0]-1,autoWrap:"auto"}),D=x.composeCombinations()[0],D=[D.minSize.width.px,D.minSize.height.px]),k=this.labelSize=k,h(w.width)?k[0]=parseFloat(w.width):h(w.maxWidth)&&parseFloat(w.maxWidth)<k[0]&&(k[0]=parseFloat(w.maxWidth)),x.destroy(),this._metrics=se(a,{tickLength:d,textSize:k,primTextSize:k,altTextSize:D,text:b,fontFamily:w.fontFamily,fontSize:w.fontSize,fontStyle:w.fontStyle,fontWeight:w.fontWeight,tickPadding:f,px:v,angle:u})}return h(i.altTextSize)&&(d=this._metrics,d.textSize=this.labelSize=(i.altTextSize?d.altTextSize:d.primTextSize)||d.textSize),this._metrics},o.prototype.getText=function(){var i,a=this,u=a.currentOptions,d=a.axis,f=d.type==="category",v=a.value(),x=g(u,"label.text"),b=a.type+(a.isFirst?" first":""),w=d.getFormatInfo(Zt(v)?v[0]:v,b);w=w.culture+w.fStr;var k;typeof u.target=="function"&&(k=u.target());var D=k||(d.chartArea.replaceTokens?d.chartArea:d.chart);if(!a._formattedText||w!==a._formatInfoHash||a._needUpdateText){x||(a.type==="minor"?x=g(d.currentOptions,"defaultMinorTicklabel.text"):a.type==="major"&&(x=g(d.currentOptions,"defaultTicklabel.text"))),k=C(x);var T=d.getFormatInfo(void 0,"major");u=function(M,I,O){I=h(I)&&typeof I.pop=="function"&&I.length===2?{value:CF(I),min:I[0],max:I[1]}:{value:I,name:I},T.isTime&&O&&delete T.isTime,M=P_(M,I,T),a._formattedText=D.replaceTokens(M)},x?k==="function"?(x=le(x(function(M){return f&&M.pop&&M.length===2&&M[0]%.5===0&&M[1]%.5===0?yn(M[0],M[1])===1?vn(Jf(M)):[M+.5,M-.5]:M}(v)),"")+"",a._formattedText=x?P_(x,{value:v},(i={},i[d.prefix]=d.getFormatInfo(v,b),i)):""):k==="string"&&(i=kd(x,"%"),k=kd(x,"{"),i&&f&&typeof v.pop=="function"?u(x,d.format(v,{tickType:b},!0)):i||k?u(x,k?v:Ir(v,function(M){return d.format(M,{tickType:b})}),!k):a._formattedText=x):a._formattedText=d.type!=="category"?d.type==="time"&&v.length===2?d.format(v[0],{tickType:b}):Ir(v,function(M){return d.format(M,{tickType:b})}):d.format(v,{tickType:b}),a._formattedText=CF(a._formattedText),w=Ir(v,function(M){return d.getFormatInfo(M,b)}),v=w[0]||w,a._formatInfoHash=v.culture+v.fStr}return a._needUpdateText=!1,a._formattedText},o.prototype.invalidate=function(){return this.invalid=!0,this},o.prototype.validate=function(){this.invalid=!1},o.prototype.attrBuilder=function(i,a,u){return i===void 0&&(i={}),a===void 0&&(a={}),u===void 0&&(u={}),i=se(a,i),h(u.animation)?se(i,{animation:u.animation}):u===!1?i.animation=!1:i=se(i,{animation:this.chart.options("animation")}),this.invalid||(i.opacity=1),i},o.prototype.remove=function(i){this.destroy(),i!==!1&&this.axis.renderOnCa(i)},o.prototype.destroy=function(){var i=this,a=0,u=this.axis;-1<(a=u._ticks.indexOf(this))&&u._ticks.splice(a,1),km(u.currentOptions.customTicks,function(d){return d.id===i.id}),km(u.userOptions.customTicks,function(d){return d.id===i.id}),a=this.visuals,a.gridLine&&a.gridLine.destroy(),a.tickLine&&a.tickLine.destroy(),a.label&&a.label.destroy(),this.ciManager.remove(this)},o.prototype.visible=function(i,a){var u=this,d=this.visuals,f=function(x,b){x&&x.attr(u.attrBuilder({},{opacity:b?1:0},a))},v=function(x){f(d.gridLine,x),f(d.tickLine,x),d.label&&f(d.label.el,x),u._visible=x};i!==this._visible&&v(i)},o}(ca),Kw,fh=function(s){return s instanceof Date?s.getTime():s},cue=["scale","staticColumnWidth","spacingPercentage"],uue=(Kw={},Kw[1]={line:{visible:!0}},Kw[0]={line:{visible:!1}},Kw),hue=function(s){var o={scale:{type:"auto",defaultBreak:{type:"zigzag",line:{width:10,color:"#d6d6d6"}}},crosshair:{snapToData:!0,gridLine:{width:1,dashStyle:"longdash",color:"#BDBDBD",visible:!0},fill:"#fff",outline:{color:"#a9a9a9"},radius:3,corners:"round"},label:{align:"center",margin:5,style:{color:"#474747",fontSize:"13px",fontWeight:"normal"}},line:{color:"#A0A0A0",width:1},defaultTick:{gridLine:{width:1,color:"#e6e6e6",visible:"auto"},line:{color:"#e2e2e2",length:5},label:{offset:"0,0",style:{color:"#5f5f5f",fontSize:"12px"},margin:5},fill:"none",outline:"none",padding:3},defaultMinorTick:{gridLine:{width:1,color:"rgba(223,223,223,0.59)",dashStyle:"ShortDash"},line:{color:"#e2e2e2",length:4,width:1},padding:3,label:{style:{color:"#7b7b7b"}}},defaultHiddenTick:{label:{opacity:.05,offset:null},gridLine:{opacity:.2},line:{opacity:.5}},spacingPercentage:.2,originTick:{gridLine:{color:"#f0cfcd"}},autoRotate:-45};if(s.prefix==="y"){var i=s.range,a=i&&i.min,u=i&&i.max;if(h(a)&&h(u)){var d=Math.max(Math.abs(a),Math.abs(u));1e4<d&&(s.type||s.isLog()||(o.defaultTick.label.text=function(v){var x=s.currentOptions.formatString||"",b=x[0]==="c",w=x.slice(1);if(x=b?"c":"n",v){var k=(u-a)/(s._ticks.length||1),D=l(VF(d),2),T=D[1];return D=Math.pow(1e3,D[0]),k=Math.log(D/k)/Math.log(10),b=w||Math.max(b?2:0,0<k?Math.ceil(k):0),v/D!==Math.round(v/D)&&b++,"{%value/"+D+":"+x+b+"}"+T}return"{%value:"+x+(w||(b?2:0))+"}"}))}}if(s.isLog()&&(o.formatString="g10"),s.isHoriz||(se(o,{alternateGridFill:"#f7f7f7"}),delete o.autoRotate),s.prefix==="x"){var f=(i=s.range)&&i.min;i=i&&i.max,h(f)&&h(i)&&1e3<=f&&9999>=i&&(o.formatString="d")}return se(o,uue[s.chart.getStyling()])},qB=function(s,o){return!o&&s&&s.pop&&(o=s[1],s=s[0]),s>o&&(o=l([o,s],2),s=o[0],o=o[1]),[s,o]},OM=function(s){return{string:"string",category:"string",number:"number",date:"time",time:"time"}[s]||s},due=function(s){var o=s.type==="category",i=!!s.syncAxis,a=g(s.userOptions,"defaultTick.gridLine");if(s.prefix==="x"&&o){if(s.isHeatmap)return!0;if(a&&eh(a))return!1;var u=s.getSeriesColl().items,d=ai(fe(u,function(w){return w.yAxis}));a=s.isRadial;var f=function(){var w;try{for(var k=r(d),D=k.next();!D.done;D=k.next()){var T=D.value.range;if(!T||T.min!==0&&T.max!==0)return!1}}catch(I){var M={error:I}}finally{try{D&&!D.done&&(w=k.return)&&w.call(k)}finally{if(M)throw M.error}}return!0}(),v=ai(fe(u,function(w){return w.info.type.seriesType})),x=function(w){return Xt(w,function(k){return k!=="column"&&k!=="area"&&k!=="variwide"}).length===0};u=0<Xt(u,function(w){return w.info.hasYRanges}).length;var b=function(){var w;try{for(var k=r(d),D=k.next();!D.done;D=k.next()){var T=D.value;if(T){var M=T.getValToLin()(0);switch(s.sideIndex()){case 0:case 3:return M===0;case 1:case 2:return M===1}}}}catch(O){var I={error:O}}finally{try{D&&!D.done&&(w=k.return)&&w.call(k)}finally{if(I)throw I.error}}};return!a&&f&&b()&&!u&&x(v)&&o||o&&i}},pue=function(s){var o=s.chartArea;if(o.chartAreaSet&&o.axes&&!s.userOptions.alternateGridFill){var i=o.axes({prefix:"y"}).items.length;if(o=o.chartAreaSet.freeAxes.y.id,1<i&&s.id!==o)return!0}},Zw=function(s){function o(i,a,u){var d=s.call(this,i.chart||i,a,[i,u,a])||this;return d.serList=[],d.catList=[],d.dataPositions=new lue,d.clusterCounts={},d.originValue=void 0,d.min=void 0,d.max=void 0,d.breaks=[],d.events={setRange:new qc},d.isVisible=!0,d.type="",d.usedDataKeys=[],d.noData=!0,d.dataInfo={precision:0,seriesTypesUnique:[],serColl:void 0},d.isPrivate=!1,d.childAxes=[],d._ticks=[],d._markers=[],d.labelMode="normal",d.altGridFillVisuals=[],d.attribs={},d.initSizeMetrics=function(){d._sizeMetrics={clipped:[0,0],bbox:[0,0,0,0],length:0,size:[0,0],labelSize:[0,0],history:[]}},d.toPosition=function(f){var v=C(f),x=d.type==="category",b=d.type==="time";if(v==="string"){if(-1<f.indexOf("%"))f=d.chartArea.chartAreaSet.replaceTokens({token:f},d.getFormatInfo());else if(b)return d._toPosition(new Date(f).getTime())}else{if(f.pop)return v=typeof f[0],f=fe(f,function(w){return d.toPosition(w)}),x&&!d.isRadial&&v==="string"&&(f=Rn(f),f=Tm(f,-.5)),f;if(v==="object"&&b)return c3(f,d.range?d.range.min:d.min,d.range?d.range.max:d.max);if(x)return f}return d._toPosition(f)},d.toText=function(f){return f},d._toPosition=function(f){return f},d._autoTimeFormats={},d._incompatableTypes={stackedFull:"time"},d.overflowSize={tL:[0,0],bR:[0,0],margins:[0,0,0,0]},d._nRects=[],d.zoomRange=[],i.kind==="chartArea"&&(i._axes.push(d),(u==="x"?i.xAxis:i.yAxis).push(d),i.chartAreaSet._axes.push(d)),d.initSizeMetrics(),d.possibleKeys=ase(u),d.resetMetricsData(),d.initFP(),d.options(a,!1),d}return e(o,s),o.prototype.getFormatInfo=function(i,a){var u=!!a,d=u?"_formatInfo":"_formatInfoData";if(!this[d]||h(i)){var f={},v=this.currentOptions,x=this.dataType,b=0,w=!1;a&&(w=a.split(" "),a=w[0],w=w[1]==="first"),f.fStr=v.formatString,f.culture=v.cultureName||this.chart.currentOptions.defaultCultureName||"en-US",f.fStr?(f.fStrStrict=!0,f.precision=this.dataInfo.precision):x==="number"?(this.options("defaultTick.enabled")!==!1&&this.tickPositions&&this.tickPositions.all.length&&(b=xv(sse(this.tickPositions.all))),a=void 0,!u&&h(a=this.dataInfo.precision)&&(a=Math.min(a,3),a=Math.max(a,b),f.fStr="n"+a)):x==="time"&&(f.fStr=h(i)?{year:"yyyy",month:"MMM",day:"d",hour:"t",minute:"t",second:"T",millisecond:"fff"}[UA(i)]:"d",f.fStr=this._autoTimeFormats[a]||f.fStr,a==="major"&&w?f.fStr=this._autoTimeFormats.majorFirst:a==="minor"&&w&&(f.fStr=this._autoTimeFormats.minorFirst)),f.isTime=x==="time",!f.fStr||f.isTime&&h(i)||(this[d]=f)}return f||this[d]},o.prototype.format=function(i,a){var u=this;a=u.getFormatInfo(i,(a===void 0?{tickType:null}:a).tickType);var d=function(f){return h(f)&&f.toFixed&&-1<f&&u.catList.length>f?u.catList[f]:""};if(u.type==="category"){if(h(i)){if(i.pop&&i.length===2&&i[0]%.5===0&&i[1]%.5===0)if(yn(i[0],i[1])===1)i=vn(Jf(i));else return i=Rn(i),Ir([i[0]+.5,i[1]-.5],d);if(d=d(i))return d}}else{if(u.type==="time")return a=a.fStr,u.formatter(typeof a=="object"?a:void 0).formatDate(new Date(i),a);u.isStackedFull()&&(i*=100)}return u.formatter().formatNumber(i,a.fStr)},o.prototype.formatter=function(i){return i?new hy(this.currentOptions.cultureName||"en-US",i):(this._formatter||(this._formatter=new hy(this.currentOptions.cultureName||"en-US",{})),this._formatter)},o.prototype.init=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];a=l(i,2),i=a[0],a=a[1],i.kind==="chartArea"&&(this.chartArea=i),this.prefix=a,this.defaultContextOptions=g(this.chart,"typeContextOptions.axes."+a)||{};var u=i.ctManager||i.ctm;i.isHoriz||u&&u.isHoriz()?this.isHoriz=a==="y":a==="x"&&(this.isHoriz=!0),this.isRadial=!1,this.updateOptions={animation:this.chart.options("animation")},this.defaultMutable=!0},o.prototype.initFP=function(){var i=this;i.ticks=zi(Hr,function(){return i._ticks},function(){return 0},{push:function(a,u){i.userOptions.customTicks=i.userOptions.customTicks||[],i.userOptions.customTicks.push(a),i.setOptions(),u!==!1&&(i.render(void 0,u).renderOnCa(u),!i.valVisible(a.value)&&i.chart.redraw(u))}}),i.markers=zi(Hr,function(){return i._markers},function(){return 0},{push:function(a,u){lse(i,a,u),u!==!1&&i.renderOnCa(u),i.chart.chartAreaSet.reflow(u),u!==!1&&!i.valVisible(a.value)&&i.chart.redraw(u)}})},o.prototype.normalizeOptions=function(i){var a,u;if(i=s.prototype.normalizeOptions.call(this,i),(u=C(a=y(i,["scale","range"])))!=="undefined"){var d=function(f){return f=C(f),f==="number"||f==="string"};u==="array"?(i.scale.type==="time"&&(Be(a[0])&&(a[0]=bm(a[0])),Be(a[1])&&(a[1]=bm(a[1]))),St(i,"scale.range",{min:a[0],max:a[1]})):u==="object"&&(i.scale.type==="time"&&(Be(a.min)&&(a.min=bm(a.min)),Be(a.max)&&(a.max=bm(a.max))),h(a.min)&&!d(a.min)&&(a.min=void 0),h(a.max)&&!d(a.max)&&(a.max=void 0))}return h(y(i,["scale","invert"]))&&St(i,"scale.invert",y(i,["scale","invert"])===!0),K(i.markers,js),i.customTicks&&(i.customTicks=fe(i.customTicks,function(f,v){return typeof f=="number"?{value:f}:(f._lI=v,f)})),i},o.prototype.defaultOptions=function(){var i=this.chart.options("defaultCultureName");this.defaultContextOptions.cultureName=i||"en-US",i=hue(this);var a=this.chart.currentOptions.defaultAxis;return a&&se(i,a),this.defaultContextOptions?se(i,this.defaultContextOptions||{}):i},o.prototype.dependentOptions=function(){return[{option:["line.color","line.width","line.breaks"],check:function(i){return i},dependent:"line.visible",value:!0}]},o.prototype.options=function(i,a){var u=this.chart,d=u.currentOptions.defaultAxis||{},f=this.optionsGetter(i);if(f!=="NotGetter")return f;i=se({},i),i=this.normalizeOptions(i),this.invalidate(),f=(f=i.orientation)&&f!==this.userOptions.orientation;var v=$n(i);if(0<Qo(v,cue).length&&K(this.serList,function(b){return b.seriesDirty.all(!0)}),se(this.userOptions,i),this.setOptions(),h(v=this.options("visible"))&&(this.isVisible=v),this.currentOptions.staticDraggable&&(this._isDragHost=!0),i.events&&(v=i.events.setRange)&&this.events.setRange.on(v),(i.defaultTick||i.defaultMinorTick)&&this.ticks().each(function(b){se(b.defMinorTickOptions,i.defaultTick,i.defaultMinorTick),b.options({},!1)}),f&&this.isAdded&&this.resetVisuals(),f=this.rootVisuals,(i.label||d.label)&&f&&f.label&&f.label.options(this.currentOptions.label),h(N9(this))&&(d=this.getParentPanel(),(f=y(this.rootPanel,["parent"]))&&d&&f!==d&&(this.parentLayoutItem=d||this.renderer,this.rootPanel.add(d),this.applyCaOffset())),a!==!1){a=this.normalizeUpdateOpt({animation:u.currentOptions.animation},a),this.chartArea.invalidate(),this.setRange(),u.redraw(a);var x=!0}return u.triggerOptionsApplied("axis",this),!x&&this.afterUpdate(a),this},o.prototype.getParentPanel=function(i){var a=this.currentOptions;return i=i||y(this.rootPanel,["parent"]),h(a.caOffset)&&this.isVisible!==!1&&i&&i instanceof ky?i.parent:i},o.prototype.invalidate=function(){return this._formatter=this._formatInfoData=this._formatInfo=void 0,this.setOptions(),this},o.prototype.getRange=function(){var i=this.range;return{min:i.min,max:i.max,dataMin:this.min,dataMax:this.max}},o.prototype.getCategories=function(){return this.type==="category"?this.catList?this.catList.slice(0):[]:void 0},o.prototype.syncLegend=function(){K(this._markers,function(i){i.syncLegendEntry()})},o.prototype.setData=function(i){i===void 0&&(i=!1);var a=this,u=a.prefix,d=a.chartArea,f=a.currentOptions,v=g(f,"scale.syncWith")||"",x=d.isZoomLive(),b=[],w=0,k=[],D=d.ctManager,T=D.isType("heatmap")||D.isType("calendar");a.isHeatmap=T,D=a.chart.options("axisToZoom");var M=d.getZoomAxes()[0],I=u==="y"&&M&&(!D||D.indexOf("y")===-1)&&(M&&M.isZoomed||d.axes("x").isZoomed);if(a.options("type"),this._isDragHost)return this;if(d=a.dataInfo.serColl=a.getSeriesColl(function($){return $.isVisible}),a.options("type")==="map"){var O=!0;if(d.each(function($){O&&$.type!=="map"&&(O=!1)}),d=a.dataInfo.serColl=d.filter(function($){return $.type!=="map"}),O)return a.mapsOnly=!0,this}d.each(function($){return $.seriesDirty.pointIndex()&&$.setDataInfo()});var F=[];if(a.applyAxisSync(v,d))return this;var N=a.possibleKeys.slice(0);if(a.isStackedFull()&&N.splice(N.indexOf("y"),1),d.each(function($){k.push.apply(k,c(Qo($.indexer.getKeys(),N)))}),!k.length)if(f=y(f,["scale","range"]),!f||f.pop||h(f.min)||h(f.max)||(f=void 0),f&&v!=="none")a.data=f.slice?f.slice(0):[f.min,f.max];else return a.noData=!0,this;a.noData=!1,a.usedDataKeys=ai(k);var j=!0;a.serList=d.each(function($){var Y=$.indexer,te;if(F.push($.type),I&&$.xAxis.isZoomed){var ee=$.xAxis.range;if(ee=[ee.min,ee.max],$.info.labelTextInfo.xNotSorted){for(var ae=Y.data.x,q=Y.data.y,J=te=void 0,re=void 0,ce=void 0,oe=[],pe=0,Se=ae.length;pe<Se;pe++){var Te=ae[pe];(te===void 0||Te>ee[0]&&Te<te)&&(te=Te,oe[0]=pe),(J===void 0||Te<ee[1]&&Te>J)&&(J=Te,oe[1]=pe),Te<ee[1]&&Te>ee[0]&&(Te=q[pe],(re===void 0||re<Te)&&(re=Te),(ce===void 0||ce>Te)&&(ce=Te))}ae=[ce,re]}else oe=[Y.findInterpolatedInfo("x",ee[0]),Y.findInterpolatedInfo("x",ee[1])],oe=[oe[0].i+1,oe[1].i],oe[0]===-1&&oe[1]===-1?oe=void 0:(oe[1]===-1?oe=[oe[0]]:oe[0]===-1&&(oe[0]=0),oe.length===2&&(oe[1]++,oe[1]=Mn(oe[1],oe[0]+1,Y.lengths.x-1)),ae=[$.yAt(ee[0]),$.yAt(ee[1])])}for(pe=0,ee=a.usedDataKeys.length;pe<ee;pe++)if(q=a.usedDataKeys[pe],q==="svv"||q==="svxv"?te=Y.dataFlat[q]:(te=Y.getKey(q),oe&&(te=te.slice.apply(te,c(oe)),q==="y"&&(te.splice(0,0,ae[0]),te.push(ae[1])))),T&&(te=ai(te)),te&&te.length){for(J=b.length,re=0,ce=te.length;re<ce;re++)Se=te[re],j&&b[re+J-1]>Se&&(j=!1),b.push(Se);x?w=a.dataInfo.precision:(te=Y.uniqTypes[q])&&-1<te.indexOf("number")&&(w=Math.max(Y.countDecimals(q),w))}a.isHeatmap&&(b=ai(b)),W=W||$.info.labelTextInfo.xNotSorted||$.info.xIsSorted===!1||j===!1}).items;var W=u!=="x"?!0:W;return a.dataInfo={precision:w,seriesTypesUnique:ai(F),serColl:d},a.data=b,km(b,function($){return Qn($)||ei($)}),b&&typeof b[0]=="object"?(u=fe(b,function($){return $.getTime()}),a.dataSortedUniq=fe(Uc(W?Rn(u):u),function($){return new Date($)})):a.dataSortedUniq=Uc(W?Rn(b):b),a.invalidate(),!i&&a.detectType(),this},o.prototype.applyAxisSync=function(i,a){var u=this;if(i||(i=rse(this,a)),i=this.syncAxis=this.ciManager.exists(i)){this.min=i.min,this.max=i.max,this.range=bn(i.range),this.type=i.type,this.dataType=i.dataType,this.usedDataKeys=i.usedDataKeys.slice(0),this.catList=i.catList.slice(0),this._toPosition=i._toPosition;var d=g(i.currentOptions,"scale.type");return d&&!g(this.userOptions,"scale.type")&&(this.currentOptions.scale=this.currentOptions.scale||{},this.currentOptions.scale.type=d),i.type==="category"&&(a.each(function(f){f.reIndexStringVals(u)}),a.items.length||(this.dataPositions=bn(i.dataPositions),this.resetTicksLabels())),this.setViewState(!0),!0}},o.prototype.detectType=function(){var i=this,a=this,u=[],d;a.prefix;var f=[],v=a.usedDataKeys;if(a.mapsOnly)return a.dataType=OM("number"),this;var x=a.getSeriesColl().items;K(x,function(M){K(v,function(I){(d=M.indexer.uniqTypes[I])&&u.push.apply(u,c(d)),d&&d[0]==="string"?(f.push(M.indexer.getKey(I)),M._catCache=M._catCache||[],M._catCache[I]=M.indexer.getKey(I)):a.type==="category"&&d&&d[0]==="number"&&y(M._catCache,[I,"length"])&&f.push(M._catCache[I].slice(0))})}),f=fe(f,ai);var b=a.currentOptions.categories,w=b&&b.length;if(w)if(f.length){b=b.slice(0);var k=[];f.forEach(function(M){return k.push.apply(k,c(M))}),k=ai(k);var D=Xt(k,function(M){return b.indexOf(M)===-1});D.length?(f=b,f.push.apply(f,c(D))):f=b}else f=b;u=ai(u),D=u[0],1<u.length||(a.dataType=OM(D)),D=g(a.userOptions,"scale.type"),D=this.checkTypeCompatability(D,a.dataType)&&D||g(a.contextOptions(),"scale.type");var T=function(M){a.dataType=OM(a.type="category"),M.length&&Array.isArray(M[0])&&typeof M[0][0]=="string"&&(M=q7(M)),a.catList.length&&M.length&&a.catList.join("")!==M.join("")&&a.resetTicksLabels();var I=a.catList=M;a.childAxes&&K(a.childAxes,function(O){return O.resetTicksLabels()}),a._toPosition=function(O){return I.indexOf(O)}};return-1<u.indexOf("string")?(D==="time"?(a.dataType=a.type="time",a._toPosition=bm):a.chart.ctManager.settingVal("chartType")!=="map"&&T(w?f:q7(f)),K(x,function(M){M.reIndexStringVals(i)}),a.setData(!0)):-1<u.indexOf("date")?(a.dataType=a.type="time",a._toPosition=bm):-1<u.indexOf("number")&&f&&f.length?(T(f),a.dataType="number",a._toPosition=function(M){return M}):f&&f.length&&!D?(T(f),a.dataType="number",a._toPosition=function(M){return M}):D==="time"&&(a.dataType=a.type="time"),a.originValue=a.type!=="category"&&a.type!=="time"?0:void 0,this._duV=void 0,this},o.prototype.checkTypeCompatability=function(i,a){var u=!i||!a||this._incompatableTypes[i]!==a;return!u&&En.emit("warning",this.id,"incompatableAxisTypeOptions",{container:this.chart.getWrapper(),data:[i,a]}),u},o.prototype.getSeriesColl=function(i){var a=this,u=a.parentAxis||a;return i?typeof i=="function"?a.chart.series(function(d){var f;return((f=d[a.prefix+"Axis"])===null||f===void 0?void 0:f.id)===u.id&&i(d)}):(i[a.prefix+"Axis"]={id:u.id},a.chart.series(i)):a.chart.series(function(d){var f;return((f=d[a.prefix+"Axis"])===null||f===void 0?void 0:f.id)===u.id})},o.prototype.setRange=function(i,a){function u(j){var W=[],$=x.markers;j=j.getCustomTicks();var Y=[];$&&W.push.apply(W,c($)),j&&W.push.apply(W,c(j)),K(W,function(te){te.includeInScale&&(te=M(te.value),te.pop?Y.push.apply(Y,c(te)):Y.push(te))}),Y.length&&(W=[Math.min.apply(Math,c(Y)),Math.max.apply(Math,c(Y))],F=Math.max(F,W[1]),O=Math.min(O,W[0]))}var d=this,f=this,v=f.syncAxis,x=f.currentOptions,b=f.currentOptions.scale,w,k={axOptions:x,axLength:f._sizeMetrics.length},D=f.range,T=se({},f.range),M=f.toPosition;if(f.noData||f._isDragHost||f.mapsOnly)return this;f.snapToZero=!1,b.includeOrigin?k.snapZero=!0:f.type!=="time"&&(f.chartArea,f.prefix==="y"&&f.getSeriesColl({info:{type:{snapToZero:!0}}}).items.length&&(k.snapZero=!0)),f.snapToZero=k.snapZero,D=function(j){O=f.min=j[0],F=f.max=j[1]};var I=f.dataSortedUniq;if(I=[I[0],I[I.length-1]],e_(I)||!e_([f.min,f.max])){if(v?D([v.min,v.max]):(f.dataType==="time"?D(fe(I,f._toPosition)):D(I),u(this)),O===F)if(f.snapToZero&&0<O&&0>O-.2)var O=0,F=.2;else O-=.2,F+=.2;if(!v&&yl(k,f.userOptions,function(j,W){Qn(W)||(j.userMin=Qn(W.min)?void 0:M(W.min)-.2,j.userMax=Qn(W.max)?void 0:M(W.max)+.2)},"scale.range"),yl(k,f.userOptions,function(j,W){W!==null&&typeof W=="object"&&f.dataType!=="time"&&f.type!=="time"?En.emit("warning",f.id,"objInterval",{data:[f.prefix],container:d.chart.getWrapper()}):j.userInterval=W},"scale.interval"),!v&&f.setAutoScaleBreaks(),k.breaks=v?v.breaks:f.breaks,!v&&yl(k,f.currentOptions,function(j,W){C(W)==="array"&&(j.breaks=W)},"scale.breaks"),k.minInterval=g(x,"scale.minInterval"),k.userMinorInterval=b.minorInterval,D=y(x,["scale","maxTickCount"]),D=h(D)?Math.max(D-1,2):D,f.isZoomed)O=fh(f.zoomRange[0]),F=fh(f.zoomRange[1]),k.userMin=O,k.userMax=F,D=f.range=Yv(O,F,le(D,8),k),D.min=fh(O),D.max=fh(F);else{v=g(f.userOptions,"scale.range.min"),b=g(f.userOptions,"scale.range.max"),I=le(v,O);var N=le(b,F);f.isStackedFull()?(D=f.range=Yv(O,F,le(D,10),k),D.min=0,D.max=1):f.prefix!=="z"||k.snapZero?(D=f.range=Yv(I,N,le(D,8),k),f.type==="time"&&(D.min=O,D.max=F)):D=f.range={min:f.min,max:f.max},Qn(v)||(D.min=M(v)),Qn(b)||(D.max=M(b)),f.unZoomedRange={min:D.min,max:D.max}}return h(w=g(x,"scale.minorInterval"))&&typeof w=="number"&&(D.minorInterval=w),h(w=g(x,"scale.interval"))&&w&&w!=="auto"&&(D.interval=w),h(w=g(x,"scale.zoomLimit"))?f.zoomLimit=w:f.zoomLimit=f.viewState?Math.max(f.linToVal(5)-f.linToVal(0),.001*(f.max-f.min)):.05*(D.max-D.min),f.loadDPs().adjustRange().setViewState(i,a),T.min===D.min&&T.max===D.max||f.getSeriesColl({isVisible:!0}).each(function(j){return j.seriesDirty.pos(!0)}),this}},o.prototype.removeMarker=function(i){var a=this;i=this._markers.indexOf(i),km(this.currentOptions.markers,function(u){return u.id===a.id}),this._markers.splice(i,1)},o.prototype.adjustRange=function(){var i=this,a=i.snapToZero,u=i.min,d=i.max,f=i.isHoriz!==i.chartArea.isHoriz&&i.prefix==="x",v=.5,x=function(j){return y(i.userOptions,["scale","range",j])},b=x("min"),w=x("max"),k=x("padding");if(!i.syncAxis&&!i.isZoomed){if(x=i.range,i.isHeatmap)f=.5,i.type!=="category"&&(f=i.shortestValDistance/2),x.min=Qn(b)?u-f:i.normUserValue(b),x.max=Qn(w)?d+f:i.normUserValue(w);else if(h(k))f=0,ss(k)?f=yn(d,u)*k:i.type==="time"&&k.unit&&(f=p_(k).unitRange),u=[u-f,d+f],a&&(u=[Math.min(u[0],0),Math.max(u[1],0)]),x.min=Qn(b)?u[0]:i.normUserValue(b),x.max=Qn(w)?u[1]:i.normUserValue(w);else{a=i.getSeriesColl(function(j){return j.isVisible});var D=a.filter(function(j){return j.info&&j.info.type.drawRect});a=a.filter(function(j){return j.info&&j.info.type.seriesType==="bubble"}),k=0<D.items.length;var T=0<a.items.length;if((k||T)&&(v+=i.options("spacingPercentage")/2.2),i.type==="category")x.min=Qn(b)?u-v:b,x.max=Qn(w)?d+v:w;else{if(f&&!i.isLog()){var M=void 0,I=[],O=0;D.each(function(j,W){j.indexer.calculations.x&&(I.push(j.indexer.min("x"),j.indexer.max("x")),O=Math.max(O,j.indexer.data.x.length))});var F=I[0]===u&&I[1]===d;if(D.items.length&&I.length){var N=i.getShortestDistPerc();M=[Math.min.apply(Math,c(I)),Math.max.apply(Math,c(I))],N=(yn(d,u)||0)/Math.max(O-1,1),N*=v,F?(N===0&&(N=v),x.min=M[0]-N,x.max=M[1]+N):(x.min=Math.min(M[0]-N,x.min),x.max=Math.max(M[1]+N,x.max)),N=!0}I=[],O=0,a.each(function(j,W){j.indexer.calculations.x&&(I.push(j.indexer.min("x"),j.indexer.max("x")),O=Math.max(O,j.indexer.data.x.length))}),v=.1,D=I[0]===u&&I[1]===d,a.items.length&&I.length&&(M=[Math.min.apply(Math,c(I)),Math.max.apply(Math,c(I))],v*=M[1]-M[0],D?(x.min=M[0]-v,x.max=M[1]+v):(x.min=Math.min(M[0]-v,x.min),x.max=Math.max(M[1]+v,x.max)),N=!0)}x.min=Qn(b)?x.min:i.normUserValue(b),x.max=Qn(w)?x.max:i.normUserValue(w),N||i.type==="category"||i.isLog()||!f&&i.type!=="time"||(f=k?.05:T?.1:.02,f*=yn(x.max,x.min),Qn(b)&&(x.min=u-f),Qn(w)&&(x.max=d+f))}}i.isLog()&&i.minAbsValue&&(b=i.minAbsValue,w=Math.log(Math.abs(b))/Math.log(y(i.userOptions,["scale","logBase"])||10),u=function(j){var W=Math.floor(j);return .3>j-W?W-1:W},d=function(j){var W=Math.ceil(j);return .3>W-j?W+1:W},b=0>b?d(w):u(w),i.range.smLog=b,i.range.max===0?i.range.log[1]=b:i.range.min===0&&(i.range.log[0]=b)),i.unZoomedRange={min:x.min,max:x.max}}return this},o.prototype.setAutoScaleBreaks=function(){return this.autoScaleBreaks(),this},o.prototype.autoScaleBreaks=function(){function i(j){for(var W=[],$=0,Y=j.length;$<Y;$++)$&&W.push([j[$-1],j[$],j[$]-j[$-1]]);return W}function a(j,W){function $(te,ee){return te[2]-ee[2]}function Y(te,ee){return ee[2]-te[2]}j.sort(W?$:Y)}function u(j,W){function $(te,ee){return te[0]-ee[0]}function Y(te,ee){return ee[0]-te[0]}W===void 0&&(W=!0),j.sort(W?$:Y)}function d(j){var W=[];j[0][0];for(var $=0,Y=j.length;$<Y;$++)W.push(j[$][0]),W.push(j[$][1]);return[Math.min.apply(null,W),Math.max.apply(null,W)]}var f=this.dataSortedUniq,v=[this.min,this.max],x=this.max-this.min,b=0,w=0,k=100,D=[],T=g(this.userOptions,"scale.breaks.limit"),M=g(this.userOptions,"scale.breaks"),I=[];if(T){if(M=g(this.currentOptions,"markers")){x=0;for(var O=M.length;x<O;x++){var F=M[x],N=void 0;C(F.value)==="array"&&1<F.value.length?(N=this.toPosition(F.value[1]),f.push(N)):N=this.toPosition(F.value),(wo(v,N)||F.includeInScale)&&f.push(N)}f.sort(function(j,W){return j<W?-1:j>W?1:0}),x=(f[f.length-1]>this.max?f[f.length-1]:this.max)-(f[0]<this.min?f[0]:this.min)}for(v=i(f),a(v,!0),M=0;M<v.length;M++)O=v[M][2],f=O/x*100,O<.08*x&&(f<k&&(k=f),b++,w+=O);if(w/=b,0<b){if(f=.08/(k/100),f=x/f*(f-1),F=3>b?35:10>b?30:15>b?25:20>b?20:15,7>k&&1<=b){for(M=0,b=v.length;M<b;M++)N=v[M],O=N[2],O>10*w&&O/x*100>F&&D.push(N);for(a(D,!1),w=[],b=0,v=D.length;b<v&&b<T;b++)w.push(D[b]);for(D=w,T=b=0,w=D.length;T<w;T++)v=D[T],b<f?b+=v[2]:(D.splice(T--,1),w=D.length);if(D.length)for(T=d(D),T=T[1]-T[0],T=x-(T- -(.2*(x-T))),f=b=void 0,f=8<x/T*k?b=.4*T:b=.2*T,1<D.length&&(b=f=2*b),T=0,w=D.length;T<w;T++)k=D[T],this.type==="time"&&(k[0]=fh(k[0]),k[1]=fh(k[1])),k[0]+f>k[1]-b?(x=.2*k[2],k[0]+=x,k[1]-=x):(k[0]+=f,k[1]-=b),I.push(k)}u(I),this.breaks=I}else this.breaks=[]}else M&&(this.breaks=V9(this,M))},o.prototype.loadDPs=function(){var i=this,a=this,u=a.chartArea;if(u.kind!=="chartArea"||!u.isZoomLive()){var d=this.dataPositions;d.reset();var f=function(v){return v};K(this.serList,function(v){if(v.isVisible){var x=v.indexer.getKey(i.prefix);x=x.length?x:a.data.slice(0);var b=v.indexer.uniqTypes[i.prefix];b&&b[0]==="date"&&(f=function(T){return T.getTime()}),b=0;for(var w=x.length;b<w;b++){var k=d.add(f(x[b])),D=v.info.type;D.clusters&&(k.clusters[D.seriesType]=(k.clusters[D.seriesType]||0)+1)}}}),this.loadDPs_shortestDistance(),this.loadDPs_minAbsValue()}return this},o.prototype.normUserValue=function(i){var a=this.toPosition(i);return this.isRadial||this.type!=="category"||typeof i!="string"||(a=[a-.5,a+.5]),a},o.prototype.getShortestDistPerc=function(){return this.syncAxis?this.syncAxis.getShortestDistPerc():h(this.shortestValDistance)?this.shortestValDistance/(this.range.max-this.range.min):1},o.prototype.setTickPositions=function(){var i=this,a=i.currentOptions,u=a.scale||{},d=g(a,"defaultTick.enabled")!==!1,f=g(a,"defaultMinorTick.enabled")!==!1,v=i.range,x=[];a=[];var b,w=u.interval,k=u.minorInterval,D=i.getPointTicks(),T=i.getCustomTicks();i.pointTicks={values:D.map(function($){return $.value}),configs:D.map(function($){return $.config}),points:D.map(function($){return $.point})};var M=u.type&&u.type.toLowerCase().indexOf("log")===0,I=u.logBase||10;w&&w!=="auto"||(w=void 0);var O=function($){var Y=[];return K($,function(te){i.valVisible(te)&&Y.push(te)}),Y};if(M&&!h(w))d=function($,Y,te,ee){ee===void 0&&(ee=100);var ae=0,q=f&&k==="auto";q&&(b=b||[]);for(var J=function(){if(F=parseFloat(Math.pow(I,$).toFixed(7))*(te?-1:1),i.valVisible(F)&&x.push(F),$+=Y,q){var ce=F,oe=parseFloat(Math.pow(I,$).toFixed(7));rs(10,function(pe){pe&&(x.indexOf(ce)===-1&&Math.abs(ce)<Math.abs(oe)&&i.valVisible(ce)&&b.push(ce),ce+=F)})}re=ae++>ee||F>v.max||F<v.min};!re;)J();if(f&&k==="auto")for($=v.log[0];!re;){x.indexOf(F)===-1&&i.valVisible(F)&&b.push(F);var re=!0}},v.min===0?(d(v.smLog,1,!1),v.logMin=Math.log(x[0])/Math.log(I),i.valVisible(0)&&x.push(0)):v.max===0?(i.valVisible(0)&&x.push(0),d(v.smLog,1,!0),v.logMax=Math.log(Math.abs(x[x.length-1]))/Math.log(I)):0<v.min?d(Math.floor(v.log[0]),1,!1):0>v.max?d(Math.floor(v.log[1]),1,!0):(-1<v.min&&(d(Math.ceil(v.log[0]),-1,!0,1),v.logMin=Math.log(Math.abs(x[x.length-1]))/Math.log(I)),1>v.max&&(d(Math.ceil(v.log[1]),-1,!1,1),v.logMax=Math.log(x[x.length-1])/Math.log(I)),-1>=v.min&&d(v.logMax||v.smLog||0,1,!0),i.valVisible(0)&&x.push(0),1<=v.max&&d(v.logMin||v.smLog||0,1,!1)),v.logRange=x.length-1;else if(i.type==="category")d&&(x=O(i.dataPositions.toArray()),(d=i.catList)&&d.length&&x.length<d.length&&(x=O(d.map(function($,Y){return Y}))),i.isRadial||(x=x.map(function($){return[$-.5,$+.5]})));else if(i.type==="time")!d||w||k||u.minInterval?(d&&(x=i._getTimeTickPositions()),f&&h(k)&&(b=i._getTimeTickPositions(!0))):(d=i._getTimeTickPositionsAuto(),x=d.major,b=d.minor);else{if(u=w||v.interval,O=xv([v.min,v.max,u]),d){var F=vn(Jo.floor(v.min/u)*u,O);for(d=1,w=F;F<=v.max;)i.valVisible(F)&&x.push(F),F=vn(w+u*d++,O)}if(f&&h(v.minorInterval))for(O=xv([v.min,v.max,v.minorInterval]),F=vn(Jo.floor(v.min/v.minorInterval)*v.minorInterval,O),b=[],d=0,w=F;F<=v.max;)x.indexOf(F)===-1&&i.valVisible(F)&&b.push(F),F=vn(w+v.minorInterval*d++,O)}if(i.invalidate(),T){var N=[],j=[];for(d=0,u=T.length;d<u;d++)if(O=T[d],i.type!=="time"||typeof O.value!="object"||O.value.pop||typeof O.value.getMonth=="function")h(O.value)&&(M=w=i.toPosition(O.value),i.isRadial||i.type!=="category"||(typeof O.value=="string"&&(w=[w-.5,w+.5]),w.length===2&&(M=Tm(w,.1))),i.valVisible(M)&&(N.push(w),x.push(w)));else for(w=c3(O.value.pattern||O.value,i.min,i.max),M=0;M<w.length;M++)w[M].v=O.value,i.valVisible(w[M])&&(N.push(w[M]),x.push(w[M]));!j.length&&(j=void 0)}if(D&&D.length)for(d=0,u=D.length;d<u;d++){if(O=D[d],w=i.toPosition(O.value),!i.isRadial&&i.type==="category"){w=[w-.5,w+.5];var W=!0}i.valVisible(w)&&(N.push(w),x.push(w))}return i.tickPositions=Uc(W?x:Rn(x)),a.push.apply(a,c(x)),N&&(i.tickPositions.custom=N,a.push.apply(a,c(N))),j&&(i.tickPositions.cpPositions=j,a.push.apply(a,c(j))),b&&(i.tickPositions.minor=b,a.push.apply(a,c(b))),W=i.tickPositions.length===D.length&&W,i.tickPositions.all=Uc(W?a:Rn(a)),this},o.prototype._getTimeTickPositions=function(i){var a=this.range,u=this.options("scale."+(i?"minorInterval":"interval"));u&&u!=="auto"||(u=void 0);var d=p_(u||a.interval);i=y(this.currentOptions,["scale","maxTickCount"]),i=h(i)?Math.max(i,2):i;var f=le(i,10);return!u&&a.range/(d.unitRange*d.count)>f&&(d=p_(a.range)),a.timeInterval=d,i=d_(d,void 0,new Date(Math.round(a.min)),new Date(Math.round(a.max))),!u&&i[0].length>2*f&&(d.multiplier=Math.floor(i[0].length/f),i=d_(d,void 0,new Date(Math.round(a.min)),new Date(Math.round(a.max)))),this._autoTimeResult=a={intervals:i,pair:{major:{unit:d.unit,multiplier:d.count},minor:{unit:d.unit,multiplier:d.count}},sigUnits:CP(i)},this._autoTimeFormats=wP(a),i[0]},o.prototype._getTimeTickPositionsAuto=function(){var i=this.range;i=[new Date(Math.round(i.min)),new Date(Math.round(i.max))];var a=y(this.currentOptions,["scale","maxTickCount"]);return a=h(a)?Math.max(a,2):a,a=le(a,10),i=Rne(i[0],i[1],a,this.chartArea.isDragging&&this._autoTimeResult),a=i.intervals,this._autoTimeResult=i,this._autoTimeFormats=wP(i),{major:a[0],minor:a[1]}},o.prototype.loadDPs_shortestDistance=function(){var i=this.range;return this.shortestValDistance=this.dataPositions.getShortestRange(),this.shortestPercDistance=this.shortestValDistance/(i.max-i.min),this},o.prototype.loadDPs_minAbsValue=function(){this.isLog()&&(this.minAbsValue=this.dataPositions.getSmallestAbsValue())},o.prototype.isLog=function(){return rA(this,function(i){return i.toLowerCase().indexOf("log")===0})},o.prototype.isStacked=function(){return rA(this,function(i){return-1<i.indexOf("stacked")})},o.prototype.isStackedFull=function(){return rA(this,function(i){return i.toLowerCase()==="stackedfull"})},o.prototype.getValToLin=function(){return this.viewState?this.viewState.valToLin:void 0},o.prototype._getValToLin=function(){var i=this,a=i.range,u=i.breaks,d=i.isInverted(),f=d?[0,1]:[1,0];if(u.length){d=i._openRanges();var v=d.ranges,x=d.sum;return function(F){var N;return(N=wv(v,F))?rt(f[0],f[1],0,x,F-N[0]+N[2]):(N=wv(u,F))&&(N=wv(v,N[0]))?rt(f[0],f[1],0,x,N[2]+N[1]-N[0]):rt(f[0],f[1],a.min,a.max,F)}}var b=i.userOptions.scale||{};if(i.isLog()){var w=b.logBase||10,k=function(F){return F===0?F:Math.log(Math.abs(F))/Math.log(w)},D=function(F){var N=0>a.min*a.max;if(N&&-1<a.min)var j=a.logMin-a.log[0]-1;else j=a.min===0?a.logMin-1:a.log[0],N&&(1>a.max&&(j-=a.log[1]),j+=1);if(N&&1>a.max)var W=a.logMax-a.log[1]-1;else W=a.max===0?a.logMax-1:a.log[1],N&&(-1<a.min&&(W-=a.log[0]),W+=1);var $=a.logRange,Y=a.smLog;if(F===0)return 0<=a.min?0:0>=a.max?1:N&&-1>a.min&&1>a.max?1-Math.abs(W/$):N&&-1<a.min&&1>a.max?1-Math.abs(j/$):N&&-1<a.min&&1<a.max?Math.abs(j/$):Math.abs((Y-j)/$);if(0>F)return N&&(-1<a.min||1>a.max)?(a.log[0]-k(F))/$:N?(j-k(F)-1)/$:(j-k(F))/$;if(0<F)return N&&(j-=2*Y),N&&(1>a.max||-1<a.min)?1-(a.log[1]-k(F))/$:N?(k(F)+j+1)/$:(k(F)-j)/$};return d?function(F){return D(F)}:function(F){return 1-D(F)}}var T=i.fitRange,M=a.min,I=a.max,O=function(F){return rt(f[0],f[1],M,I,T?Mn(F,M,I):F)};return i.isStackedFull()&&i.type==="category"?function(F){var N=i._stackTranslators;return N=N?N.forward(F):F,O(h(N)?N:F)}:O},o.prototype._openRanges=function(i){var a=this.range,u=this.isInverted(),d=a.min,f=a.max,v=this.breaks;a=[];var x=0,b=0;if(v.length?(a=fe(kv(v,[d,f]),function(k){var D=[k[0],k[1],b];return b+=k[1]-k[0],D}),x=ER(a)):(a.push([d,f,0]),x=f-d),i){var w=[];for(i=0;i<a.length;i++)d=a[i],f=v=d[2]/x,v=v+(d[1]-d[0])/x+(i===a.length-1?0:-1e-14),w.push([u?f:1-v,u?v:1-f,{valRange:d}])}return{ranges:a,sum:x,posRanges:w}},o.prototype.linToVal=function(i,a){return this.posToVal(this.linToPos(i),a)},o.prototype.posToVal=function(i,a){var u=this.range;if(iA(u)){var d=u.min,f=u.max,v=this.isInverted(),x=[0,1],b=this._isDragHost?[d,f]:v?[d,f]:[f,d],w=this._openRanges(!0),k=function(D){return rt(b[0],b[1],x[0],x[1],D)};d=function(D){var T=wv(w.posRanges,D);if(!T)return k(D);var M=l(T[2].valRange,2),I=M[0];return M=M[1],I=v?[I,M]:[M,I],rt(I[0],I[1],T[0],T[1],D)},d=this.breaks.length?d:k,this.isLog()?(d=this.options("scale.logBase")||10,f=u.log[0],i=(v?i:1-i)*(u.log[1]-f)+f,u=Math.pow(d,Math.abs(i)),u<d&&(u=d*(u-1)/(d-1)),d=Sd(i)*u):this.isStackedFull()&&this.type==="category"?(u=this._stackTranslators,d=d(i),d=u?u.backward(d):d):d=d(i),d=a?Mn(d,Math.min.apply(Math,c(b)),Math.max.apply(Math,c(b))):d}return d},o.prototype.linToPos=function(i){return rt(0,1,0,this._sizeMetrics.length,i)},o.prototype.valToAngle=function(i,a){},o.prototype.isInBreak=function(i){return!!wv(this.breaks,i)},o.prototype.valVisible=function(i,a){var u=this.range,d=[u.min,u.max];a=h(a)?a:!!i.pop;var f=this.type==="category"&&a?.5:0;return i.pop?this.valVisible(i[0],a)||this.valVisible(i[1],a)?!(d[0]===i[1]||d[1]===i[0]):(i=Md(d,[i[0]+f,i[1]-f]))&&i.length:i-f>=u.min&&i+f<=u.max&&!this.isInBreak(i)},o.prototype.tickVisible=function(i){var a=!!i.pop;if(this.valVisible(i))return(a=-1<Ud(this.tickPositions.all,i))&&this.type==="category"&&i.length===2?this.valVisible(Tm(i,.1)):a;if(this.hasCalPatBreaks){var u=this.range;return u=[u.min,u.max],a?wo(u,i[0])&&wo(u,i[1]):wo(u,i)}},o.prototype.isInverted=function(){var i=le((this.currentOptions.scale||{}).invert,!1),a=this.prefix,u=a==="x",d=a==="y",f=a==="z";return a=a==="sp",(u||a)&&!this.isHoriz&&this.type&&this.type.match("category|string|time")&&(i=!i),(u||f||a)&&(i=!i),this.chartArea&&this.chartArea.isHoriz&&(u||d||a)&&(i=!i),a&&(i=!i),this.isRadial&&u&&!this.isHoriz&&(i=!i),i},o.prototype.clusterWidth=function(i){return h(i)?this.clusterWidthByValue(i):(i=this._sizeMetrics||{},le(this.options("staticColumnWidth"),this.getShortestDistPerc()*i.length*(1-this.options("spacingPercentage"))))},o.prototype.clusterWidthByValue=function(i){var a=this.getValToLin(),u=this.shortestValDistance/2;return this._sizeMetrics.length*(a(i+u)-a(i-u))},o.prototype.duV=function(i){i===void 0&&(i=!1);var a;if(!(a=this._duV)){a=void 0,a===void 0&&(a=!1);var u=this.isInverted(),d=this.sideIndex(),f=[-1,0],v=[0,-1],x=[1,0],b=[0,1],w=[u?1:-1,0],k=[u?-1:1,0],D=[0,u?1:-1];u=[0,u?-1:1],d=[{f:w,b:k,o:v,i:b,vc:1,hc:0},{f:D,b:u,o:x,i:f,vc:0,hc:1},{f:w,b:k,o:b,i:v,vc:1,hc:0},{f:D,b:u,o:f,i:x,vc:0,hc:1}][a?(d+2)%4:d],d.inside=a,a=V_(d)}return this._duV=a,a=this._duV(),i&&(a.o[0]*=-1,a.o[1]*=-1,a.i[0]*=-1,a.i[1]*=-1,a.inside=i),a},o.prototype.measure=function(i){var a=this.chartArea,u=this.viewState,d=this.rootVisuals,f=this.sideIndex();if(this.renderer,this._isZoomLive=a.isZoomLive&&a.isZoomLive(),g(this.currentOptions,"label.text"),u&&this.isVisible!==!1){var v=d.label.rootPanel.calculateMargin();if(i&&(this.rootVisuals&&this.applyCaOffset(),i.pop&&(i=this.viewState.caRect={x:0,y:0,width:i[0],height:i[1]}),i)){u=this.measure_ticks(this.chartArea.isRendering);var x=this.tickBounds=u.slice(0);if(this.isHoriz?x[1]+=f===2?i.height:-x[3]:x[0]+=f===1?i.width:-x[2],a.kind==="caPaneLinear"&&a.hasRoundCaps&&this.prefix==="x"&&(a=this.clusterWidth()/2,f=Rt(i),f=V3(f,this.isHoriz?[-a,0]:[0,-a]),this.tickBounds=Yn([f,x])),!u)return b;var b=i_(u,Rt(i));a=this._sizeMetrics.clipped,f=[0,0];var w=[0,0];return this.isHoriz?(x=this._sizeMetrics.clipped=[i.width,u[3]],this._sizeMetrics.length=i.width,f[0]=Math.abs(Math.min(0,u[0])),w[0]=u[2]+u[0]-i.width):(x=this._sizeMetrics.clipped=[u[2],i.height],this._sizeMetrics.length=i.height,f[1]=Math.abs(Math.min(0,u[1])),w[1]=u[3]+u[1]-i.height),(this.options("overflow")==="hidden"||this.chartArea.isDragging)&&(f=[0,0],w=[0,0]),this.overflowSize={tL:f,bR:w},!a.length||a[0]===x[0]&&a[1]===x[1]||this.rootVisuals.main.attr(this.isHoriz?{height:x[1],width:"*"}:{width:x[0],height:"*"}),i=d.label.getSize({width:this._sizeMetrics.length-v.horizontal.px}),this._sizeMetrics.labelSize=i,this.isHoriz?(d.labelContainer.attr({height:i[1]}),this.rootPanel.attr({width:0})):d.labelContainer.attr({width:i[1]}),this.rootPanel.setPreliminarySize(!0),d=this.rootPanel.getBbox(),d.width===0&&(this.prefix!=="sp"&&(d=kl(b)),this.isHoriz&&(d.height+=i[1]||0)),this.isHoriz?this.rootVisuals.labelContainer.attr({height:i[1]}):this.rootVisuals.labelContainer.attr({width:i[1]}),this._sizeMetrics.bbox=u,this._sizeMetrics.size=[d.width,d.height],this.setViewState(!0),this.setViewStateSize(),b=this._sizeMetrics.history,i=this._sizeMetrics.clipped,b.length===2&&(this._sizeMetrics.history=[b[1]]),this._sizeMetrics.history.push([Math.round(i[0]),Math.round(i[1])]),u[2]=d.width,u[3]=d.height,[0,0,d.width,d.height]}}else if(this.isVisible===!1)return this._sizeMetrics.length=this.isHoriz?i[0]:i[1],[0,0,0,0];return b},o.prototype.setLength=function(i){return this._sizeMetrics.length=this.isHoriz?i.width:i.height,this},o.prototype.requireReflow=function(){var i=this.currentOptions.defaultTick;if(i){var a=i.label;if(i.placement==="inside"||a&&a.placement==="inside")return!1}return i=this._sizeMetrics.history,i.length===2&&(this.isHoriz&&i[0][1]!==i[1][1]||!this.isHoriz&&i[0][0]!==i[1][0])},o.prototype.resetMetricsData=function(){var i={maxTextSize:[0,0],maxLength:0,maxRadiusLen:0,maxLengthRange:0,getMaxLength:function(){return i.overlapRange?Math.max(i.maxLength,i.maxLengthRange):i.maxLength+i.maxLengthRange}};this.tickMetricsData=i},o.prototype.measure_ticks=function(i){function a(){var xe=[],$e=g(f.currentOptions,"defaultTick.label.rotate")||0;if(f.isHoriz&&($e||f.currentOptions.autoRotate))return K(W,function(ze){if(!ze.invalid){var Ht=ze.angledBounds();th(ze.currentOptions.label)&&xe.push(Ht),ze.metrics().rotated=Ht}}),Yn(xe)}function u(xe){var $e=f._rngData=R9(f,xe);return xe=Yn(fe(xe,function(ze){return ze._positionData.bbox})),xe[1]=0,xe[$e.duV.vc+2]=$e.depth,xe}var d=this;i===void 0&&(i=!1);var f=this,v=f.viewState,x=[],b=[],w=[],k=[],D=[],T=[],M=f.isHoriz?1:0,I=f.isHoriz?function(xe,$e,ze){return($e&&xe.rotated?xe.rotated[3]:(ze&&xe.altTextSize?xe.altTextSize:xe.textSize)[1])+xe.tickLength+xe.tickPadding||0}:function(xe,$e,ze){return($e&&xe.rotated?xe.rotated[2]:(ze&&xe.altTextSize?xe.altTextSize:xe.textSize)[0])+xe.tickLength+xe.tickPadding||0},O=g(f.currentOptions,"defaultTick"),F=O.placement==="inside";O=g(O,"label.rotate")||0,O=f.isHoriz&&O!==0;var N,j=[],W=[],$=[],Y=function(){N=W_(f),N.valTicks,j=N.rngTicks,W=N.valArrange,$=N.rngArrange};if(v&&f.isVisible!==!1){f.setTicks(v).setAttribs(),Y(),f._rngData=ose(f,j),Y();var te=0;K(W,function(xe){if(xe.invalid)xm(d,xe);else{var $e=xe.metrics();th(xe.currentOptions.label)&&xe.currentOptions.placement!=="inside"&&(w.push($e.textSize[0]),k.push($e.textSize[1]),te+=$e.primTextSize[1],D.push(I($e)),T.push(I($e,!1,!0)),b.push($e))}}),Y=w.length?[Math.max.apply(Math,c(w)),Math.max.apply(Math,c(k))]:[0,0];var ee=D.length?Math.max.apply(Math,c(D)):0,ae=T.length?Math.max.apply(Math,c(T)):0;f.tickMetricsData.maxTextSize=Y,f.tickMetricsData.maxLength=ee,f.tickMetricsData.maxLengthAlt=ae,f.tickMetricsData.maxRadiusLen=0,Y=[];var q=void 0,J=!1;ee=nt(g(f.currentOptions,"defaultTick.label.rotate"))&&nt(f.userOptions.autoRotate)&&f.labelMode!=="angled",v=!f.isHoriz&&v.axisSize&&v.axisSize[1]>2*te,ae=[];for(var re=0,ce=W.length;re<ce;re++){var oe=W[re];if(!oe.invalid){var pe=xm(this,oe,{altTextSize:!1}),Se=pe.textBBox;q=q&&Rc(q,Se);var Te=v&&10<Se[2]/Se[3],Ke=q&&f.isHoriz,bt=y(oe.currentOptions,["label","autoWrap"])!==!1&&oe._formattedText&&!oe._formattedText.match(/<br\s*\/?>/);if(ee&&bt&&oe._metrics.altTextSize&&(Ke||Te)){if(!J&&q&&(J=W[re-1],pe=xm(this,J,{altTextSize:!0}),q=pe.textBBox,ae[ae.length-1]=pe.textLength,th(J.currentOptions.label)&&f.tickVisible(J.value())&&(x[x.length-1]=J._bbox,Y[Y.length-1]=q),!Rc(q,Se))){q=Se,J=!1;continue}pe=xm(this,oe,{altTextSize:!0}),Se=pe.textBBox,J=!0}else J=!1;ae.push(pe.textLength),th(oe.currentOptions.label)&&f.tickVisible(oe.value())&&(x.push(oe._bbox),Y.push(Se)),q=Se}}if(ae.length&&(f.tickMetricsData.maxLength=Math.max.apply(Math,c(ae))),O||f.isHoriz&&WR(Y)||i&&f.labelMode==="angled"){f.labelMode="angled";var Ze=a()||Ze}else f.labelMode="normal";f.labelMode==="angled"&&(D=[],K(b,function(xe){D.push(I(xe,!0))}),f.tickMetricsData.maxLength=Math.max.apply(Math,c(D)),x=[],K(W,function(xe){xe.invalid||(xm(d,xe,{tickPointsOnly:!0}),th(xe.currentOptions.label)&&x.push(xe._bbox))})),Ze=Yn(x)||[0,0,0,0],i=Xt($,function(xe){return xe._rngData.visible}),i.length&&(i=u(i),O=N.fullRangesLevel===0,Ze[M+2]=F?0:O?Math.max(i[M+2],Ze[M+2]):i[M+2]+Ze[M+2],f.tickMetricsData.maxLengthRange=F?0:i[M+2],f.tickMetricsData.overlapRange=O)}return M=f.currentOptions.caOffset,h(M)&&(f.isHoriz?Ze[3]=Math.max(0,Ze[3]+M):Ze[2]=Math.max(0,Ze[2]+M)),Ze||[0,0,0,0]},o.prototype.sideIndex=function(){var i=this.currentOptions.orientation;return i=i==="right"||i==="top"||i==="opposite",this.isHoriz?i?0:2:i?1:3},o.prototype.sideDepth=function(){var i=this._sizeMetrics.size;return this.isHoriz?i[1]:i[0]},o.prototype.autoHideGrid=function(){return h(this._autoHideGrid)||(this._autoHideGrid=due(this)),this._autoHideGrid},o.prototype.render=function(i,a){a===void 0&&(a=this.updateOptions);var u,d=this.viewState;this.renderer;var f=this.viewStatePrev;if((u=this.syncAxis)&&(d=this.viewState=bn(u.viewState),f=this.viewStatePrev=bn(u.viewStatePrev)),d){var v=se({},a);if(v.isTransitioning=this.isTransitioning,this.isVisible!==!1&&this.isAdded){i=i||this.chartArea.renderRect;var x=this.isTransitioning?[f,d]:d;(d.caRect=i)&&(this.measure(i),this._autoHideGrid=void 0,Zre(this),Qre(this),this.render_rngLines(i,v),K(this._ticks,function(b){return b.render(x,v)}),this.garbageCollection(),this.render_line(i,a),this.render_alignLabel())}else this.isVisible===!1&&this.isAdded&&this.resetVisuals();!a.invalidate&&this.validate()}return this},o.prototype.garbageCollection=function(){K(this._ticks.slice(0),function(i){i&&6<i._age&&i.destroy()})},o.prototype.render_alignLabel=function(){var i=this.currentOptions.label,a=this.sideIndex(),u=this._sizeMetrics.labelSize;this.isHoriz||(i.rotation=a===0||a===1?90:-90,a=On([0,0,u[1],u[0]]),this.rootVisuals.labelContainer.attr({offsetX:a[0]-u[0]/2,offsetY:a[1]-u[1]/2,rotate:[i.rotation,u[0]/2,u[1]/2]}))},o.prototype.renderOnCa=function(i,a){a===void 0&&(a=this.updateOptions);var u=this.viewState,d=this.viewStatePrev;(i=i||this.chartArea.renderRect)&&this.isVisible&&u&&(u.caRect=i,i=this.isTransitioning?[d,u]:u,this.renderGridLines(i,a),this.render_markers(i,a),this.validate())},o.prototype.renderGridLines=function(i,a){K(this._ticks,function(u){return u.render(i,se({onCa:!0},a))}),this.render_altGrid(i,a)},o.prototype.getGridLinesTarget=function(){var i=g(this.currentOptions,"defaultTick.gridLine.onTop"),a=this.chartArea.rootVisuals;return i?a.gridLinesFront:a.gridLinesBehind},o.prototype.render_altGrid=function(i,a){i===void 0&&(i=this.chartArea),a===void 0&&(a={});var u=this;i=I9(u.type==="time"?u.tickPositions.all:u.tickPositions);var d=u.renderer.renderer,f=u.attribs.altGrid,v=u.viewState,x=u.viewStatePrev,b=u.altGridFillVisuals,w,k,D=u.getGridLinesTarget(),T=function(){return K(b,function(W){return W.invalid=!0})},M=function(W){return We(b,function($){return $.value[0]===W[0]&&$.value[1]===W[1]})},I=function(W){W.visual.attr(se({opacity:0,d:u.getCaPath(W.value,D,v)},a))},O=x&&a!==!1;if(f&&f.fill!=="none"&&!pue(u)){T();for(var F=0,N=i.length;F<N-1;F+=2){var j=[i[F],i[F+1]];(w=u.getCaPath(j,D,v))&&((T=M(j))?(T.invalid=!1,T.visual.attr(se({d:w,opacity:1},a))):(O&&(k=u.getCaPath(j,D,x)),T={value:j,visual:d.path(se({d:k||w,opacity:0,animation:!1,zIndex:4},_i(f,["animation"]))).add(D),invalid:!1},b.push(T),j=se({d:w,opacity:1,"fill-rule":"evenodd"},f,a),O||(j.animation=!1),T.visual.attr(j)))}K(Xt(b,{invalid:!0}),I)}},o.prototype.init_markers=function(){var i=this.currentOptions.markers||[];if((i&&i.length||this._markers.length)&&!this._markers.length)for(var a=0,u=i.length;a<u;a++){var d=i[a];if(d.value&&d.value.pattern){var f=V9(this,[d.value.pattern]);d.value=fe(f,function(v){return v.slice(0,2)})}this._markers.push(new UB(this,d))}},o.prototype.render_markers=function(i,a){a===void 0&&(a={});var u=this;i=!u.isRadial;var d=u.currentOptions.markers||[];u.init_markers(),(d&&d.length||u._markers.length)&&(i&&ese(u._markers),K(u._markers,function(f){f.render(u.viewState,a)}))},o.prototype.render_line=function(i,a){var u=this;a=u.rootVisuals.line;var d=u.currentOptions,f=d.line,v=u.userOptions.line,x=u.chart.options("defaultAxis.line");f.visible=f.visible||(v?eh(v):!1)||(x?eh(x):!1),v=Cs(f),v.d=this.getLinePath(i),x=function(T){var M=0;return Jn(T).translate(function(I){var O=1e-4*M++;return[I[0]+O,I[1]+O]})};var b=u.options("line.breaks");if(b){var w=0;v.d=Jn(v.d).translate(function(T){var M=1e-4*w++;return[T[0]+M,T[1]+M]}),u.isRadial?i=Jn(v.d).length():(i=u.getLinePathPoints(i),i=Ea(i[0],i[1])),i=u.ticksToDashAttr(i,d.line.width,b),ke(v,i),v["stroke-linecap"]="round"}else if(f.caps&&(d=u.originValue,v.caps)){b=void 0,b={eachShape:!0,size:"300%"},h(this.originValue)&&(b.start={overflow:!0}),v.caps=Wc(v.caps,b);var k=u.duV();i=u.getLinePathPoints(i);var D=i[0][k.vc];b=function(T){var M=[];return M[k.vc]=D,M[k.hc]=u.getCaLen(T),M},h(d)&&u.valVisible(d)?(d=b(d),b=Lr([d,i[0]]).join(" "),b+=Lr([d,i[1]]).join(" "),v.d=b):h(d)&&(i=[u.range.min,u.range.max],0>=i[1]&&i.reverse(),b=Lr(i.map(b)),v.d=b,v.caps.start={type:"none"})}f=f.color,Be(f)&&-1<f.toLowerCase().indexOf("smartpalette")&&(f=f.split(/:/gi),(f=u.chart.getSmartPalette(1<f.length?f[1]:u.chart.palette))&&(f=f.getTraditionalStops(!1,[u.range.min,u.range.max]),u.isInverted()||(f=fe(f,function(T){return[1-T[0],T[1],T[2]]}),f=Rn(f,function(T){return T[0]})),v.stroke=Xo({stops:f,angle:u.isHoriz?0:90}),v.d=x(v.d)),v["stroke-opacity"]=1),a.attr(v)},o.prototype.render_rngLines=function(i,a){i={width:1,color:"#4c4c4c",dashStyle:"dash",opacity:.2},a=this.renderer;var u=this.rootVisuals.mainRng,d=g(this._rngData,"connectorLines"),f=this.rootVisuals.rngConnectors,v=[];if(d&&d.length){var x=Cs(i);K(d,function(b){Lr(b,v)}),x.d=Gn(v)}x?f?f.attr(x):f=this.rootVisuals.rngConnectors=a.renderer.path().attr(x).add(u):f&&f.attr({opacity:0})},o.prototype.setRootVisuals=function(){var i=this.renderer;if(!this.rootVisuals&&this.options("visible")!==!1){var a=i.panel({cssClass:"labelContainer"}),u=i.panel("stack:"+(this.isHoriz?"y":"x")),d=i.panel(),f=i.renderer.path().add(d),v=i.panel({zIndex:2}).add(d);i=new Uw(this.chart,this.currentOptions.label).add(a);var x=this.duV();0>x.o[x.vc]?(a.add(u),d.add(u)):(d.add(u),a.add(u)),this.rootVisuals={stack:u,main:d,label:i,labelContainer:a,line:f,mainRng:v},this.applyCaOffset(),this.rootPanel&&u.add(this.rootPanel),this.rootPanel=u}return this},o.prototype.applyCaOffset=function(){var i=this.currentOptions,a=h(i.anchorWidth)?i.anchorWidth:le(g((this.chartArea||this.chart.chartAreas(0)).currentOptions,"outline.width"),1)/2,u=this.duV();i=u.o;var d=u.hc;u=u.i.slice(0),u[d]=1,a=Wd([0,0],u,a),i=Wd(a,i,N9(this)||0),this.rootVisuals.stack.attr({offsetX:i[0],offsetY:i[1]})},o.prototype.setAttribs=function(){var i=this.isHoriz,a=this.currentOptions.alternateGridFill,u=C(a);i=this.isRadial?wi.altGridFillRad:i?wi.altGridFillX:wi.altGridFillY;var d={fill:a||"none"};return a&&a!=="none"?u!=="object"?d={fill:Bc(i,a)}:M_(d,a):d={fill:"none"},this.attribs.altGrid=d,this},o.prototype.setViewState=function(i,a){var u=this.viewState,d;return(d=this.syncAxis)?(this.viewState=bn(d.viewState),this.viewStatePrev=bn(d.viewStatePrev)):u&&u.equalsRange(this)&&u.isLog===this.isLog()?this.posDirty=!1:(u&&(this.isTransitioning=!0),this.viewStatePrev=u,this.coordinatesDirty=this.posDirty=!0,this.viewState=new $B(this,this._getValToLin(),this.chartArea),!i&&this.viewState.isValid()&&this.render(null,a),this.trigger("setRange",this.viewState.range)),this},o.prototype.setViewStateSize=function(){var i;return(i=this.viewState)&&(i.axisSize=this._sizeMetrics.clipped.slice(0),i.axisBBox=this._sizeMetrics.bbox.slice(0)),this},o.prototype.validate=function(){return this.isTransitioning=this.coordinatesDirty=this.posDirty=!1,this},o.prototype.getCaPath=function(i,a,u,d){var f=this;u===void 0&&(u=this.viewState),d===void 0&&(d=1);var v=h(i.pop),x=!1,b=i;if((!v||h(i[0])&&!h(i[0].pop))&&(b=[i]),typeof d=="object"){var w=d;d=le(w.lineWidth,1),w.posOnly,x=w.multiShape}var k="";return K(x&&v?i:b,function(D){D=f.getCaPoints(D,a,u,d),k+=Lr(D).join(" ")+(x||!v&&!f.isRadial?"":"Z")}),k},o.prototype.getCaPoints=function(i,a,u,d){u===void 0&&(u=this.viewState),d===void 0&&(d=1),i=this.toPosition(i);var f=!1;if(typeof d=="object"){var v=d;d=le(v.lineWidth,1),f=v.posOnly}var x=function(q){return Math.max(-1e6,Math.min(1e6,u.valToLin(q)))},b=u.caRect||u.chartArea.contentRect||u.chartArea.innerRect,w=u.chartArea,k=this.isHoriz,D=h(i.pop),T=w.rootVisuals.gridLinesBehind;if(v=function(q){return q=x(q),q=k?q*b.width:q*b.height,q=k?[[q,b.y],[q,b.y+b.height]]:[[b.x,q],[b.x+b.width,q]],(q.length===2?d9:jd)(a||T,q,d)},this.isRadial){var M=Rt(b),I=M[2],O=M[3],F=M[1],N=M[0];M=w.getRadarType();var j=function(q){return f?[q[0],q[1]]:[N+q[0]*I,F+q[1]*O]},W=this.interpolationAxis;if(this.isHoriz){var $=w.projection.val2linxy,Y=function(q,J){return j($(q,J))};M==="polar"?v=function(q){return q=x(q),[Y(q,0),Y(q,1)]}:D||(Y=w.projection.webVal2linxy,v=function(q){return q=x(q),[Y(q,0),Y(q,1)]})}else if(!this.isHoriz){var te=w.projection.val2linxy,ee=W.getTicksPos();v=function(q){var J=x(q);return fe(ee,function(re){return j(te(re,J))})}}}if(D){w=v(i[0]),v=v(i[1]).reverse();var ae=this._duV();(i[0]===i[1]||1>yn(w[0][ae.hc],v[0][ae.hc]))&&(v=v.map(function(q){return Il(q,ae.f)})),w.push.apply(w,c(v))}else w=v(i);return w},o.prototype.ticksToDashAttr=function(i,a,u){a===void 0&&(a=1),u=u||{},Al(u,{gap:.01,cap:!0,invert:!1});var d=this,f=u.custom,v=[],x=0,b={},w=d.getTicksPos();f?(w=f,1<Math.max.apply(Math,c(f))&&(w=fe(f,function(D){return d.viewState.valToLin(D)}))):w=f||d.getTicksPos(),a=2*(i*u.gap/2+(u.cap?a/2:0))/i,w[0]>w[w.length-1]&&(w=fe(w,function(D){return 1-D})),w=IT(w,[0,1],a);var k=kv(w,[0,1]);return K(k,function(D,T){var M=T===k.length-1,I=M?void 0:k[T+1],O=D[1]-D[0];T===0&&0<D[0]&&(x=D[0]*i),v.push(O*i),I&&v.push((I[0]-D[1])*i),M&&1>D[1]&&v.push((1-D[1])*i+2)}),u.invert&&v.unshift(0),b["stroke-dasharray"]=v.join(","),x&&(b["stroke-dashoffset"]=-x),b},o.prototype.getCaLen=function(i,a){a===void 0&&(a=this.viewState);var u=a.caRect||a.chartArea.contentRect,d=this.isHoriz,f=a.valToLin;return Ir(i,function(v){return v=f(v),d?v*u.width:v*u.height})},o.prototype.getLinePath=function(i){var a=this.currentOptions,u=l(this.getLinePathPoints(i),2),d=u[0];return u=u[1],a=Cs(a.line),this.breakLine(i,[d,u],a["stroke-width"])},o.prototype.getLinePathPoints=function(i){i=g(this.currentOptions,"defaultTick.placement")==="inside";var a=this.range,u=i?0:this.tickMetricsData.getMaxLength();switch(i=this.getCaLen(a.min),a=this.getCaLen(a.max),this.sideIndex()){case 0:var d=[a,u],f=[i,u];break;case 1:u=[0,a],f=[0,i],d=u;break;case 2:u=[a,0],f=[i,0],d=u;break;case 3:d=[u,a],f=[u,i]}return[f,d]},o.prototype.breakLine=function(i,a,u,d){var f=this,v=f.currentOptions,x=f.rootVisuals.main,b=[],w=a[0][0],k=a[0][1],D=f.isInverted();a=(g(v,"scale.defaultBreak.type")||"").toLowerCase(),a=a==="gap"||a==="zigzag"?g(v,"scale.defaultBreak.line.width")/2:0;var T=i.y,M=i.x,I=i.x+i.width,O=i.y+i.height;i=f._openRanges();var F=function(j){return f.isHoriz?[j,k]:[w,j]},N=function(j,W){var $="";W=D?-W:W,f.isHoriz&&(W=-W);for(var Y=0,te=j.length;Y<te;Y++){var ee=j[Y],ae=f.getCaLen(ee[0]),q=f.getCaLen(ee[1]),J=(h(v.anchorWidth)?v.anchorWidth:le((f.chartArea||f.chart.chartAreas(0)).options("outline.width"),1))/2,re=F(ae>q?ae+J:ae-J),ce=F(q>ae?q+J:q-J),oe=F(ae),pe=F(q);pe=[oe,pe],f.isHoriz?(pe.push([oe[0],T]),pe.push([oe[0],O])):(pe.push([I,oe[1]]),pe.push([M,oe[1]])),oe=ws(ir(pe),-.5),b.push(oe),1<j.length&&Y<j.length-1&&(ce=F(f.getCaLen(ee[1])+(q>ae?J-W:W-J))),Y&&(re=F(f.getCaLen(ee[0])+(ae>q?J-W:W-J))),x&&(ee=d9(x,[re,ce],u,J||void 0),re=ee[0],ce=ee[1]),$+=Gn(Lr([re,ce]))}return $};return f._nRects=b,N(d?Cv(i.ranges,d):i.ranges,a)},o.prototype.getBreakRects=function(){return this._nRects.slice(0)},o.prototype.resetTimers=function(){K(this._markers,function(i){return i.resetTimers()})},o.prototype.getPointTicks=function(){var i=this,a=i.dataInfo.serColl,u=i.prefix,d=u+"AxisTick",f=i.type==="category",v=f&&u==="x";i.chartArea;var x=i._isZoomLive,b=!!i.syncAxis,w=i.usedDataKeys;if(a&&!a.items.length&&i.syncAxis)a=i.syncAxis.dataInfo.serColl;else if(a&&!a.items.length){a=i.chart.series().filter(function(N){return N.isVisible});var k=!0}else i.parentAxis&&(a=i.parentAxis.dataInfo.serColl);if(!x){var D=[],T=[],M=function(N){var j=N&&N.series[(u==="x"?"y":"x")+"Axis"];if(j)return j.getValToLin()(u==="x"?N.y:N.x)},I=function(N,j,W,$,Y){if($=v?le($.name,$.x):i.isStacked()&&Y.hasKey(u+"s")?[Y.getValue(u+"s",j),Y.getValue(u+"e",j)]:le($[u],Y.getValue(u,j),Y.getValue(w[0],j)),$=f&&typeof $=="number"?[$-.5,$+.5]:i.normUserValue($),W={point:function(){return N._points.length||N.setPoints(),N._points[j]},config:W,value:$},Y=We(D,{value:$})){var te=Y.point(),ee=W.point();if(te!==ee)switch(te=M(te),ee=M(ee),i.sideIndex()){case 0:case 3:var ae=te>ee;break;case 1:case 2:ae=te<ee}else ae=!0}Y?ae&&(m(D,Y),D.push(W)):(D.push(W),T.push($))},O=function(N,j){var W=i.id&&i.id===N.axisId;return j=j[i.prefix+"Axis"].id===i.id,k?W:b?W||j:!N.axisId||W};a&&a.each(function(N){var j=function(Se){return Se&&Se[d]},W=N.indexer,$=N.currentOptions,Y=W.data[d]&&0<W.data[d].length,te=N.userPoints,ee=te.length,ae=j($.defaultPoint),q=j($.firstPoint)||j($.lastPoint),J=function(Se){return Se};if(ae){var re=V_(ae);J=function(Se){return se(re(),Se)}}if(ae){if(O(ae,N))for(Y=0;Y<ee;Y++)ae=W.getValue(d,Y),I(N,Y,J(ae||{}),te[Y],W)}else if(Y){var ce=W.data[d],oe=W.indexes[d];for(Y=0;Y<(oe?oe.length:0);Y++){var pe=oe[Y];(ae=ce[pe])&&O(ae,N)&&I(N,pe,J(ae),te[pe],W)}}q&&((q=j($.firstPoint))&&O(q,N)&&te[0].y!==null&&I(N,0,q,te[0],W),(j=j($.lastPoint))&&O(j,N)&&te[ee-1].y!==null&&I(N,ee-1,j,te[ee-1],W))});var F=[];T.length&&(T=ai(T),K(T,function(N){return F.push(We(D,{value:N}))}),F.positions=T),i._getPointTicks=F}return i._getPointTicks},o.prototype.getCustomTicks=function(){if(!this._isZoomLive){var i=this.currentOptions,a=this.userOptions,u=fe(i.customTicks||[],function(f){var v=se({},i.defaultTick);return se(v,f)});if(h(this.originValue)&&a.originTick&&g(i,"defaultTick.enabled")!==!1&&g(i,"originTick.enabled")!==!1){var d=se({},i.defaultTick);d=se(d,a.originTick),d.value=this.originValue,u.push(d)}this._getCustomTicks=u}return this._getCustomTicks},o.prototype.setTicks=function(i){var a=this,u=a.currentOptions,d=a._isZoomLive,f=a.isLog(),v=function(O,F){return rt(O,O+F,0,1,w.valToLin(O))},x=function(O,F){return O=O.rect(),a.isHoriz?v(O.x,O.width):v(O.y,O.height)};i=l(i.pop?i:[void 0,i],2);var b=i[0],w=i[1];if(w.rect(),w.isValid()){var k=void 0;i=void 0,a.setTickPositions().invalidateTicks();var D=se(f?{label:{visible:!1}}:{},u.defaultTick,u.defaultMinorTick),T=D.placement==="inside"&&!a.isRadial&&a.type!=="category";u=0;for(var M=a.tickPositions.all.length;u<M;u++)if(k=a.tickPositions.all[u],!T||u!==0&&u!==a.tickPositions.all.length-1||!(k<=a.range.min||k>=a.range.max)){var I=a.findTickInfo(k);(i=a.findTick(k,f?I.type:void 0))?(i.type!==I.type?(i.options(I.config,!1),i._needUpdateText=!0):(k=i.currentOptions.value,Be(k)&&-1<k.indexOf("%")&&(i._needUpdateText=!0)),!d&&i.setType(I.type)):(I.config.defaultMinorTick=D,a._ticks.push(i=new XB(this,k,I.config,I.type))),i.validate()}for(u=0,M=a._ticks.length;u<M;u++)i=a._ticks[u],a.isTransitioning&&!i.invalid?i.px(x(b||a.viewStatePrev),x(w,i.value())):i.px(x(w,i.value()));for(a._ticks=Rn(a._ticks,function(O){return le(O._value[0],O._value)}),a._ticks=Rn(a._ticks,function(O){return O._isRange&&O.type==="custom"?2:1}),f=!1,u=d=0,M=a._ticks.length;u<M;u++)i=a._ticks[u],(x=a.tickVisible(i.value()))&&d++,!f&&x?f=i.isFirst=!0:i.isFirst=!1;100<d&&(i=a.type==="category",(f=!!y(a.currentOptions,["scale","interval"]))||i)&&(d={data:[a.prefix,d],container:this.chart.getWrapper()},f&&!i?En.emit("tip",a.id,a.type==="time"?"manyTicksTime":"manyTicks",d):i&&En.emit("tip",a.id,"manyTicksCat",d))}return this},o.prototype.resetTicksLabels=function(){K(this._ticks,function(i){delete i._formattedText})},o.prototype.invalidateTicks=function(){for(var i=this._ticks,a=0,u=i.length;a<u;a++)i[a].invalidate();return this},o.prototype.findTick=function(i,a){for(var u=0,d=this._ticks.length;u<d;u++){var f=this._ticks[u],v=f.value(),x=i;if((v.pop?v[0]===x[0]&&v[1]===x[1]:v===x)&&(!a||f.type===a))return f}},o.prototype.findTickInfo=function(i){var a=this,u={};if(h(i.v)){var d="custom",f=a.getCustomTicks();u=We(f,{value:i.v}),u=se({},u),delete u.value}else{var v=a.tickPositions,x=v.minor||[],b=v.custom||[],w=a.originValue,k=a.pointTicks.values||[];if(a._isZoomLive,f=Ud(k,i),typeof i=="number"&&this.type==="category"&&typeof k[0]=="string"&&(f=i),-1<f){d="custom",u=a.pointTicks;var D=u.points[f];u=u.configs[f],u.target=function(){return D&&D()}}else-1<Ud(b,i)?(d="custom",f=a.getCustomTicks(),u=We(f,function(T){T=T.value;var M=a.toPosition(T);return a.type==="category"&&typeof T=="string"&&(M=[M-.5,M+.5]),M.pop?Zf(M,i):M===i}),u=se({},u)):h(w)&&i===w?d="origin":-1<Ud(v,i)?d="major":-1<Ud(x,i)&&(d="minor")}return{type:d,config:u}},o.prototype.getTicksPos=function(i){return i===void 0&&(i=this.viewState),!this.tickPositions&&this.setTickPositions(),Ir(this.tickPositions.all,function(a){return i.valToLin(a)})},o.prototype.add=function(i){return this.isAdded||(this.isAdded=!0,this.isVisible!==!1&&(this.parentLayoutItem=(i=this.getParentPanel(i))||this.renderer,this.rootPanel.add(i))),this},o.prototype.crosshairXy=function(i,a,u){var d=this.prefix,f=this.isHoriz?0:1;return i=i[d==="x"||d==="y"?f:-1],u=this.crossLinToVal(i,u),h(i)&&this.crosshair(a?se({value:u},a):{value:u}),u},o.prototype.crossLinToVal=function(i,a){var u=this.syncAxis||this,d=this.options("crosshair");return i=this.linToVal(i),u=u.dataPositions.toArray(),d.snapToData||this.prefix==="x"&&d.snapToData!==!1||a?(this.type==="category"&&u.length===0&&(u=this.tickPositions.map(function(f){return f[0]+.5})),boe(u,i)):i},o.prototype.crosshair=function(i){var a=this;if(clearTimeout(a.crossTimeout),a.isVisible&&!a.isRadial&&!a.childAxes.length){var u=a.crossTicks=a.crossTicks||[],d=function(b){xm(a,b),b.render(a.viewState,{onCa:!0,animation:!1}),b.render(a.viewState,{onCa:!1,animation:!1})},f=a.options("crosshair");if(h(i)&&f.enabled===!0){if(i=i.pop?i:[i],h(i[0]))var v=i.map(function(b,w){return se({key:w},f,b)}),x=!0}else v=[];return $o(v,u,function(b){b=new XB(a,b.value,se({internal:!0},b),"custom"),b.isCrosshair=!0,a.crossTicks.push(b),d(b)},function(b,w){w.options(b,!1),d(w)},function(b){m(a.crossTicks,b),b.remove()},function(b){return b.key},function(b){return b.currentOptions.key}),a.rootPanel.refresh(),x&&(a.crossTimeout=setTimeout(function(){a.crosshair(),a.chart.series().each(function(b){return b.visualizer.hideHalo()})},8e3)),i&&i.length===1?i[0]:i}},o.prototype.setDataRange=function(i){this.min=i[0],this.max=i[1],i=this.range={min:i[0],max:i[1]},this.unZoomedRange=Ii(i),this._isMapHost=!0},o.prototype.setMapRange=function(i,a){this.min=Math.min(i[0],a[0]),this.max=Math.max(i[1],a[1]),this.range={min:a[0],max:a[1]},this.unZoomedRange={min:this.min,max:this.max},this.zoomLimit=Math.max(i[1],a[1])-Math.min(i[0],a[0]),this.zoomRange=this.zoomRange||[Math.min(i[0],a[0]),Math.max(i[1],a[1])],this._isMapHost=!0},o.prototype.setStaticRange=function(i,a){this._isDragHost=!0,this.min=i[0],this.max=i[1],this.range={min:a[0],max:a[1]},this.zoomLimit=this._sizeMetrics.length=a[1]-a[0],this.zoomRange=this.zoomRange.length?this.zoomRange:a,this.linToVal=function(u){return u}},o.prototype.zoom=function(i,a,u){var d=!1;d=!this.isZoomed;var f=this._isDragHost?[this.min,this.max]:this.unZoomedRange,v=this._isDragHost?this.zoomRange:[this.range.min,this.range.max];f=f||{min:this.min,max:this.max};var x=1<yn(f.min,f.max)?2:5,b=function(w,k){return bF(w[0],k[0],x)===0&&bF(w[1],k[1],x)===0};return h(i)||h(a)?this.canZoom(i,a)&&(a=l(qB(i,a),2),i=a[0],a=a[1],i=h(i)&&fh(i),a=h(a)&&fh(a),this._formatInfo=void 0,i!==a&&(this.zoomRange=[i,a],this.isZoomed=!0,this._isDragHost||(d&&(this.unZoomedRange={min:this.range.min,max:this.range.max}),f=this.unZoomedRange,this.isZoomed=!b([i,a],[f.min,f.max])),this.options("type")==="map"?(this.range.min=i,this.range.max=a):this._isDragHost||this.setRange(!1,u),d=!0)):(this.isDragging=this.isZoomed=!1,this.zoomRange=[],this.isZoomed=!1,this.setRange(!0,u)),d=!b(this.isZoomed?this.zoomRange:[this.range.min,this.range.max],v),!this._isDragHost&&K(this.serList,function(w){return w.seriesDirty.pos(!0)}),u!==!1&&this.chart.redraw(u),i=this.chartArea,d&&i.zoomUpdated(),d},o.prototype.drag=function(i){var a=this.zoomRange.slice(0),u=this.unZoomedRange?this.unZoomedRange:this;if(u=[u.min,u.max],this.isDragging=!0,a[0]+i<u[0]&&(i=u[0]-a[0]),a[1]+i>u[1]&&(i=u[1]-a[1]),a[0]+=i,a[1]+=i,i)return this._isDragHost?this.zoomRange=a:this.zoom(a[0],a[1],!1),!0},o.prototype.canDrag=function(){if(this._isDragHost){var i=this.zoomRange.slice(0),a=this.unZoomedRange?this.unZoomedRange:this;return yn(i[0],i[1])<yn(a.min,a.max)}return this.isZoomed},o.prototype.canZoom=function(i,a){if(a=l(qB(i,a),2),i=a[0],a=a[1],this._isMapHost||this._isDragHost&&(this.min!==this.range.min||this.max!==this.range.max))return!0;if(i!==a){var u=this.zoomLimit;if(C(this.zoomLimit)==="object"&&this.type==="time"&&(u=Rv(this.zoomLimit)),yn(a,i)>u)return!0}},o.prototype.destroyVisuals=function(){K(this.rootVisuals,function(i){return i&&i.destroy()}),K(this._ticks.slice(0),function(i){return i&&i.destroy()}),this._ticks=[],this.rootPanel.destroy(),this.rootVisuals=this.rootPanel=void 0},o.prototype.destroy=function(){s.prototype.destroy.call(this);var i=this.chartArea._axes.indexOf(this);-1<i&&this.chartArea._axes.splice(i,1)},o.prototype.resetVisuals=function(){this.isAdded=!1,this._duV=void 0,this.destroyVisuals(),this.setRootVisuals(),this.initSizeMetrics(),this.chartArea.rootPanel.refresh()},o.prototype.getVisualTargets=function(i,a){i===void 0&&(i={}),a===void 0&&(a=!1);var u=this.rootVisuals,d=this.chartArea.rootVisuals,f=d.axisFront,v=d.axisBehind,x=d.axisBehindAll,b=le(i.onTop,this.options("onTop")),w=le(y(i,["label","onTop"]),b);return i=le(y(i,["gridLine","onTop"]),b)?d.gridLinesFront:d.gridLinesBehind,d=u=a=a?u.mainRng:u.main,f&&v&&(a=b?f:v,u=w?f:v,d=w?f:x),{tick:a,label:u,line:d,grid:i}},o}(ca),$m=function(s){function o(i,a){return a=s.call(this,i,a)||this,a.items=i,a.kindObject=o,a.markers=zi(Hr,use(a),gl),a.ticks=zi(Hr,cse(a),gl),a}return e(o,s),o}(Hr),fue=function(s){function o(i,a){return i=s.call(this,i,a,"sp")||this,i.possibleKeys=["spValue"],i.initFP(),i.options(a,!1),i}return e(o,s),o.prototype.init=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];i=l(i,3),i[0],a=i[1],i[2],this.prefix=a,this.defaultContextOptions={},this.updateOptions={animation:this.chart.options("animation")}},o.prototype.defaultOptions=function(){return se(s.prototype.defaultOptions.call(this),{crosshair:{enabled:!0}})},o.prototype.renderGridLines=function(i,a){},o}(Zw),KB=function(s){function o(i,a,u){var d=s.call(this,i.chart,u)||this;return d.parent=i,d.palette=a,d._axes=[],d.isHoriz=le(u.isHoriz,i.layoutDirection==="horizontal"),i=se({orientation:d.isHoriz?"bottom":"right",anchorWidth:0},g(a.currentOptions,"colorBar.axis")),i=d.axis=new fue(d,i),d._axes.push(i),d.initFP(),i.chartArea=d,i.setRootVisuals(),i.isHoriz=d.isHoriz,d.collisionManager=new AM(d),d}return e(o,s),o.prototype.getAxisMarkerVisualTargets=function(){var i=this.rootVisuals;return{behind:i.axisMarkersFront,front:i.axisMarkersFront}},o.prototype.requestLegend=function(i){return null},o.prototype.initFP=function(){var i=this;this.axes=zi($m,function(){return i._axes},function(a){})},o.prototype.getBarSize=function(i){var a=this.palette.options("colorBar")||{},u;if(a=this.isHoriz?this.swatchSize=[le(a.length,QB),le(a.width,ZB)]:this.swatchSize=[le(a.width,ZB),le(a.length,QB)],i=this.updateChartBox(i)){var d=[0,0];(u=this.overflows)&&(d=[u[1]+u[3],u[0]+u[2]]),this.swatchSize=[Math.min(a[0],i[2]-d[0]),Math.min(a[1],i[3]-d[1])]}return this.swatchSize},o.prototype.updateChartBox=function(i){return i&&h(i[2])&&h(i[3])&&(this.chartBox=ws(i,10)),this.chartBox},o.prototype.pointOver=function(i){var a=this.axis,u=this.palette,d=u.getPointValue(i.currentOptions,i.series);d===null||ei(d)||(u=u.getValueColor(d),a.crosshair(TM({point:i,yVal:d,color:u})))},o.prototype.pointOut=function(){this.axis.crosshair()},o.prototype.getUserWH=function(){var i=this.isHoriz,a=this.palette.options("colorBar")||{};return[i?a.length:a.width,i?a.width:a.length]},o.prototype.measure=function(i,a){var u=this.axis;this.setRootVisuals();var d=this.palette.axisConfig,f=this.getBarSize(i);if(this.axisSize=void 0,d){u.range=d,u.fitRange=!0,u.setViewState(),this.axisSize=u.measure(f),d=this.updateOverflows();var v=this.getBarSize(i);if((v[0]!==f[0]||v[1]!==f[1])&&(f=v,this.axisSize=u.measure(f)),f=this.size=this.isHoriz?[f[0]+d[0],f[1]+this.axisSize[3]+d[1]]:[f[0]+this.axisSize[2]+d[0],f[1]+d[1]],u=f[0]>i[2],f=f[1]>i[3],(u||f)&&(d=this.getUserWH(),!a&&u&&!h(d[0])||f&&!h(d[1])))return this.measure(i,!0)}return this.size},o.prototype.renderAxis=function(){var i=this.axis,a=this.contentRect,u=i.range.min;u!==null&&!ei(u)&&h(u)&&h(i.range.max)&&i.render(a).renderOnCa(a)},o.prototype.patchAxis=function(){var i=this,a=i.rootVisuals,u=i.axis;u.isAdded||(a=[a.topAxes,a.rightAxes,a.bottomAxes,a.leftAxes][i.axis.sideIndex()],u.isVisible&&u.rootPanel&&(u.add(a),a.on("pixelCorrection",function(){i.renderAxis()}),u.rootPanel.isPatched||u.rootPanel.await(function(){return i.renderAxis()})))},o.prototype.render=function(i){var a=this.rootVisuals;i=this.getBarSize(i),this.rootPanel.attr({width:this.size[0],height:this.size[1]}),this.contentRect={x:0,y:0,width:i[0],height:i[1]},this.patchAxis();var u=this.axis.options("scale.invert");return u={stops:this.palette.getTraditionalStops(null,!0),angle:this.isHoriz?u?180:0:u?90:-90},u=Xo(u),a.colorContent.attr({fill:u,width:i[0],height:i[1]}),this},o.prototype.updateOverflows=function(){var i=f9(this);return this.overflows=i.slice(0),[i[1]+i[3],i[0]+i[2]]},o.prototype.setRootVisuals=function(){var i=this.renderer;if(!this.rootVisuals){var a=this.rootVisuals=j3(i).build({outline:{width:0},axis:{offset:.5},content:{holder:{stretch:!1}},axisMarkers:!0,overflow:!0});a.colorContent=i.rect({radius:3}).add(a.dataContent),this.rootPanel=a.mainStacks}return this},o.prototype.destroy=function(){s.prototype.destroy.call(this),this.axis.destroy()},o}(ca),ZB=25,QB=300,ap=function(s){return s&&s.kind==="Series"},lp=function(s){return s&&s.kind==="Point"},mue=function(s){function o(i,a,u){var d=s.call(this,i.chart,g(a.currentOptions,"legendEntry")||{},[i,a])||this;return d.legend=i,d.target=a,d.sortOrderValue=u,d.rowVisuals=[],d.textVisualsRef=[],d.state="",d.icons={},d.legend=i,d.bindEvents(),d.optionsApplied(),d}return e(o,s),o.prototype.init=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];i=l(i,2),a=i[1],this.legend=i[0],this.target=a},o.prototype.defaultOptions=function(){return se(se({set:0,checkbox:{color:"#555555",size:12}},this.legend.currentOptions.defaultEntry),this.target.currentOptions.legendEntry)},o.prototype.options=function(i,a){var u=this.optionsGetter(i);if(u!=="NotGetter")return u;var d=le(g(i,"checkbox.checked"),g(i,"checkbox_checked")),f=h(d),v=g(this.currentOptions,"checkbox.checked");u=h(v)&&!h(g(this.userOptions,"checkbox.checked"))&&!f,this.isCustom&&!this.legend._isSyncing&&this.chart.isRendered&&this._onUserOptions&&this._onUserOptions(i);var x=s.prototype.options.call(this,i,a);return u?St(this.currentOptions,"checkbox.checked",v):f&&this.chart.isRendered&&a!==!1&&(this.updateCheckbox(d),this.checkbox&&this.checkbox.refresh()),this.target.kind==="EntryWrapper"&&(this.target.options({legendEntry:i},a),this.legend.isDirty=!0,a!==!1&&this.chart.chartAreaSet.reflow(void 0,!1,!0)),this.optionsApplied(),this.afterUpdate(a),x},o.prototype.optionsApplied=function(){this.userOptions.checkbox&&delete this.userOptions.checkbox.checked,this.chart.triggerOptionsApplied("legendEntry",this)},o.prototype.render=function(i){return this.updateStyles(!0),this},o.prototype.zoomTo=function(){return this.target&&this.target.zoomTo&&this.target.zoomTo(),this},o.prototype.refreshOptions=function(i){var a=this.target.options("legendEntry");a&&this.options(a,i)},o.prototype.getBounds=function(i){var a=this;if(i)return s.prototype.getBounds.call(this,i);var u=[];return K(this.rowVisuals,function(d){u.push(a.getBounds(d))}),Yn(u)},o.prototype.updateTrackerPosition=function(){var i=this.getBounds();i&&this.trackerElement.attr(kl(ws(i,-2)))},o.prototype.updateCheckbox=function(i){if(this.checkbox){var a=this.target,u=this.checkbox.attrs.name;i=""+z9(a)+(le(i,H9(a))?"":"-blank"),i!==u&&this.checkbox.attr({name:i})}return this},o.prototype.setRootVisuals=function(){return this},o.prototype.bindEvents=function(){var i=this,a=i.chart,u=i.target,d;if(!i.trackerElement){var f="pointer",v=i.hasUserEvent("click");(d=i.options("cursor"))?f=d:lp(u)?u.series.options("pointSelection")||v||u.series.chartArea.canZoom()||(f="default"):(ap(u)||v)&&(u.kind!=="EntryWrapper"||v)||(f="default"),u=i.options("initialCursor"),!a.isRendered&&u&&(f=u),a=i.trackerElement=i.trackerElement||i.renderer.renderer.rect().attr({cursor:f,fill:"rgba(255,255,255,0)",zIndex:1}).add(a.rootVisuals.front),a.on("mouseover",function(x){return i.mouseover(x)}),a.on("mouseout",function(x){return i.mouseout(x)}),a.on("vclick",function(x){return i.click(x)})}},o.prototype.mouseover=function(i){var a=this,u=a.legend,d=a.target,f=ap(d),v=lp(d),x=v||f,b=a.chart.ctManager,w=b.isType("map"),k=b.isType("calendar");b=d._state==="select",u=u.chart.chartAreas(0);var D=u.debounce;if(i=i.type==="touchend",w=sA(a)&&!w&&!k,k=function(){D.defer("mute",function(){J3(d,"",Q3(a))},36)},u.resetTimers(),a.triggerUser("mouseOver",d)!==!1){if(d.mouseOver){if(x&&w)if(!b&&d.setState(""),i&&a.chart.highlighted===d)D.run("unmute")||bo(a.chart);else{k();var T=!0}}else if(f&&w)if(d.isVisible)k(),T=!0;else var M=!0;else w&&!v&&(M=!0),!b&&d.setState("hover");a.setState("hover"),M?T&&a.chart.touched()&&D.defer("unmute",function(){bo(d.chart)},2e3):D.clear("unmute")}},o.prototype.mouseout=function(i){this.legend;var a=this.target,u=ap(a),d=lp(a);i=a._state==="select"||a.state==="select",this.triggerUser("mouseOut",a)!==!1&&((u||d)&&sA(this)&&(u=(d?a.series.chartArea:a.chartArea).debounce,u.clear("mute"),u.defer("unmute",function(){bo(a.chart)},230)),a.setState&&!i&&a.setState(""),this.updateStyles())},o.prototype.click=function(i){var a=this,u=a.target,d=i.type==="touchend",f=lp(u),v=(f?u.series.chartArea:u.chartArea)||a.chart.chartAreaSet.items[0],x,b=ap(u)||f;d&&v&&v.debounce.clear("touchTimeout");var w=function(M){return St(a.currentOptions,"checkbox.checked",M)};if(a.checkbox&&!b){var k=w(!g(a.currentOptions,"checkbox.checked"));a._onUserOptions=function(M){M=le(g(M,"checkbox.checked"),g(M,"checkbox_checked")),h(M)&&(x=!0)}}if(u.triggerUser("legendEntryClick")!==!1&&a.triggerUser("click",u)!==!1){if(b){b=a.chart.ctManager,k=b.isType("map"),b=b.isType("calendar"),w=ap(u);var D=u.isVisible,T=a.chart.options("axisToZoom");T=T&&T!=="none",sA(a)&&(d&&f&&!a.checkbox?(a.mouseover(i),v.debounce.defer("touchTimeout",function(){v.clickOff()},8e3)):D!==!1&&bo(u.chart)),u.visible&&!b&&!k&&w&&u.visible(),u.zoomTo&&(T||b)&&u.zoomTo(),this.chart.resetTimers()}else a.checkbox&&(a.updateCheckbox(k),a.checkbox.refresh(),w(k));a.checkbox?u.click&&u.click({eventArgs:i,accumulate:!!a.checkbox}):u.kind==="Point"&&u.series.ctSv("chartType")==="pie"&&u.select()}else a._onUserOptions&&!x&&w(!g(a.currentOptions,"checkbox.checked"));a._onUserOptions=void 0,i.preventDefault()},o.prototype.updateStyles=function(i){var a=this.target,u=this.chart.ctManager;u.isType("map");var d=g(this.currentOptions,"checkbox.checked");u=u.isType("calendar"),d=h(d)||this.checkbox&&u,this.targetVisible=le(a.isVisible,!0),-1<this.legend.getTemplateColumns().indexOf("%icon")&&this.styleIconVisual(),d&&this.updateCheckbox(le(g(this.currentOptions,"checkbox.checked"),this.targetVisible)),this.targetVisible===!1?this.setState("hidden",i):this.setState("",i)},o.prototype.setColumns=function(){var i=this,a=this,u=a.currentOptions,d=a.legend,f=u.set,v=d.getTemplateColumns(f),x=a.target;a.refreshOptions(!1);var b=g(a.userOptions,"checkbox.enabled");g(d.currentOptions,"defaultEntry.checkbox.enabled");var w=d.checkboxManual?b:hse(x)?b!==!1:b;if(d.isVisible){var k=Oa(u);delete k.val,k.autoWrap="default";var D=d.getColumnAlignments(f);a.rowVisuals=fe(v,function(T,M){var I=T.toLowerCase(),O;if(I==="%checkbox")(O=a.rowVisuals[M])||(w?(M=se({fill:u.checkbox.color},u.checkbox,{name:""+z9(x)+(H9(x)?"":"-blank")}),O=T=a.renderer.panel({yAlignment:"center"}),a.checkbox=a.renderer.icon(M),a.checkbox.add(T),M=g(u,"checkbox.checked"),h(M)&&a.updateCheckbox(M)):O=a.renderer.panel({}));else if(I==="%icon")if(O=a.rowVisuals[M])a.iconVisual=O=i.getIconVisual(),O=O.root;else{a.iconVisual=O=i.getIconVisual(),a.rootVisuals={icon:O};var F=O.base,N=O.extra;M=i._iconSize?a._iconSize[0]:le(u.iconWidth,y(u,["icon","width"]),20),O.root.attr({width:M,height:i._iconSize?a._iconSize[1]:10,xAlignment:"center",yAlignment:"middle"}),O=O.root,O.on("pixelCorrection",function(){var j=le(g(F,"data.attrs.stroke-width"),1);j=jc(O,[0,0],j),F&&F.attr({translate:j}),N&&N.attr({translate:j})})}else I==="%name"?T=a.options("name"):I==="%value"&&(T=a.options("value")),typeof T=="function"&&(T=T(x)),a.options("attributes")&&(T=Kv({attr:T},a,se({mode:"AttrOnly"},a.chart.getFormatInfo()))),T=x.replaceTokens(T),I=se({xAlignment:D[M],yAlignment:"middle"},k),(O=a.rowVisuals[M])?I.val=T:(O=a.renderer.textStack(T),a.textVisualsRef.push(O)),x.isVisible===!1&&x.chart.isRendered||O.attr(I);return x.isVisible===!1&&x.chart.isRendered||a.refreshOptions(!1),O})}return this},o.prototype.getIconVisual=function(){var i=this.currentOptions,a=this.target,u=i.icon,d=le(i.iconWidth,y(u,["width"]),20),f=C(u);if(a=a.getIconVisual([this._iconSize?this._iconSize[0]:d,this._iconSize?this._iconSize[1]:10],a,this),this._iconSize=null,u){var v=a.base||a.extra;v&&(u=f==="object"?u.name==="none"?10:le(u.size,u.width,d):f==="string"&&u==="none"?10:d,i=rh(i.icon,0,0,u,u))&&(v.attr({d:i}),this._iconSize=[u,u])}return a},o.prototype.styleIconVisual=function(){var i=this.currentOptions;this.target;var a=this.getIconVisual();this.target.styleIconVisual(a,this),a=this.getIconVisual(),(i=i.icon)&&(a=a.base||a.extra)&&(i=Zo(i),a.attr(i),this._iconColor=y(a,["data","attrs","fill"]))},o.prototype.setState=function(i,a){if(i!==this.state||a){var u=se({},this.currentOptions);i!=="normal"&&(a=this.options("states."+i))&&se(u,a);var d=Oa(u);delete d.val,d.autoWrap="default",a=this.legend.rootPanel,u=a.getBbox(),K(this.textVisualsRef,function(v){v.attr(d),v.isPatched&&v.patch()});var f=a.setPreliminarySize(!0).getBbox();f.width===u.width&&f.height===u.height||a.refresh(),this.state=i}},o.prototype.remove=function(i){var a=this.legend;this.destroy(),a.syncCustomEntries(),a.isDirty=!0,i!==!1&&a.chart.chartAreaSet.reflow(!1,!1,!0)},o.prototype.hideTracker=function(){this.trackerElement&&this.trackerElement.hide(!0)},o.prototype.destroy=function(){var i=this.legend,a,u=m(this.legend.items,this);(a=We(i._userEntries,{id:this.id}))&&(m(i._userEntries,a),m(i.userOptions.customEntries,a),m(i.currentOptions.customEntries,a)),-1<u&&(this.legend.isDirty=!0),this.textVisualsRef=[],K(this.rowVisuals,function(d){return d.destroy()}),this.trackerElement&&this.trackerElement.destroy()},o}(ca),JB=[120,70],gue=function(s){function o(){var i=s!==null&&s.apply(this,arguments)||this;return i.isDirty=!0,i.fillShading="box",i.items=[],i.spItems=[],i.spMode="none",i._aligmentsCache=[],i._customEntries=[],i}return e(o,s),o.prototype.init=function(i){this.alignTo=i,this.kind="Legend",this.updateSp(),this.initFP()},o.prototype.initFP=function(){var i=this;i.entries=zi(Hr,function(){return i.items},function(){return 0},{push:function(a,u){i._userEntries=i._userEntries||[],i._userEntries.push(a),i.syncCustomEntries(),i.isDirty=!0,u!==!1&&i.chart.chartAreaSet.reflow(void 0,!1,!0)}})},o.prototype.options=function(i,a){var u=this.optionsGetter(i);return u!=="NotGetter"?u:(this.isDirty=!0,s.prototype.options.call(this,i,!1),a!==!1&&this.chart.chartAreaSet.reflow(void 0,!1,!0),this.afterUpdate(a),this)},o.prototype.updateSp=function(){var i=this.chart,a,u=i.palette&&g(i.palette,"colorBar.visible")!==!1;return(i=this.smartPalette=C(a=i.palette)==="object"&&u?i.getSmartPalette(a):void 0)?this.spMode=i.mode:u===!1&&(this.spMode="colorBar"),this.colorBar&&(this.spMode!=="colorBar"?(this.colorBar.destroy(),this.colorBar=void 0):this.smartPalette.destroyEntries()),this},o.prototype.allowEntries=function(){return this.chart.ctManager.isType("calendar"),!0},o.prototype.setOptions=function(){s.prototype.setOptions.call(this),this.isVisible=this.currentOptions.visible!==!1,this.setLayoutDirection(),this.updateSp();var i=this._userEntries=this.currentOptions.customEntries||[];return K(i,js),this},o.prototype.defaultOptions=function(){var i=this.chart;i=i?i.boxDefaults():Em();var a=i.label.style;return{position:"right top",fill:i.fill,layout:"auto",radius:i.radius,boxPointerEvents:!1,boxVisible:i.boxVisible,corners:["cut","square","cut","square"],outline:i.outline,title:{label:{style:{fontSize:"13px"}}},defaultEntry:{name:"%name",value:"%value",icon:{width:20},style:{color:a.color,fontSize:"11px"},states:{hidden:{style:{color:"#707070"}}}},headerStyle:{color:a.color,fontSize:"12px",fontWeight:"normal"},horizontalSpacing:3,margin:i.boxVisible===!1?0:7,template:"%value %icon %name",name:"%name",value:"%value",shadow:le(i.shadow,!0),sortOrder:0}},o.prototype.normalizeOptions=function(i,a){return i=s.prototype.normalizeOptions.call(this,i,a),h(i.width)&&!h(i.maxWidth)&&(i.maxWidth=i.width),i},o.prototype.contextOptions=function(){return se({},this.defaultContextOptions||{},g(this.chart,"typeContextOptions.legend")||{})},o.prototype.dependentOptions=function(){return[{option:"fill",check:function(i){return i},dependent:"margin",value:7}]},o.prototype.defaultEntryOptions=function(){},o.prototype.pointOver=function(i){this.colorBar&&this.colorBar.pointOver(i)},o.prototype.pointOut=function(){this.colorBar&&this.colorBar.pointOut()},o.prototype.setRootVisuals=function(){var i=this.currentOptions,a=this.rootVisuals,u=this.rootPanel;return a||(a=this.rootVisuals={title:void 0,stack:void 0,background:void 0,grid:void 0},u=this.rootPanel=u||this.renderer.box(),u=a.stack=a.stack||this.renderer.panel({type:"stack:y"}).add(u),a.title=a.title||new Uw(this.chart,{text:"",margin:3}).add(u),a.grid=a.grid||this.renderer.panel({type:"grid",xAlignment:"center",cellSpacing:le(i.cellSpacing,5)}).add(u),a.gridSp||(a.gridSpDivider=this.renderer.textStack("<hr>").attr({xAlignment:"center",width:"100%",fontSize:5,padding:[0,5],suspend:!0}).visible(!1).add(u),a.gridSp=this.renderer.panel({type:"grid",xAlignment:"center",cellSpacing:le(i.cellSpacing,5)}).add(u))),this},o.prototype.setAttribs=function(){var i=this.currentOptions,a=i.margin;return c9(i.position)==="position"&&a&&typeof a=="number"&&(i.margin=this.getAdjustedMarginVal(a)),i=$v(i,this.fillShading),delete i.width,this.attribs={bg:i},this},o.prototype.getAdjustedMarginVal=function(i){var a=[0,0,0,0];return a[{t:2,r:3,b:0,l:1}[l9(this.options("position"))]]=i,a},o.prototype.measure=function(i){return this.render(h(i)?kl(i):this.chart.renderer.rootBox),this.isMeasured=!0,this.getLegendBoxWithMargins()},o.prototype.render=function(i){var a=this,u=a.currentOptions,d=a.layoutDirection!=="vertical",f=a.rootPanel,v=a.rootVisuals,x=i?Rt(i):void 0;if(i){i=bn(i);var b=!0}else i={};if(a.updateSp(),!b)return this;if(a.isDirty||i)if(a.isVisible){f.visible(!0),a.setTargetItems(),a.sortByInternalSortValue();var w=a.spMode==="colorBar"&&a.smartPalette,k=0<a.entries().items.length,D=w&&k,T=k&&a.spMode==="ranges";v.grid.attr({width:null,height:null}),a.setAttribs(),k=a.attribs;var M=se({},a.options("title.label"));g(M,"text.length")&&(M.text=a.chart.replaceTokens(M.text));var I=void 0;(I=g(M,"align"))&&v.title.rootPanel.attr({xAlignment:I}),v.title.options(M),M=bn(i),D&&b&&(x=NR(x,[0,-JB[d?1:0],0,0]),M=kl(x));var O=function(W,$){$===void 0&&($=v.grid),W.borders.length&&$.attr({borders:W.borders}),$.val(W.rows)};if(b&&T){d=v.gridSp.getBboxArray(),b=v.gridSpDivider.getBboxArray(),d=[0,0,0,d[3]+v.title.getSize()[1]+b[3]],i=BR(x,d),v.gridSpDivider.suspend=!0,d=a.getItemSets(),x=a.getItemBoxSets(i,d),i=Ute(x,{limitBox:i});var F=[v.grid,v.gridSp],N=0,j=i.ids;K(d,function(W,$){W&&O(a.getSetRows(W,j[Math.min($,j.length-1)]),F[$]),W&&N++}),v.gridSpDivider.visible(1<N),a.updateStyles()}else{if(a.allowEntries()&&O(a.getRows()),x=void 0,D=w?M:a.chart.renderer.rootBox,a.allowEntries()&&b&&(x=Math.ceil(a.getApproximiteSplitFactor(D)),1<x))for(O(a.getRows(x));1<a.getApproximiteSplitFactor(D)&&x<a.items.length;)O(a.getRows(++x));a.updateStyles(),w&&b&&(v.gridSpDivider.visible(0<v.grid.childElements.length).setPreliminarySize(!0),x=v.grid.getBboxArray(),b=v.gridSpDivider.getBboxArray(),i=BR(Rt(i),[0,0,0,x[3]+v.title.getSize()[1]+b[3]]),b=void 0,!d&&x[2]>1.5*i[3]&&x[2]>JB[0]?(i=[0,0,x[2],i[3]],b=!0):140<i[3]&&(i[3]*=.8),v.gridSp.val([[a.getSwatch(i,b)]]))}v.grid.attr({width:u.width,height:u.height}),f.attr(k.bg),a.isDirty=!1}else f.isPatched&&(f.attr({width:null,height:null}),f.visible(!1),f.refresh());return a.chart.triggerOptionsApplied("legend",a),this},o.prototype.invalidate=function(){return this.isDirty=!0,this},o.prototype.updateStyles=function(){return this.isVisible&&K(this.items,function(i){i.updateStyles()}),this},o.prototype.getApproximiteSplitFactor=function(i){var a=this.rootVisuals,u=this.currentOptions;this.rootPanel.update();var d=a.gridSp.getBbox(),f=a.gridSpDivider.getBbox();return a=a.stack.getBbox(),a.height-=d.height+f.height,d=this.curRect=a,i=this.layoutDirection==="vertical"?d.height/(i.height||d.height):d.width/(i.width||d.width),i=_T(i,2),1>=i&&(u=le(u.maxWidth,u.width))&&(i=d.width/u),i},o.prototype.getRows=function(i){return i===void 0&&(i=1),this.getSetRows(this.getVisibleItems(),i)},o.prototype.getSetRows=function(i,a){a===void 0&&(a=1);var u=this,d=[],f=u.renderer,v=u.currentOptions,x=[],b=[],w=i.length&&i[0].set,k=function($,Y){return K($,function(te){x.push(te),b.push(Y)})},D=function($,Y){$?$.setColumns?(Y=$.setColumns().rowVisuals,k(Y,$.currentOptions.lineAbove?[!0,!1,!1,!1]:null)):k($,null):k(u.getBlankEntry(w),null)},T=function(){x.push(f.panel({width:v.horizontalSpacing})),b.push(null)},M=function($){if(I&&$){for(var Y=0;Y<$;Y++)D(u.getHeaderEntry()),Y!==$-1&&T();d.push(x),x=[]}},I=u.getHeaderEntry(w)!==void 0,O=Math.ceil(i.length/a);a=[];for(var F=0,N=0,j=i.length;N<j;N+=O){var W=i.slice(N,N+O);a.push(W),F=Math.max(F,W.length)}if(u.layoutDirection==="vertical")for(M(a.length),i=0;i<F;i++){for(x=[],M=0,O=a.length;M<O;M++)D(a[M][i]),M!==O-1&&T();d.push(x)}else for(M(F),M=0,O=a.length;M<O;M++){for(x=[],i=0;i<F;i++)D(a[M][i]),i!==F-1&&T();d.push(x)}return{rows:d,borders:b}},o.prototype.setLayoutDirection=function(){var i=this.currentOptions,a=i.layout;a=a||"auto";var u={t:"horizontal",r:"vertical",b:"horizontal",l:"vertical"};i=l9(i.position)||"r",this.layoutDirection=(a==="auto"?u[i[0]]:a)||"vertical"},o.prototype.getSwatch=function(i,a){this.setLayoutDirection();var u=this.smartPalette;return this.colorBar&&u.id!==this.colorBar.palette.id?(this.colorBar.destroy(),a=this.colorBar=new KB(this,u,{maxWidth:400,maxHeight:400,isHoriz:a})):a=this.colorBar=this.colorBar||new KB(this,u,{maxWidth:400,maxHeight:400,isHoriz:a}),a.measure(i)&&a.render(),!this.allowEntries()&&K(this.getVisibleItems(),function(d){d.hideTracker()}),a.rootPanel},o.prototype.setTargetItems=function(){var i=this.chart;this.smartPalette&&(this._targetItems=this.spMode==="ranges"?this.smartPalette.syncLegendEntries(this):void 0),i.calIndexer&&i.calIndexer.syncLegendEntries(this),this.syncCustomEntries()},o.prototype.getVisibleItems=function(){var i=le(this._targetItems,[]).slice(0);return this.allowEntries()&&i.push.apply(i,c(this.items)),i=ai(i),Xt(i,function(a){if(a.options("visible")!==!1)return a})},o.prototype.getItemSets=function(){var i=this.getVisibleItems(),a=[];return K(i,function(u){var d=le(u.currentOptions.set,0);a[d]?a[d].push(u):a[d]=[u]}),a},o.prototype.getItemBoxSets=function(i,a){var u=this,d=u.rootPanel,f=u.rootVisuals,v=u.layoutDirection!=="vertical";a=a||u.getItemSets();var x=[],b=[f.grid,f.gridSp];return K(a,function(w,k){if(w){if(k=b[k],w){for(var D=[],T=Yte(w.length),M=void 0,I=0,O=T.length;I<O;I++){var F=T[I],N=u.getSetRows(w,T[I]);if(N.borders.length&&k.attr({borders:N.borders}),k.val(N.rows),d.update(),N=k.getBboxArray(),v)if(N[2]<i[2]){N.id=F,D.push(N);break}else M=N.slice(0),M.id=F;else{if(N[2]>i[2]){M=N.slice(0),M.id=F;break}N[3]<i[3]?(N.id=F,D.push(N)):(M=N.slice(0),M.id=F)}}!D.length&&M.length&&D.push(M),w=D}else w=void 0;w.length&&x.push(w)}}),x},o.prototype.getBlankEntry=function(i){var a=[],u=this.renderer;i=this.getTemplateColumns(i).length;for(var d=0;d<i;d++)a.push(u.panel());return a},o.prototype.getColumnAlignments=function(i){i===void 0&&(i=0);var a=this,u=!a.chart.chartAreaSet.series().length;if(a._aligmentsCache[i])return a._aligmentsCache[i];var d=a.getTemplateColumns(i),f=function(){return We(a.items,function(b){return!b.isCustom})}()||a.items[1]||a.items[0];if(!f)return[];var v=f.target,x=function(b,w){var k=b.replace(",",".");if(b=parseFloat(k),!b&&b!==0)return!1;if(b=b.toString(),b===k)return!0;k=k.length-b.length;for(var D=1;D<a.items.length;D++){var T=a.items[D].target.replaceTokens(w);if(b=parseFloat(T),!b&&b!==0||(b=b.toString(),T.length-b.length!==k))return!1}return!0};return d=fe(d,function(b,w){if(b==="%icon")return"center";var k;u?w=k=Kv({attr:b},f,f.chart.getFormatInfo()):(w=v.replaceTokens(b),k=v.replaceTokens({token:b}));var D=C(k);return D==="object"&&(D="string",k=k.token||k),(k==="INVALID TOKEN"||D==="string"&&x(w,b))&&(D="number"),D==="string"?"left":"right"}),a._aligmentsCache[i]=d},o.prototype.getTemplateColumns=function(i){var a=this.currentOptions.template,u=!!a.pop,d=h(i),f=g(this.userOptions,"defaultEntry.checkbox.enabled")===!0;return a=oA(u?a[d?i:0]:a,!1),u=this.userOptions.template,!i||u&&u!=="%icon %name"||this.spMode!=="ranges"||(a=oA("%icon %value",!1)),We(a,function(v){return v.trim().toLowerCase()==="%checkbox"})||(this.items.filter(function(v){return v.userOptions.checkbox===!0||g(v.userOptions,"checkbox.enabled")}).length?(a.unshift("%checkbox"),this.checkboxManual=!0):(i=this.userOptions.customEntries)&&i.filter(function(v){return v.checkbox===!0||g(v,"checkbox.enabled")}).length&&(a.unshift("%checkbox"),this.checkboxManual=!0),!kd(a,"%checkbox")&&f&&a.unshift("%checkbox")),f&&this.checkboxManual&&(this.checkboxManual=!1),a},o.prototype.getHeaderEntry=function(i){var a=this,u=a.currentOptions,d=oA(u.header,!1);if(d){var f=a.getTemplateColumns(i);i=f.length;var v=Oa({style:u.headerStyle});d&&d.length&&d.length!==f.length&&(u=f.indexOf("%checkbox"),-1<u&&d.splice(u,0,"")),We(a.items,function(b){return!b.isCustom});var x=a.getColumnAlignments();if(u=[],d.length===i)return u=fe(d,function(b,w){return-1<b.indexOf("%")&&(b=a.chart.replaceTokens(b)),b=a.renderer.textStack().val(b),b.attr(se({xAlignment:x[w]||"left",yAlignment:"bottom"},v)),b})}},o.prototype.getLegendBoxWithMargins=function(){var i=this.rootPanel;return 1<i.combinations.length?this.rootPanel.refresh(!0):this.rootPanel.setPreliminarySize(!0),i.getGlobalBboxArray(!0)},o.prototype.positionUpdated=function(i){K(this.items,function(a,u){a.updateTrackerPosition()})},o.prototype.addEntry=function(i,a,u){a===void 0&&(a=0);var d;return i.legend=this,u&&(!h(d=u.replaceIndex)||0>d)&&(d=this.items.indexOf(u)),i=new mue(this,i,a),-1<d?(this.items.splice(d+1,0,i),u.replaceIndex=d+1):this.items.push(i),this.sortByInternalSortValue(),this.isDirty=!0,i},o.prototype.syncCustomEntries=function(){var i=this,a=IB.custom;i._isSyncing=!0,$o(i._userEntries,i._customEntries,function(u){var d=i.addEntry(new DM(i.chart,{legendEntry:u}));return h(g(u,"checkbox.checked"))&&delete u.checkbox.checked,d.isCustom=!0,d.sortOrderValue=a++,d},function(u,d){return d.options(u,!1)}),K(i._customEntries,function(u){return u.setColumns()}),i._isSyncing=!1},o.prototype.sortByInternalSortValue=function(){this.items.sort(function(i,a){return i=le(i.currentOptions.sortOrder,i.sortOrderValue),a=le(a.currentOptions.sortOrder,a.sortOrderValue),i<a?-1:i>a?1:0}),this.options("reversed")&&this.items.reverse()},o.prototype.add=function(i){return this.render(),this.rootPanel&&this.rootPanel.add(i),this},o.prototype.destroy=function(){this.colorBar&&(this.spMode!=="colorBar"?(this.colorBar.destroy(),delete this.colorBar):this.smartPalette.destroyEntries()),delete this.rootVisuals,delete this.colorBar,delete this.smartPalette},o}(ca),vue={zigzag:G9,gap:function(s,o,i,a){var u=o/2,d=s==="c"||s==="l",f=s==="m"||s==="t";if(d=l(a([i[0]+(d?u:0),i[1]+(f?u:0),i[2]-(d||s==="r"?s==="c"?o:u:0),i[3]-(f||s==="b"?s==="m"?o:u:0)]),4),i=d[0],a=d[1],u=d[2],f=d[3],d={clipPath:S3(i,a,u,f)},s!=="r"&&s!=="b"){var v=a+.5,x=i+.5;s=s==="t"||s==="m"?[[[i,v],[i+u,v]],[[i,v-o],[i+u,v-o]]]:[[[x,a],[x,a+f]],[[x-o,a],[x-o,a+f]]],d.outlinePath=Lr(s[0]).concat(Lr(s[1]))}return d},line:function(s,o,i,a){if(s==="r"||s==="b")return null;var u=o/2,d=s==="c"||s==="l";return s=s==="m"||s==="t",o=a([i[0]-(d?u:0),i[1]-(s?u:0),d?o:i[2],s?o:i[3]]),{path:S3(o[0],o[1],o[2],o[3])}},hidden:function(){return null}},yue=function(s,o,i){var a=o.id,u=function(d){return d.crosshair(i)};s.axes().filter({userOptions:{scale:{syncWith:a}}}).each(u),u(o)},xue=function(s){var o=[];return K(s,function(i){i.yVal.pop?K(i.yVal,function(a){o.push(TM(se({},i,{yVal:a})))}):o.push(TM(i))}),o},eV=["column","area","candlestick","ohlc","variwide"],Qw=["column","candlestick","ohlc","variwide"],tV=function(s){function o(i,a){var u=s.call(this,i.chart,a,[i.chart,a])||this;u.chartAreaSet=i,u.kind="chartArea",u._series=[],u.yAxis=[],u.xAxis=[],u.zAxis=[],u._axes=[],u.axConfList={},u.renderedRect=r3(),u.preRenderedRect=r3(),u.isDirtyPreRender=!0,u.isRendering=!1,u.renderRect={x:0,y:0,width:0,height:0,borderWidth:0},u.projection={lin2valxy:function(v,x){return[v,x]},val2linxy:function(v,x){return[v,x]}},u._awaitRenderCallbacks=[],u.maxSeriesZIndex=0,u.events={contentBox:new qc,click:new qc},u.isZoomedDragArea=!1,u.zoomAxes=[],u.computeVals2=function(v,x){var b=v.slice(0,2);u.isHoriz&&b.reverse();var w=[];return K(u.zoomAxes,function(k,D){return w[D]=k?k.linToVal(b[D],x):void 0}),u.projection.lin2valxy(w[0],w[1])},u.computeValsTouch=function(v,x){return fe(v,function(b){return u.computeVals2(b,x)})},u._lastPointers=[],u.mouseMove=sw(function(v){var x=function(){var N=w.getCursor();return!N||N==="crosshair"||N==="move"},b=v.pointers||[[v.x,v.y]],w=u.chart,k=v.device==="touch",D;if(b.length===2&&u.isPinchZooming)u.pinch(v);else if(b.length===1){b=b[0];var T=void 0;if(u.isZooming)return u.zoomEndVals=T=u.computeVals2(b,!0),u.moveZoom(u,T),!0;if(u.isDragging)return u.drag(u.computeVals2(b));var M=u.renderer.renderer.isAnimatingOwn()&&!u._ignoreAnimation;if(T=u.isType("map"),!M&&(D=u.renderBySortedSeriesRev)){if(M=void 0,u.crosshair(b,v)){var I=void 0;for(O=0,F=D.length;O<F&&!((u.chart.hoveredPoint||(I=D[O].hitTest(b)))&&(u.chart.hoveredPoint||typeof I.options("events.click")=="function")&&(M=D[O].mouseMove(v,b)));O++);u.debounce.run("unmute")}else for(var O=0,F=D.length;O<F&&!(M=D[O].mouseMove(v,b));O++);return u.crossPDD().length&&v.eventArgs.cancelable&&v.eventArgs.preventDefault(),k&&(M?(u.debounce.defer("touchTimeout",function(){u.clickOff()},8e3),u._hoveredItem=u.chart.hoveredPoint):u._hoveredItem=void 0),!M&&x()&&u._axisToZoom&&(T||u._isStaticDragArea?(u.isZoomed||u.isZoomedDragArea)&&w.setCursor("move"):u.isZoomed&&!T?u.isInDragArea(b[1])?w.setCursor("move"):T||w.setCursor("crosshair"):w.setCursor("crosshair")),M||!0}}},13),u.docMM=void 0,u.docVUp=void 0,i.items.push(u);var d=u.readyDefer=new Voe,f=d.hold("caConst");return u.initFP(),u.chart=i.chart,u.collisionManager=new AM(u),u.legend=u.chart.legends(0),u.legend.alignTo=u.legend.alignTo||u,u.prepAxisConfigs(),d.release(f),u._firstOpCall=!0,u.options(a,!1),u.tooltip=new rue(u),u}return e(o,s),o.prototype.init=function(i){this._renderDataCallMonitor=new zoe,this.ctManager=xB(),this.ctManager.init(i.userOptions),this.debounce=new Kd},o.prototype.initFP=function(){var i=this;this.axes=zi($m,function(){return i._axes},function(a){}),this.series=zi(IM,function(){return i._series},function(a){})},o.prototype.defaultOptions=function(){var i=this.chart,a=i.boxDefaults(this.userOptions.boxVisible?1:void 0),u=Vd(a.fill,"white",30),d=g(i.typeContextOptions,"chartArea");return a={fill:u,outline:a.outline,boxVisible:a.boxVisible,shadow:a.shadow},d&&se(a,d),i.chartAreaSet.hasScaleBreaks&&(a.boxVisible=!0),a},o.prototype.normalizeOptions=function(i){return i=s.prototype.normalizeOptions.call(this,i,"series"),u_(i,"xAxis"),u_(i,"yAxis"),bP(i,"orientation"),Mne(i),i},o.prototype.options=function(i,a){var u=this.optionsGetter(i);return u!=="NotGetter"?u:((u=i.series)&&!this._firstOpCall&&(delete this.userOptions.series,delete this.currentOptions.series),!this._firstOpCall&&s.prototype.options.call(this,i,a),this.isHoriz=this.ctManager.isHoriz(),u&&this.setSeries(a),this.applyOptions(),a!==!1&&this.chartAreaSet.tryReflow(),this._firstOpCall=!1,this)},o.prototype.applyOptions=function(){var i=this.options(),a;if(this.rootVisuals.caBackground){var u=Uv(i,void 0,wi.chartArea);this.rootVisuals.caBackground.attr(u.fill)}u=i.height;var d=i.width;if(u||d){var f={};d&&(f.width=d),u&&(f.height=u),this.rootPanel.attr(f)}return(a=i.title)&&this.rootVisuals.titleBox.options(a),(this._isStaticDragArea=this.isType("organizational"))?this._axisToZoom="xy":(this._axisToZoom=this.chart.currentOptions.axisToZoom||this.currentOptions.axisToZoom,this._axisToZoom==="none"&&(this._axisToZoom="")),this.chart.triggerOptionsApplied("chartArea",this),this},o.prototype.canZoom=function(){return!!this._axisToZoom},o.prototype.setSeries=function(i){var a=this;a.log("setSeries()");var u=a.processSeriesConfigs();(a.ctManager.hasSetting("behavior","tree")||a.ctManager.isType("column"))&&a.buildChildLookup();var d=function(f,v){var x=f.currentOptions,b=x&&(x.id||x.name),w=f.id||f.name;return a.ctManager.isType("map",f)?b||w||v:x?b||v:w||v};return $o(u,a._series,function(f){a.addSeries(f)},function(f,v){return v.options(f,i||!1)},function(){},d,d),a.triggerUser("setSeries",a),a.updateMapData(i),this},o.prototype.processSeriesConfigs=function(){var i=this.options(),a=this.ctManager;if(i=i.series||[],a.shouldDataMerge()&&i.length&&1<i.length){var u=a.dataMergeType(i);a=a.shouldDataMerge(i),a.length&&(i=fe(a,function(d){return qre(d,u==="collect")}))}return i},o.prototype.spliceSeries=function(i,a,u,d){var f=this,v=this.readyDefer,x=this._series,b=v.hold("spliceSer"),w=x.slice(0,i),k=x.slice(i,i+a);for(i=x.slice(i+a,x.length),a=0,x=k.length;a<x;a++)k[a].destroy();u=fe(u,function(D){return new LM(f).options(D,d||!1)}),w.push.apply(w,c(u)),w.push.apply(w,c(i)),this._series=w,this.updateMapData(d),this.triggerUser("addSeries"),v.release(b)},o.prototype.updateMapData=function(i){var a=this;a.isType("map")&&a.triggerUser("updateMapData",[a,function(){return a.chart.redraw(i)}])},o.prototype.addSeries=function(i,a){this.isDirtyPreRender=!0;var u,d=this.readyDefer,f=d.hold("addSer");return this._series.push(u=new LM(this)),u.options(i,a||!1),this.isType("map"),d.release(f),this.triggerUser("addSeries"),u},o.prototype.preRender=function(){var i=this;if(i.isDirtyPreRender){var a=!i.renderedRect.width;i.setAxes();var u=function(d){d=i.axes(d).items.sort(function(x,b){return x=x.options("scale.syncWith"),b=b.options("scale.syncWith"),x&&b||x===b?0:x?1:-1});for(var f=0;f<d.length;f++){var v=d[f];v.setData().setRange(!0),v.init_markers()}};u(function(d){return d.prefix==="x"}),i.dataLayout_clustersAndStacks(),i.series().each(function(d){return d.setColor()}),u(function(d){return d.prefix!=="x"}),i.isMultiType()&&(i.panes=i.panes||(SM?new SM(i):null),i.panes.setPanes(i._updateOptions)),i.preRenderedRect=i.contentRect,i.isDirtyPreRender=!1,a&&i.triggerUser("firstPreRender",i)}},o.prototype.setAxes=function(){var i=this,a=this,u=(y(a.chart.currentOptions,["defaultAxis","scale"])||{}).syncWith,d=a.chartAreaSet.allAxes;a.series().each(function(f){f.setAxes()}),K(["x","y","z"],function(f){if(1<d[f].length){for(var v=0,x=d[f].length;v<x;v++)if(v){var b=d[f][v],w=!1,k=b.scale||{},D=!!k.range;D&&iA(k.range);var T=k.syncWith||u,M=y(a._series[0],["visualizer","kind"])||"";T==="none"||a.ciManager.exists(b.id)||M.match(/^map|^annotation|^funnel|^venn|^pie/)||(b.scale?D&&!iA(k.range)&&(w=!0):b.defaultTick?h(b.defaultTick.enabled)||En.emit("tip",b.id,"multiAxDTE",{data:[b.id,f],container:a.chart.getWrapper()}):b=se({defaultTick:{enabled:!1}},b),w||new Zw(i,b,f))}}}),a.setZoomAxes(),a.triggerUser("setAxes",a)},o.prototype.isType=function(i){return this.ctManager.isType(i)},o.prototype.isMultiType=function(){return this.isType("radar")||this.isType("gauge")},o.prototype.buildChildLookup=function(){if(!this.childLookup){var i=this.childLookup={},a=function(u){var d;(d=u.currentOptions.parent)&&(d=Qv(d),K(d,function(f){i[f]=i[f]||[],i[f].push(u)}))};!this.chart.isRendered&&this._series.length<this.userOptions.series.length?this.userOptions.series.forEach(function(u){Array.isArray(u.points)&&u.points.forEach(function(d){return a({currentOptions:d})})}):this._series.forEach(function(u){u.seriesDirty.points()?u.userPoints.forEach(function(d){return a({currentOptions:d})}):u._points.forEach(a)})}},o.prototype.requestAxis=function(i,a,u,d){var f,v=this.chart.chartItemManager;if(u){if(f=v.exists(u))return f;i=this.getAxConfig(u)||{}}else i=this.chartAreaSet.freeAxes[a];return(u=le(u,i?i.id:void 0))&&(f=v.exists(i.id))||(f=se({},i),u&&(f.id=u),f=new Zw(this,d?se(f,d):f,a)),f},o.prototype.getAxConfig=function(i){if(i)for(var a=this.axConfList,u=$n(a),d=this.chartAreaSet.currentOptions.rootAx,f,v=0,x=u.length;v<x;v++){var b=u[v];if((f=We(a[b],{id:i}))||(f=We(d[b+"Axis"],{id:i})))return f}},o.prototype.prepAxisConfigs=function(){var i=this,a,u;return K(["x","y","z"],function(d){u=d+"Axis",a=i.currentOptions[u]||[],a.push(i.chartAreaSet.freeAxes[d]),K(a,js),i.axConfList[d]=a}),i},o.prototype.populateAxisPanels=function(){function i(D){return function(T){T.isVisible&&T.rootPanel&&!T.isAdded&&T.add(D)}}if(!this.isMultiType()){var a=this.rootVisuals,u=this.readyDefer,d=O9(this.axes()),f=[this.rootRect.width,this.rootRect.height],v,x=[a.topAxes,a.rightAxes,a.bottomAxes,a.leftAxes];a=function(D){return!D.isHoriz};var b=function(D){return D.isHoriz},w=u.hold("axM");rs(4,function(D){K(d[D],i(x[D]))}),this.axes(a).each(function(D){D.resetMetricsData(),(v=D.measure(f))&&(f[0]-=v[2])}),this.axes(b).each(function(D){D.resetMetricsData(),(v=D.measure(f))&&(f[1]-=v[3])});var k=function(D){return D.measure(f)};this.axes(a).each(k),this.axes(b).each(k),u.release(w)}return this},o.prototype.measureAxes=function(){this.populateAxisPanels(),p9(this)},o.prototype.measureAxes_resetOverflows=function(){var i=this.rootVisuals;i.leftOverflow.attr({width:0}),i.topOverflow.attr({height:0}),i.rightOverflow.attr({width:0}),i.bottomOverflow.attr({height:0}),this.overflows=[0,0,0,0]},o.prototype.tryRenderData=function(i){var a=this.rootVisuals.content.getGlobalBbox();if(!a.width||!a.height)return!1;var u=this.contentRect;return u&&u.width===a.width&&u.height===a.height?!1:(u=this.contentRect=a,u.x=0,u.y=0,this.renderData(i),!0)},o.prototype.renderData=function(i){var a=this;a.ctManager;var u=a.chart,d=a.rootVisuals;a.log("renderData"),a.isRendering=!0;var f=a.readyDefer,v=a.contentRect;if(!f.isReady())return f.onReady(a.id+"renderD",function(){a.isType("map")&&a.chartAreaSet.reflow(),a.renderData(i||a._updateOptions||void 0)}),a;var x=a._renderDataCallMonitor;if(!(10<x.callCount)){x.open(),a._updateOptions=void 0,v||(v=a.contentRect=kl([0,0,800,500]));var b=!1;if(v){if(b=a.chart.disableAnimation(i),a.triggerUser("preRenderData",[a,!a.renderedRect.width]),a._cancelBubble){x.close(),a._cancelBubble=0<x.callCount;return}a.trigger("contentBox",d.content.getGlobalBbox()),Dre(a),f=a.currentOptions.outline.width;var w=a.renderRect=o3(v,f/2),k={x:0,y:0,width:w.width,height:w.height};f={x:0,y:0,width:v.width-2*f,height:v.height-2*f,borderWidth:f};var D=d.titleBox.currentOptions;w=D.position&&D.position!=="full"?D.position:"left",D=Uv(D),d.titleBox.alignTo(d.content,w,w,[0,D.stroke["stroke-width"]]);var T=[],M;u.flowEvents.beforeRenderSeries.trigger([a,v,f,i,T,function(){return M=!0}]),M||(d=a.series(function(I){return I.chartArea.id===a.id&&I.info.type.isShape===!1&&I.pane===void 0}).sortBy("zIndex"),d.each(function(I){return T.push(function(){return I.render(k,i)})}),d.each(function(I){return T.push(function(){return I.renderLabels(k,i)})}),d.each(function(I){return T.push(function(){return I.renderHierarchy(k,i)})})),one(function(I){return u.ensureLoadingApplied(I)},T,function(){u.flowEvents.nextRenderSeries.trigger([a,v,k,i,function(){return M=!0}]),a.renderedRect=v,a.isMultiType()||a.axes().each(function(O){O.render(k,se({invalidate:!0},i)),O.renderOnCa(k,i)}),a.render_caClip(),b&&a.chart.enableAnimation(),a.rootPanel.refresh(),a.legend.updateStyles(),a.renderBySortedSeriesRev=a.series(function(O){return O.chartArea.id===a.id}).sortBy("zIndex").items.slice(0),a.renderBySortedSeriesRev.reverse(),(!a._chartFirstTimeRendered||a._chartFirstTimeDataDirty)&&(a._chartFirstTimeRendered=!0,a._chartFirstTimeDataDirty=!1,a.triggerUser("chartAreaRenderDataFirstTime",a));var I=a._awaitRenderCallbacks.slice();a._awaitRenderCallbacks=[],a.isRendering=!1,a.isRendered=!0,K(I,function(O){return O()}),a._cancelBubble=1<x.callCount,x.close()})}return this}},o.prototype.getContentGlobalBbox=function(){return this.rootVisuals.content.getGlobalBboxArray()},o.prototype.awaitRender=function(i){this._awaitRenderCallbacks.push(i)},o.prototype.render_caClip=function(){var i=this,a=i.rootVisuals,u=i.currentOptions,d=i.rootVisuals.content,f=i.axes(),v=ws(Rt(i.renderRect),-1),x=u.outline.width||0;f=j9(d,f,x),v=f.clipPath||_l(Rt(Hc(d,kl(v),x))),x=Uv(u),x=se({d:v},_i(x.stroke,"fill"));var b={shadow:i.currentOptions.shadow};if(u.clipContent!==!1&&(b.clipPath=v),d.attr(b),f.outlines){var w=[];a.outlinePaths&&K(a.outlinePaths,function(D){return D.destroy()}),K(f.outlines,function(D){w.push(i.renderer.renderer.path({fill:"none",stroke:D.stroke,d:D.path,zIndex:jr.breakPath}).add(d))}),a.outlinePaths=w}if(f.paths){var k=[];a.breakPaths&&K(a.breakPaths,function(D){return D.destroy()}),K(f.paths,function(D){k.push(i.renderer.renderer.path({fill:D.color,stroke:"none",d:D.path,zIndex:jr.breakPath}).add(d))}),a.breakPaths=k}x["stroke-width"]||(x.stroke="none"),a.contentStroke.attr(x)},o.prototype.setRootVisuals=function(){var i=this.renderer;if(!this.rootVisuals){var a=this.currentOptions.outline.width;this.rootPanel=(this.rootVisuals=j3(i).build({axis:{},axisMarkers:!0,annotationLayer:!0,contentOverlay:!0,background:!0,gridLines:!0,overflow:!0,outline:{width:a},title:{holder:this},content:{stroke:{width:1}}})).mainStacks,this.bindRootEvents()}return this},o.prototype.getAxisMarkerVisualTargets=function(){var i=this.rootVisuals;return{behind:i.axisMarkersBehind,front:i.axisMarkersFront}},o.prototype.invalidate=function(){return this.isDirtyPreRender=!0,this.series().each(function(i){i.seriesDirty.pos(!0),i.seriesDirty.coord(!0)}),this.legend.invalidate(),this.chartAreaSet.invalidateCache(),this},o.prototype.dataLayout_clustersAndStacks=function(){var i=this,a=[],u=[],d={},f=function(){K(Qw,function(x,b){d[x]=0})},v=0;K(this.xAxis,function(x){var b=i.series({isVisible:!0});f(),x.dpsStackInfo=void 0,b.items.reverse();var w=ai(b.items.map(function(T){return T.type}));if(b.each(function(T){var M=-1<eV.indexOf(T.type);u=[],M||(T.zIndex=v+=8),T=Qo(eV,w),K(T,function(I){b.filter(function(O){return O.isVisible&&O.type===I&&O.xAxis.id===x.id}).reverse().each(function(O){if(a.indexOf(O.id)===-1){var F=O.yAxis.isStacked(),N=O.xAxis.isStackedFull();F?(F=b.filter({yAxis:{id:O.yAxis.id},xAxis:{id:x.id},isVisible:!0,type:I}).each(function(j){-1<Qw.indexOf(I)&&(j.clusterIndex=d[I]),j.isStacked=!0,a.push(j.id)}).items,v=$re(F,x,v),-1<Qw.indexOf(I)&&(d[I]++,u.push(I))):(-1<Qw.indexOf(I)&&(O.clusterIndex=d[I],u.push(I),O.info.type.clusters&&d[I]++),O.zIndex=v+=8,a.push(O.id)),N&&O.xAxis.type==="category"&&(O=i.yAxis[0].isStacked(),F=b.filter({isVisible:!0,type:I}).items,Yre(F,x,O))}})}),u.length&&(u=ai(u),K(u,function(I){x.clusterCounts[I]=d[I]||1}))}),-1<w.indexOf("column")){var k=b.filter(function(T){return T.isVisible&&T.xAxis&&T.xAxis.id===x.id&&T.type==="column"&&!T.yAxis.isStacked()&&!T.yAxis.isStackedFull()});if(k.items.length){var D=i.chart.options("zAxis.scale.type")==="stacked"||i.chart.options("zAxisScaleType")==="stacked";Xre(k.items,x,!D)}}}),this.maxSeriesZIndex=v,this.dataLayoutExperiment()},o.prototype.dataLayoutExperiment=function(){var i=this._series.slice(0),a=[],u=function(b){return b.pop?K(b,u):a.push(b.id)},d=0,f=function(b){b.zIndex=d+=8},v=function(b){var w=b.type,k=b.info.type.snapToZero,D=b.info.type.clusters;return k&&b.yAxis.isStacked()&&(w+=b.yAxis.id),D&&(w+=b.xAxis.id),k||D||(w+=b.id),w},x=function(b){return Xt(i,function(w){return v(w)===b})};a=[],K(i,function(b){-1<a.indexOf(b.id)||(b=v(b),b=x(b),b.length===1?f(b[0]):K(b,f),u(b))}),this.maxSeriesZIndex=d},o.prototype.resetTimers=function(){K(this._axes,function(i){return i.resetTimers()}),this.chart.hideTooltip(),this.crosshair()},o.prototype.ignoreAnimationFor=function(i){var a=this;i?(a._ignoreAnimation=!0,a.debounce.defer("ignoreAnim",function(){a._ignoreAnimation=!1},i)):a._ignoreAnimation&&(a.debounce.clear("ignoreAnim"),a._ignoreAnimation=!1)},o.prototype.isZoomLive=function(){return this.isPinchZooming||this.isDragging||this.isMapZooming},o.prototype.setZoomAxes=function(){var i=this,a=i.isType("map");return i.axes().each(function(u){(u.isVisible||u._isDragHost||a)&&(i.zoomAxes[u.prefix==="x"?0:u.prefix==="y"?1:2]=u)}),i},o.prototype.getZoomAxes=function(){return this.zoomAxes.length||this.setZoomAxes(),this.zoomAxes},o.prototype.keyup=function(i){i.eventArgs.key==="Escape"&&this.cancelAll()},o.prototype.clickData=function(i){var a=this,u={yAxis:[],xAxis:[]};if(!h(i.x)){var d=a.rootVisuals.content.toRelativeXY(i.eventArgs);i.x=d[0],i.y=d[1]}var f=[];return a.axes().each(function(v){(v.isVisible&&!v.noData||a.isType("map"))&&(v.prefix==="x"?u.xAxis.push({value:f[0]=v.linToVal(i.x)}):v.prefix==="y"&&u.yAxis.push({value:f[1]=v.linToVal(i.y)}))}),u.xAxis=fe(u.xAxis,function(v){return{value:a.projection.lin2valxy(v.value,f[1])[0]}}),u.yAxis=fe(u.yAxis,function(v){return{value:a.projection.lin2valxy(f[0],v.value)[1]}}),u},o.prototype.click=function(i){this.debounce.clear("clickoff"),this.cancelAll(),clearTimeout(this.zoomStartIntervalId);var a=i.pointers||[[i.x,i.y]];if(a.length===1){a={yAxis:[],xAxis:[],event:i.eventArgs};var u=!1,d=i.device==="touch";if(!this.isZooming&&!this.isDragging){var f=this.chart.highlighted,v=void 0;d&&(v=this._hoveredItem,this.mouseMove(i),this.mouseUp(i));for(var x=Xt(this.renderBySortedSeriesRev,function(k){return k.isVisible}),b=0,w=x.length;b<w;b++)if(x[b].mouseClick(i)){u=!0;break}d&&(v&&v===this._hoveredItem?this.clickOff(i):u?(d=this.chart.hoveredPoint)&&f&&bo(this.chart,d):bo(this.chart))}this.hasAnyNamedEvent("click")&&(ke(a,this.clickData(i)),u||(this.trigger("click",a),this.triggerUser("click",a)))}else a.length===2?this.zoom("-100%"):a.length===3&&this.zoom("initial")},o.prototype.clickOff=function(i,a){function u(){var f=d.chart,v;d.cancelAll(),d.crosshair(),d.chart.hideTooltip(),d.legend.pointOut(),(v=f.hoveredPoint)&&v._state==="hover"&&v.mouseOut(),d.debounce.has("unmue")?d.debounce.run("unmute"):bo(d.chart),d._hoveredItem=void 0}var d=this;a?u():d.debounce.defer("clickoff",u,30)},o.prototype.dblclick=function(i){this.cancelAll(),i=i.pointers||[[i.x,i.y]],i.length===1&&this.zoom({level:"+100%",at:this.computeVals2(i[0])})},o.prototype.mouseDown=function(i){var a=this,u=a.chart,d=a.getZoomAxes(),f=i.device,v=i.pointers||[[i.x,i.y]],x=a.computeValsTouch(v),b=v.length,w=v[0];a._lastPointers.length!==v.length&&(clearTimeout(a.zoomStartIntervalId),a.cancelAll()),a.zoomEndVals=void 0;var k=[],D=a._axisToZoom;k=x[0],!D&&a._isStaticDragArea&&(a._axisToZoom=D="xy");var T=function(){a.isPinchZooming=D,a.pinchStartTouches=v,a.zoomStartRanges=fe(d,function(M){return[M.range.min,M.range.max]}),a.renderer.attr("disableAnimation",!0)};(function(){if(a.isType("map"))return!!(a.isZoomed||b===2);if(a._isStaticDragArea||a.isZoomed&&a.isInDragArea(w[1])){var M=!1;return a.axes().each(function(I){I.canDrag()&&(M=!0)}),M}return!!D})()&&(a.zoomStartIntervalId=setTimeout(function(){if(a.attachDoc(),b===1)if(a.isType("map")||a._isStaticDragArea||a.isZoomed&&a.isInDragArea(w[1])||f==="touch"&&a.isZoomed){var M;(M=D)&&(a.isDragging=M,a.dragPrevVals=k,a.renderer.attr("disableAnimation",!0),a._prevCursor=u.getCursor(),!a._prevCursor&&a.isZoomed&&u.setCursor("move"))}else(!a.isZoomed&&f==="touch"||f!=="touch")&&(M=D)&&(a.isZooming=M,a.zoomStartVals=k,a.renderer.attr("disableAnimation",!0));else b===2&&T();a.isDragging||a.isZooming||a.chart.setCursor(),a.mouseLeft=!1,a.chart.resetTimers()},10),i.eventArgs.cancelable&&i.eventArgs.preventDefault()),a._lastPointers=v},o.prototype.mouseUp=function(i){clearTimeout(this.zoomStartIntervalId),this.isDragging&&this.mouseLeft&&this.chart.setCursor(),this.endDrag().endZoom(),this.isPinchZooming=!1,this._lastPointers=i.pointers||[]},o.prototype.isInDragArea=function(i){var a=this.isHoriz?0:1;return(a=this.zoomAxes[a]||this._axes[a])&&.5<a.linToPos(i)},o.prototype.mouseOut=function(i){i=i.eventArgs;for(var a=0,u=this._series.length;a<u;a++)this._series[a].mouseOut(i);i=this.chart.getCursor(),i!=="crosshair"&&i!=="move"||this.isDragging||this.chart.setCursor(),this.isDragging&&(this.mouseLeft=!0),this.crosshair()},o.prototype.wheelHandler=function(i){var a=[i.x,i.y],u=i.eventArgs;this._axisToZoom&&(this.setZoomAxes(),this._isStaticDragArea?(this.isDragging=this._axisToZoom,this.dragPrevVals=this.computeVals2(a),a=this.computeVals2([a[0]-.5*u.deltaX,a[1]-.5*u.deltaY]),this.drag(a)&&i.eventArgs.preventDefault(),this.endDrag()):u.altKey&&(a=this.computeVals2(a),this.zoom({at:a,level:(0>u.deltaY?"+":"-")+Math.abs(.5*u.deltaY)}),this.resetTimers(),i.eventArgs.preventDefault()))},o.prototype.pinch=function(i){var a=this,u=a.isType("map");i=i.pointers;var d=a.getZoomAxes(),f=a.isType("map")&&"xy"||a.chart.currentOptions.axisToZoom,v=function(){return u?EF(a.zoomBBox||a.zoomBBoxSet):fe(d,function(x){return[x.range.min,x.range.max]})};a.isPinchZooming?(a.pinchZoom(a.computeValsTouch(a.pinchStartTouches),a.computeValsTouch(i)),a.pinchStartTouches=i,a.zoomStartRanges=v()):(a.cancelAll(),f&&f!=="none"&&(a.isPinchZooming=f,a.pinchStartTouches=i,a.zoomStartRanges=v(),a.renderer.attr("disableAnimation",!0)))},o.prototype.resetZoom=function(){clearInterval(this.zoomStartIntervalId);var i=this.isDragging=this.isZooming=!1;return this.isZoomed=!1,this.isType("map")?this.chart.zoom("initial"):(K(this.zoomAxes,function(a){a&&(i=!0,a.zoom(void 0,void 0,!1))}),this.series().each(function(a){a.seriesDirty.pos(!0),a.seriesDirty.coord(!0)}),this.renderData()),this.chart.setCursor(),i&&this.chart.redraw(),this},o.prototype.cancelAll=function(){return this.endDrag(),this.isZooming=!1,this.zoomVisual&&this.zoomVisual.attr({display:"none"}),this.isPinchZooming=!1,this},o.prototype.endDrag=function(){return this.isDragging&&(this.isDragging=!1,this.series().each(function(i){y(i,["indexer","data","coordinates","0","hitTest"])||i.setCoordinates(void 0,{forceCoordinates:!0})}),this.renderer.attr("disableAnimation",!1),!this._prevCursor&&this.chart.setCursor(),this._prevCursor=null),this},o.prototype.endZoom=function(){var i=this;if(clearInterval(i.zoomStartIntervalId),i.renderer.attr("disableAnimation",!1),i.isZooming&&i.zoomEndVals){var a={},u=!1,d=[],f=function(v,x){-1<i.isZooming.indexOf(v)?(v=a[v+"Axis"]=[i.zoomStartVals[x],i.zoomEndVals[x]],d[x]=v):(v=i.zoomAxes[x])&&(v=v.range,d[x]=[v.min,v.max])};i.isZoomingReflow=!0,f("x",0),f("y",1),f=function(v){var x=v[0];return v=v[1],ir([[x?x[0]:0,v?v[0]:0],[x?x[1]:0,v?v[1]:0]])}(d),i.triggerUser("selection",a)!==!1&&(i.zoom(f),i.isZoomingReflow=!1,(u=!!We(i.zoomAxes,function(v){return v&&v.isZoomed}))&&i.triggerUser("selection",a)),i.cancelAll(),i.isZoomed=u}else i.isZooming=!1;return i.detachDoc(),i},o.prototype.pinchZoom=function(i,a){var u=this.isPinchZooming,d=this.zoomStartRanges,f=n_(ir(i),[1,1]),v=n_(ir(a),[1,1]);a=On(f),i=On(v);var x=v[2]/f[2]||1;if(f=v[3]/f[3]||1,u){if(-1<u.indexOf("x")){var b=d[0],w=b[1]-b[0];x=w/x,v=(i[0]-b[0])/w,b=(b[1]-i[0])/w,v=a[0]-x*v,b=a[0]+x*b,x=[v,b]}else x=d[0];-1<u.indexOf("y")?(d=d[1],b=d[1]-d[0],u=b/f,v=(i[1]-d[0])/b,b=(d[1]-i[1])/b,v=a[1]-u*v,b=a[1]+u*b,a=[v,b]):a=d[1],a=ir([[x[0],a[0]],[x[1],a[1]]]),this.triggerUser("cazoom",[this,a]),this.zoom(a)}},o.prototype.drag=function(i){var a=this.isDragging,u=[0,0];if(a){var d=Be(a);d&&-1<a.indexOf("x")&&(u[0]=this.dragPrevVals[0]-i[0]),d&&-1<a.indexOf("y")&&(u[1]=this.dragPrevVals[1]-i[1]),this._isStaticDragArea&&(this.dragPrevVals=i),this.isType("map")?(this.triggerUser("pan",[this,u]),this.chart.redraw({animation:!1})):this.zoom(u)}return!1},o.prototype.moveZoom=function(i,a){if(i.isZooming){var u={},d=i.isHoriz?"y":"x",f=d==="x"?0:1,v=i.isHoriz?"x":"y",x=v==="x"?0:1,b=i.rootVisuals.content.getGlobalBbox(),w=i.zoomVisual=i.zoomVisual||i.renderer.renderer.path({d:"M0 0"}).add(i.rootVisuals.front),k=[0+b.x,0+b.y,i.contentRect.width,i.contentRect.height];if(-1<i.isZooming.indexOf(d)){var D=i.zoomAxes[f].getCaLen(a[f]),T=i.zoomAxes[f].getCaLen(i.zoomStartVals[f]);D=Mn(D,0,i.contentRect.width),T=Mn(T,0,i.contentRect.width),k[0]=D+b.x,k[2]=T-D,u[d+"Axis"]=[i.zoomStartVals[f],a[f]]}-1<i.isZooming.indexOf(v)&&(d=i.zoomAxes[x].getCaLen(a[x]),f=i.zoomAxes[x].getCaLen(i.zoomStartVals[x]),k[1]=d+b.y,k[3]=f-d,u[v+"Axis"]=[i.zoomStartVals[x],a[x]]),a=_l(k),w.attr({d:a,fill:"rgba(0,0,200,.2)",display:"block","pointer-events":"none"}),i.triggerUser("selecting",u)}},o.prototype.zoomUpdated=function(i){var a=this,u=this,d=u._axisToZoom;if(u._isStaticDragArea)var f=!1;else h(i)?f=i:u.isType("map")?f=!!OR(u.zoomBBox||u.zoomBBoxSet,u.zoomBBoxInitial,3):u._isStaticDragArea||(f=u.getZoomAxes(),f=!!We(f,{isZoomed:!0}));if(u.isZoomed=f,i=u.chart.toolbar(),d&&i&&i.zoomInOut(f),!this._eventWaitingId){var v=u.isDragging?"scrolled":"zoomed";this._eventWaitingId=setInterval(function(){a.renderer.renderer.isAnimatingOwn()&&!a._ignoreAnimation||u.isDragging||(clearTimeout(a._eventWaitingId),a._eventWaitingId=void 0,a.triggerUser(v,a.axes().map(function(x){return x.range})))},100)}},o.prototype.bindRootEvents=function(){this.bindEvents()},o.prototype.bindEvents=function(){var i=this;if(!i._evBound){var a=i.rootVisuals.content;a.on("touchmove",function(d){(i.isZooming||i.isDragging||i.isPinchZooming)&&d.eventArgs.cancelable&&d.eventArgs.preventDefault()});var u;a.on("mouseover",function(d){u||(i.triggerUser("mouseOver",d),u=!0)}),a.on("mouseout",function(d){i.evInsideCA(d)||(i.mouseMove.cancel(),i.mouseOut(d),i.triggerUser("mouseOut",d),u=!1)}),a.on("vmove",function(d){return!i.docMM&&i.mouseMove(d)}),a.on("vclick",function(d){i.click(d),d.eventArgs.preventDefault()}),a.on("vdown",function(d){return i.mouseDown(d)}),a.on("wheel",function(d){return i.wheelHandler(d)}),i._docElement||(i._docElement=i.chart.renderer.renderer.documentElement),i._docElement.on("keyup",function(d){return i.keyup({eventArgs:d})}),i._docElement.on("vclick",function(d){return!i.evInsideChart(d)&&i.clickOff({eventArgs:d})}),i._evBound=!0}},o.prototype.attachDoc=function(){var i=this,a=i._docElement;if(!i.docMM||!i.docVUp){var u=i.rootVisuals.content;i.docMM=u.externalOn(a,"vmove",function(d){return i.docVMoveHandler(d)}),i.docVUp=u.externalOn(a,"vup",function(d){return i.mouseUp(d)})}},o.prototype.detachDoc=function(){this.docMM&&this.docMM.un(),this.docVUp&&this.docVUp.un(),this.docMM=this.docVUp=null},o.prototype.docVMoveHandler=function(i){this.mouseMove(i)&&i.eventArgs.preventDefault()},o.prototype.evInsideCA=function(i){var a;if((a=g(this.rootPanel,"el"))&&i.composedPath)return-1<(i.composedPath&&i.composedPath()).indexOf(a);if(a=this.contentRect)return a=ws(Rt(a),0),Oc(a,[i.x,i.y])},o.prototype.evInsideChart=function(i){var a=g(this.chart.rootPanel,"el.parentNode.el");return a&&i.composedPath?-1<i.composedPath().indexOf(a):this.evInsideCA(i)},o.prototype.crosshair=function(i,a,u){var d=!i&&!a;if(d&&this.tooltip&&this.tooltip.hideTooltip(),["vertical","horizontal"].indexOf(this.ctManager.settingVal("chartType"))!==-1)return d?(this.series().each(function(f){return f.hideHalo()}),fse(this)):pse(this,i,a,u)},o.prototype.crossPDD=function(){var i=this.isHoriz,a,u;return this.axes().each(function(d){var f=d.prefix;if(g(d.currentOptions,"crosshair.enabled")&&(a=a||f==="x",u=u||f==="y",a&&u))return!1}),i?(u?"X":"")+(a?"Y":""):(a?"X":"")+(u?"Y":"")},o.prototype.zoom=function(i,a){return(i=this.zoomConfToBox(i))&&this.setZoomBox(i,a),this.getZoomBoxes().zoom},o.prototype.zoomConfToBox=function(i){var a=this.isType("map"),u=C(i),d=this._isStaticDragArea,f=a&&this.chart.options("mapping.zoomLimit"),v=this.getZoomAxes();a=this.getZoomBoxes();var x=a.full,b=a.zoom,w=function(O){var F;if(typeof O=="string"){if(O==="initial")return 1;var N=O[0]==="+"?1:O[0]==="-"?-1:0;(F=O.replace(/^\D+/g,"")).length&&(F=parseFloat(F)/100),N===0?N=F:(O=b[2]?x[2]/b[2]:x[3]/b[3],N=O+O*F*N)}else N=O;return Mn(N,1,f||99999)};a=function(O){return fe(O,function(F,N){return v[N]&&v[N].posToVal(F)})};var k=function(O,F){return F=F?F.slice(0):On(b),F.push(O),T(F)},D=function(O,F){F=w(F);var N=d?b[2]:Mn(x[2]/F,1,x[2]);F=d?b[3]:Mn(x[3]/F,1,x[3]);var j=yn(O[0],b[0])/b[2],W=yn(O[0],TF(b))/b[2],$=yn(O[1],b[1])/b[3],Y=yn(O[1],AF(b))/b[3];return Lc(Mm([O[0]-N*j,O[1]-F*$,O[0]+N*W,O[1]+F*Y]),x)},T=function(O){var F=w(O[2]),N=d?b[2]:Mn(x[2]/F,1,x[2]);return F=d?b[3]:Mn(x[3]/F,1,x[3]),Lc(Vr(O,[N,F]),x)},M=function(O){return O=O.slice(0),O[2]="+0",T(O)};if(u==="number")var I=k(i);else u==="string"?I=k(w(i)):i.length===4?I=i:i.length===3?I=T(i):i.length===2?I=Lc(Il(b,i),x):(h(i.at)&&h(i.level)&&(I=D(i.at,i.level)),h(i.offset)&&(I=Lc(Il(b,i.offset),x)),h(i.pos)?I=M(a(i.pos)):h(i.center)&&(I=M(i.center)));return I=i_(I,x)},o.prototype.getZoomBoxes=function(){var i=this.isType("map"),a=this.getZoomAxes(),u=function(f){var v=f[0];return f=f[1],ir([[v?v.min:0,f?f.min:0],[v?v.max:0,f?f.max:0]])},d=i?this.zoomBBoxMax:u(fe(a,function(f){return f&&f.unZoomedRange?f.unZoomedRange:f}));return i=i?this.zoomBBox||this.zoomBBoxSet:u(fe(a,function(f){return f&&(f.zoomRange.length?(f=f.zoomRange,f=f.pop?{min:f[0],max:f[1]}:f):f=f.range),f})),{full:d,zoom:i}},o.prototype.setZoomBox=function(i,a){var u=this._isStaticDragArea,d=this.getZoomAxes(),f=this.isType("map"),v=!1,x=this.chart.currentOptions.axisToZoom||this._axisToZoom,b=!1,w=EF(i),k=function(T,M){x&&-1<x.indexOf(T)&&(T=T==="x"?0:1,v=d[T].zoom(M[0],M[1],!1)||v,b=b||d[T].isZoomed)},D=this.isDragging;this.isZoomingReflow=!0,u&&(this.isDragging=!0),f?(this.zoomBBox=i,v=!0):(k("x",w[0]),k("y",w[1])),a!==!1&&v&&this.chart.redraw(se({forceCoordinates:!0},a)),u&&(this.isDragging=D),this.isZoomingReflow=!1,this.isZoomed=b,this.zoomUpdated()},o.prototype.add=function(i){var a=this.readyDefer,u=a.hold("addCA");return this.setRootVisuals(),this.rootPanel.add(i),a.release(u),this},o.prototype.destroy=function(){this.debounce.clearAll(),this.series().each(function(i){return i.destroy()})},o.prototype.replaceTokens=function(i,a){return a||(a=this._series&&this._series.length?this.series(0).getFormatInfo():this.chart.getFormatInfo()),R_(i,this.chartAreaSet,a)},o.prototype.tokenValue=function(i){return this.replaceTokens({token:i})},o.prototype.log=function(i){},o}(ca),bue=function(){function s(o){var i=this;this.chart=o,this.items=[],this.indexer=new xM,this.freeAxes={},this.allAxes={},this._axes=[],this.enumerationData={sI:0,cpbOffset:0},this._reflowsCount=0,this.id=Td(5),this.axes=function(){return new $m(i._axes)}}return s.prototype.init=function(){var o=mse(this.chart.currentOptions);if(this.userOptions){se(this.userOptions.rootAx,o.rootAx),this.userOptions.rootItems=o.rootItems;for(var i=0,a=o.length;i<a;i++)this.userOptions[i]?se(this.userOptions[i],o[i]):this.userOptions[i]=o[i]}else this.userOptions=o;return this.setRootVisuals().setOptions().setObjects(this.currentOptions).enumerateData(),K(this.series(),function(u){return u.seriesDirty.resetCache()}),this._calcCache=void 0,this},s.prototype.setOptions=function(){var o=this.currentOptions=this.userOptions=this.normalizeOptions(this.userOptions),i=function(a){return o.rootAx[a+"Axis"]};return this.freeAxes={x:i("x")[0],y:i("y")[0],z:i("z")[0]},this.allAxes={x:i("x"),y:i("y"),z:i("z")},i=function(a){return a.scale&&a.scale.breaks},this.hasScaleBreaks=i(this.freeAxes.x)||i(this.freeAxes.y)||i(this.freeAxes.x),this},s.prototype.normalizeOptions=function(o){o=nr(o,"series",!0);var i=["xAxis","yAxis","zAxis"];return K(i,function(a){return u_(o.rootAx,a)}),K(i,function(a){return o.rootAx[a]&&K(o.rootAx[a],js)}),o},s.prototype.enumerateData=function(){var o=this;return this.enumerationData={sI:0,cpbOffset:0},K(this.series(),function(i){o.enumerateSeries(i)}),this},s.prototype.enumerateSeries=function(o){var i=this.enumerationData,a=i.sI;i=i.cpbOffset,o._i=a++,o.info.type.colorByPoint&&(o.cpbIndexOffset=i,i+=o.info.type.colorByPoint?o.userPoints.length:1),this.enumerationData={sI:a,cpbOffset:i}},s.prototype.setObjects=function(o){var i=this,a=i.rootVisuals.stack;return i.log("setObjects()"),$o(o,i.items,function(u,d){new tV(i,u).add(a)},function(u,d){return d.options(u)}),i},s.prototype.series=function(){var o=[];return K(this.items,function(i){return o.push.apply(o,c(i._series))}),o},s.prototype.add=function(o){this.rootPanel;var i=this.visualWrapper;return(i=this.visualWrapper)?(i.setRootVisuals(),i.rootPanel,this.setRootVisuals(),this.rootVisuals.stack.add(i.rootPanel)):(this.setRootVisuals(),this.rootVisuals.stack),K(this.items,function(a){}),this.rootPanel.add(o),this},s.prototype.setRootVisuals=function(){var o=this.chart.renderer,i=this.rootVisuals,a=this.rootPanel=this.rootPanel||o.panel({width:"*",height:"*"});return i||(i=this.rootVisuals={stack:void 0}),i.stack=i.stack||o.panel("stack").attr({orientation:"y"}).add(a),this},s.prototype.replaceTokens=function(o,i){return R_(o,this,i||this.getFormatInfo())},s.prototype.getFormatInfo=function(){return this.chart.series(0).getFormatInfo()},s.prototype.getCalcCache=function(){var o;return(o=this._calcCache)||(o=this._calcCache=fre(this)),o},s.prototype.invalidateCache=function(){this._calcCache=void 0,this.chart.series().each(function(o){o.calcCache=void 0})},s.prototype.invalidate=function(){this.each(function(o){return o.invalidate()})},s.prototype.each=function(o){K(this.items,o)},s.prototype.log=function(o){},s.prototype.tryReflow=function(o){return this.reflow(o,!1,!1,!0)},s.prototype.reflow=function(o,i,a,u){var d=this;if(d._reflowStarted)d._needRenderData=d._needRenderData||i,d._needLayoutRefresh=d._needLayoutRefresh||a;else if(d._reflowStarted=!0,d._needRenderData=d._needLayoutRefresh=!1,u&&!d.needReflow()||9<d._reflowsCount)d._reflowsCount=0,d._reflowStarted=!1;else{var f,v=d.items,x=[],b={};u=function(F){return K(v,w[F])};var w={beforeMeasure:function(F){var N=F.readyDefer,j=N.hold("rootSetSize");x.push(function(){return N.release(j)}),F.rootRect=F.rootVisuals.grid.getBbox(),i&&(F.isDirtyPreRender=!0)&&(F._cancelBubble=!1),F._updateOptions=o||F._updateOptions,F.preRender(),f=f||!F.isZoomingReflow&&(F.isDragging||F.isZooming),b[F.id]={renderDataResult:!1},d.invalidateCache()},startMeasure:function(F){var N=F.rootVisuals;N.titleBox.applyOptions(),N.titleBoxPanel.attr({width:null}),F.measureAxes_resetOverflows()},measureAxes:function(F){return!F.isMultiType()&&F.measureAxes()},applyOverflows:function(F){return!F.isMultiType()&&G3(F,F.overflows)},endMeasure:function(F){var N=F.rootVisuals;F.rootRect=N.grid.getBbox(),F.axes().each(function(W){return W.setLength(F.rootRect)});var j=N.content.getGlobalBbox().width;N.titleBoxPanel.attr({width:j}),N.titleBox.rootPanel.attr({maxWidth:j})},tryRenderData:function(F){b[F.id].renderDataResult=F.tryRenderData(o)},renderData:function(F){var N=b[F.id].renderDataResult;!N&&(N=i&&F.renderData(o)),!N&&a&&d.rootPanel.refresh()}};if(u("beforeMeasure"),!f||a){if(u("startMeasure"),d.chart.refreshAnnotations(),d.axes().each(function(F){return F.syncLegend()}),u("measureAxes"),1<v.length){var k=[0,0,0,0],D,T;K(v,function(F){D=F.axSizes,rs(4,function(N){return k[N]=Math.max(k[N],D[N])})});var M=k[3],I=k[1];K(v,function(F){T=F.overflows.slice(0),D=F.axSizes,T[1]=Math.max(T[1],I-D[1]),T[3]=Math.max(T[3],M-D[3]),G3(F,T)})}else u("applyOverflows");var O=d.measureResult=wre(d);d.rootPanel.attr({margin:O.casMargin}),d.rootPanel.refresh(!0),u("endMeasure"),Cre(d,o),u("tryRenderData")}u("renderData"),K(x,function(F){return F()}),d._reflowStarted=!1,d._reflowsCount++,d.reflow(o,d._needRenderData,d._needLayoutRefresh,!d._needRenderData&&!d._needLayoutRefresh)}},s.prototype.chartItems=function(){var o=this.chart,i=o.toolbar();return o=o.legends().items.concat(o.annotations().items),i&&(o=o.concat(i.children())),o},s.prototype.needReflow=function(){var o;return K(this.items,function(i){if(!o){var a=i.rootVisuals.grid.getBbox(),u=i.rootRect;i.axes().each(function(d){d.requireReflow()&&(o=!0)}),!a.width||!a.height||u&&vn(u.width,4)===vn(a.width,4)&&vn(u.height,4)===vn(a.height,4)?a.width||a.height||En.emit("warning",i.id,"cantGetSize",{container:i.chart.getWrapper()}):o=!0}}),o},s.prototype.destroy=function(){K(this.items,function(o){return o.destroy()}),delete this.indexer},s}(),_ue=function(s){function o(i,a){return a=s.call(this,i,a)||this,a.items=i,a.kindObject=o,a.points=zi(Hr,ZR(a,function(u){return u.series().points().items}),GT(a,function(){throw"Not implemented. "})),a.series=zi(IM,ZR(a,function(u){return u.series().items}),GT(a,function(){throw"Not implemented. "})),a}return e(o,s),o}(Hr),wue=function(s){function o(i,a){return a=s.call(this,i,a)||this,a.items=i,a.kindObject=o,a.entries=zi(Hr,gse(a),GT(a,function(){})),a}return e(o,s),o}(Hr),RM={"modules/debug":{checker:function(s){return s.debug===!0}},"modules/types":{checker:function(s,o,i,a){if(s.navigator||p(i,"types")||a&&U9(a))return!0;if((o=s.series)&&o.length){for(i=0;i<o.length;i++)if(a&&U9(a,o[i]))return!0}return a=po(s,{series:void 0,targetElement:void 0}),s=s.series&&s.series[0],a.series=s&&(s.map?{}:{name:s.name,points:s.points?[s.points[0]]:[]}),!!WF.test(JSON.stringify(a))}},"modules/toolbar":{checker:function(s,o){if(o===void 0&&(o=!1),!o)return!1;if(s.navigator||(o=s.axisToZoom)&&o!=="none"||s.export||h(s.toolbar)&&s.toolbar.visible!==!1)return!0;for(var i in s)if(ly(i,"toolbar")&&s.toolbar_visible!==!1&&s["toolbar.visible"]!==!1)return!0;return!1}},"modules/maps":{checker:function(s){return s.type&&ly(s.type,"map")}},"modules/accessibility":{checker:function(s){return s.tabIndex||s.description}},"https://code.jscharting.com/polyfill/intl":{checker:function(s){return!ct.Intl}},"modules/datagrid":{checker:function(s){return s.grid&&s.grid.enabled!==!1||s.grid_enabled&&s.grid_enabled!==!1}}},Cue=un("pie organizational gauge radar treemap funnel cone pyramid heatmap calendar venn".split(" ")),Jw=[],Ba={},PM={animation:function(s,o){o.renderer.attr({transition:{animation:s}})},box:function(s,o,i){s=$v(s),s.fill&&o._loader&&o._loader.options({fill:s.fill}),i.boxAttr=s,s.padding&&o.isRendered&&(i.needRedraw=!0)},loading:function(s,o){o._loader&&o._loader.options(s)},width:function(s,o,i){o.isRendered&&St(i.layoutAttr,"width",s)},height:function(s,o,i){o.isRendered&&St(i.layoutAttr,"height",s)},targetElement:function(s,o,i){o.isRendered&&(Be(s)&&(s=Qt.getElementById(s)),St(i.layoutAttr,"container",s))},annotations:function(s,o,i){o.isRendered&&(o.annotations(s),i.needRedraw=!0)},defaultAnnotation:function(s,o){o.isRendered&&o.annotations().options({})},defaultBox:function(s,o,i){o.isRendered&&(o.annotations().options({}),i.needRefresh=!0)},defaultSeries:function(s,o,i){o.isRendered&&(o.series().each(function(a){return a.seriesDirty.all(!0)}),o.series().options({},!1),i.needRedraw=!0)},defaultCultureName:function(s,o,i){o.isRendered&&(o.axes().each(function(a){return a.invalidate().options({},!1)}),o.chartAreaSet.invalidate(),i.needRedraw=!0)},palette:function(s,o){h(o.palette=ure("palette",s))?(o.series().each(function(i){return i.seriesDirty.all(!0)}),o.dirty=!0,o._spDirty=!0):En.emit("warning",o.id,"paletteNF",{data:[s],container:o.getWrapper()})},title:function(s,o){o.isRendered&&(o.chartAreas(0).options({title:s}),s.position&&(o.dirty=!0))},type:function(s,o,i){o.isRendered&&(o.ctManager.init(o.currentOptions),K(o.chartAreaSet.items,function(a){a.ctManager.init(o.currentOptions)}),o.series().each(function(a){return a.seriesDirty.all(!0)}),i.needRedraw=!0,o.calIndexer?(o.calIndexer.options({}),i.updateCalendar=!0):o.typeContextOptions=o.typeContextOptions||{}),o.ctManager.hasSetting("behavior","noLegend")&&((o.typeContextOptions||(o.typeContextOptions={})).legend={visible:!1})},mapping:function(s,o){o.isRendered&&(p(s,"base")||p(s,"referenceLayers")||p(s,"projection")?o.chartAreas(0).triggerUser("updateMapData",[o.chartAreas(0),!1]):p(s,"projection")&&s.projection!==o.currentOptions.projection&&o.chartAreas(0).triggerUser("updateMapData",[o.chartAreas(0),!1]),o.dirty=!0)},axisToZoom:function(s,o){(s===""||s==="none")&&(s=(s=o.toolbar())&&s.items?s.items("zoom"):void 0)&&s.options({visible:!1})},series:function(s,o,i){o.isRendered&&o.calIndexer?(o.userOptions.series=s,i.updateCalendar=!0,i.needRedraw=!0):o.isRendered&&(o.chartAreas(0).options({series:s},!1),i.needRedraw=!0)},defaultTooltip:function(s,o,i){o.isRendered&&(o.chartAreas().each(function(a){return a.tooltip.options(s)}),o.series().each(function(a){return a.tooltip.options(s)}))},defaultAxis:function(s,o,i){o.isRendered&&(o.axes().options({},!1),i.needRefresh=!0)},xAxis:function(s,o,i){!s.pop&&o.isRendered&&((o=o.axes("x"))&&o.options(s,!1),i.needRefresh=!0)},yAxis:function(s,o,i){!s.pop&&o.isRendered&&((o=o.axes("y"))&&o.options(s,!1),i.needRefresh=!0)}},FM={},nV,iV=function(){return{fontFamily:"tahoma, geneva, sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal","user-select":"none",transition:{animation:{duration:330,easing:"ease-in-out-circ"}}}},kue=function(s){var o={defaultAnnotation:kM(s),animation:iV().transition.animation,languageStrings:Sse,debug:!0};return s.ctManager.isType("map")&&ke(o,{legend:{template:"%icon %name"},axisToZoom:"xy"}),o},NM={},rV,e2=function(){function s(o,i){o===void 0&&(o={}),this.kind="Chart",this.cpbIndex=0,this.isRtlCulture=!1,this.flowEvents={optionsApplied:new Kc,beforeSetUserOptions:new Kc,beforeApplyLayout:new Kc,beforeSnapshot:new Kc,afterSnapshot:new Kc,beforeOptionsNormalization:new Kc,beforeDefaultsApply:new Kc,beforeRenderSeries:new Kc,nextRenderSeries:new Kc};var a=this;if(!(a instanceof s)){if(3<=arguments.length&&typeof arguments[2]=="function"){var u=[].slice.call(arguments);return u.splice(0,0,null),new(Function.prototype.bind.apply(s,u))}return new s(o,i)}a.rootVisuals={box:void 0,front:void 0,tooltip:void 0},a.internal={ctManager:a.ctManager,mappingInfo:{contextMaps:"",dataMaps:[],allMaps:[],loadedCallStack:[],regionList:[],mapsLoading:!1,internalMapsUsed:!1,customMapsUsed:!1,projection:"mercator",mapsLoadingList:[]}},a._annotations=[],a._legends=[],a._highlights=[],a.palette=c_(0),a.use3D=!1,a.internalConfigs={chartAreas:[]},a.ctManager=xB(),a.mapsLoaded=!1,a.action=new Due,a.dirty=!0,u=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);var d=fe(u,C);d[0]==="string"||qte(u[0])?(o=Ml(u[1]||{}),o.targetElement=u[0],i=u[2]):d[0]==="object"&&(o=Ml(u[0]),i=u[1]);var f=$_(o),v=function(){a.triggerUser("load"),a.checkGridOption(),a.dirty=!1,a.loading(!1),a.inited=!0,i&&i.call(a,a)};a.id=f.id||Td(5),a.isColorized=!0,a.initRenderer(f),a.renderer.refresh(),a.currentOptions=f,a.ctManager.init(f),f&&f.loading===!1||a.loading(!0),fy=f.baseUrl,W9(a,f,function(){a.init(f,v)},!0)}return s.prototype.toGrid=function(o,i){var a=this,u=$_(i),d=this._grid=Ba.chartToGrid&&Ba.chartToGrid(this,o,u);if(d)return d.then=function(v){return v&&v(d)},d;var f={grid_enabled:!0};return u&&(f.baseUrl=u.baseUrl,f.notificationContainer=u.notificationContainer),lm(function(v,x){aA("modules/datagrid",f,function(){a._grid=Ba.chartToGrid&&Ba.chartToGrid(a,o,u),v(a._grid)})})},s.prototype.checkGridOption=function(){var o=this,i=o.currentOptions.grid,a=o.currentOptions.targetElement;i&&(i.enabled===!0?o._grid?(o._grid.setDataFromChart(!1),o._grid.options(i)):o.toGrid(a,ke({className:"dataTable",exportFile:!0},i)).then(function(u){o._gridSwitch=Ba.createGridSwitch&&Ba.createGridSwitch(o,a,u)}):i.enabled===!1&&(o._grid&&o._grid.destroy(),o._gridSwitch&&o._gridSwitch.destroy(),delete o._grid,delete o._gridSwitch),o.triggerOptionsApplied("grid",o))},s.prototype.init=function(o,i){var a=this,u=a.options("navigator.enabled");if(o=a.userOptions=o,!a.renderer.renderer.isRootDestroyed()){if(a.chartItemManager=new ace(this),a.initFP(),xi(NM,function(b){return NM[b](a)}),!a.ctManager.isType("calendar")&&a.data&&!a.userOptions.series){var d=TP(a.data.val);a.userOptions.series=[{points:fe(d,function(b){return{x:b[0],y:b[1],z:b[2]}})}]}a.seriesCount=o.series?o.series.length:0,a.isRtlCulture=zF(o.defaultCultureName),a.setRootVisuals(),a.disableAnimation(!1),a.flowEvents.beforeSetUserOptions.trigger({type:"chart",owner:a}),a.options(a.userOptions,{skipClone:!0}),En.emit("validate",a.id,"chartAfterOptions",{chart:a,data:a.userOptions});var f=a.chartAreaSet.add();a.drawAnnotations(),a.flowEvents.beforeApplyLayout.trigger({type:"chart",owner:a}),a.rootPanel.refresh(!0),f.tryReflow(),a._lastRefreshedRect=a.renderer.getRootBox(),a.rootPanel.on("finalSize",function(b){var w=a._lastRefreshedRect;w&&w.width===b.width&&w.height===b.height||(a._lastRefreshedRect=b,f.tryReflow())}),a.enableAnimation();var v=[],x=function(){a.isRendered=!0,v.length||i.call(a,a)};K(a.chartAreaSet.items,function(b){!b.isRendered&&b.isRendering&&(v.push(b.id),u&&(b.navHold=b.readyDefer.hold("Navigator")),b.awaitRender(function(){v.splice(v.indexOf(b.id),1),x()}))}),x()}},s.prototype.exportImage=function(o,i){o===void 0&&(o={}),this.renderer.attr("disableAnimation",!0),this.flowEvents.beforeSnapshot.trigger({type:"chart",owner:this}),this.triggerUser("beforeExport"),this.rootPanel.refresh(),this.chartAreaSet.items.forEach(function(k){return k.clickOff(null,!0)}),i&&this.options(i),i=o.imageType||o.type||"png",i={png:"image/png",jpg:"image/jpeg",pdf:"application/pdf",svg:"image/svg+xml"}[i.toLowerCase()]||i;var a=o.server||"https://export.jscharting.com/download",u=this.getSVG(),d=o.title||this.options("title_label_text"),f=o.author,v=o.subject,x=o.keywords,b=o.comment,w=o.rating;this.submitForm(u.svgString,i,a,o.width,u.width,u.height,X9(),d,f,v,x,b,w),this.flowEvents.afterSnapshot.trigger({type:"chart",owner:this}),this.triggerUser("afterExport"),this.rootPanel.refresh(),this.renderer.attr("disableAnimation",!1)},s.prototype.print=function(){var o=this,i=o.getWrapper(),a=i.style,u=o.renderer,d=ct,f=d.document.documentElement,v=f.style;o.chartAreaSet.items.forEach(function(F){return F.clickOff(null,!0)});var x=i.parentElement,b=[],w=d.document.body,k=w.children;(function(){for(var F=0;F<k.length;F++){var N=k[F];if(N.style.display!=="none"){var j={el:N,display:N.style.display};N.style.display="none",b.push(j)}}w.appendChild(i)})(),v.visibility="hidden";var D=ke({},a),T=u.attr("width"),M=u.attr("height"),I=function(F){return F=F.getBoundingClientRect(),{top:F.top+(d.pageYOffset||f.scrollTop),left:F.left+(d.pageXOffset||f.scrollLeft)}},O=function(F){for(var N=(F=F.parentNode)&&F.style&&F.style.position,j=["absolute","relative","fixed"];F&&(!N||!~j.indexOf(N));)N=(F=F.parentNode)&&F.style&&F.style.position;return F}(i);I=O?I(O):{left:0,top:0},se(a,{visibility:"visible",position:"absolute",top:-I.top,left:-I.left}),u.attr("disableAnimation",!0),u.attr("width","21cm"),u.attr("height",u.rootBox.height||"100%"),o.flowEvents.beforeSnapshot.trigger({type:"chart",owner:o}),o.triggerUser("beforeExport"),u.refresh(),setTimeout(function(){d.focus(),d.print(),setTimeout(function(){x.appendChild(i);for(var F=0;F<b.length;F++){var N=b[F];N.el.style.display=N.display}se(a,{visibility:D.visibility,position:D.position,top:D.top,left:D.left}),u.attr("width",T),u.attr("height",M),o.flowEvents.afterSnapshot.trigger({type:"chart",owner:o}),o.triggerUser("afterExport"),u.refresh(),u.attr("disableAnimation",!1),v.visibility="visible"},koe?3e3:1)},1)},s.prototype.submitForm=function(o,i,a,u,d,f,v,x,b,w,k,D,T){var M=Qt.createElement("form");M.action=a,M.method="POST",this.createFormInput(M,"svg",o),this.createFormInput(M,"type",i),this.createFormInput(M,"width",u),this.createFormInput(M,"actualWidth",d),this.createFormInput(M,"actualHeight",f),this.createFormInput(M,"version",v),this.createFormInput(M,"title",x),this.createFormInput(M,"author",b),this.createFormInput(M,"subject",w),this.createFormInput(M,"keywords",k),this.createFormInput(M,"comment",D),this.createFormInput(M,"rating",T),Qt.body.appendChild(M),M.submit(),Qt.body.removeChild(M)},s.prototype.createFormInput=function(o,i,a){if(a){var u=Qt.createElement("input");return u.value=encodeURIComponent(a),u.name=i,o.appendChild(u),u}},s.prototype.toolbar=function(){return this._toolbar},s.prototype.initFP=function(){var o=this;o.series=zi(IM,function(){return o.chartAreaSet.series()},function(i){K(i,js),o.userOptions.series=i;var a=o.chartAreas(0).readyDefer,u=a.hold("splS");o.chartAreas(0).spliceSeries(0,o.chartAreas(0).series().items.length,i,!1),o.redraw({animation:o.currentOptions.animation}),a.release(u)},{push:function(i,a){var u=o.chartAreas(0);(u.ctManager.hasSetting("behavior","tree")||u.ctManager.isType("column"))&&(u.userOptions.series.push(Ml(i)),u.childLookup=void 0),i=u.addSeries(i,!1),u.triggerUser("updateMapData",[u,i]),a!==!1&&o.redraw(a),o.action.log("data")},splice:function(i,a,u,d){o.chartAreas(0)._chartFirstTimeDataDirty=!0,o.chartAreas(0).spliceSeries(i,a,Zt(u)?u:[u],!1),d!==!1&&o.redraw(d),o.action.log("data")}}),o.annotations=zi(Hr,function(){return o._annotations},function(i){K(i,js),St(o.userOptions,"annotations",i),o.drawAnnotations(),o.chartAreaSet.reflow(null,!1,!0)},{push:function(i,a){js(i),o.userOptions.annotations=o.userOptions.annotations||[],o.userOptions.annotations.push(i),o.drawAnnotations(),Xi(a)&&(a=nr(a)),o.chartAreaSet.reflow(a,!1,!0)},splice:function(i,a,u,d){var f;K(u,js),o.userOptions.annotations=o.userOptions.annotations||[],(f=o.userOptions.annotations).splice.apply(f,c([i,a],u)),o.drawAnnotations(),Xi(d)&&(d=nr(d)),o.chartAreaSet.reflow(d,!1,!0)}}),o.chartAreas=zi(_ue,function(){return o.chartAreaSet.items},function(i){}),o.xAxis=zi($m,function(){o.chartAreaSet.axes({prefix:"x"})},function(i){o.currentOptions.xAxis=i}),o.axes=zi($m,function(){return o.chartAreaSet.axes().items},function(i){}),o.legends=zi(wue,function(){return o._legends},function(i){},{push:function(i,a){},splice:function(i,a,u,d){}})},s.prototype.options=function(o,i){var a=this,u=C(o);if(u==="undefined")return a.currentOptions;if(u==="string")return g(a.currentOptions,o);var d=a.inited&&!a.isRendered&&a.loading(!0);return a.ctManager.init(a.currentOptions),a.initApi(),o=!h(i)||h(i)&&!i.skipClone?Ml(o):o,a.isRendered&&(o=nr(o,"series,targetElement")),o=Cse(a,o,i),o=a.setUserOptions(o),a.optionsNormalized=!0,W9(a,o,function(){wse(a,o,i),o.series&&!a.isRendered?a.initControls():a.dirty&&i!==!1&&(a.setCursor(),a.chartAreaSet.invalidate(),a.redraw()),a.inited&&o.grid&&a.checkGridOption(),a.triggerOptionsApplied("chart",a),d&&a.loading(!1)}),i&&i.then&&ch.await(function(){i.then&&(i.then.call(a),delete i.then)}),a},s.prototype.triggerOptionsApplied=function(o,i){this.flowEvents.optionsApplied.trigger({type:o,owner:i})},s.prototype.replaceTokens=function(o,i){return this.chartAreaSet.series().length?R_(o,this.chartAreaSet,this.getFormatInfo()):o},s.prototype.tokenValue=function(o){return this.replaceTokens({token:o})},s.prototype.getFormatInfo=function(){return this.chartAreaSet.series().length?this.series(0).getFormatInfo():{x:{},y:{},z:{}}},s.prototype.getSVG=function(){var o=this.getWrapper().getElementsByTagName("svg")[0],i=o.getBoundingClientRect(),a=o.outerHTML;return a||(a=new XMLSerializer().serializeToString(o),a=a.replace('xmlns="http://www.w3.org/2000/svg"',""),a=a.replace('xmlns:NS1=""',""),a=a.replace('NS1:xmlns:xlink="http://www.w3.org/1999/xlink"',"")),{svgString:a,width:i.width,height:i.height}},s.prototype.zoom=function(o,i){return this.chartAreas(0).zoom(o||1,i)},s.prototype.connectors=function(o,i,a){a===void 0&&(a={animation:{duration:0}});var u=this.chartAreaSet.items[0].ciManager,d;if(h(i)||h(o))if(d=o_(o)){if(u=u.exists(d.firstId))return d=u.series,d=d.visualizer,d.styleLines&&d.styleLines(o,i,a);En.emit("warning","",'No point with the id "'+d.firstId+'" was found.',{container:this.getWrapper()})}else En.emit("warning","","The specified pathSelector is not valid.",{container:this.getWrapper()});else this.series().each(function(f){var v=f.visualizer.resetLines;v&&v.apply(f.visualizer)})},s.prototype.setUserOptions=function(o){var i=o.series,a=o.data;delete o.series,delete o.data;var u=this.normalizeOptions(o);this.userOptions=se(this.userOptions,u);var d=kue(this);return this.flowEvents.beforeDefaultsApply.trigger({type:"chart",owner:this,options:d}),d=se(d,this.userOptions),K(["defaultBox","defaultAxis"],function(f){d[f]&&(d[f]=bM(d[f]))}),this.currentOptions=se(this.currentOptions,this.contextOptions(),d),i&&(u.series=this.currentOptions.series=i),a&&(u.data=this.currentOptions.data=a),o.defaultCultureName&&(this.isRtlCulture=zF(o.defaultCultureName)),u},s.prototype.contextOptions=function(){return g(this,"typeContextOptions.chart")||{}},s.prototype.normalizeOptions=function(o){var i=o.annotations;return i&&K(i,js),o.defaultPoint&&St(o,"defaultSeries.defaultPoint",se(g(o,"defaultSeries.defaultPoint")||{},o.defaultPoint||{})),(i=o.hatchPalette)&&i===!0&&(o.hatchPalette=oV("hatch")),o.export&&Kf(o,["toolbar","items","export","visible"],!0),this.flowEvents.beforeOptionsNormalization.trigger({type:"chart",owner:this,options:o}),o},s.prototype.initApi=function(){var o=this.userOptions,i=this.internal;this.ctManager;var a=o.template;o.debug,delete o.template,i.spv=St,o=nr(o,"data,series,targetElement"),o.series=o.series||[],a&&(a=nr(a),o=Wc(o,a)),this.currentOptions=se({},o)},s.prototype.initControls=function(){this.renderer,this.internalConfigs,this.drawLegends(),this.chartAreaSet.init()},s.prototype.initRenderer=function(o){var i=o.targetElement,a=Be(i)?Qt.getElementById(i):i;a||Be(i)&&En.emit("error",this.id,"targetElIdNotFound",{data:[i]}),(this.renderer=new yM({container:a,width:this.getSizeOrMin(o.width,25),height:this.getSizeOrMin(o.height,25),defaultWidth:640,defaultHeight:350,pixelCorrection:o.pixelCorrection})).attr(iV())},s.prototype.getSizeOrMin=function(o,i){var a=0;return typeof o=="number"?a=o:typeof o=="string"&&o.indexOf("%")===-1&&(a=parseInt(o)),a?Math.max(a,i):o},s.prototype.setRootVisuals=function(){var o=this,i=o.renderer,a={width:"*",height:"*"},u=o.rootPanel;u||(o.isRtlCulture&&(a.direction="rtl",a["text-anchor"]="end"),u=o.rootPanel=i.panel(a),u.on("touchstart",function(f){return o.touched(!0)})),a=o.rootVisuals=o.rootVisuals||{box:void 0,front:void 0,uiItemsFront:void 0,itemsBox:void 0};var d=a.box=a.box||i.box({width:"*",height:"*",stroke:"none",fill:"#FFFFFF",margin:3}).add(u);a.uiItemsFront=a.uiItemsFront||i.panel({width:"*",height:"*"}).add(u),a.front=a.front||i.panel({width:"*",height:"*"}).add(u),o.isColorized&&!o.chartAreaSet&&(o.renderer.getRootBox(),u=i.box({xAlignment:"left",yAlignment:"bottom",cursor:"pointer",borderWidth:0,height:17,fill:"transparent",margin:[0,0,4,4]}).add(u),o.renderer.renderer.element("title").attr({text:"Chart created using ".concat("JSCharting")}).add(u),i.svgContainer(`<linearGradient id="a" gradientUnits="userSpaceOnUse" x1="8.4" x2="8.4" y1="16.327" y2="1.765"><stop offset="0" stop-color="#4a4949"/><stop offset="1" stop-color="#666565"/></linearGradient><linearGradient id="b"><stop offset="0" stop-color="#0d48a1"/><stop offset="1" stop-color="#20ade2"/></linearGradient><linearGradient id="c" gradientUnits="userSpaceOnUse" x1="24.226" x2="24.226" xlink:href="#b" y1="16.343" y2="4.618"/><filter id="d" width="120%" height="120%" x="-10%" y="-10%"><feColorMatrix type="saturate" values="0"></feColorMatrix></filter><g opacity=0.4 filter="url(#d)" id='brandingLogo'><rect x=0 y=0 width=31 height=16.4 fill="rgba(255,255,255,0)"/><path d="m4.7 12.9s.1.9-.9.9c-1.2 0-1.9-1.3-1.9-1.3l-1.9 1.8s1.7 2 3.9 2c2.4 0 3.5-1.6 3.5-2.6v-11.6h-2.7zm6.7-6.9c-.7-.7.9-3 3.2-.2l1.9-1.8s-1.7-2.2-4-2.2c-2.8 0-4.8 3.2-3.4 5 1.8 2.4 5.1 4.2 5.1 5.4 0 .7-.4 1.5-1.4 1.5-2.1 0-2.5-1.8-2.5-1.8l-2.3 1.4s1.5 3 4.3 3c2.7 0 4.5-1.3 4.5-4.3-.1-2.2-4.2-4.7-5.4-6z" fill="url(#a)"/><path d="m23.7 0c-2.3-.1-5.1 2.1-5.1 2.1l5.3 5.2-.2-7.3z" fill="#1faae0"/><path d="m25.1 1-.3 7.2 3-6.4c.1 0-.9-.6-2.7-.8z" fill="#0e4da4"/><path d="m28.8 2.7-1.2 2.2s1.7 1.1 1.7 1.3l1.7-1.7s-1.6-1.7-2.2-1.8z" fill="#1d9fd9"/><path d="m23.3 13.6c-5.2-2-2.5-7.5-2.5-7.5l-1.8-1.5c-3.4 4.5-.7 10.4 3.3 11.4 6 1.5 8.7-2.4 8.7-2.4l-1.7-1.7c-2 1.7-4.1 2.5-6 1.7z" fill="url(#c)"/></g>`).add(u),u.on("click",function(f){Qt.location.href="https://jscharting.com"}),o.renderer.renderer.cssText(`#brandingLogo:hover{
				opacity:1;
				filter:none;
			} #brandingLogo {
				-webkit-transition: opacity 1s ease;
				-moz-transition: opacity 1s ease;
				-o-transition: opacity 1s ease;
				transition: opacity 1s ease;
			}`)),o.chartAreaSet=o.chartAreaSet||new bue(this).add(d),a.itemsBox=a.itemsBox||i.panel({width:"*",height:"*"}).add(d)},s.prototype.boxDefaults=function(o){var i=nr(this.userOptions.defaultBox);return o=Em(le(o,this.getStyling())),i&&(i.fill||i.outline&&i.outline.width!==0)&&(o.boxVisible=!0),i?se(o,i):o},s.prototype.getStyling=function(){var o=this.currentOptions,i=nr(this.userOptions.defaultBox);return le(o.legacyStyling,i&&i.boxVisible)?1:0},s.prototype.touched=function(o){if(h(o))rV=!0;else return rV},s.prototype.setCursor=function(o){this.renderer.renderer.setCursor(o)},s.prototype.getCursor=function(){return this.renderer.renderer.getCursor()},s.prototype.getWrapper=function(){return g(this,"renderer.renderer.wrapper.el")},s.prototype.resetTimers=function(){this.chartAreas().each(function(o){return o.resetTimers()})},s.prototype.redraw=function(o){var i=this;if(i.dirty===!1){var a=i.renderer.getRootBox(),u=i.renderer.renderer.isDefaultSizeSet();if(!a.height||!a.width||u){i.renderer.refreshRootBox(),i.renderer.refresh(),i.renderer.renderer.rootResize(),u?setTimeout(function(){return i.renderer.renderer.resubscribeResize()},1e3):i.renderer.renderer.resubscribeResize();return}}o=nr(o),a=i.disableAnimation(o),i.tooltipRef&&i.tooltipRef.hide(),i.series().each(function(d){return d.visualizer.hideHalo()}),i.chartAreaSet.enumerateData(),i.chartAreaSet.reflow(o,!0),i.triggerUser("redraw"),a&&i.enableAnimation(),i.dirty=!1,o&&o.then&&ch.await(function(){o.then&&(o.then.call(i),delete o.then)})},s.prototype.updateSideItems=function(o){this._grid&&this._grid.setDataFromChart(o)},s.prototype.disableAnimation=function(o){var i=this.renderer;return(o=h(o)&&(o===!1||o.animation===!1)&&i.disableAnimation())&&i.attr("disableAnimation",!0),o},s.prototype.enableAnimation=function(){this.renderer.attr("disableAnimation",!1)},s.prototype.hideTooltip=function(){var o=this.tooltipRef;o&&o.isVisible&&o.hideActiveTooltip(this)},s.prototype.zoomInOut=function(o){},s.prototype.refreshAnnotations=function(){this.annotations().each(function(o){var i=o.options("label_text");i&&-1<i.indexOf("%")&&o.applyOptions()})},s.prototype.drawAnnotations=function(o){var i=this;o=i.userOptions.annotations;var a=i.userOptions.defaultAnnotation,u=a?a.asHTML:!1;o&&$o(o,i._annotations,function(d){var f=new $w(i,d);return d.asHTML===void 0||d.asHTML,f.add(i.rootVisuals.itemsBox),f},function(d,f){return f.options(d)})},s.prototype.requestLegend=function(o){return this._legends[0]},s.prototype.drawLegends=function(o){var i=this;o=i.options("legend")||{};var a=i.rootVisuals.itemsBox;$o([o],i._legends,function(u){return new gue(i,u).add(a)},function(u,d){return d.options(u)})},s.prototype.triggerUser=function(o,i){var a=this.currentOptions.events;if(a=(o=a&&Kb(a,o))&&a[o],ge(a))return a.call(this,i)},s.prototype.loading=function(o,i){return(this._loader=this._loader||new Ice(this.renderer,ke({fill:this.currentOptions.box?this.currentOptions.box.fill:"#fff"},this.currentOptions.loading||{}))).loading(o,i)},s.prototype.ensureLoadingApplied=function(o){this._loader?this._loader.ensureAnimationApplied(o):o()},s.prototype.destroy=function(){this._selDeBouncer&&this._selDeBouncer.clearAll(),this.chartAreaSet&&this.chartAreaSet.destroy(),this.legends&&this.legends().each(function(o){return o.destroy()}),this._loader&&this._loader.destroy(),this.renderer&&this.renderer.destroy(),delete this._toolbar,delete this.renderer,delete this.chartAreaSet},s.prototype.dispose=function(){this.destroy()},s.prototype.getSmartPalette=function(o){var i=this.chartItemManager,a,u,d=C(o);if(d==="string")return i.exists(o);var f=i.getSPItems(),v=!(f.length===1&&(o.colors||o.ranges||o.stops));if(this._spDirty&&!v&&(K(i.getSPItems(),function(b){return i.destroyItem(b.id)}),f=i.getSPItems()),v&&f.length===1){f[0].setOptions(o);var x=f[0]}else(a=o.id)&&(u=i.exists(a))?(u.setOptions(o),x=u):d==="object"&&(x=new MB(this,o));return this._spDirty=!1,x},s.prototype._pointSelection=function(){var o=this;(o._selDeBouncer=o._selDeBouncer||new Kd).defer("pSel",function(){var i=o._sMaxList&&o._sMaxList.length?o._sMaxList.slice(0):o.series().points({selected:!0}).items;o.triggerUser("pointSelectionChanged",i)},30)},s.prototype._seriesSelection=function(){var o=this;(o._selDeBouncer=o._selDeBouncer||new Kd).defer("pSel",function(){var i=o.series(function(a){return a.options("selected")}).items;o.triggerUser("seriesSelectionChanged",i)},30)},s}(),Due=function(){function s(){this._log=[]}return s.prototype.log=function(o){this._log.push(this._last=o)},s.prototype.last=function(){return this._last},s.prototype.clear=function(){this._log=[]},s}(),sV=[];(function(s,o){ct.JSC=se(ct.JSC,{Chart:o}),kse(ct.jQuery,s,o)})(sV,e2);var oV=xw,Sue=fe,Tue=se,Aue=Dw,t2=function(s,o,i){return u3(i?s.map(xy(i)):s,o)};UT({"system/default/area":"M 23 0 A 12 12 0 0 0 11 12 A 12 12 0 0 0 23 24 A 12 12 0 0 0 35 12 A 12 12 0 0 0 23 0 z M 48 0 L 35.785156 6.1074219 A 14.10924 14.10924 0 0 1 37.109375 12.033203 A 14.10924 14.10924 0 0 1 30.458984 24 L 48 24 L 48 0 z M 10.583984 18.708984 L 0 24 L 15.556641 24 A 14.10924 14.10924 0 0 1 10.583984 18.708984 z ","system/default/areaSolo":"M 0,24 48,0 48,24 Z","system/default/checkbox-blank":"M38 10v28H10V10h28m0-4H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4z","system/default/checkbox":"M38 6H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM20 34L10 24l2.83-2.83L20 28.34l15.17-15.17L38 16 20 34z","system/default/circle":"M0,12a12,12 0 1,0 24,0a12,12 0 1,0 -24,0","system/default/diamond":"M12 .001l12 12-12 12-12-12 12-12z","system/default/line":"M 46.076172 -0.001953125 L 34.929688 4.7050781 A 14.000001 14 0 0 1 36.732422 9.3027344 L 47.996094 4.546875 L 46.076172 -0.001953125 z M 23 0 A 12 12 0 0 0 11 12 A 12 12 0 0 0 23 24 A 12 12 0 0 0 35 12 A 12 12 0 0 0 23 0 z M 9.453125 15.460938 L 0 19.451172 L 1.9199219 24 L 11.488281 19.960938 A 14.000001 14 0 0 1 9.453125 15.460938 z","system/default/lineSolo":"M 46.076172,-0.00195313 0,19.451172 1.9199219,24 47.996094,4.546875 46.076172,-0.00195313 Z","system/default/radio-button-blank":"M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z","system/default/radio-button":"M24 14c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0-10C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.84 0-16-7.16-16-16S15.16 8 24 8s16 7.16 16 16-7.16 16-16 16z","system/default/square":"M18 24H6c-3.3 0-6-2.7-6-6V6c0-3.3 2.7-6 6-6h12c3.3 0 6 2.7 6 6v12c0 3.3-2.7 6-6 6z","system/default/triangle":"M24 22h-24l12-20z","system/default/triangleDown":"M12 21l-12-18h24z","system/default/warning":"M18.9 18.3l-9-16c0-.1-.1-.1-.2-.2-.2-.2-.5-.1-.6.2l-9 16c-.1 0-.1.1-.1.2 0 .3.2.5.5.5h18c.1 0 .2 0 .2-.1.3-.1.4-.4.2-.6zM10 16.5c0 .3-.2.5-.5.5s-.5-.2-.5-.5v-1c0-.3.2-.5.5-.5s.5.2.5.5v1zm0-3c0 .3-.2.5-.5.5s-.5-.2-.5-.5v-5c0-.3.2-.5.5-.5s.5.2.5.5v5z"},!1),St(ct,"JSC.internal.registerIcons",UT),St(ct,"JSC.internal.setPathVal",St),["log","warning","error"].forEach(function(s){St(ct,"JSC.internal."+s,function(o,i){En.emit(s,null,o,{container:i})})});var cp=g(ct,"JSC.internal"),tu,Mue=Object.freeze({SELECT_STATE:"select",NORMAL_STATE:"",zIndexReference:jr,boxDefaults:Em}),Eue=Object.freeze({def:h,has:p,noop:gl,removeArrItem:m,evalPath:g,epa:y,contains:kd,getValType:C,isNull:_,mergeCollections:$o,extend:ke,extendCopy:ht,copy:Ii,extendScoped:Vi,extendScopedNegate:Ac,extendCopyScopedNegate:Dd,plainArray:un,arraySum:gT,last:it,pick:le,isString:Be,isObject:Xi,isUndefined:nt,keys:$n,eachKey:xi,detect:vl,setPathVal:St,applySetting:yl,findInArrSimple:Zb,throttle:sw,parseMargin:xl,mapDeep:Ir,expandOptionsProperties:nr,isNaN:ei,filter:Xt,find:We,findIndex:sh,defaults:Al,defaultsDeep:Wc,clone:bn,cloneDeep:Ml,merge:se,each:K,map:fe,reduce:CA,uniq:ai,sortedUniq:Uc,toString:rw,sortBy:Rn,remove:km,join:Pa,slice:ay,times:rs,omit:_i,isArray:Zt,isFunction:ge,isNumber:ss,isEmpty:Ds,startsWith:ly,max:Pn,sum:rr,clamp:Mn,Memoize:_o}),Lue=Object.freeze({boxPoints:qd,rightX:TF,bottomY:AF,compareBoxes:OR,pad:ws,setSize:Ed,bboxUnion:Yn,intersect:PR,bboxFromPoints:ir,center:On,clip:i_,collide:Rc,fitInTarget:FR,ltrbMargins:function(s,o,i){s=ta(s),o=ta(o);var a=function(d){return 0<d?d:0},u=[];return u[0]=s[0]-o[0],u[1]=s[1]-o[1],u[2]=o[2]-s[2],u[3]=o[3]-s[3],i?fe(u,a):u},addTrblMargin:function(s,o){return Ed(s,[s[2]+o[3]+o[1],s[3]+o[0]+o[2]])},fromRect:Rt,fromCenter:Vr,toPath:_l,toLTRB:ta,fromLTRB:Mm,toPoints:LF,alignTo:VR,offsetBetween:NT,alignBoxesTo:BT,squishH:function(s,o,i){if(s&&s.length)return Sv(s,"r",o),Sv(s,"l",i),Yn(s)[0]<o&&BT(s,[o,0,i-o,0],"x","mcmc"),s},squishV:function(s,o,i){if(s&&s.length)return Sv(s,"d",o),Sv(s,"u",i),Yn(s)[1]<o&&BT(s,[0,o,0,i-o],"y","mcmc"),s},squish:Sv,alignAvoidGreedy:Dv,unsquishSnapTo:function(s,o,i){i===void 0&&(i="d");var a={v:jR,h:HR}[{u:"v",d:"v",l:"h",r:"h"}[i]];s=Tv(s.slice(0),i),zR(s,i),i=Yn(s),o=a(i,o);var u=[o[0]-i[0],o[1]-i[1]];return K(s,function(d){return lh(d,u)}),s},unsquishBoxes:zR,unsquishBoxesCb:function(s,o,i){for(var a=Tv(s.slice(0),o),u=[],d=0,f=a.length;d<f;d++){var v=a[d];if(d){var x=Dv(v,u,o),b=NT(x,v);(b[0]||b[1])&&(v[0]=x[0],v[1]=x[1],i&&i(s.indexOf(v),b,v))}u.push(v)}return u},snapInside:Lc,bInsideA:Ic,pointInside:Oc,collideAny:WR,collideList:Pc,rotatedAt:zT,translate:Il,translateRef:lh,bestLayout:function(s,o,i){for(var a=!1,u=1,d,f,v=0;!a;)d=o.width/Math.ceil(s/u),f=o.height/u,d=Math.min(d,f),d<=v?(a=!0,u--):(u++,v=d),100<u&&(a=!0);return s/=u,s>parseInt(s)&&(s=parseInt(s)+1),i?(o.width/s,o.height/u):d=d/Math.min(o.width,o.height)*100,{cols:s,rows:u,maxSize:d}},bestScaledLayout:function(s,o){function i(T,M){return T>M?T-M:M-T}for(var a=$R(s.length),u=a.map(function(T,M){for(var I=M=0,O=[],F=0;F<T[1];F++){for(var N=0,j=[],W=0;W<T[0]&&s[I];W++){var $=c([N,M],s[I++].slice(0));N=ci($),j.push($)}M=Math.max.apply(Math,c(j.map(li))),O.push.apply(O,c(j))}return O}),d=u.map(Yn),f=d.map(function(T){return T[2]/T[3]}),v=o.width/o.height,x=0,b=i(f[0],v),w=1;w<s.length;w++){var k=i(f[w],v);k<b&&(x=w,b=k)}a=a[x],d=d[x],o=FR(d,Rt(o));var D=[o[0]/d[2],o[1]/d[3]];return{boxes:u[x].map(function(T){return[T[0]*D[0],T[1]*D[1],T[2]*D[0],T[3]*D[1]]}),cols:a[0],rows:a[1]}},splitIntoColsRows:function(s,o,i){var a=Rt(s);s=[];var u=a[2]/o;a=a[3]/i;for(var d=0;d<i;d++)for(var f=0;f<o;f++)s.push([f*u,d*a,u,a]);return s}}),Iue=Object.freeze({changeBrightness:function(s,o){return An(JT(s,o))},brightness:function(s){return rm(s)},cushionEffect:Ev,aquaEffect:Lv,roundedEffect:sm,colorMods:Ri,parseJscColor:vo,toHexOpacity:om,parseJscFill:Xo,modifyColor:Mt,modifyFill:Bc,addOpacity:am,tween:Vd,colorToPalette:dP,simplify:Mv}),Oue=Object.freeze({math:Jo,round:vn,avg:Jf,mapValue:rt,arraySum:function(s){return rr(s)},diff:yn,decimalPlaces:uy,goodNumber:CT}),Rue=Object.freeze({lowerFirst:em,getRandomString:Td,shortenEllipsis:kF,upperFirst:function(s){var o=s.charCodeAt(0);return 96<o&&123>o?String.fromCharCode(o-32).concat(s.substr(1)):s}}),Pue=Object.freeze({toDegrees:kR,toRadians:Hs,normalizeAngle:t_,quadrant:function(s){return s=t_(kR(s)),180>s?90<=s?2:3:270<=s?0:1},getPolarPoint:Ad,getPolarDegPoint:Ec,gpdp:jn,gpdp_text:function(s,o,i,a,u,d){var f=l(u,2);u=f[0],f=f[1],u+=i,f+=i;var v=function(I,O){return O===void 0&&(O=0),O===0?I:(O=Math.min(Math.abs(O),1),O===1?1:TA(I,Math.max(1-O,.1)))},x=o*Math.PI/180,b=function(I){return .001>Math.abs(I)?0:I};o=b(Math.cos(x));var w=Math.cos(2*x);x=b(Math.sin(x)),b=Math.abs;var k=function(I){return 0<I?1:0>I?-1:0},D=k(o),T=k(x),M=v(b(x),d[0])*T;return v=v(b(o),d[1])*D,d=((0>w?T:M)-1)*u/2,w=-((0<w?D:v)+1)*f/2,a=(a+o*(b(w)-(0<o?f:0)))/x||-u/2,a=Math.min(b(a),u/2)*k(a),0>x?(a=-u-a,d=Math.max(b(d),b(a))*k(d)):d=Math.min(b(d),b(a))*k(d),[s[0]+i+d,s[1]+i+w]},gpp:mo,angleOfPoints:Mi,pointDistance:go,pDist:Ea,lineIntersect:tm,lineDistance:DR,pointInsidePolygon:bv,arcCapDegOffset:function(s,o){var i=s-o;return s=[jn([0,0],0,(s+o)/2)],i=jn(s[0],108,i),Math.abs(Hs(Mi([0,0],i)))/2},ensureUprightText:TR}),Fue=Object.freeze({isValInsideInc:wo,intersect:Md,positionsToPadRanges:IT,invert:kv}),Nue=Object.freeze({win:ct,doc:Qt,getRootScriptPath:Id,getScript:jT,getJson:function(s,o,i,a){s_(s,o,i,a,JSON.parse)}}),Bue=Object.freeze({Formatter:hy,formatString:dy}),Vue=Object.freeze({getApiEnum:Rd}),zue=Object.freeze({zero:r3,resize:s3,scale:Zu,moveTL:function(s,o,i){return typeof o<"u"&&(s.width-=o-s.x,s.x=o),typeof i<"u"&&(s.height-=i-s.y,s.y=i),s},padBox:o3,padRect:pP,translate:a3,padBoxRel:fP,centerRect:Ov,normalize:mP,toLTRB:gP,fromLTRB:vP,round:function(s){return s=gP(s),s=fe(s,Math.round),vP(s)},fromBBox:kl,compare:yP}),Hue=Object.freeze({registerIcons:UT}),jue=Object.freeze({measureText:Im}),Gue=Object.freeze({getPalette:xw,getPaletteConfig:sN}),Wue=Object.freeze({registerModule:function(s,o){return s=Rm[s]=Rm[s]||{},s.afterLoad=o,s.loaded?!1:s.loaded=!0}}),Uue=Object.freeze({idFyObj:js,percOrNum:Mr}),$ue=Object.freeze({toDate:xt,toDateNum:Xc,intervalToSpan:Rv,addTimeInterval:qo,unitToFormatOptions:cm,unitListToFormatOptions:h_,GroupingFunctions:uN,CalendarPattern:$A}),Yue=Object.freeze({calculations:u3,keyArg:xy,nest:Dw}),Xue=Object.freeze({fromPoints:Er,bbox:Aw,pathIntersects:function(s,o,i){return g_(s.shapes[0],o,i)},Path:Pm,fromString:Jn,subPath:Ju,shapeBbox:yo,visualCenterForShape:Nv,shapeIntersects:g_}),que=Object.freeze({pointsToPath:Lr,multiLineToPath:zv,flattenD:Gn,arcCornerR:IP,arc:D3,arcSegment:Gs,pointsEqual:vr,roundCorners:Sl,roundRectCorners:s7}),Kue=Object.freeze({parseSize:Ki}),Zue=Object.freeze({padMargin:V3,lineToAttr:Cs,shapeToAttr:Zo,boxToAttr:Uv,completeDependentOptions:bM,annotationToHtmlAttr:W7,labelToAttr:Oa,offsetToAttr:U7,boxToLayoutBoxAttr:$v}),Que=Object.freeze({fitBoxInPath:n9,fitBoxData:function(s,o){var i=i9(s),a=function(u){return[rt(0,1,o[0],o[0]+o[2],u[0]),rt(0,1,o[1],o[1]+o[3],u[1])]};return s=B_(s),s=yo(s),(i=i?r9(i,a):void 0)?{scans:i,pathBBox:yce(s,a)}:void 0},fitBoxInScanData:function(s,o,i,a){var u=i[1];s=_re(s,o).scans;var d=Math.max(o[2],o[3]),f=[],v=o[1]+1;try{for(;v+u<o[1]+o[3]-2;){var x=s9(s,v,u);x&&x[2]>=i[0]&&f.push([d-go(On(x),a),x]),v+=1}}catch{}if(f.length){f.sort(function(w,k){return w[0]<k[0]?-1:w[0]>k[0]?1:0}).reverse();var b=f[0][1]}return b&&(b=Vr(On(b),i)),b}}),Jue=Object.freeze({parseObjectTokens:P_,parseGridTokens:function(s,o,i){i===void 0&&(i={});var a=vm(s);return a.result?ym(s,{},{gOptions:i,item:o,atribs:o}):a.text}}),ehe=Object.freeze({snapToPanel:Hc,snapPointToPanel:jc,snapPointsToPanel:jd}),the=Object.freeze({axesBySideIndex:O9,addXlatD:ty}),Ym=Object.freeze({__proto__:null,jsLib:Eue,mathLib:Oue,layoutLib:Kue,rectLib:zue,trigLib:Pue,SeriesBaseType:op,SeriesTypeColumn:Sy,minimumHittestSize:15,registerSeriesType:function(s,o){Fl[s]=o},undefVal:void 0,undef:"undefined",bboxLib:Lue,stylingLib:Zue,polyFitLib:Que,shapeLib:que,Annotation:$w,moduleLoader:Wue,collectionPropFactory:zi,consts:Mue,en:{error:{}},idleDefer:Kd,platform:Nue,strLib:Rue,getColumnIconPathsStatic:eA,BaseChartItem:ca,AxisCollectionWrapper:$m,AxisViewState:$B,getShapeOptions:C9,Axis:Zw,panels:j3,dmUtils:ehe,ChartArea:tV,CollisionManager:AM,getBreaksPath:j9,zIndexReference:LB,registerPanes:function(s){SM=s},shapes:sa,colorLib:Iue,Series:LM,parsePointValues:H_,parentNoodles:m9,parentPropToIds:Qv,mapParentChain:U3,pathsToUniqueKeys:g9,visStyleConnectors:v9,columnPointBodyD:tA,getIconPathsStatic:G_,getShapePath:rh,registerTag:function(s,o){pM[s]=o},VirtualElement:As,rangeLib:Fue,TextBox:mB,LayoutItem:jm,Panel:Cy,StackPanel:ky,Layout:yM,registerPanel:function(s,o){Rl[s]=o},UpdatablesCollection:Hr,miUtils:Vue,isTouchDevice:function(){return"ontouchstart"in ct},annotationDefaults:kM,getAlignToOffsets:XN,iconsStore:Hue,chartOptionsAppliers:PM,pathLib:Xue,updateOverflows:f9,cachedPositionInfo:Zv,isAlignInside:OB,EntryWrapper:DM,formatting:Bue,timeLib:$ue,chartOptionsModifiers:FM,registerVisual:function(s,o){hh[s]=o},generateId:Qu,snapPixels:zm,textLib:jue,palettes:Gue,chartInitializers:NM,CompositeElement:Dle,CompositeAttrApplier:WN,Label:Uw,tokenLib:Jue,label:j7,dataUtil:Yue,registerDataGridFunction:function(s,o){Ba[s]=o},jscLabel:Y9,normalizationUtils:Uue,rendererFactory:zN,emitter:En,BaseOptions:SB,axisUtils:the,hideVisual:qi,generateIdRandom:LP});St(cp,"_modules.types.export",Ym),St(cp,"_modules.maps.export",Ym),St(cp,"_modules.toolbar.export",Ym),St(cp,"_modules.accessibility.export",Ym),St(cp,"_modules.datagrid.export",Ym),St(cp,"_modules.debug.export",Ym),t.Chart=e2,t.Grid=K9,t.Nest=Aue,t.chart=function(s,o){var i=Object.create(e2.prototype);return e2.apply(i,arguments),i},t.colorToPalette=function(s,o,i,a){return dP(s,o,i,a)},t.csv2Json=function(s,o){return f3(s,",",o)},t.defaults=function(s){if(h(s))if(s===null)var o={};else o=tu?tu():{},se(o,s);else return tu?tu():{};return o.baseUrl&&(fy=o.baseUrl),(tu=V_(o))?tu():{}},t.dsv2Json=function(s,o,i){return i===void 0&&(i={}),f3(s,o,i)},t.fetch=function(s,o){return ww||(ww=ct.fetch||One),ww(s,o)},t.fontsReady=function(s){return pN(s)},t.formatDate=function(s,o,i){return o===void 0&&(o="d"),dy(new Date(s),o,i).replace(/\u200E/gi,"")},t.formatNumber=function(s,o,i){return o===void 0&&(o="n"),dy(parseFloat(s),o,i)},t.formatString=function(s,o,i){return i===void 0&&(i="en-US"),dy(s,o,i)},t.getPalette=oV,t.getVersion=X9,t.globalCharts=sV,t.internal=cp,t.json2Csv=function(s,o){return m3(s,",",o)},t.json2Dsv=function(s,o,i){return i===void 0&&(i={}),m3(s,o,i)},t.json2Tsv=function(s,o){return m3(s,"	",o)},t.label=function(s,o,i){return Y9(s,o,$_(i))},t.map=Sue,t.max=function(s,o){return t2(s,"max",o)},t.mean=function(s,o){return t2(s,"average",o)},t.merge=Tue,t.min=function(s,o){return t2(s,"min",o)},t.nest=function(){return new Dw},t.parseCsv=function(s,o){return o===void 0&&(o={}),EP(s,o)},t.parsePoints=function(s,o){return AP(s,o)},t.pointsFromArray=function(s,o){return MP(s,o)},t.ready=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return lm(function(i){var a=[],u=[];s.forEach(function(d){Be(d)?a.push(d):d===Qt&&u.push(Dse())}),a.length&&u.push(pN(a)),u.length?Lne(u,i):i({ok:!0})})},t.smartPalette={getPaletteCSS:function(s,o){return new MB(null,s).getPaletteCSS(s,o)}},t.sortBy=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return Rn.apply(yoe,c(s))},t.sourcePath=function(){return Id()},t.sum=function(s,o){return t2(s,"sum",o)},t.tsv2Json=function(s,o){return f3(s,"	",o)},Object.defineProperty(t,"__esModule",{value:!0})})});var mV=null;var jM=1,gV=Symbol("SIGNAL");function zn(t){let e=mV;return mV=t,e}var vV={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function phe(t){if(!(UM(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===jM)){if(!t.producerMustRecompute(t)&&!GM(t)){t.dirty=!1,t.lastCleanEpoch=jM;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=jM}}function yV(t){return t&&(t.nextProducerIndex=0),zn(t)}function xV(t,e){if(zn(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(UM(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)WM(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function GM(t){s2(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(phe(n),r!==n.version))return!0}return!1}function bV(t){if(s2(t),UM(t))for(let e=0;e<t.producerNode.length;e++)WM(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function WM(t,e){if(fhe(t),s2(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)WM(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],l=t.liveConsumerNode[e];s2(l),l.producerIndexOfThis[r]=e}}function UM(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function s2(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function fhe(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function mhe(){throw new Error}var ghe=mhe;function _V(t){ghe=t}function mt(t){return typeof t=="function"}function Km(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var o2=Km(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,l)=>`${l+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hp(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Zi=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let c of n)c.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(mt(r))try{r()}catch(c){e=c instanceof o2?c.errors:[c]}let{_finalizers:l}=this;if(l){this._finalizers=null;for(let c of l)try{wV(c)}catch(h){e=e??[],h instanceof o2?e=[...e,...h.errors]:e.push(h)}}if(e)throw new o2(e)}}add(e){var n;if(e&&e!==this)if(this.closed)wV(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hp(n,e)}remove(e){let{_finalizers:n}=this;n&&hp(n,e),e instanceof t&&e._removeParent(this)}};Zi.EMPTY=(()=>{let t=new Zi;return t.closed=!0,t})();var $M=Zi.EMPTY;function a2(t){return t instanceof Zi||t&&"closed"in t&&mt(t.remove)&&mt(t.add)&&mt(t.unsubscribe)}function wV(t){mt(t)?t():t.unsubscribe()}var Va={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zm={setTimeout(t,e,...n){let{delegate:r}=Zm;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Zm;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function l2(t){Zm.setTimeout(()=>{let{onUnhandledError:e}=Va;if(e)e(t);else throw t})}function Ty(){}var CV=YM("C",void 0,void 0);function kV(t){return YM("E",void 0,t)}function DV(t){return YM("N",t,void 0)}function YM(t,e,n){return{kind:t,value:e,error:n}}var dp=null;function Qm(t){if(Va.useDeprecatedSynchronousErrorHandling){let e=!dp;if(e&&(dp={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=dp;if(dp=null,n)throw r}}else t()}function SV(t){Va.useDeprecatedSynchronousErrorHandling&&dp&&(dp.errorThrown=!0,dp.error=t)}var pp=class extends Zi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,a2(e)&&e.add(this)):this.destination=xhe}static create(e,n,r){return new Jm(e,n,r)}next(e){this.isStopped?qM(DV(e),this):this._next(e)}error(e){this.isStopped?qM(kV(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qM(CV,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vhe=Function.prototype.bind;function XM(t,e){return vhe.call(t,e)}var KM=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){c2(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){c2(r)}else c2(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){c2(n)}}},Jm=class extends pp{constructor(e,n,r){super();let l;if(mt(e)||!e)l={next:e??void 0,error:n??void 0,complete:r??void 0};else{let c;this&&Va.useDeprecatedNextContext?(c=Object.create(e),c.unsubscribe=()=>this.unsubscribe(),l={next:e.next&&XM(e.next,c),error:e.error&&XM(e.error,c),complete:e.complete&&XM(e.complete,c)}):l=e}this.destination=new KM(l)}};function c2(t){Va.useDeprecatedSynchronousErrorHandling?SV(t):l2(t)}function yhe(t){throw t}function qM(t,e){let{onStoppedNotification:n}=Va;n&&Zm.setTimeout(()=>n(t,e))}var xhe={closed:!0,next:Ty,error:yhe,complete:Ty};var eg=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ao(t){return t}function ZM(...t){return QM(t)}function QM(t){return t.length===0?Ao:t.length===1?t[0]:function(n){return t.reduce((r,l)=>l(r),n)}}var fn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,l){let c=_he(n)?n:new Jm(n,r,l);return Qm(()=>{let{operator:h,source:p}=this;c.add(h?h.call(c,p):p?this._subscribe(c):this._trySubscribe(c))}),c}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=TV(r),new r((l,c)=>{let h=new Jm({next:p=>{try{n(p)}catch(m){c(m),h.unsubscribe()}},error:c,complete:l});this.subscribe(h)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[eg](){return this}pipe(...n){return QM(n)(this)}toPromise(n){return n=TV(n),new n((r,l)=>{let c;this.subscribe(h=>c=h,h=>l(h),()=>r(c))})}}return t.create=e=>new t(e),t})();function TV(t){var e;return(e=t??Va.Promise)!==null&&e!==void 0?e:Promise}function bhe(t){return t&&mt(t.next)&&mt(t.error)&&mt(t.complete)}function _he(t){return t&&t instanceof pp||bhe(t)&&a2(t)}function JM(t){return mt(t?.lift)}function hn(t){return e=>{if(JM(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function en(t,e,n,r,l){return new eE(t,e,n,r,l)}var eE=class extends pp{constructor(e,n,r,l,c,h){super(e),this.onFinalize=c,this.shouldUnsubscribe=h,this._next=n?function(p){try{n(p)}catch(m){e.error(m)}}:super._next,this._error=l?function(p){try{l(p)}catch(m){e.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(p){e.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function tg(){return hn((t,e)=>{let n=null;t._refCount++;let r=en(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let l=t._connection,c=n;n=null,l&&(!c||l===c)&&l.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ng=class extends fn{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,JM(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Zi;let n=this.getSubject();e.add(this.source.subscribe(en(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Zi.EMPTY)}return e}refCount(){return tg()(this)}};var AV=Km(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ms=(()=>{class t extends fn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new u2(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new AV}next(n){Qm(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Qm(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qm(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:l,observers:c}=this;return r||l?$M:(this.currentObservers=null,c.push(n),new Zi(()=>{this.currentObservers=null,hp(c,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:l,isStopped:c}=this;r?n.error(l):c&&n.complete()}asObservable(){let n=new fn;return n.source=this,n}}return t.create=(e,n)=>new u2(e,n),t})(),u2=class extends Ms{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:$M}};var br=class extends Ms{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var tE={now(){return(tE.delegate||Date).now()},delegate:void 0};var h2=class extends Zi{constructor(e,n){super()}schedule(e,n=0){return this}};var Ay={setInterval(t,e,...n){let{delegate:r}=Ay;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ay;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var d2=class extends h2{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let l=this.id,c=this.scheduler;return l!=null&&(this.id=this.recycleAsyncId(c,l,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(c,this.id,n),this}requestAsyncId(e,n,r=0){return Ay.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ay.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,l;try{this.work(e)}catch(c){r=!0,l=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),l}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hp(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ig=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ig.now=tE.now;var p2=class extends ig{constructor(e,n=ig.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var MV=new p2(d2);var Mo=new fn(t=>t.complete());function EV(t){return t&&mt(t.schedule)}function LV(t){return t[t.length-1]}function f2(t){return mt(LV(t))?t.pop():void 0}function mh(t){return EV(LV(t))?t.pop():void 0}function OV(t,e,n,r){var l=arguments.length,c=l<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(t,e,n,r);else for(var p=t.length-1;p>=0;p--)(h=t[p])&&(c=(l<3?h(c):l>3?h(e,n,c):h(e,n))||c);return l>3&&c&&Object.defineProperty(e,n,c),c}function RV(t,e,n,r){function l(c){return c instanceof n?c:new n(function(h){h(c)})}return new(n||(n=Promise))(function(c,h){function p(y){try{g(r.next(y))}catch(_){h(_)}}function m(y){try{g(r.throw(y))}catch(_){h(_)}}function g(y){y.done?c(y.value):l(y.value).then(p,m)}g((r=r.apply(t,e||[])).next())})}function IV(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fp(t){return this instanceof fp?(this.v=t,this):new fp(t)}function PV(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),l,c=[];return l={},h("next"),h("throw"),h("return"),l[Symbol.asyncIterator]=function(){return this},l;function h(C){r[C]&&(l[C]=function(S){return new Promise(function(A,E){c.push([C,S,A,E])>1||p(C,S)})})}function p(C,S){try{m(r[C](S))}catch(A){_(c[0][3],A)}}function m(C){C.value instanceof fp?Promise.resolve(C.value.v).then(g,y):_(c[0][2],C)}function g(C){p("next",C)}function y(C){p("throw",C)}function _(C,S){C(S),c.shift(),c.length&&p(c[0][0],c[0][1])}}function FV(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof IV=="function"?IV(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(c){n[c]=t[c]&&function(h){return new Promise(function(p,m){h=t[c](h),l(p,m,h.done,h.value)})}}function l(c,h,p,m){Promise.resolve(m).then(function(g){c({value:g,done:p})},h)}}var rg=t=>t&&typeof t.length=="number"&&typeof t!="function";function m2(t){return mt(t?.then)}function g2(t){return mt(t[eg])}function v2(t){return Symbol.asyncIterator&&mt(t?.[Symbol.asyncIterator])}function y2(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function whe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var x2=whe();function b2(t){return mt(t?.[x2])}function _2(t){return PV(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:l}=yield fp(n.read());if(l)return yield fp(void 0);yield yield fp(r)}}finally{n.releaseLock()}})}function w2(t){return mt(t?.getReader)}function ji(t){if(t instanceof fn)return t;if(t!=null){if(g2(t))return Che(t);if(rg(t))return khe(t);if(m2(t))return Dhe(t);if(v2(t))return NV(t);if(b2(t))return She(t);if(w2(t))return The(t)}throw y2(t)}function Che(t){return new fn(e=>{let n=t[eg]();if(mt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function khe(t){return new fn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Dhe(t){return new fn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,l2)})}function She(t){return new fn(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function NV(t){return new fn(e=>{Ahe(t,e).catch(n=>e.error(n))})}function The(t){return NV(_2(t))}function Ahe(t,e){var n,r,l,c;return RV(this,void 0,void 0,function*(){try{for(n=FV(t);r=yield n.next(),!r.done;){let h=r.value;if(e.next(h),e.closed)return}}catch(h){l={error:h}}finally{try{r&&!r.done&&(c=n.return)&&(yield c.call(n))}finally{if(l)throw l.error}}e.complete()})}function qs(t,e,n,r=0,l=!1){let c=e.schedule(function(){n(),l?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(c),!l)return c}function C2(t,e=0){return hn((n,r)=>{n.subscribe(en(r,l=>qs(r,t,()=>r.next(l),e),()=>qs(r,t,()=>r.complete(),e),l=>qs(r,t,()=>r.error(l),e)))})}function k2(t,e=0){return hn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function BV(t,e){return ji(t).pipe(k2(e),C2(e))}function VV(t,e){return ji(t).pipe(k2(e),C2(e))}function zV(t,e){return new fn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function HV(t,e){return new fn(n=>{let r;return qs(n,e,()=>{r=t[x2](),qs(n,e,()=>{let l,c;try{({value:l,done:c}=r.next())}catch(h){n.error(h);return}c?n.complete():n.next(l)},0,!0)}),()=>mt(r?.return)&&r.return()})}function D2(t,e){if(!t)throw new Error("Iterable cannot be null");return new fn(n=>{qs(n,e,()=>{let r=t[Symbol.asyncIterator]();qs(n,e,()=>{r.next().then(l=>{l.done?n.complete():n.next(l.value)})},0,!0)})})}function jV(t,e){return D2(_2(t),e)}function GV(t,e){if(t!=null){if(g2(t))return BV(t,e);if(rg(t))return zV(t,e);if(m2(t))return VV(t,e);if(v2(t))return D2(t,e);if(b2(t))return HV(t,e);if(w2(t))return jV(t,e)}throw y2(t)}function Qi(t,e){return e?GV(t,e):ji(t)}function gt(...t){let e=mh(t);return Qi(t,e)}function sg(t,e){let n=mt(t)?t:()=>t,r=l=>l.error(n());return new fn(e?l=>e.schedule(r,0,l):r)}function nE(t){return!!t&&(t instanceof fn||mt(t.lift)&&mt(t.subscribe))}var iu=Km(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function It(t,e){return hn((n,r)=>{let l=0;n.subscribe(en(r,c=>{r.next(t.call(e,c,l++))}))})}var{isArray:Mhe}=Array;function Ehe(t,e){return Mhe(e)?t(...e):t(e)}function og(t){return It(e=>Ehe(t,e))}var{isArray:Lhe}=Array,{getPrototypeOf:Ihe,prototype:Ohe,keys:Rhe}=Object;function S2(t){if(t.length===1){let e=t[0];if(Lhe(e))return{args:e,keys:null};if(Phe(e)){let n=Rhe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Phe(t){return t&&typeof t=="object"&&Ihe(t)===Ohe}function T2(t,e){return t.reduce((n,r,l)=>(n[r]=e[l],n),{})}function A2(...t){let e=mh(t),n=f2(t),{args:r,keys:l}=S2(t);if(r.length===0)return Qi([],e);let c=new fn(Fhe(r,e,l?h=>T2(l,h):Ao));return n?c.pipe(og(n)):c}function Fhe(t,e,n=Ao){return r=>{WV(e,()=>{let{length:l}=t,c=new Array(l),h=l,p=l;for(let m=0;m<l;m++)WV(e,()=>{let g=Qi(t[m],e),y=!1;g.subscribe(en(r,_=>{c[m]=_,y||(y=!0,p--),p||r.next(n(c.slice()))},()=>{--h||r.complete()}))},r)},r)}}function WV(t,e,n){t?qs(n,t,e):e()}function UV(t,e,n,r,l,c,h,p){let m=[],g=0,y=0,_=!1,C=()=>{_&&!m.length&&!g&&e.complete()},S=E=>g<r?A(E):m.push(E),A=E=>{c&&e.next(E),g++;let L=!1;ji(n(E,y++)).subscribe(en(e,P=>{l?.(P),c?S(P):e.next(P)},()=>{L=!0},void 0,()=>{if(L)try{for(g--;m.length&&g<r;){let P=m.shift();h?qs(e,h,()=>A(P)):A(P)}C()}catch(P){e.error(P)}}))};return t.subscribe(en(e,S,()=>{_=!0,C()})),()=>{p?.()}}function Ji(t,e,n=1/0){return mt(e)?Ji((r,l)=>It((c,h)=>e(r,c,l,h))(ji(t(r,l))),n):(typeof e=="number"&&(n=e),hn((r,l)=>UV(r,l,t,n)))}function iE(t=1/0){return Ji(Ao,t)}function $V(){return iE(1)}function ag(...t){return $V()(Qi(t,mh(t)))}function M2(t){return new fn(e=>{ji(t()).subscribe(e)})}function rE(...t){let e=f2(t),{args:n,keys:r}=S2(t),l=new fn(c=>{let{length:h}=n;if(!h){c.complete();return}let p=new Array(h),m=h,g=h;for(let y=0;y<h;y++){let _=!1;ji(n[y]).subscribe(en(c,C=>{_||(_=!0,g--),p[y]=C},()=>m--,void 0,()=>{(!m||!_)&&(g||c.next(r?T2(r,p):p),c.complete())}))}});return e?l.pipe(og(e)):l}var Nhe=["addListener","removeListener"],Bhe=["addEventListener","removeEventListener"],Vhe=["on","off"];function My(t,e,n,r){if(mt(n)&&(r=n,n=void 0),r)return My(t,e,n).pipe(og(r));let[l,c]=jhe(t)?Bhe.map(h=>p=>t[h](e,p,n)):zhe(t)?Nhe.map(YV(t,e)):Hhe(t)?Vhe.map(YV(t,e)):[];if(!l&&rg(t))return Ji(h=>My(h,e,n))(ji(t));if(!l)throw new TypeError("Invalid event target");return new fn(h=>{let p=(...m)=>h.next(1<m.length?m:m[0]);return l(p),()=>c(p)})}function YV(t,e){return n=>r=>t[n](e,r)}function zhe(t){return mt(t.addListener)&&mt(t.removeListener)}function Hhe(t){return mt(t.on)&&mt(t.off)}function jhe(t){return mt(t.addEventListener)&&mt(t.removeEventListener)}function Eo(t,e){return hn((n,r)=>{let l=0;n.subscribe(en(r,c=>t.call(e,c,l++)&&r.next(c)))})}function gh(t){return hn((e,n)=>{let r=null,l=!1,c;r=e.subscribe(en(n,void 0,void 0,h=>{c=ji(t(h,gh(t)(e))),r?(r.unsubscribe(),r=null,c.subscribe(n)):l=!0})),l&&(r.unsubscribe(),r=null,c.subscribe(n))})}function XV(t,e,n,r,l){return(c,h)=>{let p=n,m=e,g=0;c.subscribe(en(h,y=>{let _=g++;m=p?t(m,y,_):(p=!0,y),r&&h.next(m)},l&&(()=>{p&&h.next(m),h.complete()})))}}function vh(t,e){return mt(e)?Ji(t,e,1):Ji(t,1)}function sE(t,e=MV){return hn((n,r)=>{let l=null,c=null,h=null,p=()=>{if(l){l.unsubscribe(),l=null;let g=c;c=null,r.next(g)}};function m(){let g=h+t,y=e.now();if(y<g){l=this.schedule(void 0,g-y),r.add(l);return}p()}n.subscribe(en(r,g=>{c=g,h=e.now(),l||(l=e.schedule(m,t),r.add(l))},()=>{p(),r.complete()},void 0,()=>{c=l=null}))})}function yh(t){return hn((e,n)=>{let r=!1;e.subscribe(en(n,l=>{r=!0,n.next(l)},()=>{r||n.next(t),n.complete()}))})}function ru(t){return t<=0?()=>Mo:hn((e,n)=>{let r=0;e.subscribe(en(n,l=>{++r<=t&&(n.next(l),t<=r&&n.complete())}))})}function oE(t){return It(()=>t)}function E2(t=Ghe){return hn((e,n)=>{let r=!1;e.subscribe(en(n,l=>{r=!0,n.next(l)},()=>r?n.complete():n.error(t())))})}function Ghe(){return new iu}function mp(t){return hn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Bl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Eo((l,c)=>t(l,c,r)):Ao,ru(1),n?yh(e):E2(()=>new iu))}function lg(t){return t<=0?()=>Mo:hn((e,n)=>{let r=[];e.subscribe(en(n,l=>{r.push(l),t<r.length&&r.shift()},()=>{for(let l of r)n.next(l);n.complete()},void 0,()=>{r=null}))})}function aE(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Eo((l,c)=>t(l,c,r)):Ao,lg(1),n?yh(e):E2(()=>new iu))}function lE(t,e){return hn(XV(t,e,arguments.length>=2,!0))}function cE(...t){let e=mh(t);return hn((n,r)=>{(e?ag(t,n,e):ag(t,n)).subscribe(r)})}function Lo(t,e){return hn((n,r)=>{let l=null,c=0,h=!1,p=()=>h&&!l&&r.complete();n.subscribe(en(r,m=>{l?.unsubscribe();let g=0,y=c++;ji(t(m,y)).subscribe(l=en(r,_=>r.next(e?e(m,_,y,g++):_),()=>{l=null,p()}))},()=>{h=!0,p()}))})}function uE(t){return hn((e,n)=>{ji(t).subscribe(en(n,()=>n.complete(),Ty)),!n.closed&&e.subscribe(n)})}function Gi(t,e,n){let r=mt(t)||e||n?{next:t,error:e,complete:n}:t;return r?hn((l,c)=>{var h;(h=r.subscribe)===null||h===void 0||h.call(r);let p=!0;l.subscribe(en(c,m=>{var g;(g=r.next)===null||g===void 0||g.call(r,m),c.next(m)},()=>{var m;p=!1,(m=r.complete)===null||m===void 0||m.call(r),c.complete()},m=>{var g;p=!1,(g=r.error)===null||g===void 0||g.call(r,m),c.error(m)},()=>{var m,g;p&&((m=r.unsubscribe)===null||m===void 0||m.call(r)),(g=r.finalize)===null||g===void 0||g.call(r)}))}):Ao}var Pz="https://g.co/ng/security#xss",_t=class extends Error{constructor(e,n){super(cC(e,n)),this.code=e}};function cC(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Gy(t){return{toString:t}.toString()}var L2="__parameters__";function Uhe(t){return function(...n){if(t){let r=t(...n);for(let l in r)this[l]=r[l]}}}function Fz(t,e,n){return Gy(()=>{let r=Uhe(e);function l(...c){if(this instanceof l)return r.apply(this,c),this;let h=new l(...c);return p.annotation=h,p;function p(m,g,y){let _=m.hasOwnProperty(L2)?m[L2]:Object.defineProperty(m,L2,{value:[]})[L2];for(;_.length<=y;)_.push(null);return(_[y]=_[y]||[]).push(h),m}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}var su=globalThis;function ni(t){for(let e in t)if(t[e]===ni)return e;throw Error("Could not find renamed property on target object.")}function $he(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ls(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ls).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function SE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Yhe=ni({__forward_ref__:ni});function Nz(t){return t.__forward_ref__=Nz,t.toString=function(){return Ls(this())},t}function Es(t){return Bz(t)?t():t}function Bz(t){return typeof t=="function"&&t.hasOwnProperty(Yhe)&&t.__forward_ref__===Nz}function ut(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ya(t){return{providers:t.providers||[],imports:t.imports||[]}}function uC(t){return qV(t,zz)||qV(t,Hz)}function Vz(t){return uC(t)!==null}function qV(t,e){return t.hasOwnProperty(e)?t[e]:null}function Xhe(t){let e=t&&(t[zz]||t[Hz]);return e||null}function KV(t){return t&&(t.hasOwnProperty(ZV)||t.hasOwnProperty(qhe))?t[ZV]:null}var zz=ni({\u0275prov:ni}),ZV=ni({\u0275inj:ni}),Hz=ni({ngInjectableDef:ni}),qhe=ni({ngInjectorDef:ni}),Ft=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ut({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jz(t){return t&&!!t.\u0275providers}var Khe=ni({\u0275cmp:ni}),Zhe=ni({\u0275dir:ni}),Qhe=ni({\u0275pipe:ni}),Jhe=ni({\u0275mod:ni}),G2=ni({\u0275fac:ni}),Ey=ni({__NG_ELEMENT_ID__:ni}),QV=ni({__NG_ENV_ID__:ni});function hC(t){return typeof t=="string"?t:t==null?"":String(t)}function ede(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():hC(t)}function tde(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new _t(-200,t)}function _5(t,e){throw new _t(-201,!1)}var tn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(tn||{}),TE;function Gz(){return TE}function da(t){let e=TE;return TE=t,e}function Wz(t,e,n){let r=uC(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&tn.Optional)return null;if(e!==void 0)return e;_5(t,"Injector")}var nde={},Ly=nde,AE="__NG_DI_FLAG__",W2="ngTempTokenPath",ide="ngTokenPath",rde=/\n/gm,sde="\u0275",JV="__source",dg;function ode(){return dg}function xh(t){let e=dg;return dg=t,e}function ade(t,e=tn.Default){if(dg===void 0)throw new _t(-203,!1);return dg===null?Wz(t,void 0,e):dg.get(t,e&tn.Optional?null:void 0,e)}function wt(t,e=tn.Default){return(Gz()||ade)(Es(t),e)}function Ye(t,e=tn.Default){return wt(t,dC(e))}function dC(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ME(t){let e=[];for(let n=0;n<t.length;n++){let r=Es(t[n]);if(Array.isArray(r)){if(r.length===0)throw new _t(900,!1);let l,c=tn.Default;for(let h=0;h<r.length;h++){let p=r[h],m=lde(p);typeof m=="number"?m===-1?l=p.token:c|=m:l=p}e.push(wt(l,c))}else e.push(wt(r))}return e}function Uz(t,e){return t[AE]=e,t.prototype[AE]=e,t}function lde(t){return t[AE]}function cde(t,e,n,r){let l=t[W2];throw e[JV]&&l.unshift(e[JV]),t.message=ude(`
`+t.message,l,n,r),t[ide]=l,t[W2]=null,t}function ude(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==sde?t.slice(2):t;let l=Ls(e);if(Array.isArray(e))l=e.map(Ls).join(" -> ");else if(typeof e=="object"){let c=[];for(let h in e)if(e.hasOwnProperty(h)){let p=e[h];c.push(h+":"+(typeof p=="string"?JSON.stringify(p):Ls(p)))}l=`{${c.join(", ")}}`}return`${n}${r?"("+r+")":""}[${l}]: ${t.replace(rde,`
  `)}`}var w5=Uz(Fz("Optional"),8);var $z=Uz(Fz("SkipSelf"),4);function fg(t,e){let n=t.hasOwnProperty(G2);return n?t[G2]:null}function hde(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let l=t[r],c=e[r];if(n&&(l=n(l),c=n(c)),c!==l)return!1}return!0}function dde(t){return t.flat(Number.POSITIVE_INFINITY)}function C5(t,e){t.forEach(n=>Array.isArray(n)?C5(n,e):e(n))}function Yz(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function U2(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pde(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function fde(t,e,n,r){let l=t.length;if(l==e)t.push(n,r);else if(l===1)t.push(r,t[0]),t[0]=n;else{for(l--,t.push(t[l-1],t[l]);l>e;){let c=l-2;t[l]=t[c],l--}t[e]=n,t[e+1]=r}}function pC(t,e,n){let r=Wy(t,e);return r>=0?t[r|1]=n:(r=~r,fde(t,r,e,n)),r}function hE(t,e){let n=Wy(t,e);if(n>=0)return t[n|1]}function Wy(t,e){return mde(t,e,1)}function mde(t,e,n){let r=0,l=t.length>>n;for(;l!==r;){let c=r+(l-r>>1),h=t[c<<n];if(e===h)return c<<n;h>e?l=c:r=c+1}return~(l<<n)}var mg={},Ks=[],gg=new Ft(""),Xz=new Ft("",-1),qz=new Ft(""),$2=class{get(e,n=Ly){if(n===Ly){let r=new Error(`NullInjectorError: No provider for ${Ls(e)}!`);throw r.name="NullInjectorError",r}return n}},Kz=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Kz||{}),Hl=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Hl||{}),_h=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(_h||{});function gde(t,e,n){let r=t.length;for(;;){let l=t.indexOf(e,n);if(l===-1)return l;if(l===0||t.charCodeAt(l-1)<=32){let c=e.length;if(l+c===r||t.charCodeAt(l+c)<=32)return l}n=l+1}}function EE(t,e,n){let r=0;for(;r<n.length;){let l=n[r];if(typeof l=="number"){if(l!==0)break;r++;let c=n[r++],h=n[r++],p=n[r++];t.setAttribute(e,h,p,c)}else{let c=l,h=n[++r];yde(c)?t.setProperty(e,c,h):t.setAttribute(e,c,h),r++}}return r}function vde(t){return t===3||t===4||t===6}function yde(t){return t.charCodeAt(0)===64}function Iy(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let l=e[r];typeof l=="number"?n=l:n===0||(n===-1||n===2?ez(t,n,l,null,e[++r]):ez(t,n,l,null,null))}}return t}function ez(t,e,n,r,l){let c=0,h=t.length;if(e===-1)h=-1;else for(;c<t.length;){let p=t[c++];if(typeof p=="number"){if(p===e){h=-1;break}else if(p>e){h=c-1;break}}}for(;c<t.length;){let p=t[c];if(typeof p=="number")break;if(p===n){if(r===null){l!==null&&(t[c+1]=l);return}else if(r===t[c+1]){t[c+2]=l;return}}c++,r!==null&&c++,l!==null&&c++}h!==-1&&(t.splice(h,0,e),c=h+1),t.splice(c++,0,n),r!==null&&t.splice(c++,0,r),l!==null&&t.splice(c++,0,l)}var Zz="ng-template";function xde(t,e,n,r){let l=0;if(r){for(;l<e.length&&typeof e[l]=="string";l+=2)if(e[l]==="class"&&gde(e[l+1].toLowerCase(),n,0)!==-1)return!0}else if(k5(t))return!1;if(l=e.indexOf(1,l),l>-1){let c;for(;++l<e.length&&typeof(c=e[l])=="string";)if(c.toLowerCase()===n)return!0}return!1}function k5(t){return t.type===4&&t.value!==Zz}function bde(t,e,n){let r=t.type===4&&!n?Zz:t.value;return e===r}function _de(t,e,n){let r=4,l=t.attrs,c=l!==null?kde(l):0,h=!1;for(let p=0;p<e.length;p++){let m=e[p];if(typeof m=="number"){if(!h&&!za(r)&&!za(m))return!1;if(h&&za(m))continue;h=!1,r=m|r&1;continue}if(!h)if(r&4){if(r=2|r&1,m!==""&&!bde(t,m,n)||m===""&&e.length===1){if(za(r))return!1;h=!0}}else if(r&8){if(l===null||!xde(t,l,m,n)){if(za(r))return!1;h=!0}}else{let g=e[++p],y=wde(m,l,k5(t),n);if(y===-1){if(za(r))return!1;h=!0;continue}if(g!==""){let _;if(y>c?_="":_=l[y+1].toLowerCase(),r&2&&g!==_){if(za(r))return!1;h=!0}}}}return za(r)||h}function za(t){return(t&1)===0}function wde(t,e,n,r){if(e===null)return-1;let l=0;if(r||!n){let c=!1;for(;l<e.length;){let h=e[l];if(h===t)return l;if(h===3||h===6)c=!0;else if(h===1||h===2){let p=e[++l];for(;typeof p=="string";)p=e[++l];continue}else{if(h===4)break;if(h===0){l+=4;continue}}l+=c?1:2}return-1}else return Dde(e,t)}function Qz(t,e,n=!1){for(let r=0;r<e.length;r++)if(_de(t,e[r],n))return!0;return!1}function Cde(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function kde(t){for(let e=0;e<t.length;e++){let n=t[e];if(vde(n))return e}return t.length}function Dde(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Sde(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let l=0;l<t.length;l++)if(t[l]!==r[l])continue e;return!0}}return!1}function tz(t,e){return t?":not("+e.trim()+")":e}function Tde(t){let e=t[0],n=1,r=2,l="",c=!1;for(;n<t.length;){let h=t[n];if(typeof h=="string")if(r&2){let p=t[++n];l+="["+h+(p.length>0?'="'+p+'"':"")+"]"}else r&8?l+="."+h:r&4&&(l+=" "+h);else l!==""&&!za(h)&&(e+=tz(c,l),l=""),r=h,c=c||!za(r);n++}return l!==""&&(e+=tz(c,l)),e}function Ade(t){return t.map(Tde).join(",")}function Mde(t){let e=[],n=[],r=1,l=2;for(;r<t.length;){let c=t[r];if(typeof c=="string")l===2?c!==""&&e.push(c,t[++r]):l===8&&n.push(c);else{if(!za(l))break;l=c}r++}return{attrs:e,classes:n}}function Nt(t){return Gy(()=>{let e=iH(t),n=ti(Ue({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Kz.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Hl.Emulated,styles:t.styles||Ks,_:null,schemas:t.schemas||null,tView:null,id:""});rH(n);let r=t.dependencies;return n.directiveDefs=iz(r,!1),n.pipeDefs=iz(r,!0),n.id=Ide(n),n})}function Ede(t){return yp(t)||Jz(t)}function Lde(t){return t!==null}function Xa(t){return Gy(()=>({type:t.type,bootstrap:t.bootstrap||Ks,declarations:t.declarations||Ks,imports:t.imports||Ks,exports:t.exports||Ks,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nz(t,e){if(t==null)return mg;let n={};for(let r in t)if(t.hasOwnProperty(r)){let l=t[r],c,h,p=_h.None;Array.isArray(l)?(p=l[0],c=l[1],h=l[2]??c):(c=l,h=l),e?(n[c]=p!==_h.None?[r,p]:r,e[c]=h):n[c]=r}return n}function Gl(t){return Gy(()=>{let e=iH(t);return rH(e),e})}function yp(t){return t[Khe]||null}function Jz(t){return t[Zhe]||null}function eH(t){return t[Qhe]||null}function tH(t){let e=yp(t)||Jz(t)||eH(t);return e!==null?e.standalone:!1}function nH(t,e){let n=t[Jhe]||null;if(!n&&e===!0)throw new Error(`Type ${Ls(t)} does not have '\u0275mod' property.`);return n}function iH(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||mg,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ks,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nz(t.inputs,e),outputs:nz(t.outputs),debugInfo:null}}function rH(t){t.features?.forEach(e=>e(t))}function iz(t,e){if(!t)return null;let n=e?eH:Ede;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Lde)}function Ide(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let l of n)e=Math.imul(31,e)+l.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function wg(t){return{\u0275providers:t}}function Ode(...t){return{\u0275providers:sH(!0,t),\u0275fromNgModule:!0}}function sH(t,...e){let n=[],r=new Set,l,c=h=>{n.push(h)};return C5(e,h=>{let p=h;LE(p,c,[],r)&&(l||=[],l.push(p))}),l!==void 0&&oH(l,c),n}function oH(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:l}=t[n];D5(l,c=>{e(c,r)})}}function LE(t,e,n,r){if(t=Es(t),!t)return!1;let l=null,c=KV(t),h=!c&&yp(t);if(!c&&!h){let m=t.ngModule;if(c=KV(m),c)l=m;else return!1}else{if(h&&!h.standalone)return!1;l=t}let p=r.has(l);if(h){if(p)return!1;if(r.add(l),h.dependencies){let m=typeof h.dependencies=="function"?h.dependencies():h.dependencies;for(let g of m)LE(g,e,n,r)}}else if(c){if(c.imports!=null&&!p){r.add(l);let g;try{C5(c.imports,y=>{LE(y,e,n,r)&&(g||=[],g.push(y))})}finally{}g!==void 0&&oH(g,e)}if(!p){let g=fg(l)||(()=>new l);e({provide:l,useFactory:g,deps:Ks},l),e({provide:qz,useValue:l,multi:!0},l),e({provide:gg,useValue:()=>wt(l),multi:!0},l)}let m=c.providers;if(m!=null&&!p){let g=t;D5(m,y=>{e(y,g)})}}else return!1;return l!==t&&t.providers!==void 0}function D5(t,e){for(let n of t)jz(n)&&(n=n.\u0275providers),Array.isArray(n)?D5(n,e):e(n)}var Rde=ni({provide:String,useValue:ni});function aH(t){return t!==null&&typeof t=="object"&&Rde in t}function Pde(t){return!!(t&&t.useExisting)}function Fde(t){return!!(t&&t.useFactory)}function vg(t){return typeof t=="function"}function Nde(t){return!!t.useClass}var fC=new Ft(""),N2={},Bde={},dE;function S5(){return dE===void 0&&(dE=new $2),dE}var Zs=class{},Oy=class extends Zs{get destroyed(){return this._destroyed}constructor(e,n,r,l){super(),this.parent=n,this.source=r,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,OE(e,h=>this.processProvider(h)),this.records.set(Xz,cg(void 0,this)),l.has("environment")&&this.records.set(Zs,cg(void 0,this));let c=this.records.get(fC);c!=null&&typeof c.value=="string"&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(qz,Ks,tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=zn(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),zn(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=xh(this),r=da(void 0),l;try{return e()}finally{xh(n),da(r)}}get(e,n=Ly,r=tn.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(QV))return e[QV](this);r=dC(r);let l,c=xh(this),h=da(void 0);try{if(!(r&tn.SkipSelf)){let m=this.records.get(e);if(m===void 0){let g=Gde(e)&&uC(e);g&&this.injectableDefInScope(g)?m=cg(IE(e),N2):m=null,this.records.set(e,m)}if(m!=null)return this.hydrate(e,m)}let p=r&tn.Self?S5():this.parent;return n=r&tn.Optional&&n===Ly?null:n,p.get(e,n)}catch(p){if(p.name==="NullInjectorError"){if((p[W2]=p[W2]||[]).unshift(Ls(e)),c)throw p;return cde(p,e,"R3InjectorError",this.source)}else throw p}finally{da(h),xh(c)}}resolveInjectorInitializers(){let e=zn(null),n=xh(this),r=da(void 0),l;try{let c=this.get(gg,Ks,tn.Self);for(let h of c)h()}finally{xh(n),da(r),zn(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ls(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _t(205,!1)}processProvider(e){e=Es(e);let n=vg(e)?e:Es(e&&e.provide),r=zde(e);if(!vg(e)&&e.multi===!0){let l=this.records.get(n);l||(l=cg(void 0,N2,!0),l.factory=()=>ME(l.multi),this.records.set(n,l)),n=e,l.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=zn(null);try{return n.value===N2&&(n.value=Bde,n.value=n.factory()),typeof n.value=="object"&&n.value&&jde(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{zn(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Es(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function IE(t){let e=uC(t),n=e!==null?e.factory:fg(t);if(n!==null)return n;if(t instanceof Ft)throw new _t(204,!1);if(t instanceof Function)return Vde(t);throw new _t(204,!1)}function Vde(t){if(t.length>0)throw new _t(204,!1);let n=Xhe(t);return n!==null?()=>n.factory(t):()=>new t}function zde(t){if(aH(t))return cg(void 0,t.useValue);{let e=lH(t);return cg(e,N2)}}function lH(t,e,n){let r;if(vg(t)){let l=Es(t);return fg(l)||IE(l)}else if(aH(t))r=()=>Es(t.useValue);else if(Fde(t))r=()=>t.useFactory(...ME(t.deps||[]));else if(Pde(t))r=()=>wt(Es(t.useExisting));else{let l=Es(t&&(t.useClass||t.provide));if(Hde(t))r=()=>new l(...ME(t.deps));else return fg(l)||IE(l)}return r}function cg(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Hde(t){return!!t.deps}function jde(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Gde(t){return typeof t=="function"||typeof t=="object"&&t instanceof Ft}function OE(t,e){for(let n of t)Array.isArray(n)?OE(n,e):n&&jz(n)?OE(n.\u0275providers,e):e(n)}function uu(t,e){t instanceof Oy&&t.assertNotDestroyed();let n,r=xh(t),l=da(void 0);try{return e()}finally{xh(r),da(l)}}function Wde(){return Gz()!==void 0||ode()!=null}function Ude(t){return typeof t=="function"}var hu=0,Kt=1,Dt=2,Ur=3,ja=4,Oo=5,Ry=6,Py=7,Ga=8,yg=9,Wa=10,or=11,Fy=12,rz=13,Cg=14,Ua=15,Uy=16,ug=17,ou=18,mC=19,cH=20,bh=21,pE=22,xp=23,$a=25,uH=1;var bp=7,Y2=8,xg=9,Io=10,T5=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(T5||{});function gp(t){return Array.isArray(t)&&typeof t[uH]=="object"}function du(t){return Array.isArray(t)&&t[uH]===!0}function A5(t){return(t.flags&4)!==0}function gC(t){return t.componentOffset>-1}function vC(t){return(t.flags&1)===1}function wh(t){return!!t.template}function $de(t){return(t[Dt]&512)!==0}var RE=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function hH(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ki(){return dH}function dH(t){return t.type.prototype.ngOnChanges&&(t.setInput=Xde),Yde}ki.ngInherit=!0;function Yde(){let t=fH(this),e=t?.current;if(e){let n=t.previous;if(n===mg)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Xde(t,e,n,r,l){let c=this.declaredInputs[r],h=fH(t)||qde(t,{previous:mg,current:null}),p=h.current||(h.current={}),m=h.previous,g=m[c];p[c]=new RE(g&&g.currentValue,n,m===mg),hH(t,e,l,n)}var pH="__ngSimpleChanges__";function fH(t){return t[pH]||null}function qde(t,e){return t[pH]=e}var sz=null;var Vl=function(t,e,n){sz?.(t,e,n)},mH="svg",Kde="math",Zde=!1;function Qde(){return Zde}function jl(t){for(;Array.isArray(t);)t=t[hu];return t}function gH(t,e){return jl(e[t])}function pa(t,e){return jl(e[t.index])}function vH(t,e){return t.data[e]}function Jde(t,e){return t[e]}function Dh(t,e){let n=e[t];return gp(n)?n:n[hu]}function epe(t){return(t[Dt]&4)===4}function M5(t){return(t[Dt]&128)===128}function tpe(t){return du(t[Ur])}function bg(t,e){return e==null?null:t[e]}function yH(t){t[ug]=0}function npe(t){t[Dt]&1024||(t[Dt]|=1024,M5(t)&&Ny(t))}function ipe(t,e){for(;t>0;)e=e[Cg],t--;return e}function E5(t){return!!(t[Dt]&9216||t[xp]?.dirty)}function PE(t){t[Wa].changeDetectionScheduler?.notify(1),E5(t)?Ny(t):t[Dt]&64&&(Qde()?(t[Dt]|=1024,Ny(t)):t[Wa].changeDetectionScheduler?.notify())}function Ny(t){t[Wa].changeDetectionScheduler?.notify();let e=By(t);for(;e!==null&&!(e[Dt]&8192||(e[Dt]|=8192,!M5(e)));)e=By(e)}function xH(t,e){if((t[Dt]&256)===256)throw new _t(911,!1);t[bh]===null&&(t[bh]=[]),t[bh].push(e)}function rpe(t,e){if(t[bh]===null)return;let n=t[bh].indexOf(e);n!==-1&&t[bh].splice(n,1)}function By(t){let e=t[Ur];return du(e)?e[Ur]:e}var jt={lFrame:AH(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function spe(){return jt.lFrame.elementDepthCount}function ope(){jt.lFrame.elementDepthCount++}function ape(){jt.lFrame.elementDepthCount--}function bH(){return jt.bindingsEnabled}function _H(){return jt.skipHydrationRootTNode!==null}function lpe(t){return jt.skipHydrationRootTNode===t}function cpe(){jt.skipHydrationRootTNode=null}function wn(){return jt.lFrame.lView}function Rr(){return jt.lFrame.tView}function hi(t){return jt.lFrame.contextLView=t,t[Ga]}function di(t){return jt.lFrame.contextLView=null,t}function Qs(){let t=wH();for(;t!==null&&t.type===64;)t=t.parent;return t}function wH(){return jt.lFrame.currentTNode}function upe(){let t=jt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Tp(t,e){let n=jt.lFrame;n.currentTNode=t,n.isParent=e}function L5(){return jt.lFrame.isParent}function I5(){jt.lFrame.isParent=!1}function hpe(){return jt.lFrame.contextLView}function CH(){let t=jt.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dpe(t){return jt.lFrame.bindingIndex=t}function O5(){return jt.lFrame.bindingIndex++}function kH(t){let e=jt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ppe(){return jt.lFrame.inI18n}function fpe(t,e){let n=jt.lFrame;n.bindingIndex=n.bindingRootIndex=t,FE(e)}function mpe(){return jt.lFrame.currentDirectiveIndex}function FE(t){jt.lFrame.currentDirectiveIndex=t}function gpe(t){let e=jt.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function DH(){return jt.lFrame.currentQueryIndex}function R5(t){jt.lFrame.currentQueryIndex=t}function vpe(t){let e=t[Kt];return e.type===2?e.declTNode:e.type===1?t[Oo]:null}function SH(t,e,n){if(n&tn.SkipSelf){let l=e,c=t;for(;l=l.parent,l===null&&!(n&tn.Host);)if(l=vpe(c),l===null||(c=c[Cg],l.type&10))break;if(l===null)return!1;e=l,t=c}let r=jt.lFrame=TH();return r.currentTNode=e,r.lView=t,!0}function P5(t){let e=TH(),n=t[Kt];jt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function TH(){let t=jt.lFrame,e=t===null?null:t.child;return e===null?AH(t):e}function AH(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function MH(){let t=jt.lFrame;return jt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var EH=MH;function F5(){let t=MH();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ype(t){return(jt.lFrame.contextLView=ipe(t,jt.lFrame.contextLView))[Ga]}function Ap(){return jt.lFrame.selectedIndex}function _p(t){jt.lFrame.selectedIndex=t}function LH(){let t=jt.lFrame;return vH(t.tView,t.selectedIndex)}function st(){jt.lFrame.currentNamespace=mH}function xpe(){return jt.lFrame.currentNamespace}var IH=!0;function yC(){return IH}function xC(t){IH=t}function bpe(t,e,n){let{ngOnChanges:r,ngOnInit:l,ngDoCheck:c}=e.type.prototype;if(r){let h=dH(e);(n.preOrderHooks??=[]).push(t,h),(n.preOrderCheckHooks??=[]).push(t,h)}l&&(n.preOrderHooks??=[]).push(0-t,l),c&&((n.preOrderHooks??=[]).push(t,c),(n.preOrderCheckHooks??=[]).push(t,c))}function bC(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let c=t.data[n].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:p,ngAfterViewInit:m,ngAfterViewChecked:g,ngOnDestroy:y}=c;h&&(t.contentHooks??=[]).push(-n,h),p&&((t.contentHooks??=[]).push(n,p),(t.contentCheckHooks??=[]).push(n,p)),m&&(t.viewHooks??=[]).push(-n,m),g&&((t.viewHooks??=[]).push(n,g),(t.viewCheckHooks??=[]).push(n,g)),y!=null&&(t.destroyHooks??=[]).push(n,y)}}function B2(t,e,n){OH(t,e,3,n)}function V2(t,e,n,r){(t[Dt]&3)===n&&OH(t,e,n,r)}function fE(t,e){let n=t[Dt];(n&3)===e&&(n&=16383,n+=1,t[Dt]=n)}function OH(t,e,n,r){let l=r!==void 0?t[ug]&65535:0,c=r??-1,h=e.length-1,p=0;for(let m=l;m<h;m++)if(typeof e[m+1]=="number"){if(p=e[m],r!=null&&p>=r)break}else e[m]<0&&(t[ug]+=65536),(p<c||c==-1)&&(_pe(t,n,e,m),t[ug]=(t[ug]&4294901760)+m+2),m++}function oz(t,e){Vl(4,t,e);let n=zn(null);try{e.call(t)}finally{zn(n),Vl(5,t,e)}}function _pe(t,e,n,r){let l=n[r]<0,c=n[r+1],h=l?-n[r]:n[r],p=t[h];l?t[Dt]>>14<t[ug]>>16&&(t[Dt]&3)===e&&(t[Dt]+=16384,oz(p,c)):oz(p,c)}var pg=-1,wp=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function wpe(t){return t instanceof wp}function Cpe(t){return(t.flags&8)!==0}function kpe(t){return(t.flags&16)!==0}function RH(t){return t!==pg}function X2(t){return t&32767}function Dpe(t){return t>>16}function q2(t,e){let n=Dpe(t),r=e;for(;n>0;)r=r[Cg],n--;return r}var NE=!0;function az(t){let e=NE;return NE=t,e}var Spe=256,PH=Spe-1,FH=5,Tpe=0,zl={};function Ape(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ey)&&(r=n[Ey]),r==null&&(r=n[Ey]=Tpe++);let l=r&PH,c=1<<l;e.data[t+(l>>FH)]|=c}function K2(t,e){let n=NH(t,e);if(n!==-1)return n;let r=e[Kt];r.firstCreatePass&&(t.injectorIndex=e.length,mE(r.data,t),mE(e,null),mE(r.blueprint,null));let l=N5(t,e),c=t.injectorIndex;if(RH(l)){let h=X2(l),p=q2(l,e),m=p[Kt].data;for(let g=0;g<8;g++)e[c+g]=p[h+g]|m[h+g]}return e[c+8]=l,c}function mE(t,e){t.push(0,0,0,0,0,0,0,0,e)}function NH(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function N5(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,l=e;for(;l!==null;){if(r=jH(l),r===null)return pg;if(n++,l=l[Cg],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return pg}function BE(t,e,n){Ape(t,e,n)}function BH(t,e,n){if(n&tn.Optional||t!==void 0)return t;_5(e,"NodeInjector")}function VH(t,e,n,r){if(n&tn.Optional&&r===void 0&&(r=null),!(n&(tn.Self|tn.Host))){let l=t[yg],c=da(void 0);try{return l?l.get(e,r,n&tn.Optional):Wz(e,r,n&tn.Optional)}finally{da(c)}}return BH(r,e,n)}function zH(t,e,n,r=tn.Default,l){if(t!==null){if(e[Dt]&2048&&!(r&tn.Self)){let h=Ipe(t,e,n,r,zl);if(h!==zl)return h}let c=HH(t,e,n,r,zl);if(c!==zl)return c}return VH(e,n,r,l)}function HH(t,e,n,r,l){let c=Epe(n);if(typeof c=="function"){if(!SH(e,t,r))return r&tn.Host?BH(l,n,r):VH(e,n,r,l);try{let h;if(h=c(r),h==null&&!(r&tn.Optional))_5(n);else return h}finally{EH()}}else if(typeof c=="number"){let h=null,p=NH(t,e),m=pg,g=r&tn.Host?e[Ua][Oo]:null;for((p===-1||r&tn.SkipSelf)&&(m=p===-1?N5(t,e):e[p+8],m===pg||!cz(r,!1)?p=-1:(h=e[Kt],p=X2(m),e=q2(m,e)));p!==-1;){let y=e[Kt];if(lz(c,p,y.data)){let _=Mpe(p,e,n,h,r,g);if(_!==zl)return _}m=e[p+8],m!==pg&&cz(r,e[Kt].data[p+8]===g)&&lz(c,p,e)?(h=y,p=X2(m),e=q2(m,e)):p=-1}}return l}function Mpe(t,e,n,r,l,c){let h=e[Kt],p=h.data[t+8],m=r==null?gC(p)&&NE:r!=h&&(p.type&3)!==0,g=l&tn.Host&&c===p,y=z2(p,h,n,m,g);return y!==null?Cp(e,h,y,p):zl}function z2(t,e,n,r,l){let c=t.providerIndexes,h=e.data,p=c&1048575,m=t.directiveStart,g=t.directiveEnd,y=c>>20,_=r?p:p+y,C=l?p+y:g;for(let S=_;S<C;S++){let A=h[S];if(S<m&&n===A||S>=m&&A.type===n)return S}if(l){let S=h[m];if(S&&wh(S)&&S.type===n)return m}return null}function Cp(t,e,n,r){let l=t[n],c=e.data;if(wpe(l)){let h=l;h.resolving&&tde(ede(c[n]));let p=az(h.canSeeViewProviders);h.resolving=!0;let m,g=h.injectImpl?da(h.injectImpl):null,y=SH(t,r,tn.Default);try{l=t[n]=h.factory(void 0,c,t,r),e.firstCreatePass&&n>=r.directiveStart&&bpe(n,c[n],e)}finally{g!==null&&da(g),az(p),h.resolving=!1,EH()}}return l}function Epe(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ey)?t[Ey]:void 0;return typeof e=="number"?e>=0?e&PH:Lpe:e}function lz(t,e,n){let r=1<<t;return!!(n[e+(t>>FH)]&r)}function cz(t,e){return!(t&tn.Self)&&!(t&tn.Host&&e)}var vp=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return zH(this._tNode,this._lView,e,dC(r),n)}};function Lpe(){return new vp(Qs(),wn())}function $y(t){return Gy(()=>{let e=t.prototype.constructor,n=e[G2]||VE(e),r=Object.prototype,l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==r;){let c=l[G2]||VE(l);if(c&&c!==n)return c;l=Object.getPrototypeOf(l)}return c=>new c})}function VE(t){return Bz(t)?()=>{let e=VE(Es(t));return e&&e()}:fg(t)}function Ipe(t,e,n,r,l){let c=t,h=e;for(;c!==null&&h!==null&&h[Dt]&2048&&!(h[Dt]&512);){let p=HH(c,h,n,r|tn.Self,zl);if(p!==zl)return p;let m=c.parent;if(!m){let g=h[cH];if(g){let y=g.get(n,zl,r);if(y!==zl)return y}m=jH(h),h=h[Cg]}c=m}return l}function jH(t){let e=t[Kt],n=e.type;return n===2?e.declTNode:n===1?t[Oo]:null}function uz(t,e=null,n=null,r){let l=GH(t,e,n,r);return l.resolveInjectorInitializers(),l}function GH(t,e=null,n=null,r,l=new Set){let c=[n||Ks,Ode(t)];return r=r||(typeof t=="object"?void 0:Ls(t)),new Oy(c,e||S5(),r||null,l)}var pu=(()=>{let e=class e{static create(r,l){if(Array.isArray(r))return uz({name:""},l,r,"");{let c=r.name??"";return uz({name:c},r.parent,r.providers,c)}}};e.THROW_IF_NOT_FOUND=Ly,e.NULL=new $2,e.\u0275prov=ut({token:e,providedIn:"any",factory:()=>wt(Xz)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Ope="ngOriginalError";function gE(t){return t[Ope]}var au=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&gE(e);for(;n&&gE(n);)n=gE(n);return n||null}},WH=new Ft("",{providedIn:"root",factory:()=>Ye(au).handleError.bind(void 0)}),UH=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Rpe,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),zE=class extends UH{constructor(e){super(),this._lView=e}onDestroy(e){return xH(this._lView,e),()=>rpe(this._lView,e)}};function Rpe(){return new zE(wn())}function Ppe(){return kg(Qs(),wn())}function kg(t,e){return new _r(pa(t,e))}var _r=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Ppe;let t=e;return t})();function Fpe(t){return t instanceof _r?t.nativeElement:t}var HE=class extends Ms{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Wde()&&(this.destroyRef=Ye(UH,{optional:!0})??void 0)}emit(e){let n=zn(null);try{super.next(e)}finally{zn(n)}}subscribe(e,n,r){let l=e,c=n||(()=>null),h=r;if(e&&typeof e=="object"){let m=e;l=m.next?.bind(m),c=m.error?.bind(m),h=m.complete?.bind(m)}this.__isAsync&&(c=vE(c),l&&(l=vE(l)),h&&(h=vE(h)));let p=super.subscribe({next:l,error:c,complete:h});return e instanceof Zi&&e.add(p),p}};function vE(t){return e=>{setTimeout(t,void 0,e)}}var Tt=HE;function Npe(){return this._results[Symbol.iterator]()}var jE=class t{get changes(){return this._changes??=new Tt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Npe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=dde(e);(this._changesDetected=!hde(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function $H(t){return(t.flags&128)===128}var YH=new Map,Bpe=0;function Vpe(){return Bpe++}function zpe(t){YH.set(t[mC],t)}function Hpe(t){YH.delete(t[mC])}var hz="__ngContext__";function Ch(t,e){gp(e)?(t[hz]=e[mC],zpe(e)):t[hz]=e}function XH(t){return KH(t[Fy])}function qH(t){return KH(t[ja])}function KH(t){for(;t!==null&&!du(t);)t=t[ja];return t}var GE;function ZH(t){GE=t}function QH(){if(GE!==void 0)return GE;if(typeof document<"u")return document;throw new _t(210,!1)}var B5=new Ft("",{providedIn:"root",factory:()=>jpe}),jpe="ng",V5=new Ft(""),as=new Ft("",{providedIn:"platform",factory:()=>"unknown"});var z5=new Ft("",{providedIn:"root",factory:()=>QH().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Gpe="h",Wpe="b";var Upe=()=>null;function H5(t,e,n=!1){return Upe(t,e,n)}var JH=!1,$pe=new Ft("",{providedIn:"root",factory:()=>JH});var I2;function Ype(){if(I2===void 0&&(I2=null,su.trustedTypes))try{I2=su.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return I2}function _C(t){return Ype()?.createHTML(t)||t}var O2;function Xpe(){if(O2===void 0&&(O2=null,su.trustedTypes))try{O2=su.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return O2}function dz(t){return Xpe()?.createHTML(t)||t}var Z2=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pz})`}};function Yy(t){return t instanceof Z2?t.changingThisBreaksApplicationSecurity:t}function ej(t,e){let n=qpe(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Pz})`)}return n===e}function qpe(t){return t instanceof Z2&&t.getTypeName()||null}function Kpe(t){let e=new UE(t);return Zpe()?new WE(e):e}var WE=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(_C(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},UE=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=_C(e),n}};function Zpe(){try{return!!new window.DOMParser().parseFromString(_C(""),"text/html")}catch{return!1}}var Qpe=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function tj(t){return t=String(t),t.match(Qpe)?t:"unsafe:"+t}function fu(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Xy(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var nj=fu("area,br,col,hr,img,wbr"),ij=fu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rj=fu("rp,rt"),Jpe=Xy(rj,ij),efe=Xy(ij,fu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tfe=Xy(rj,fu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pz=Xy(nj,efe,tfe,Jpe),sj=fu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nfe=fu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ife=fu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),rfe=Xy(sj,nfe,ife),sfe=fu("script,style,template"),$E=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,l=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){l.push(n),n=lfe(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let c=afe(n);if(c){n=c;break}n=l.pop()}}return this.buf.join("")}startElement(e){let n=fz(e).toLowerCase();if(!pz.hasOwnProperty(n))return this.sanitizedSomething=!0,!sfe.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let l=0;l<r.length;l++){let c=r.item(l),h=c.name,p=h.toLowerCase();if(!rfe.hasOwnProperty(p)){this.sanitizedSomething=!0;continue}let m=c.value;sj[p]&&(m=tj(m)),this.buf.push(" ",h,'="',mz(m),'"')}return this.buf.push(">"),!0}endElement(e){let n=fz(e).toLowerCase();pz.hasOwnProperty(n)&&!nj.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(mz(e))}};function ofe(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function afe(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw oj(e);return e}function lfe(t){let e=t.firstChild;if(e&&ofe(t,e))throw oj(e);return e}function fz(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function oj(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var cfe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ufe=/([^\#-~ |!])/g;function mz(t){return t.replace(/&/g,"&amp;").replace(cfe,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(ufe,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var R2;function aj(t,e){let n=null;try{R2=R2||Kpe(t);let r=e?String(e):"";n=R2.getInertBodyElement(r);let l=5,c=r;do{if(l===0)throw new Error("Failed to sanitize html because the input is unstable");l--,r=c,c=n.innerHTML,n=R2.getInertBodyElement(r)}while(r!==c);let p=new $E().sanitizeChildren(gz(n)||n);return _C(p)}finally{if(n){let r=gz(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function gz(t){return"content"in t&&hfe(t)?t.content:null}function hfe(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var j5=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(j5||{});function lj(t){let e=dfe();return e?dz(e.sanitize(j5.HTML,t)||""):ej(t,"HTML")?dz(Yy(t)):aj(QH(),hC(t))}function dfe(){let t=wn();return t&&t[Wa].sanitizer}var pfe=/^>|^->|<!--|-->|--!>|<!-$/g,ffe=/(<|>)/g,mfe="\u200B$1\u200B";function gfe(t){return t.replace(pfe,e=>e.replace(ffe,mfe))}function cj(t){return t.ownerDocument.defaultView}function uj(t){return t instanceof Function?t():t}var lu=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(lu||{}),vfe;function G5(t,e){return vfe(t,e)}function hg(t,e,n,r,l){if(r!=null){let c,h=!1;du(r)?c=r:gp(r)&&(h=!0,r=r[hu]);let p=jl(r);t===0&&n!==null?l==null?gj(e,n,p):Q2(e,n,p,l||null,!0):t===1&&n!==null?Q2(e,n,p,l||null,!0):t===2?Ofe(e,p,h):t===3&&e.destroyNode(p),c!=null&&Pfe(e,t,c,n,l)}}function yfe(t,e){return t.createText(e)}function xfe(t,e,n){t.setValue(e,n)}function bfe(t,e){return t.createComment(gfe(e))}function hj(t,e,n){return t.createElement(e,n)}function _fe(t,e){dj(t,e),e[hu]=null,e[Oo]=null}function wfe(t,e,n,r,l,c){r[hu]=l,r[Oo]=e,CC(t,r,n,1,l,c)}function dj(t,e){e[Wa].changeDetectionScheduler?.notify(1),CC(t,e,e[or],2,null,null)}function Cfe(t){let e=t[Fy];if(!e)return yE(t[Kt],t);for(;e;){let n=null;if(gp(e))n=e[Fy];else{let r=e[Io];r&&(n=r)}if(!n){for(;e&&!e[ja]&&e!==t;)gp(e)&&yE(e[Kt],e),e=e[Ur];e===null&&(e=t),gp(e)&&yE(e[Kt],e),n=e&&e[ja]}e=n}}function kfe(t,e,n,r){let l=Io+r,c=n.length;r>0&&(n[l-1][ja]=e),r<c-Io?(e[ja]=n[l],Yz(n,Io+r,e)):(n.push(e),e[ja]=null),e[Ur]=n;let h=e[Uy];h!==null&&n!==h&&Dfe(h,e);let p=e[ou];p!==null&&p.insertView(t),PE(e),e[Dt]|=128}function Dfe(t,e){let n=t[xg],l=e[Ur][Ur][Ua];e[Ua]!==l&&(t[Dt]|=T5.HasTransplantedViews),n===null?t[xg]=[e]:n.push(e)}function pj(t,e){let n=t[xg],r=n.indexOf(e);n.splice(r,1)}function YE(t,e){if(t.length<=Io)return;let n=Io+e,r=t[n];if(r){let l=r[Uy];l!==null&&l!==t&&pj(l,r),e>0&&(t[n-1][ja]=r[ja]);let c=U2(t,Io+e);_fe(r[Kt],r);let h=c[ou];h!==null&&h.detachView(c[Kt]),r[Ur]=null,r[ja]=null,r[Dt]&=-129}return r}function fj(t,e){if(!(e[Dt]&256)){let n=e[or];n.destroyNode&&CC(t,e,n,3,null,null),Cfe(e)}}function yE(t,e){if(e[Dt]&256)return;let n=zn(null);try{e[Dt]&=-129,e[Dt]|=256,e[xp]&&bV(e[xp]),Tfe(t,e),Sfe(t,e),e[Kt].type===1&&e[or].destroy();let r=e[Uy];if(r!==null&&du(e[Ur])){r!==e[Ur]&&pj(r,e);let l=e[ou];l!==null&&l.detachView(t)}Hpe(e)}finally{zn(n)}}function Sfe(t,e){let n=t.cleanup,r=e[Py];if(n!==null)for(let c=0;c<n.length-1;c+=2)if(typeof n[c]=="string"){let h=n[c+3];h>=0?r[h]():r[-h].unsubscribe(),c+=2}else{let h=r[n[c+1]];n[c].call(h)}r!==null&&(e[Py]=null);let l=e[bh];if(l!==null){e[bh]=null;for(let c=0;c<l.length;c++){let h=l[c];h()}}}function Tfe(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let l=e[n[r]];if(!(l instanceof wp)){let c=n[r+1];if(Array.isArray(c))for(let h=0;h<c.length;h+=2){let p=l[c[h]],m=c[h+1];Vl(4,p,m);try{m.call(p)}finally{Vl(5,p,m)}}else{Vl(4,l,c);try{c.call(l)}finally{Vl(5,l,c)}}}}}function mj(t,e,n){return Afe(t,e.parent,n)}function Afe(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[hu];{let{componentOffset:l}=r;if(l>-1){let{encapsulation:c}=t.data[r.directiveStart+l];if(c===Hl.None||c===Hl.Emulated)return null}return pa(r,n)}}function Q2(t,e,n,r,l){t.insertBefore(e,n,r,l)}function gj(t,e,n){t.appendChild(e,n)}function vz(t,e,n,r,l){r!==null?Q2(t,e,n,r,l):gj(t,e,n)}function Mfe(t,e,n,r){t.removeChild(e,n,r)}function W5(t,e){return t.parentNode(e)}function Efe(t,e){return t.nextSibling(e)}function vj(t,e,n){return Ife(t,e,n)}function Lfe(t,e,n){return t.type&40?pa(t,n):null}var Ife=Lfe,yz;function wC(t,e,n,r){let l=mj(t,r,e),c=e[or],h=r.parent||e[Oo],p=vj(h,r,e);if(l!=null)if(Array.isArray(n))for(let m=0;m<n.length;m++)vz(c,l,n[m],p,!1);else vz(c,l,n,p,!1);yz!==void 0&&yz(c,r,e,n,l)}function H2(t,e){if(e!==null){let n=e.type;if(n&3)return pa(e,t);if(n&4)return XE(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return H2(t,r);{let l=t[e.index];return du(l)?XE(-1,l):jl(l)}}else{if(n&32)return G5(e,t)()||jl(t[e.index]);{let r=yj(t,e);if(r!==null){if(Array.isArray(r))return r[0];let l=By(t[Ua]);return H2(l,r)}else return H2(t,e.next)}}}return null}function yj(t,e){if(e!==null){let r=t[Ua][Oo],l=e.projection;return r.projection[l]}return null}function XE(t,e){let n=Io+t+1;if(n<e.length){let r=e[n],l=r[Kt].firstChild;if(l!==null)return H2(r,l)}return e[bp]}function Ofe(t,e,n){let r=W5(t,e);r&&Mfe(t,r,e,n)}function U5(t,e,n,r,l,c,h){for(;n!=null;){let p=r[n.index],m=n.type;if(h&&e===0&&(p&&Ch(jl(p),r),n.flags|=2),(n.flags&32)!==32)if(m&8)U5(t,e,n.child,r,l,c,!1),hg(e,t,l,p,c);else if(m&32){let g=G5(n,r),y;for(;y=g();)hg(e,t,l,y,c);hg(e,t,l,p,c)}else m&16?xj(t,e,r,n,l,c):hg(e,t,l,p,c);n=h?n.projectionNext:n.next}}function CC(t,e,n,r,l,c){U5(n,r,t.firstChild,e,l,c,!1)}function Rfe(t,e,n){let r=e[or],l=mj(t,n,e),c=n.parent||e[Oo],h=vj(c,n,e);xj(r,0,e,n,l,h)}function xj(t,e,n,r,l,c){let h=n[Ua],m=h[Oo].projection[r.projection];if(Array.isArray(m))for(let g=0;g<m.length;g++){let y=m[g];hg(e,t,l,y,c)}else{let g=m,y=h[Ur];$H(r)&&(g.flags|=128),U5(t,e,g,y,l,c,!0)}}function Pfe(t,e,n,r,l){let c=n[bp],h=jl(n);c!==h&&hg(e,t,r,c,l);for(let p=Io;p<n.length;p++){let m=n[p];CC(m[Kt],m,t,e,r,c)}}function Ffe(t,e,n,r,l){if(e)l?t.addClass(n,r):t.removeClass(n,r);else{let c=r.indexOf("-")===-1?void 0:lu.DashCase;l==null?t.removeStyle(n,r,c):(typeof l=="string"&&l.endsWith("!important")&&(l=l.slice(0,-10),c|=lu.Important),t.setStyle(n,r,l,c))}}function Nfe(t,e,n){t.setAttribute(e,"style",n)}function bj(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _j(t,e,n){let{mergedAttrs:r,classes:l,styles:c}=n;r!==null&&EE(t,e,r),l!==null&&bj(t,e,l),c!==null&&Nfe(t,e,c)}var mu={};function ye(t=1){wj(Rr(),wn(),Ap()+t,!1)}function wj(t,e,n,r){if(!r)if((e[Dt]&3)===3){let c=t.preOrderCheckHooks;c!==null&&B2(e,c,n)}else{let c=t.preOrderHooks;c!==null&&V2(e,c,0,n)}_p(n)}function dt(t,e=tn.Default){let n=wn();if(n===null)return wt(t,e);let r=Qs();return zH(r,n,Es(t),e)}function Cj(t,e,n,r,l,c){let h=zn(null);try{let p=null;l&_h.SignalBased&&(p=e[r][gV]),p!==null&&p.transformFn!==void 0&&(c=p.transformFn(c)),l&_h.HasDecoratorInputTransform&&(c=t.inputTransforms[r].call(e,c)),t.setInput!==null?t.setInput(e,p,c,n,r):hH(e,p,r,c)}finally{zn(h)}}function Bfe(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let l=n[r];if(l<0)_p(~l);else{let c=l,h=n[++r],p=n[++r];fpe(h,c);let m=e[c];p(2,m)}}}finally{_p(-1)}}function kC(t,e,n,r,l,c,h,p,m,g,y){let _=e.blueprint.slice();return _[hu]=l,_[Dt]=r|4|128|8|64,(g!==null||t&&t[Dt]&2048)&&(_[Dt]|=2048),yH(_),_[Ur]=_[Cg]=t,_[Ga]=n,_[Wa]=h||t&&t[Wa],_[or]=p||t&&t[or],_[yg]=m||t&&t[yg]||null,_[Oo]=c,_[mC]=Vpe(),_[Ry]=y,_[cH]=g,_[Ua]=e.type==2?t[Ua]:_,_}function Dg(t,e,n,r,l){let c=t.data[e];if(c===null)c=Vfe(t,e,n,r,l),ppe()&&(c.flags|=32);else if(c.type&64){c.type=n,c.value=r,c.attrs=l;let h=upe();c.injectorIndex=h===null?-1:h.injectorIndex}return Tp(c,!0),c}function Vfe(t,e,n,r,l){let c=wH(),h=L5(),p=h?c:c&&c.parent,m=t.data[e]=Ufe(t,p,n,e,r,l);return t.firstChild===null&&(t.firstChild=m),c!==null&&(h?c.child==null&&m.parent!==null&&(c.child=m):c.next===null&&(c.next=m,m.prev=c)),m}function kj(t,e,n,r){if(n===0)return-1;let l=e.length;for(let c=0;c<n;c++)e.push(r),t.blueprint.push(r),t.data.push(null);return l}function Dj(t,e,n,r,l){let c=Ap(),h=r&2;try{_p(-1),h&&e.length>$a&&wj(t,e,$a,!1),Vl(h?2:0,l),n(r,l)}finally{_p(c),Vl(h?3:1,l)}}function $5(t,e,n){if(A5(e)){let r=zn(null);try{let l=e.directiveStart,c=e.directiveEnd;for(let h=l;h<c;h++){let p=t.data[h];if(p.contentQueries){let m=n[h];p.contentQueries(1,m,h)}}}finally{zn(r)}}}function Y5(t,e,n){bH()&&(Qfe(t,e,n,pa(n,e)),(n.flags&64)===64&&Aj(t,e,n))}function X5(t,e,n=pa){let r=e.localNames;if(r!==null){let l=e.index+1;for(let c=0;c<r.length;c+=2){let h=r[c+1],p=h===-1?n(e,t):t[h];t[l++]=p}}}function Sj(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=q5(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function q5(t,e,n,r,l,c,h,p,m,g,y){let _=$a+r,C=_+l,S=zfe(_,C),A=typeof g=="function"?g():g;return S[Kt]={type:t,blueprint:S,template:n,queries:null,viewQuery:p,declTNode:e,data:S.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:C,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof c=="function"?c():c,pipeRegistry:typeof h=="function"?h():h,firstChild:null,schemas:m,consts:A,incompleteFirstPass:!1,ssrId:y}}function zfe(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:mu);return n}function Hfe(t,e,n,r){let c=r.get($pe,JH)||n===Hl.ShadowDom,h=t.selectRootElement(e,c);return jfe(h),h}function jfe(t){Gfe(t)}var Gfe=()=>null;function Wfe(t,e,n,r){let l=Lj(e);l.push(n),t.firstCreatePass&&Ij(t).push(r,l.length-1)}function Ufe(t,e,n,r,l,c){let h=e?e.injectorIndex:-1,p=0;return _H()&&(p|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:h,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:l,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xz(t,e,n,r,l){for(let c in e){if(!e.hasOwnProperty(c))continue;let h=e[c];if(h===void 0)continue;r??={};let p,m=_h.None;Array.isArray(h)?(p=h[0],m=h[1]):p=h;let g=c;if(l!==null){if(!l.hasOwnProperty(c))continue;g=l[c]}t===0?bz(r,n,g,p,m):bz(r,n,g,p)}return r}function bz(t,e,n,r,l){let c;t.hasOwnProperty(n)?(c=t[n]).push(e,r):c=t[n]=[e,r],l!==void 0&&c.push(l)}function $fe(t,e,n){let r=e.directiveStart,l=e.directiveEnd,c=t.data,h=e.attrs,p=[],m=null,g=null;for(let y=r;y<l;y++){let _=c[y],C=n?n.get(_):null,S=C?C.inputs:null,A=C?C.outputs:null;m=xz(0,_.inputs,y,m,S),g=xz(1,_.outputs,y,g,A);let E=m!==null&&h!==null&&!k5(e)?cme(m,y,h):null;p.push(E)}m!==null&&(m.hasOwnProperty("class")&&(e.flags|=8),m.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=p,e.inputs=m,e.outputs=g}function Yfe(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xfe(t,e,n,r,l,c,h,p){let m=pa(e,n),g=e.inputs,y;!p&&g!=null&&(y=g[r])?(Z5(t,n,y,r,l),gC(e)&&qfe(n,e.index)):e.type&3?(r=Yfe(r),l=h!=null?h(l,e.value||"",r):l,c.setProperty(m,r,l)):e.type&12}function qfe(t,e){let n=Dh(e,t);n[Dt]&16||(n[Dt]|=64)}function K5(t,e,n,r){if(bH()){let l=r===null?null:{"":-1},c=eme(t,n),h,p;c===null?h=p=null:[h,p]=c,h!==null&&Tj(t,e,n,h,l,p),l&&tme(n,r,l)}n.mergedAttrs=Iy(n.mergedAttrs,n.attrs)}function Tj(t,e,n,r,l,c){for(let g=0;g<r.length;g++)BE(K2(n,e),t,r[g].type);ime(n,t.data.length,r.length);for(let g=0;g<r.length;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let h=!1,p=!1,m=kj(t,e,r.length,null);for(let g=0;g<r.length;g++){let y=r[g];n.mergedAttrs=Iy(n.mergedAttrs,y.hostAttrs),rme(t,n,e,m,y),nme(m,y,l),y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let _=y.type.prototype;!h&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),h=!0),!p&&(_.ngOnChanges||_.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),p=!0),m++}$fe(t,n,c)}function Kfe(t,e,n,r,l){let c=l.hostBindings;if(c){let h=t.hostBindingOpCodes;h===null&&(h=t.hostBindingOpCodes=[]);let p=~e.index;Zfe(h)!=p&&h.push(p),h.push(n,r,c)}}function Zfe(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Qfe(t,e,n,r){let l=n.directiveStart,c=n.directiveEnd;gC(n)&&sme(e,n,t.data[l+n.componentOffset]),t.firstCreatePass||K2(n,e),Ch(r,e);let h=n.initialInputs;for(let p=l;p<c;p++){let m=t.data[p],g=Cp(e,t,p,n);if(Ch(g,e),h!==null&&lme(e,p-l,g,m,n,h),wh(m)){let y=Dh(n.index,e);y[Ga]=Cp(e,t,p,n)}}}function Aj(t,e,n){let r=n.directiveStart,l=n.directiveEnd,c=n.index,h=mpe();try{_p(c);for(let p=r;p<l;p++){let m=t.data[p],g=e[p];FE(p),(m.hostBindings!==null||m.hostVars!==0||m.hostAttrs!==null)&&Jfe(m,g)}}finally{_p(-1),FE(h)}}function Jfe(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function eme(t,e){let n=t.directiveRegistry,r=null,l=null;if(n)for(let c=0;c<n.length;c++){let h=n[c];if(Qz(e,h.selectors,!1))if(r||(r=[]),wh(h))if(h.findHostDirectiveDefs!==null){let p=[];l=l||new Map,h.findHostDirectiveDefs(h,p,l),r.unshift(...p,h);let m=p.length;qE(t,e,m)}else r.unshift(h),qE(t,e,0);else l=l||new Map,h.findHostDirectiveDefs?.(h,r,l),r.push(h)}return r===null?null:[r,l]}function qE(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function tme(t,e,n){if(e){let r=t.localNames=[];for(let l=0;l<e.length;l+=2){let c=n[e[l+1]];if(c==null)throw new _t(-301,!1);r.push(e[l],c)}}}function nme(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;wh(e)&&(n[""]=t)}}function ime(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function rme(t,e,n,r,l){t.data[r]=l;let c=l.factory||(l.factory=fg(l.type,!0)),h=new wp(c,wh(l),dt);t.blueprint[r]=h,n[r]=h,Kfe(t,e,r,kj(t,n,l.hostVars,mu),l)}function sme(t,e,n){let r=pa(e,t),l=Sj(n),c=t[Wa].rendererFactory,h=16;n.signals?h=4096:n.onPush&&(h=64);let p=DC(t,kC(t,l,null,h,r,e,null,c.createRenderer(r,n),null,null,null));t[e.index]=p}function ome(t,e,n,r,l,c){let h=pa(t,e);ame(e[or],h,c,t.value,n,r,l)}function ame(t,e,n,r,l,c,h){if(c==null)t.removeAttribute(e,l,n);else{let p=h==null?hC(c):h(c,r||"",l);t.setAttribute(e,l,p,n)}}function lme(t,e,n,r,l,c){let h=c[e];if(h!==null)for(let p=0;p<h.length;){let m=h[p++],g=h[p++],y=h[p++],_=h[p++];Cj(r,n,m,g,y,_)}}function cme(t,e,n){let r=null,l=0;for(;l<n.length;){let c=n[l];if(c===0){l+=4;continue}else if(c===5){l+=2;continue}if(typeof c=="number")break;if(t.hasOwnProperty(c)){r===null&&(r=[]);let h=t[c];for(let p=0;p<h.length;p+=3)if(h[p]===e){r.push(c,h[p+1],h[p+2],n[l+1]);break}}l+=2}return r}function Mj(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Ej(t,e){let n=t.contentQueries;if(n!==null){let r=zn(null);try{for(let l=0;l<n.length;l+=2){let c=n[l],h=n[l+1];if(h!==-1){let p=t.data[h];R5(c),p.contentQueries(2,e[h],h)}}}finally{zn(r)}}}function DC(t,e){return t[Fy]?t[rz][ja]=e:t[Fy]=e,t[rz]=e,e}function KE(t,e,n){R5(0);let r=zn(null);try{e(t,n)}finally{zn(r)}}function Lj(t){return t[Py]||(t[Py]=[])}function Ij(t){return t.cleanup||(t.cleanup=[])}function Oj(t,e){let n=t[yg],r=n?n.get(au,null):null;r&&r.handleError(e)}function Z5(t,e,n,r,l){for(let c=0;c<n.length;){let h=n[c++],p=n[c++],m=n[c++],g=e[h],y=t.data[h];Cj(y,g,r,p,m,l)}}function ume(t,e,n){let r=gH(e,t);xfe(t[or],r,n)}function hme(t,e){let n=Dh(e,t),r=n[Kt];dme(r,n);let l=n[hu];l!==null&&n[Ry]===null&&(n[Ry]=H5(l,n[yg])),Q5(r,n,n[Ga])}function dme(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Q5(t,e,n){P5(e);try{let r=t.viewQuery;r!==null&&KE(1,r,n);let l=t.template;l!==null&&Dj(t,e,l,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ou]?.finishViewCreation(t),t.staticContentQueries&&Ej(t,e),t.staticViewQueries&&KE(2,t.viewQuery,n);let c=t.components;c!==null&&pme(e,c)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Dt]&=-5,F5()}}function pme(t,e){for(let n=0;n<e.length;n++)hme(t,e[n])}function fme(t,e,n,r){let l=zn(null);try{let c=e.tView,p=t[Dt]&4096?4096:16,m=kC(t,c,n,p,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),g=t[e.index];m[Uy]=g;let y=t[ou];return y!==null&&(m[ou]=y.createEmbeddedView(c)),Q5(c,m,n),m}finally{zn(l)}}function _z(t,e){return!e||e.firstChild===null||$H(t)}function mme(t,e,n,r=!0){let l=e[Kt];if(kfe(l,e,t,n),r){let h=XE(n,t),p=e[or],m=W5(p,t[bp]);m!==null&&wfe(l,t[Oo],p,e,m,h)}let c=e[Ry];c!==null&&c.firstChild!==null&&(c.firstChild=null)}function J2(t,e,n,r,l=!1){for(;n!==null;){let c=e[n.index];c!==null&&r.push(jl(c)),du(c)&&gme(c,r);let h=n.type;if(h&8)J2(t,e,n.child,r);else if(h&32){let p=G5(n,e),m;for(;m=p();)r.push(m)}else if(h&16){let p=yj(e,n);if(Array.isArray(p))r.push(...p);else{let m=By(e[Ua]);J2(m[Kt],m,p,r,!0)}}n=l?n.projectionNext:n.next}return r}function gme(t,e){for(let n=Io;n<t.length;n++){let r=t[n],l=r[Kt].firstChild;l!==null&&J2(r[Kt],r,l,e)}t[bp]!==t[hu]&&e.push(t[bp])}var Rj=[];function vme(t){return t[xp]??yme(t)}function yme(t){let e=Rj.pop()??Object.create(bme);return e.lView=t,e}function xme(t){t.lView[xp]!==t&&(t.lView=null,Rj.push(t))}var bme=ti(Ue({},vV),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ny(t.lView)},consumerOnSignalRead(){this.lView[xp]=this}}),Pj=100;function Fj(t,e=!0,n=0){let r=t[Wa],l=r.rendererFactory,c=!1;c||l.begin?.();try{_me(t,n)}catch(h){throw e&&Oj(t,h),h}finally{c||(l.end?.(),r.inlineEffectRunner?.flush())}}function _me(t,e){ZE(t,e);let n=0;for(;E5(t);){if(n===Pj)throw new _t(103,!1);n++,ZE(t,1)}}function wme(t,e,n,r){let l=e[Dt];if((l&256)===256)return;let c=!1;!c&&e[Wa].inlineEffectRunner?.flush(),P5(e);let h=null,p=null;!c&&Cme(t)&&(p=vme(e),h=yV(p));try{yH(e),dpe(t.bindingStartIndex),n!==null&&Dj(t,e,n,2,r);let m=(l&3)===3;if(!c)if(m){let _=t.preOrderCheckHooks;_!==null&&B2(e,_,null)}else{let _=t.preOrderHooks;_!==null&&V2(e,_,0,null),fE(e,0)}if(kme(e),Nj(e,0),t.contentQueries!==null&&Ej(t,e),!c)if(m){let _=t.contentCheckHooks;_!==null&&B2(e,_)}else{let _=t.contentHooks;_!==null&&V2(e,_,1),fE(e,1)}Bfe(t,e);let g=t.components;g!==null&&Vj(e,g,0);let y=t.viewQuery;if(y!==null&&KE(2,y,r),!c)if(m){let _=t.viewCheckHooks;_!==null&&B2(e,_)}else{let _=t.viewHooks;_!==null&&V2(e,_,2),fE(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[pE]){for(let _ of e[pE])_();e[pE]=null}c||(e[Dt]&=-73)}catch(m){throw Ny(e),m}finally{p!==null&&(xV(p,h),xme(p)),F5()}}function Cme(t){return t.type!==2}function Nj(t,e){for(let n=XH(t);n!==null;n=qH(n))for(let r=Io;r<n.length;r++){let l=n[r];Bj(l,e)}}function kme(t){for(let e=XH(t);e!==null;e=qH(e)){if(!(e[Dt]&T5.HasTransplantedViews))continue;let n=e[xg];for(let r=0;r<n.length;r++){let l=n[r],c=l[Ur];npe(l)}}}function Dme(t,e,n){let r=Dh(e,t);Bj(r,n)}function Bj(t,e){M5(t)&&ZE(t,e)}function ZE(t,e){let r=t[Kt],l=t[Dt],c=t[xp],h=!!(e===0&&l&16);if(h||=!!(l&64&&e===0),h||=!!(l&1024),h||=!!(c?.dirty&&GM(c)),c&&(c.dirty=!1),t[Dt]&=-9217,h)wme(r,t,r.template,t[Ga]);else if(l&8192){Nj(t,1);let p=r.components;p!==null&&Vj(t,p,1)}}function Vj(t,e,n){for(let r=0;r<e.length;r++)Dme(t,e[r],n)}function J5(t){for(t[Wa].changeDetectionScheduler?.notify();t;){t[Dt]|=64;let e=By(t);if($de(t)&&!e)return t;t=e}return null}var kp=class{get rootNodes(){let e=this._lView,n=e[Kt];return J2(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ga]}set context(e){this._lView[Ga]=e}get destroyed(){return(this._lView[Dt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ur];if(du(e)){let n=e[Y2],r=n?n.indexOf(this):-1;r>-1&&(YE(e,r),U2(n,r))}this._attachedToViewContainer=!1}fj(this._lView[Kt],this._lView)}onDestroy(e){xH(this._lView,e)}markForCheck(){J5(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dt]&=-129}reattach(){PE(this._lView),this._lView[Dt]|=128}detectChanges(){this._lView[Dt]|=1024,Fj(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _t(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,dj(this._lView[Kt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _t(902,!1);this._appRef=e,PE(this._lView)}},Dp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ame;let t=e;return t})(),Sme=Dp,Tme=class extends Sme{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let l=fme(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new kp(l)}};function Ame(){return SC(Qs(),wn())}function SC(t,e){return t.type&4?new Tme(e,t,kg(t,e)):null}var xPe=new RegExp(`^(\\d+)*(${Wpe}|${Gpe})*(.*)`);var Mme=()=>null;function wz(t,e){return Mme(t,e)}var QE=class{},JE=class{},eC=class{};function Eme(t){let e=Error(`No component factory found for ${Ls(t)}.`);return e[Lme]=t,e}var Lme="ngComponent";var e5=class{resolveComponentFactory(e){throw Eme(e)}},Sg=(()=>{let e=class e{};e.NULL=new e5;let t=e;return t})(),Vy=class{},Tg=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Ime();let t=e;return t})();function Ime(){let t=wn(),e=Qs(),n=Dh(e.index,t);return(gp(n)?n:t)[or]}var Ome=(()=>{let e=class e{};e.\u0275prov=ut({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),xE={};var Cz=new Set;function e4(t){Cz.has(t)||(Cz.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function kz(...t){}function Rme(){let t=typeof su.requestAnimationFrame=="function",e=su[t?"requestAnimationFrame":"setTimeout"],n=su[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let l=n[Zone.__symbol__("OriginalDelegate")];l&&(n=l)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ui=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tt(!1),this.onMicrotaskEmpty=new Tt(!1),this.onStable=new Tt(!1),this.onError=new Tt(!1),typeof Zone>"u")throw new _t(908,!1);Zone.assertZonePatched();let l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!r&&n,l.shouldCoalesceRunChangeDetection=r,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=Rme().nativeRequestAnimationFrame,Nme(l)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new _t(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new _t(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,l){let c=this._inner,h=c.scheduleEventTask("NgZoneEvent: "+l,e,Pme,kz,kz);try{return c.runTask(h,n,r)}finally{c.cancelTask(h)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Pme={};function t4(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Fme(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(su,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,t5(t),t.isCheckStableRunning=!0,t4(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),t5(t))}function Nme(t){let e=()=>{Fme(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,l,c,h,p)=>{if(Bme(p))return n.invokeTask(l,c,h,p);try{return Dz(t),n.invokeTask(l,c,h,p)}finally{(t.shouldCoalesceEventChangeDetection&&c.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Sz(t)}},onInvoke:(n,r,l,c,h,p,m)=>{try{return Dz(t),n.invoke(l,c,h,p,m)}finally{t.shouldCoalesceRunChangeDetection&&e(),Sz(t)}},onHasTask:(n,r,l,c)=>{n.hasTask(l,c),r===l&&(c.change=="microTask"?(t._hasPendingMicrotasks=c.microTask,t5(t),t4(t)):c.change=="macroTask"&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,r,l,c)=>(n.handleError(l,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}function t5(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Dz(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sz(t){t._nesting--,t4(t)}function Bme(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var zj=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let l of r)l()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=ut({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function tC(t,e,n){let r=n?t.styles:null,l=n?t.classes:null,c=0;if(e!==null)for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="number")c=p;else if(c==1)l=SE(l,p);else if(c==2){let m=p,g=e[++h];r=SE(r,m+": "+g+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=l:t.classesWithoutHost=l}var nC=class extends Sg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=yp(e);return new zy(n,this.ngModule)}};function Tz(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function Vme(t){let e=t.toLowerCase();return e==="svg"?mH:e==="math"?Kde:null}var n5=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=dC(r);let l=this.injector.get(e,xE,r);return l!==xE||n===xE?l:this.parentInjector.get(e,n,r)}},zy=class extends eC{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Tz(e.inputs);if(n!==null)for(let l of r)n.hasOwnProperty(l.propName)&&(l.transform=n[l.propName]);return r}get outputs(){return Tz(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Ade(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,l){let c=zn(null);try{l=l||this.ngModule;let h=l instanceof Zs?l:l?.injector;h&&this.componentDef.getStandaloneInjector!==null&&(h=this.componentDef.getStandaloneInjector(h)||h);let p=h?new n5(e,h):e,m=p.get(Vy,null);if(m===null)throw new _t(407,!1);let g=p.get(Ome,null),y=p.get(zj,null),_=p.get(QE,null),C={rendererFactory:m,sanitizer:g,inlineEffectRunner:null,afterRenderEventManager:y,changeDetectionScheduler:_},S=m.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",E=r?Hfe(S,r,this.componentDef.encapsulation,p):hj(S,A,Vme(A)),L=512;this.componentDef.signals?L|=4096:this.componentDef.onPush||(L|=16);let P=null;E!==null&&(P=H5(E,p,!0));let R=q5(0,null,null,1,0,null,null,null,null,null,null),V=kC(null,R,null,L,null,null,C,S,p,null,P);P5(V);let z,H;try{let U=this.componentDef,X,Q=null;U.findHostDirectiveDefs?(X=[],Q=new Map,U.findHostDirectiveDefs(U,X,Q),X.push(U)):X=[U];let Z=zme(V,E),ie=Hme(Z,E,U,X,V,C,S);H=vH(R,$a),E&&Wme(S,U,E,r),n!==void 0&&Ume(H,this.ngContentSelectors,n),z=Gme(ie,U,X,Q,V,[$me]),Q5(R,V,null)}finally{F5()}return new i5(this.componentType,z,kg(H,V),V,H)}finally{zn(c)}}},i5=class extends JE{constructor(e,n,r,l,c){super(),this.location=r,this._rootLView=l,this._tNode=c,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new kp(l,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,l;if(r!==null&&(l=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let c=this._rootLView;Z5(c[Kt],c,l,e,n),this.previousInputValues.set(e,n);let h=Dh(this._tNode.index,c);J5(h)}}get injector(){return new vp(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function zme(t,e){let n=t[Kt],r=$a;return t[r]=e,Dg(n,r,2,"#host",null)}function Hme(t,e,n,r,l,c,h){let p=l[Kt];jme(r,t,e,h);let m=null;e!==null&&(m=H5(e,l[yg]));let g=c.rendererFactory.createRenderer(e,n),y=16;n.signals?y=4096:n.onPush&&(y=64);let _=kC(l,Sj(n),null,y,l[t.index],t,c,g,null,null,m);return p.firstCreatePass&&qE(p,t,r.length-1),DC(l,_),l[t.index]=_}function jme(t,e,n,r){for(let l of t)e.mergedAttrs=Iy(e.mergedAttrs,l.hostAttrs);e.mergedAttrs!==null&&(tC(e,e.mergedAttrs,!0),n!==null&&_j(r,n,e))}function Gme(t,e,n,r,l,c){let h=Qs(),p=l[Kt],m=pa(h,l);Tj(p,l,h,n,null,r);for(let y=0;y<n.length;y++){let _=h.directiveStart+y,C=Cp(l,p,_,h);Ch(C,l)}Aj(p,l,h),m&&Ch(m,l);let g=Cp(l,p,h.directiveStart+h.componentOffset,h);if(t[Ga]=l[Ga]=g,c!==null)for(let y of c)y(g,e);return $5(p,h,l),g}function Wme(t,e,n,r){if(r)EE(t,n,["ng-version","17.3.4"]);else{let{attrs:l,classes:c}=Mde(e.selectors[0]);l&&EE(t,n,l),c&&c.length>0&&bj(t,n,c.join(" "))}}function Ume(t,e,n){let r=t.projection=[];for(let l=0;l<e.length;l++){let c=n[l];r.push(c!=null?Array.from(c):null)}}function $me(){let t=Qs();bC(wn()[Kt],t)}var fa=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Yme;let t=e;return t})();function Yme(){let t=Qs();return jj(t,wn())}var Xme=fa,Hj=class extends Xme{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return kg(this._hostTNode,this._hostLView)}get injector(){return new vp(this._hostTNode,this._hostLView)}get parentInjector(){let e=N5(this._hostTNode,this._hostLView);if(RH(e)){let n=q2(e,this._hostLView),r=X2(e),l=n[Kt].data[r+8];return new vp(l,n)}else return new vp(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Az(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Io}createEmbeddedView(e,n,r){let l,c;typeof r=="number"?l=r:r!=null&&(l=r.index,c=r.injector);let h=wz(this._lContainer,e.ssrId),p=e.createEmbeddedViewImpl(n||{},c,h);return this.insertImpl(p,l,_z(this._hostTNode,h)),p}createComponent(e,n,r,l,c){let h=e&&!Ude(e),p;if(h)p=n;else{let A=n||{};p=A.index,r=A.injector,l=A.projectableNodes,c=A.environmentInjector||A.ngModuleRef}let m=h?e:new zy(yp(e)),g=r||this.parentInjector;if(!c&&m.ngModule==null){let E=(h?g:this.parentInjector).get(Zs,null);E&&(c=E)}let y=yp(m.componentType??{}),_=wz(this._lContainer,y?.id??null),C=_?.firstChild??null,S=m.create(g,l,C,c);return this.insertImpl(S.hostView,p,_z(this._hostTNode,_)),S}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let l=e._lView;if(tpe(l)){let p=this.indexOf(e);if(p!==-1)this.detach(p);else{let m=l[Ur],g=new Hj(m,m[Oo],m[Ur]);g.detach(g.indexOf(e))}}let c=this._adjustIndex(n),h=this._lContainer;return mme(h,l,c,r),e.attachToViewContainerRef(),Yz(bE(h),c,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Az(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=YE(this._lContainer,n);r&&(U2(bE(this._lContainer),n),fj(r[Kt],r))}detach(e){let n=this._adjustIndex(e,-1),r=YE(this._lContainer,n);return r&&U2(bE(this._lContainer),n)!=null?new kp(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Az(t){return t[Y2]}function bE(t){return t[Y2]||(t[Y2]=[])}function jj(t,e){let n,r=e[t.index];return du(r)?n=r:(n=Mj(r,e,null,t),e[t.index]=n,DC(e,n)),Kme(n,e,t,r),new Hj(n,t,e)}function qme(t,e){let n=t[or],r=n.createComment(""),l=pa(e,t),c=W5(n,l);return Q2(n,c,r,Efe(n,l),!1),r}var Kme=Jme,Zme=()=>!1;function Qme(t,e,n){return Zme(t,e,n)}function Jme(t,e,n,r){if(t[bp])return;let l;n.type&8?l=jl(r):l=qme(e,n),t[bp]=l}var r5=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},s5=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,l=[];for(let c=0;c<r;c++){let h=n.getByIndex(c),p=this.queries[h.indexInDeclarationView];l.push(p.clone())}return new t(l)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)n4(e,n).matches!==null&&this.queries[n].setDirty()}},iC=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=age(e):this.predicate=e}},o5=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let l=n!==null?n.length:0,c=this.getByIndex(r).embeddedTView(e,l);c&&(c.indexInDeclarationView=r,n!==null?n.push(c):n=[c])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},a5=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let l=0;l<r.length;l++){let c=r[l];this.matchTNodeWithReadOption(e,n,ege(n,c)),this.matchTNodeWithReadOption(e,n,z2(n,e,c,!1,!1))}else r===Dp?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,z2(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let l=this.metadata.read;if(l!==null)if(l===_r||l===fa||l===Dp&&n.type&4)this.addMatch(n.index,-2);else{let c=z2(n,e,l,!1,!1);c!==null&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function ege(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function tge(t,e){return t.type&11?kg(t,e):t.type&4?SC(t,e):null}function nge(t,e,n,r){return n===-1?tge(e,t):n===-2?ige(t,e,r):Cp(t,t[Kt],n,e)}function ige(t,e,n){if(n===_r)return kg(e,t);if(n===Dp)return SC(e,t);if(n===fa)return jj(e,t)}function Gj(t,e,n,r){let l=e[ou].queries[r];if(l.matches===null){let c=t.data,h=n.matches,p=[];for(let m=0;h!==null&&m<h.length;m+=2){let g=h[m];if(g<0)p.push(null);else{let y=c[g];p.push(nge(e,y,h[m+1],n.metadata.read))}}l.matches=p}return l.matches}function l5(t,e,n,r){let l=t.queries.getByIndex(n),c=l.matches;if(c!==null){let h=Gj(t,e,l,n);for(let p=0;p<c.length;p+=2){let m=c[p];if(m>0)r.push(h[p/2]);else{let g=c[p+1],y=e[-m];for(let _=Io;_<y.length;_++){let C=y[_];C[Uy]===C[Ur]&&l5(C[Kt],C,g,r)}if(y[xg]!==null){let _=y[xg];for(let C=0;C<_.length;C++){let S=_[C];l5(S[Kt],S,g,r)}}}}}return r}function rge(t,e){return t[ou].queries[e].queryList}function Wj(t,e,n){let r=new jE((n&4)===4);return Wfe(t,e,r,r.destroy),(e[ou]??=new s5).queries.push(new r5(r))-1}function sge(t,e,n){let r=Rr();return r.firstCreatePass&&(Uj(r,new iC(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Wj(r,wn(),e)}function oge(t,e,n,r){let l=Rr();if(l.firstCreatePass){let c=Qs();Uj(l,new iC(e,n,r),c.index),lge(l,t),(n&2)===2&&(l.staticContentQueries=!0)}return Wj(l,wn(),n)}function age(t){return t.split(",").map(e=>e.trim())}function Uj(t,e,n){t.queries===null&&(t.queries=new o5),t.queries.track(new a5(e,n))}function lge(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function n4(t,e){return t.queries.getByIndex(e)}function cge(t,e){let n=t[Kt],r=n4(n,e);return r.crossesNgTemplate?l5(n,t,e,[]):Gj(n,t,r,e)}function uge(t){return Object.getPrototypeOf(t.prototype).constructor}function i4(t){let e=uge(t.type),n=!0,r=[t];for(;e;){let l;if(wh(t))l=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new _t(903,!1);l=e.\u0275dir}if(l){if(n){r.push(l);let h=t;h.inputs=P2(t.inputs),h.inputTransforms=P2(t.inputTransforms),h.declaredInputs=P2(t.declaredInputs),h.outputs=P2(t.outputs);let p=l.hostBindings;p&&mge(t,p);let m=l.viewQuery,g=l.contentQueries;if(m&&pge(t,m),g&&fge(t,g),hge(t,l),$he(t.outputs,l.outputs),wh(l)&&l.data.animation){let y=t.data;y.animation=(y.animation||[]).concat(l.data.animation)}}let c=l.features;if(c)for(let h=0;h<c.length;h++){let p=c[h];p&&p.ngInherit&&p(t),p===i4&&(n=!1)}}e=Object.getPrototypeOf(e)}dge(r)}function hge(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let l=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(l))continue;t.inputTransforms??={},t.inputTransforms[l]=e.inputTransforms[l]}}}function dge(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let l=t[r];l.hostVars=e+=l.hostVars,l.hostAttrs=Iy(l.hostAttrs,n=Iy(n,l.hostAttrs))}}function P2(t){return t===mg?{}:t===Ks?[]:t}function pge(t,e){let n=t.viewQuery;n?t.viewQuery=(r,l)=>{e(r,l),n(r,l)}:t.viewQuery=e}function fge(t,e){let n=t.contentQueries;n?t.contentQueries=(r,l,c)=>{e(r,l,c),n(r,l,c)}:t.contentQueries=e}function mge(t,e){let n=t.hostBindings;n?t.hostBindings=(r,l)=>{e(r,l),n(r,l)}:t.hostBindings=e}var cu=class{},Hy=class{};function $j(t,e){return new rC(t,e??null,[])}var rC=class extends cu{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nC(this);let l=nH(e);this._bootstrapComponents=uj(l.bootstrap),this._r3Injector=GH(e,n,[{provide:cu,useValue:this},{provide:Sg,useValue:this.componentFactoryResolver},...r],Ls(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},c5=class extends Hy{constructor(e){super(),this.moduleType=e}create(e){return new rC(this.moduleType,e,[])}};var sC=class extends cu{constructor(e){super(),this.componentFactoryResolver=new nC(this),this.instance=null;let n=new Oy([...e.providers,{provide:cu,useValue:this},{provide:Sg,useValue:this.componentFactoryResolver}],e.parent||S5(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function r4(t,e,n=null){return new sC({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ag=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new br(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yj(t){return vge(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function gge(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function vge(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Xj(t,e,n){return t[e]=n}function kh(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function yge(t,e,n,r){let l=kh(t,e,n);return kh(t,e+1,r)||l}function xge(t){return(t.flags&32)===32}function bge(t,e,n,r,l,c,h,p,m){let g=e.consts,y=Dg(e,t,4,h||null,bg(g,p));K5(e,n,y,bg(g,m)),bC(e,y);let _=y.tView=q5(2,y,r,l,c,e.directiveRegistry,e.pipeRegistry,null,e.schemas,g,null);return e.queries!==null&&(e.queries.template(e,y),_.queries=e.queries.embeddedTView(y)),y}function at(t,e,n,r,l,c,h,p){let m=wn(),g=Rr(),y=t+$a,_=g.firstCreatePass?bge(y,g,m,e,n,r,l,c,h):g.data[y];Tp(_,!1);let C=_ge(g,m,_,t);yC()&&wC(g,m,C,_),Ch(C,m);let S=Mj(C,m,C,_);return m[y]=S,DC(m,S),Qme(S,_,m),vC(_)&&Y5(g,m,_),h!=null&&X5(m,_,p),at}var _ge=wge;function wge(t,e,n,r){return xC(!0),e[or].createComment("")}function Ot(t,e,n,r){let l=wn(),c=O5();if(kh(l,c,e)){let h=Rr(),p=LH();ome(p,l,t,e,n,r)}return Ot}function qj(t,e,n,r){return kh(t,O5(),n)?e+hC(n)+r:mu}function F2(t,e){return t<<17|e<<2}function Sp(t){return t>>17&32767}function Cge(t){return(t&2)==2}function kge(t,e){return t&131071|e<<17}function u5(t){return t|2}function _g(t){return(t&131068)>>2}function _E(t,e){return t&-131069|e<<2}function Dge(t){return(t&1)===1}function h5(t){return t|1}function Sge(t,e,n,r,l,c){let h=c?e.classBindings:e.styleBindings,p=Sp(h),m=_g(h);t[r]=n;let g=!1,y;if(Array.isArray(n)){let _=n;y=_[1],(y===null||Wy(_,y)>0)&&(g=!0)}else y=n;if(l)if(m!==0){let C=Sp(t[p+1]);t[r+1]=F2(C,p),C!==0&&(t[C+1]=_E(t[C+1],r)),t[p+1]=kge(t[p+1],r)}else t[r+1]=F2(p,0),p!==0&&(t[p+1]=_E(t[p+1],r)),p=r;else t[r+1]=F2(m,0),p===0?p=r:t[m+1]=_E(t[m+1],r),m=r;g&&(t[r+1]=u5(t[r+1])),Mz(t,y,r,!0),Mz(t,y,r,!1),Tge(e,y,t,r,c),h=F2(p,m),c?e.classBindings=h:e.styleBindings=h}function Tge(t,e,n,r,l){let c=l?t.residualClasses:t.residualStyles;c!=null&&typeof e=="string"&&Wy(c,e)>=0&&(n[r+1]=h5(n[r+1]))}function Mz(t,e,n,r){let l=t[n+1],c=e===null,h=r?Sp(l):_g(l),p=!1;for(;h!==0&&(p===!1||c);){let m=t[h],g=t[h+1];Age(m,e)&&(p=!0,t[h+1]=r?h5(g):u5(g)),h=r?Sp(g):_g(g)}p&&(t[n+1]=r?u5(l):h5(l))}function Age(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wy(t,e)>=0:!1}var Ha={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Mge(t){return t.substring(Ha.key,Ha.keyEnd)}function Ege(t){return Lge(t),Kj(t,Zj(t,0,Ha.textEnd))}function Kj(t,e){let n=Ha.textEnd;return n===e?-1:(e=Ha.keyEnd=Ige(t,Ha.key=e,n),Zj(t,e,n))}function Lge(t){Ha.key=0,Ha.keyEnd=0,Ha.value=0,Ha.valueEnd=0,Ha.textEnd=t.length}function Zj(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ige(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function _e(t,e,n){let r=wn(),l=O5();if(kh(r,l,e)){let c=Rr(),h=LH();Xfe(c,h,r,t,e,r[or],n,!1)}return _e}function d5(t,e,n,r,l){let c=e.inputs,h=l?"class":"style";Z5(t,n,c[h],h,r)}function Js(t,e,n){return eG(t,e,n,!1),Js}function gu(t,e){return eG(t,e,null,!0),gu}function Qj(t){tG(Bge,Jj,t,!0)}function Jj(t,e){for(let n=Ege(e);n>=0;n=Kj(e,n))pC(t,Mge(e),!0)}function eG(t,e,n,r){let l=wn(),c=Rr(),h=kH(2);if(c.firstUpdatePass&&iG(c,t,h,r),e!==mu&&kh(l,h,e)){let p=c.data[Ap()];rG(c,p,l,l[or],t,l[h+1]=zge(e,n),r,h)}}function tG(t,e,n,r){let l=Rr(),c=kH(2);l.firstUpdatePass&&iG(l,null,c,r);let h=wn();if(n!==mu&&kh(h,c,n)){let p=l.data[Ap()];if(sG(p,r)&&!nG(l,c)){let m=r?p.classesWithoutHost:p.stylesWithoutHost;m!==null&&(n=SE(m,n||"")),d5(l,p,h,n,r)}else Vge(l,p,h,h[or],h[c+1],h[c+1]=Nge(t,e,n),r,c)}}function nG(t,e){return e>=t.expandoStartIndex}function iG(t,e,n,r){let l=t.data;if(l[n+1]===null){let c=l[Ap()],h=nG(t,n);sG(c,r)&&e===null&&!h&&(e=!1),e=Oge(l,c,e,r),Sge(l,c,e,n,h,r)}}function Oge(t,e,n,r){let l=gpe(t),c=r?e.residualClasses:e.residualStyles;if(l===null)(r?e.classBindings:e.styleBindings)===0&&(n=wE(null,t,e,n,r),n=jy(n,e.attrs,r),c=null);else{let h=e.directiveStylingLast;if(h===-1||t[h]!==l)if(n=wE(l,t,e,n,r),c===null){let m=Rge(t,e,r);m!==void 0&&Array.isArray(m)&&(m=wE(null,t,e,m[1],r),m=jy(m,e.attrs,r),Pge(t,e,r,m))}else c=Fge(t,e,r)}return c!==void 0&&(r?e.residualClasses=c:e.residualStyles=c),n}function Rge(t,e,n){let r=n?e.classBindings:e.styleBindings;if(_g(r)!==0)return t[Sp(r)]}function Pge(t,e,n,r){let l=n?e.classBindings:e.styleBindings;t[Sp(l)]=r}function Fge(t,e,n){let r,l=e.directiveEnd;for(let c=1+e.directiveStylingLast;c<l;c++){let h=t[c].hostAttrs;r=jy(r,h,n)}return jy(r,e.attrs,n)}function wE(t,e,n,r,l){let c=null,h=n.directiveEnd,p=n.directiveStylingLast;for(p===-1?p=n.directiveStart:p++;p<h&&(c=e[p],r=jy(r,c.hostAttrs,l),c!==t);)p++;return t!==null&&(n.directiveStylingLast=p),r}function jy(t,e,n){let r=n?1:2,l=-1;if(e!==null)for(let c=0;c<e.length;c++){let h=e[c];typeof h=="number"?l=h:l===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),pC(t,h,n?!0:e[++c]))}return t===void 0?null:t}function Nge(t,e,n){if(n==null||n==="")return Ks;let r=[],l=Yy(n);if(Array.isArray(l))for(let c=0;c<l.length;c++)t(r,l[c],!0);else if(typeof l=="object")for(let c in l)l.hasOwnProperty(c)&&t(r,c,l[c]);else typeof l=="string"&&e(r,l);return r}function Bge(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&pC(t,r,n)}function Vge(t,e,n,r,l,c,h,p){l===mu&&(l=Ks);let m=0,g=0,y=0<l.length?l[0]:null,_=0<c.length?c[0]:null;for(;y!==null||_!==null;){let C=m<l.length?l[m+1]:void 0,S=g<c.length?c[g+1]:void 0,A=null,E;y===_?(m+=2,g+=2,C!==S&&(A=_,E=S)):_===null||y!==null&&y<_?(m+=2,A=y):(g+=2,A=_,E=S),A!==null&&rG(t,e,n,r,A,E,h,p),y=m<l.length?l[m]:null,_=g<c.length?c[g]:null}}function rG(t,e,n,r,l,c,h,p){if(!(e.type&3))return;let m=t.data,g=m[p+1],y=Dge(g)?Ez(m,e,n,l,_g(g),h):void 0;if(!oC(y)){oC(c)||Cge(g)&&(c=Ez(m,null,n,l,p,h));let _=gH(Ap(),n);Ffe(r,h,_,l,c)}}function Ez(t,e,n,r,l,c){let h=e===null,p;for(;l>0;){let m=t[l],g=Array.isArray(m),y=g?m[1]:m,_=y===null,C=n[l+1];C===mu&&(C=_?Ks:void 0);let S=_?hE(C,r):y===r?C:void 0;if(g&&!oC(S)&&(S=hE(m,r)),oC(S)&&(p=S,h))return p;let A=t[l+1];l=h?Sp(A):_g(A)}if(e!==null){let m=c?e.residualClasses:e.residualStyles;m!=null&&(p=hE(m,r))}return p}function oC(t){return t!==void 0}function zge(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ls(Yy(t)))),t}function sG(t,e){return(t.flags&(e?8:16))!==0}function oG(t,e,n){let r=wn(),l=qj(r,t,e,n);tG(pC,Jj,l,!0)}function Hge(t,e,n,r,l,c){let h=e.consts,p=bg(h,l),m=Dg(e,t,2,r,p);return K5(e,n,m,bg(h,c)),m.attrs!==null&&tC(m,m.attrs,!1),m.mergedAttrs!==null&&tC(m,m.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,m),m}function Me(t,e,n,r){let l=wn(),c=Rr(),h=$a+t,p=l[or],m=c.firstCreatePass?Hge(h,c,l,e,n,r):c.data[h],g=jge(c,l,m,p,e,t);l[h]=g;let y=vC(m);return Tp(m,!0),_j(p,g,m),!xge(m)&&yC()&&wC(c,l,g,m),spe()===0&&Ch(g,l),ope(),y&&(Y5(c,l,m),$5(c,m,l)),r!==null&&X5(l,m),Me}function Ee(){let t=Qs();L5()?I5():(t=t.parent,Tp(t,!1));let e=t;lpe(e)&&cpe(),ape();let n=Rr();return n.firstCreatePass&&(bC(n,t),A5(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Cpe(e)&&d5(n,e,wn(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&kpe(e)&&d5(n,e,wn(),e.stylesWithoutHost,!1),Ee}function vt(t,e,n,r){return Me(t,e,n,r),Ee(),vt}var jge=(t,e,n,r,l,c)=>(xC(!0),hj(r,l,xpe()));function Gge(t,e,n,r,l){let c=e.consts,h=bg(c,r),p=Dg(e,t,8,"ng-container",h);h!==null&&tC(p,h,!0);let m=bg(c,l);return K5(e,n,p,m),e.queries!==null&&e.queries.elementStart(e,p),p}function ma(t,e,n){let r=wn(),l=Rr(),c=t+$a,h=l.firstCreatePass?Gge(c,l,r,e,n):l.data[c];Tp(h,!0);let p=Wge(l,r,h,t);return r[c]=p,yC()&&wC(l,r,p,h),Ch(p,r),vC(h)&&(Y5(l,r,h),$5(l,h,r)),n!=null&&X5(r,h),ma}function ga(){let t=Qs(),e=Rr();return L5()?I5():(t=t.parent,Tp(t,!1)),e.firstCreatePass&&(bC(e,t),A5(t)&&e.queries.elementEnd(t)),ga}function Wl(t,e,n){return ma(t,e,n),ga(),Wl}var Wge=(t,e,n,r)=>(xC(!0),bfe(e[or],""));function ls(){return wn()}var aC="en-US";var Uge=aC;function $ge(t){typeof t=="string"&&(Uge=t.toLowerCase().replace(/_/g,"-"))}function qn(t,e,n,r){let l=wn(),c=Rr(),h=Qs();return Xge(c,l,l[or],h,t,e,r),qn}function Yge(t,e,n,r){let l=t.cleanup;if(l!=null)for(let c=0;c<l.length-1;c+=2){let h=l[c];if(h===n&&l[c+1]===r){let p=e[Py],m=l[c+2];return p.length>m?p[m]:null}typeof h=="string"&&(c+=2)}return null}function Xge(t,e,n,r,l,c,h){let p=vC(r),g=t.firstCreatePass&&Ij(t),y=e[Ga],_=Lj(e),C=!0;if(r.type&3||h){let E=pa(r,e),L=h?h(E):E,P=_.length,R=h?z=>h(jl(z[r.index])):r.index,V=null;if(!h&&p&&(V=Yge(t,e,l,r.index)),V!==null){let z=V.__ngLastListenerFn__||V;z.__ngNextListenerFn__=c,V.__ngLastListenerFn__=c,C=!1}else{c=Iz(r,e,y,c,!1);let z=n.listen(L,l,c);_.push(c,z),g&&g.push(l,R,P,P+1)}}else c=Iz(r,e,y,c,!1);let S=r.outputs,A;if(C&&S!==null&&(A=S[l])){let E=A.length;if(E)for(let L=0;L<E;L+=2){let P=A[L],R=A[L+1],H=e[P][R].subscribe(c),U=_.length;_.push(c,H),g&&g.push(l,r.index,U,-(U+1))}}}function Lz(t,e,n,r){let l=zn(null);try{return Vl(6,e,n),n(r)!==!1}catch(c){return Oj(t,c),!1}finally{Vl(7,e,n),zn(l)}}function Iz(t,e,n,r,l){return function c(h){if(h===Function)return r;let p=t.componentOffset>-1?Dh(t.index,e):e;J5(p);let m=Lz(e,n,r,h),g=c.__ngNextListenerFn__;for(;g;)m=Lz(e,n,g,h)&&m,g=g.__ngNextListenerFn__;return l&&m===!1&&h.preventDefault(),m}}function Oe(t=1){return ype(t)}function qge(t,e){let n=null,r=Cde(t);for(let l=0;l<e.length;l++){let c=e[l];if(c==="*"){n=l;continue}if(r===null?Qz(t,c,!0):Sde(r,c))return l}return n}function s4(t){let e=wn()[Ua][Oo];if(!e.projection){let n=t?t.length:1,r=e.projection=pde(n,null),l=r.slice(),c=e.child;for(;c!==null;){let h=t?qge(c,t):0;h!==null&&(l[h]?l[h].projectionNext=c:r[h]=c,l[h]=c),c=c.next}}}function o4(t,e=0,n){let r=wn(),l=Rr(),c=Dg(l,$a+t,16,null,n||null);c.projection===null&&(c.projection=e),I5(),(!r[Ry]||_H())&&(c.flags&32)!==32&&Rfe(l,r,c)}function TC(t,e,n,r){oge(t,e,n,r)}function Mp(t,e,n){sge(t,e,n)}function Ul(t){let e=wn(),n=Rr(),r=DH();R5(r+1);let l=n4(n,r);if(t.dirty&&epe(e)===((l.metadata.flags&2)===2)){if(l.matches===null)t.reset([]);else{let c=cge(e,r);t.reset(c,Fpe),t.notifyOnChanges()}return!0}return!1}function $l(){return rge(wn(),DH())}function Ep(t){let e=hpe();return Jde(e,$a+t)}function pi(t,e=""){let n=wn(),r=Rr(),l=t+$a,c=r.firstCreatePass?Dg(r,l,1,e,null):r.data[l],h=Kge(r,n,c,e,t);n[l]=h,yC()&&wC(r,n,h,c),Tp(c,!1)}var Kge=(t,e,n,r,l)=>(xC(!0),yfe(e[or],r));function Sh(t){return qa("",t,""),Sh}function qa(t,e,n){let r=wn(),l=qj(r,t,e,n);return l!==mu&&ume(r,Ap(),l),qa}function Zge(t,e,n){let r=Rr();if(r.firstCreatePass){let l=wh(t);p5(n,r.data,r.blueprint,l,!0),p5(e,r.data,r.blueprint,l,!1)}}function p5(t,e,n,r,l){if(t=Es(t),Array.isArray(t))for(let c=0;c<t.length;c++)p5(t[c],e,n,r,l);else{let c=Rr(),h=wn(),p=Qs(),m=vg(t)?t:Es(t.provide),g=lH(t),y=p.providerIndexes&1048575,_=p.directiveStart,C=p.providerIndexes>>20;if(vg(t)||!t.multi){let S=new wp(g,l,dt),A=kE(m,e,l?y:y+C,_);A===-1?(BE(K2(p,h),c,m),CE(c,t,e.length),e.push(m),p.directiveStart++,p.directiveEnd++,l&&(p.providerIndexes+=1048576),n.push(S),h.push(S)):(n[A]=S,h[A]=S)}else{let S=kE(m,e,y+C,_),A=kE(m,e,y,y+C),E=S>=0&&n[S],L=A>=0&&n[A];if(l&&!L||!l&&!E){BE(K2(p,h),c,m);let P=e0e(l?Jge:Qge,n.length,l,r,g);!l&&L&&(n[A].providerFactory=P),CE(c,t,e.length,0),e.push(m),p.directiveStart++,p.directiveEnd++,l&&(p.providerIndexes+=1048576),n.push(P),h.push(P)}else{let P=aG(n[l?A:S],g,!l&&r);CE(c,t,S>-1?S:A,P)}!l&&r&&L&&n[A].componentProviders++}}}function CE(t,e,n,r){let l=vg(e),c=Nde(e);if(l||c){let m=(c?Es(e.useClass):e).prototype.ngOnDestroy;if(m){let g=t.destroyHooks||(t.destroyHooks=[]);if(!l&&e.multi){let y=g.indexOf(n);y===-1?g.push(n,[r,m]):g[y+1].push(r,m)}else g.push(n,m)}}}function aG(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function kE(t,e,n,r){for(let l=n;l<r;l++)if(e[l]===t)return l;return-1}function Qge(t,e,n,r){return f5(this.multi,[])}function Jge(t,e,n,r){let l=this.multi,c;if(this.providerFactory){let h=this.providerFactory.componentProviders,p=Cp(n,n[Kt],this.providerFactory.index,r);c=p.slice(0,h),f5(l,c);for(let m=h;m<p.length;m++)c.push(p[m])}else c=[],f5(l,c);return c}function f5(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function e0e(t,e,n,r,l){let c=new wp(t,n,dt);return c.multi=[],c.index=e,c.componentProviders=0,aG(c,l,r&&!n),c}function lG(t,e=[]){return n=>{n.providersResolver=(r,l)=>Zge(r,l?l(t):t,e)}}var t0e=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let l=sH(!1,r.type),c=l.length>0?r4([l],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,c)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=ut({token:e,providedIn:"environment",factory:()=>new e(wt(Zs))});let t=e;return t})();function ar(t){e4("NgStandalone"),t.getStandaloneInjector=e=>e.get(t0e).getOrCreateStandaloneInjector(t)}function a4(t,e,n,r){return n0e(wn(),CH(),t,e,n,r)}function l4(t,e,n,r,l){return i0e(wn(),CH(),t,e,n,r,l)}function cG(t,e){let n=t[e];return n===mu?void 0:n}function n0e(t,e,n,r,l,c){let h=e+n;return kh(t,h,l)?Xj(t,h+1,c?r.call(c,l):r(l)):cG(t,h+1)}function i0e(t,e,n,r,l,c,h){let p=e+n;return yge(t,p,l,c)?Xj(t,p+2,h?r.call(h,l,c):r(l,c)):cG(t,p+2)}function Mg(t,e){return SC(t,e)}var AC=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var uG=new Ft("");function qy(t){return!!t&&typeof t.then=="function"}function hG(t){return!!t&&typeof t.subscribe=="function"}var dG=new Ft(""),pG=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,l)=>{this.resolve=r,this.reject=l}),this.appInits=Ye(dG,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let c of this.appInits){let h=c();if(qy(h))r.push(h);else if(hG(h)){let p=new Promise((m,g)=>{h.subscribe({complete:m,error:g})});r.push(p)}}let l=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{l()}).catch(c=>{this.reject(c)}),r.length===0&&l(),this.initialized=!0}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MC=new Ft("");function r0e(){_V(()=>{throw new _t(600,!1)})}function s0e(t){return t.isBoundToModule}function o0e(t,e,n){try{let r=n();return qy(r)?r.catch(l=>{throw e.runOutsideAngular(()=>t.handleError(l)),l}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Th=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ye(WH),this.afterRenderEffectManager=Ye(zj),this.externalTestViews=new Set,this.beforeRender=new Ms,this.afterTick=new Ms,this.componentTypes=[],this.components=[],this.isStable=Ye(Ag).hasPendingTasks.pipe(It(r=>!r)),this._injector=Ye(Zs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,l){let c=r instanceof eC;if(!this._injector.get(pG).done){let S=!c&&tH(r),A=!1;throw new _t(405,A)}let p;c?p=r:p=this._injector.get(Sg).resolveComponentFactory(r),this.componentTypes.push(p.componentType);let m=s0e(p)?void 0:this._injector.get(cu),g=l||p.selector,y=p.create(pu.NULL,[],g,m),_=y.location.nativeElement,C=y.injector.get(uG,null);return C?.registerApplication(_),y.onDestroy(()=>{this.detachView(y.hostView),DE(this.components,y),C?.unregisterApplication(_)}),this._loadComponent(y),y}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new _t(101,!1);let l=zn(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(c){this.internalErrorHandler(c)}finally{this.afterTick.next(),this._runningTick=!1,zn(l)}}detectChangesInAttachedViews(r){let l=0,c=this.afterRenderEffectManager;for(;;){if(l===Pj)throw new _t(103,!1);if(r){let h=l===0;this.beforeRender.next(h);for(let{_lView:p,notifyErrorHandler:m}of this._views)a0e(p,h,m)}if(l++,c.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:h})=>m5(h))&&(c.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:h})=>m5(h))))break}}attachView(r){let l=r;this._views.push(l),l.attachToAppRef(this)}detachView(r){let l=r;DE(this._views,l),l.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let l=this._injector.get(MC,[]);[...this._bootstrapListeners,...l].forEach(c=>c(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>DE(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new _t(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function DE(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function a0e(t,e,n){!e&&!m5(t)||l0e(t,n,e)}function m5(t){return E5(t)}function l0e(t,e,n){let r;n?(r=0,t[Dt]|=1024):t[Dt]&64?r=0:r=1,Fj(t,e,r)}var g5=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},c4=(()=>{let e=class e{compileModuleSync(r){return new c5(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let l=this.compileModuleSync(r),c=nH(r),h=uj(c.declarations).reduce((p,m)=>{let g=yp(m);return g&&p.push(new zy(g)),p},[]);return new g5(l,h)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var c0e=(()=>{let e=class e{constructor(){this.zone=Ye(ui),this.applicationRef=Ye(Th)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function u0e(t){return[{provide:ui,useFactory:t},{provide:gg,multi:!0,useFactory:()=>{let e=Ye(c0e,{optional:!0});return()=>e.initialize()}},{provide:gg,multi:!0,useFactory:()=>{let e=Ye(f0e);return()=>{e.initialize()}}},{provide:WH,useFactory:h0e}]}function h0e(){let t=Ye(ui),e=Ye(au);return n=>t.runOutsideAngular(()=>e.handleError(n))}function d0e(t){let e=u0e(()=>new ui(p0e(t)));return wg([[],e])}function p0e(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var f0e=(()=>{let e=class e{constructor(){this.subscription=new Zi,this.initialized=!1,this.zone=Ye(ui),this.pendingTasks=Ye(Ag)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ui.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ui.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function m0e(){return typeof $localize<"u"&&$localize.locale||aC}var u4=new Ft("",{providedIn:"root",factory:()=>Ye(u4,tn.Optional|tn.SkipSelf)||m0e()});var fG=new Ft("");var j2=null;function g0e(t=[],e){return pu.create({name:e,providers:[{provide:fC,useValue:"platform"},{provide:fG,useValue:new Set([()=>j2=null])},...t]})}function v0e(t=[]){if(j2)return j2;let e=g0e(t);return j2=e,r0e(),y0e(e),e}function y0e(t){t.get(V5,null)?.forEach(n=>n())}var vu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=x0e;let t=e;return t})();function x0e(t){return b0e(Qs(),wn(),(t&16)===16)}function b0e(t,e,n){if(gC(t)&&!n){let r=Dh(t.index,e);return new kp(r,r)}else if(t.type&47){let r=e[Ua];return new kp(r,e)}return null}var v5=class{constructor(){}supports(e){return Yj(e)}create(e){return new y5(e)}},_0e=(t,e)=>e,y5=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_0e}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,l=0,c=null;for(;n||r;){let h=!r||n&&n.currentIndex<Oz(r,l,c)?n:r,p=Oz(h,l,c),m=h.currentIndex;if(h===r)l--,r=r._nextRemoved;else if(n=n._next,h.previousIndex==null)l++;else{c||(c=[]);let g=p-l,y=m-l;if(g!=y){for(let C=0;C<g;C++){let S=C<c.length?c[C]:c[C]=0,A=S+C;y<=A&&A<g&&(c[C]=S+1)}let _=h.previousIndex;c[_]=y-g}}p!==m&&e(h,p,m)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Yj(e))throw new _t(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,l,c,h;if(Array.isArray(e)){this.length=e.length;for(let p=0;p<this.length;p++)c=e[p],h=this._trackByFn(p,c),n===null||!Object.is(n.trackById,h)?(n=this._mismatch(n,c,h,p),r=!0):(r&&(n=this._verifyReinsertion(n,c,h,p)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next}else l=0,gge(e,p=>{h=this._trackByFn(l,p),n===null||!Object.is(n.trackById,h)?(n=this._mismatch(n,p,h,l),r=!0):(r&&(n=this._verifyReinsertion(n,p,h,l)),Object.is(n.item,p)||this._addIdentityChange(n,p)),n=n._next,l++}),this.length=l;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,l){let c;return e===null?c=this._itTail:(c=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,c,l)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,l),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,c,l)):e=this._addAfter(new x5(n,r),c,l)),e}_verifyReinsertion(e,n,r,l){let c=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return c!==null?e=this._reinsertAfter(c,e._prev,l):e.currentIndex!=l&&(e.currentIndex=l,this._addToMoves(e,l)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let l=e._prevRemoved,c=e._nextRemoved;return l===null?this._removalsHead=c:l._nextRemoved=c,c===null?this._removalsTail=l:c._prevRemoved=l,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let l=n===null?this._itHead:n._next;return e._next=l,e._prev=n,l===null?this._itTail=e:l._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new lC),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new lC),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},x5=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},b5=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},lC=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new b5,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,l=this.map.get(r);return l?l.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Oz(t,e,n){let r=t.previousIndex;if(r===null)return r;let l=0;return n&&r<n.length&&(l=n[r]),r+e+l}function Rz(){return new h4([new v5])}var h4=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,l){if(l!=null){let c=l.factories.slice();r=r.concat(c)}return new e(r)}static extend(r){return{provide:e,useFactory:l=>e.create(r,l||Rz()),deps:[[e,new $z,new w5]]}}find(r){let l=this.factories.find(c=>c.supports(r));if(l!=null)return l;throw new _t(901,!1)}};e.\u0275prov=ut({token:e,providedIn:"root",factory:Rz});let t=e;return t})();function mG(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,l=v0e(r),c=[d0e(),...n||[]],p=new sC({providers:c,parent:l,debugName:"",runEnvironmentInitializers:!1}).injector,m=p.get(ui);return m.run(()=>{p.resolveInjectorInitializers();let g=p.get(au,null),y;m.runOutsideAngular(()=>{y=m.onError.subscribe({next:S=>{g.handleError(S)}})});let _=()=>p.destroy(),C=l.get(fG);return C.add(_),p.onDestroy(()=>{y.unsubscribe(),C.delete(_)}),o0e(g,m,()=>{let S=p.get(pG);return S.runInitializers(),S.donePromise.then(()=>{let A=p.get(u4,aC);$ge(A||aC);let E=p.get(Th);return e!==void 0&&E.bootstrap(e),E})})})}catch(e){return Promise.reject(e)}}var wG=null;function Eg(){return wG}function CG(t){wG??=t}var EC=class{};var eo=new Ft(""),kG=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:()=>Ye(D0e),providedIn:"platform"});let t=e;return t})();var D0e=(()=>{let e=class e extends kG{constructor(){super(),this._doc=Ye(eo),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Eg().getBaseHref(this._doc)}onPopState(r){let l=Eg().getGlobalEventTarget(this._doc,"window");return l.addEventListener("popstate",r,!1),()=>l.removeEventListener("popstate",r)}onHashChange(r){let l=Eg().getGlobalEventTarget(this._doc,"window");return l.addEventListener("hashchange",r,!1),()=>l.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,l,c){this._history.pushState(r,l,c)}replaceState(r,l,c){this._history.replaceState(r,l,c)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function DG(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function gG(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Lp(t){return t&&t[0]!=="?"?"?"+t:t}var LC=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:()=>Ye(SG),providedIn:"root"});let t=e;return t})(),S0e=new Ft(""),SG=(()=>{let e=class e extends LC{constructor(r,l){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=l??this._platformLocation.getBaseHrefFromDOM()??Ye(eo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return DG(this._baseHref,r)}path(r=!1){let l=this._platformLocation.pathname+Lp(this._platformLocation.search),c=this._platformLocation.hash;return c&&r?`${l}${c}`:l}pushState(r,l,c,h){let p=this.prepareExternalUrl(c+Lp(h));this._platformLocation.pushState(r,l,p)}replaceState(r,l,c,h){let p=this.prepareExternalUrl(c+Lp(h));this._platformLocation.replaceState(r,l,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(l){return new(l||e)(wt(kG),wt(S0e,8))},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ky=(()=>{let e=class e{constructor(r){this._subject=new Tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let l=this._locationStrategy.getBaseHref();this._basePath=M0e(gG(vG(l))),this._locationStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,l=""){return this.path()==this.normalize(r+Lp(l))}normalize(r){return e.stripTrailingSlash(A0e(this._basePath,vG(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,l="",c=null){this._locationStrategy.pushState(c,"",r,l),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Lp(l)),c)}replaceState(r,l="",c=null){this._locationStrategy.replaceState(c,"",r,l),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Lp(l)),c)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(l=>{this._notifyUrlChangeListeners(l.url,l.state)}),()=>{let l=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(l,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",l){this._urlChangeListeners.forEach(c=>c(r,l))}subscribe(r,l,c){return this._subject.subscribe({next:r,error:l,complete:c})}};e.normalizeQueryParams=Lp,e.joinWithSlash=DG,e.stripTrailingSlash=gG,e.\u0275fac=function(l){return new(l||e)(wt(LC))},e.\u0275prov=ut({token:e,factory:()=>T0e(),providedIn:"root"});let t=e;return t})();function T0e(){return new Ky(wt(LC))}function A0e(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function vG(t){return t.replace(/\/index.html$/,"")}function M0e(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function IC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[l,c]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(l.trim()===e)return decodeURIComponent(c)}return null}var Ig=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(r){return r.ngComponentOutletNgModule!==void 0||r.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(r){return r.ngComponentOutlet!==void 0||r.ngComponentOutletContent!==void 0||r.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(r)}ngOnChanges(r){if(this._needToReCreateComponentInstance(r)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let l=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(r)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=$j(this.ngComponentOutletNgModule,yG(l)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(yG(l)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:l,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let r of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(r,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(r){for(let[l,c]of this._inputsUsed)c?(r.setInput(l,this.ngComponentOutletInputs[l]),this._inputsUsed.set(l,!1)):(r.setInput(l,void 0),this._inputsUsed.delete(l))}};e.\u0275fac=function(l){return new(l||e)(dt(fa))},e.\u0275dir=Gl({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[ki]});let t=e;return t})();function yG(t){return t.get(cu).injector}var d4=class{constructor(e,n,r,l){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=l}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yu=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,l,c){this._viewContainer=r,this._template=l,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let l=this._viewContainer;r.forEachOperation((c,h,p)=>{if(c.previousIndex==null)l.createEmbeddedView(this._template,new d4(c.item,this._ngForOf,-1,-1),p===null?void 0:p);else if(p==null)l.remove(h===null?void 0:h);else if(h!==null){let m=l.get(h);l.move(m,p),xG(m,c)}});for(let c=0,h=l.length;c<h;c++){let m=l.get(c).context;m.index=c,m.count=h,m.ngForOf=this._ngForOf}r.forEachIdentityChange(c=>{let h=l.get(c.currentIndex);xG(h,c)})}static ngTemplateContextGuard(r,l){return!0}};e.\u0275fac=function(l){return new(l||e)(dt(fa),dt(Dp),dt(h4))},e.\u0275dir=Gl({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function xG(t,e){t.context.$implicit=e.item}var wr=(()=>{let e=class e{constructor(r,l){this._viewContainer=r,this._context=new p4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=l}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){bG("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){bG("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,l){return!0}};e.\u0275fac=function(l){return new(l||e)(dt(fa),dt(Dp))},e.\u0275dir=Gl({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),p4=class{constructor(){this.$implicit=null,this.ngIf=null}};function bG(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ls(e)}'.`)}var TG=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let l=this._viewContainerRef;if(this._viewRef&&l.remove(l.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let c=this._createContextForwardProxy();this._viewRef=l.createEmbeddedView(this.ngTemplateOutlet,c,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,l,c)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,l,c):!1,get:(r,l,c)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,l,c)}})}};e.\u0275fac=function(l){return new(l||e)(dt(fa))},e.\u0275dir=Gl({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ki]});let t=e;return t})();var Og=(()=>{let e=class e{};e.\u0275fac=function(l){return new(l||e)},e.\u0275mod=Xa({type:e}),e.\u0275inj=Ya({});let t=e;return t})(),f4="browser",E0e="server";function Ah(t){return t===f4}function xu(t){return t===E0e}var Lg=class{};var Qy=class{},RC=class{},Ip=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let l=n.slice(0,r),c=l.toLowerCase(),h=n.slice(r+1).trim();this.maybeSetNormalizedName(l,c),this.headers.has(c)?this.headers.get(c).push(h):this.headers.set(c,[h])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let l=(e.op==="a"?this.headers.get(n):void 0)||[];l.push(...r),this.headers.set(n,l);break;case"d":let c=e.value;if(!c)this.headers.delete(n),this.normalizedNames.delete(n);else{let h=this.headers.get(n);if(!h)return;h=h.filter(p=>c.indexOf(p)===-1),h.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,h)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(c=>c.toString()),l=e.toLowerCase();this.headers.set(l,r),this.maybeSetNormalizedName(e,l)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var g4=class{encodeKey(e){return MG(e)}encodeValue(e){return MG(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function O0e(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(l=>{let c=l.indexOf("="),[h,p]=c==-1?[e.decodeKey(l),""]:[e.decodeKey(l.slice(0,c)),e.decodeValue(l.slice(c+1))],m=n.get(h)||[];m.push(p),n.set(h,m)}),n}var R0e=/%(\d[a-f0-9])/gi,P0e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MG(t){return encodeURIComponent(t).replace(R0e,(e,n)=>P0e[n]??e)}function OC(t){return`${t}`}var Mh=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new g4,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=O0e(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],l=Array.isArray(r)?r.map(OC):[OC(r)];this.map.set(n,l)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let l=e[r];Array.isArray(l)?l.forEach(c=>{n.push({param:r,value:c,op:"a"})}):n.push({param:r,value:l,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(OC(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],l=r.indexOf(OC(e.value));l!==-1&&r.splice(l,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var v4=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function F0e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function EG(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function LG(t){return typeof Blob<"u"&&t instanceof Blob}function IG(t){return typeof FormData<"u"&&t instanceof FormData}function N0e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Zy=class t{constructor(e,n,r,l){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let c;if(F0e(this.method)||l?(this.body=r!==void 0?r:null,c=l):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new Ip,this.context??=new v4,!this.params)this.params=new Mh,this.urlWithParams=n;else{let h=this.params.toString();if(h.length===0)this.urlWithParams=n;else{let p=n.indexOf("?"),m=p===-1?"?":p<n.length-1?"&":"";this.urlWithParams=n+m+h}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||EG(this.body)||LG(this.body)||IG(this.body)||N0e(this.body)?this.body:this.body instanceof Mh?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||IG(this.body)?null:LG(this.body)?this.body.type||null:EG(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Mh?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,l=e.responseType||this.responseType,c=e.transferCache??this.transferCache,h=e.body!==void 0?e.body:this.body,p=e.withCredentials??this.withCredentials,m=e.reportProgress??this.reportProgress,g=e.headers||this.headers,y=e.params||this.params,_=e.context??this.context;return e.setHeaders!==void 0&&(g=Object.keys(e.setHeaders).reduce((C,S)=>C.set(S,e.setHeaders[S]),g)),e.setParams&&(y=Object.keys(e.setParams).reduce((C,S)=>C.set(S,e.setParams[S]),y)),new t(n,r,h,{params:y,headers:g,context:_,reportProgress:m,responseType:l,withCredentials:p,transferCache:c})}},Rg=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Rg||{}),Jy=class{constructor(e,n=NC.Ok,r="OK"){this.headers=e.headers||new Ip,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},y4=class t extends Jy{constructor(e={}){super(e),this.type=Rg.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},PC=class t extends Jy{constructor(e={}){super(e),this.type=Rg.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},FC=class extends Jy{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},NC=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(NC||{});function m4(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var x4=(()=>{let e=class e{constructor(r){this.handler=r}request(r,l,c={}){let h;if(r instanceof Zy)h=r;else{let g;c.headers instanceof Ip?g=c.headers:g=new Ip(c.headers);let y;c.params&&(c.params instanceof Mh?y=c.params:y=new Mh({fromObject:c.params})),h=new Zy(r,l,c.body!==void 0?c.body:null,{headers:g,context:c.context,params:y,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials,transferCache:c.transferCache})}let p=gt(h).pipe(vh(g=>this.handler.handle(g)));if(r instanceof Zy||c.observe==="events")return p;let m=p.pipe(Eo(g=>g instanceof PC));switch(c.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return m.pipe(It(g=>{if(g.body!==null&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return m.pipe(It(g=>{if(g.body!==null&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return m.pipe(It(g=>{if(g.body!==null&&typeof g.body!="string")throw new Error("Response is not a string.");return g.body}));case"json":default:return m.pipe(It(g=>g.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(r,l={}){return this.request("DELETE",r,l)}get(r,l={}){return this.request("GET",r,l)}head(r,l={}){return this.request("HEAD",r,l)}jsonp(r,l){return this.request("JSONP",r,{params:new Mh().append(l,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,l={}){return this.request("OPTIONS",r,l)}patch(r,l,c={}){return this.request("PATCH",r,m4(c,l))}post(r,l,c={}){return this.request("POST",r,m4(c,l))}put(r,l,c={}){return this.request("PUT",r,m4(c,l))}};e.\u0275fac=function(l){return new(l||e)(wt(Qy))},e.\u0275prov=ut({token:e,factory:e.\u0275fac});let t=e;return t})();function B0e(t,e){return e(t)}function V0e(t,e,n){return(r,l)=>uu(n,()=>e(r,c=>t(c,l)))}var PG=new Ft(""),z0e=new Ft(""),H0e=new Ft("");var OG=(()=>{let e=class e extends Qy{constructor(r,l){super(),this.backend=r,this.injector=l,this.chain=null,this.pendingTasks=Ye(Ag);let c=Ye(H0e,{optional:!0});this.backend=c??r}handle(r){if(this.chain===null){let c=Array.from(new Set([...this.injector.get(PG),...this.injector.get(z0e,[])]));this.chain=c.reduceRight((h,p)=>V0e(h,p,this.injector),B0e)}let l=this.pendingTasks.add();return this.chain(r,c=>this.backend.handle(c)).pipe(mp(()=>this.pendingTasks.remove(l)))}};e.\u0275fac=function(l){return new(l||e)(wt(RC),wt(Zs))},e.\u0275prov=ut({token:e,factory:e.\u0275fac});let t=e;return t})();var j0e=/^\)\]\}',?\n/;function G0e(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var RG=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new _t(-2800,!1);let l=this.xhrFactory;return(l.\u0275loadImpl?Qi(l.\u0275loadImpl()):gt(null)).pipe(Lo(()=>new fn(h=>{let p=l.build();if(p.open(r.method,r.urlWithParams),r.withCredentials&&(p.withCredentials=!0),r.headers.forEach((L,P)=>p.setRequestHeader(L,P.join(","))),r.headers.has("Accept")||p.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let L=r.detectContentTypeHeader();L!==null&&p.setRequestHeader("Content-Type",L)}if(r.responseType){let L=r.responseType.toLowerCase();p.responseType=L!=="json"?L:"text"}let m=r.serializeBody(),g=null,y=()=>{if(g!==null)return g;let L=p.statusText||"OK",P=new Ip(p.getAllResponseHeaders()),R=G0e(p)||r.url;return g=new y4({headers:P,status:p.status,statusText:L,url:R}),g},_=()=>{let{headers:L,status:P,statusText:R,url:V}=y(),z=null;P!==NC.NoContent&&(z=typeof p.response>"u"?p.responseText:p.response),P===0&&(P=z?NC.Ok:0);let H=P>=200&&P<300;if(r.responseType==="json"&&typeof z=="string"){let U=z;z=z.replace(j0e,"");try{z=z!==""?JSON.parse(z):null}catch(X){z=U,H&&(H=!1,z={error:X,text:z})}}H?(h.next(new PC({body:z,headers:L,status:P,statusText:R,url:V||void 0})),h.complete()):h.error(new FC({error:z,headers:L,status:P,statusText:R,url:V||void 0}))},C=L=>{let{url:P}=y(),R=new FC({error:L,status:p.status||0,statusText:p.statusText||"Unknown Error",url:P||void 0});h.error(R)},S=!1,A=L=>{S||(h.next(y()),S=!0);let P={type:Rg.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(P.total=L.total),r.responseType==="text"&&p.responseText&&(P.partialText=p.responseText),h.next(P)},E=L=>{let P={type:Rg.UploadProgress,loaded:L.loaded};L.lengthComputable&&(P.total=L.total),h.next(P)};return p.addEventListener("load",_),p.addEventListener("error",C),p.addEventListener("timeout",C),p.addEventListener("abort",C),r.reportProgress&&(p.addEventListener("progress",A),m!==null&&p.upload&&p.upload.addEventListener("progress",E)),p.send(m),h.next({type:Rg.Sent}),()=>{p.removeEventListener("error",C),p.removeEventListener("abort",C),p.removeEventListener("load",_),p.removeEventListener("timeout",C),r.reportProgress&&(p.removeEventListener("progress",A),m!==null&&p.upload&&p.upload.removeEventListener("progress",E)),p.readyState!==p.DONE&&p.abort()}})))}};e.\u0275fac=function(l){return new(l||e)(wt(Lg))},e.\u0275prov=ut({token:e,factory:e.\u0275fac});let t=e;return t})(),FG=new Ft(""),W0e="XSRF-TOKEN",U0e=new Ft("",{providedIn:"root",factory:()=>W0e}),$0e="X-XSRF-TOKEN",Y0e=new Ft("",{providedIn:"root",factory:()=>$0e}),BC=class{},X0e=(()=>{let e=class e{constructor(r,l,c){this.doc=r,this.platform=l,this.cookieName=c,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=IC(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(l){return new(l||e)(wt(eo),wt(as),wt(U0e))},e.\u0275prov=ut({token:e,factory:e.\u0275fac});let t=e;return t})();function q0e(t,e){let n=t.url.toLowerCase();if(!Ye(FG)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=Ye(BC).getToken(),l=Ye(Y0e);return r!=null&&!t.headers.has(l)&&(t=t.clone({headers:t.headers.set(l,r)})),e(t)}function NG(...t){let e=[x4,RG,OG,{provide:Qy,useExisting:OG},{provide:RC,useExisting:RG},{provide:PG,useValue:q0e,multi:!0},{provide:FG,useValue:!0},{provide:BC,useClass:X0e}];for(let n of t)e.push(...n.\u0275providers);return wg(e)}var w4=class extends EC{constructor(){super(...arguments),this.supportsDOMEvents=!0}},C4=class t extends w4{static makeCurrent(){CG(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Z0e();return n==null?null:Q0e(n)}resetBaseElement(){ex=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return IC(document.cookie,e)}},ex=null;function Z0e(){return ex=ex||document.querySelector("base"),ex?ex.getAttribute("href"):null}function Q0e(t){return new URL(t,document.baseURI).pathname}var J0e=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac});let t=e;return t})(),k4=new Ft(""),HG=(()=>{let e=class e{constructor(r,l){this._zone=l,this._eventNameToPlugin=new Map,r.forEach(c=>{c.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,l,c){return this._findPluginFor(l).addEventListener(r,l,c)}getZone(){return this._zone}_findPluginFor(r){let l=this._eventNameToPlugin.get(r);if(l)return l;if(l=this._plugins.find(h=>h.supports(r)),!l)throw new _t(5101,!1);return this._eventNameToPlugin.set(r,l),l}};e.\u0275fac=function(l){return new(l||e)(wt(k4),wt(ui))},e.\u0275prov=ut({token:e,factory:e.\u0275fac});let t=e;return t})(),VC=class{constructor(e){this._doc=e}},b4="ng-app-id",jG=(()=>{let e=class e{constructor(r,l,c,h={}){this.doc=r,this.appId=l,this.nonce=c,this.platformId=h,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xu(h),this.resetHostNodes()}addStyles(r){for(let l of r)this.changeUsageCount(l,1)===1&&this.onStyleAdded(l)}removeStyles(r){for(let l of r)this.changeUsageCount(l,-1)<=0&&this.onStyleRemoved(l)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(l=>l.remove()),r.clear());for(let l of this.getAllStyles())this.onStyleRemoved(l);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let l of this.getAllStyles())this.addStyleToHost(r,l)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let l of this.hostNodes)this.addStyleToHost(l,r)}onStyleRemoved(r){let l=this.styleRef;l.get(r)?.elements?.forEach(c=>c.remove()),l.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${b4}="${this.appId}"]`);if(r?.length){let l=new Map;return r.forEach(c=>{c.textContent!=null&&l.set(c.textContent,c)}),l}return null}changeUsageCount(r,l){let c=this.styleRef;if(c.has(r)){let h=c.get(r);return h.usage+=l,h.usage}return c.set(r,{usage:l,elements:[]}),l}getStyleElement(r,l){let c=this.styleNodesInDOM,h=c?.get(l);if(h?.parentNode===r)return c.delete(l),h.removeAttribute(b4),h;{let p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=l,this.platformIsServer&&p.setAttribute(b4,this.appId),r.appendChild(p),p}}addStyleToHost(r,l){let c=this.getStyleElement(r,l),h=this.styleRef,p=h.get(l)?.elements;p?p.push(c):h.set(l,{elements:[c],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(l){return new(l||e)(wt(eo),wt(B5),wt(z5,8),wt(as))},e.\u0275prov=ut({token:e,factory:e.\u0275fac});let t=e;return t})(),_4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},S4=/%COMP%/g,GG="%COMP%",eve=`_nghost-${GG}`,tve=`_ngcontent-${GG}`,nve=!0,ive=new Ft("",{providedIn:"root",factory:()=>nve});function rve(t){return tve.replace(S4,t)}function sve(t){return eve.replace(S4,t)}function WG(t,e){return e.map(n=>n.replace(S4,t))}var BG=(()=>{let e=class e{constructor(r,l,c,h,p,m,g,y=null){this.eventManager=r,this.sharedStylesHost=l,this.appId=c,this.removeStylesOnCompDestroy=h,this.doc=p,this.platformId=m,this.ngZone=g,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=xu(m),this.defaultRenderer=new tx(r,p,g,this.platformIsServer)}createRenderer(r,l){if(!r||!l)return this.defaultRenderer;this.platformIsServer&&l.encapsulation===Hl.ShadowDom&&(l=ti(Ue({},l),{encapsulation:Hl.Emulated}));let c=this.getOrCreateRenderer(r,l);return c instanceof zC?c.applyToHost(r):c instanceof nx&&c.applyStyles(),c}getOrCreateRenderer(r,l){let c=this.rendererByCompId,h=c.get(l.id);if(!h){let p=this.doc,m=this.ngZone,g=this.eventManager,y=this.sharedStylesHost,_=this.removeStylesOnCompDestroy,C=this.platformIsServer;switch(l.encapsulation){case Hl.Emulated:h=new zC(g,y,l,this.appId,_,p,m,C);break;case Hl.ShadowDom:return new D4(g,y,r,l,p,m,this.nonce,C);default:h=new nx(g,y,l,_,p,m,C);break}c.set(l.id,h)}return h}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(l){return new(l||e)(wt(HG),wt(jG),wt(B5),wt(ive),wt(eo),wt(as),wt(ui),wt(z5))},e.\u0275prov=ut({token:e,factory:e.\u0275fac});let t=e;return t})(),tx=class{constructor(e,n,r,l){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=l,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(_4[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(VG(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(VG(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new _t(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,l){if(l){n=l+":"+n;let c=_4[l];c?e.setAttributeNS(c,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let l=_4[r];l?e.removeAttributeNS(l,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,l){l&(lu.DashCase|lu.Important)?e.style.setProperty(n,r,l&lu.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&lu.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Eg().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function VG(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var D4=class extends tx{constructor(e,n,r,l,c,h,p,m){super(e,c,h,m),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=WG(l.id,l.styles);for(let y of g){let _=document.createElement("style");p&&_.setAttribute("nonce",p),_.textContent=y,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},nx=class extends tx{constructor(e,n,r,l,c,h,p,m){super(e,c,h,p),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=l,this.styles=m?WG(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},zC=class extends nx{constructor(e,n,r,l,c,h,p,m){let g=l+"-"+r.id;super(e,n,r,c,h,p,m,g),this.contentAttr=rve(g),this.hostAttr=sve(g)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},ove=(()=>{let e=class e extends VC{constructor(r){super(r)}supports(r){return!0}addEventListener(r,l,c){return r.addEventListener(l,c,!1),()=>this.removeEventListener(r,l,c)}removeEventListener(r,l,c){return r.removeEventListener(l,c)}};e.\u0275fac=function(l){return new(l||e)(wt(eo))},e.\u0275prov=ut({token:e,factory:e.\u0275fac});let t=e;return t})(),zG=["alt","control","meta","shift"],ave={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lve={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cve=(()=>{let e=class e extends VC{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,l,c){let h=e.parseEventName(l),p=e.eventCallback(h.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Eg().onAndCancel(r,h.domEventName,p))}static parseEventName(r){let l=r.toLowerCase().split("."),c=l.shift();if(l.length===0||!(c==="keydown"||c==="keyup"))return null;let h=e._normalizeKey(l.pop()),p="",m=l.indexOf("code");if(m>-1&&(l.splice(m,1),p="code."),zG.forEach(y=>{let _=l.indexOf(y);_>-1&&(l.splice(_,1),p+=y+".")}),p+=h,l.length!=0||h.length===0)return null;let g={};return g.domEventName=c,g.fullKey=p,g}static matchEventFullKeyCode(r,l){let c=ave[r.key]||r.key,h="";return l.indexOf("code.")>-1&&(c=r.code,h="code."),c==null||!c?!1:(c=c.toLowerCase(),c===" "?c="space":c==="."&&(c="dot"),zG.forEach(p=>{if(p!==c){let m=lve[p];m(r)&&(h+=p+".")}}),h+=c,h===l)}static eventCallback(r,l,c){return h=>{e.matchEventFullKeyCode(h,r)&&c.runGuarded(()=>l(h))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(l){return new(l||e)(wt(eo))},e.\u0275prov=ut({token:e,factory:e.\u0275fac});let t=e;return t})();function UG(t,e){return mG(Ue({rootComponent:t},uve(e)))}function uve(t){return{appProviders:[...mve,...t?.providers??[]],platformProviders:fve}}function hve(){C4.makeCurrent()}function dve(){return new au}function pve(){return ZH(document),document}var fve=[{provide:as,useValue:f4},{provide:V5,useValue:hve,multi:!0},{provide:eo,useFactory:pve,deps:[]}];var mve=[{provide:fC,useValue:"root"},{provide:au,useFactory:dve,deps:[]},{provide:k4,useClass:ove,multi:!0,deps:[eo,ui,as]},{provide:k4,useClass:cve,multi:!0,deps:[eo]},BG,jG,HG,{provide:Vy,useExisting:BG},{provide:Lg,useClass:J0e,deps:[]},[]];var $G=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(l){return new(l||e)(wt(eo))},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bt="primary",vx=Symbol("RouteTitle"),L4=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Vg(t){return new L4(t)}function vve(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let l={};for(let c=0;c<r.length;c++){let h=r[c],p=t[c];if(h.startsWith(":"))l[h.substring(1)]=p;else if(h!==p.path)return null}return{consumed:t.slice(0,r.length),posParams:l}}function yve(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yl(t[n],e[n]))return!1;return!0}function Yl(t,e){let n=t?I4(t):void 0,r=e?I4(e):void 0;if(!n||!r||n.length!=r.length)return!1;let l;for(let c=0;c<n.length;c++)if(l=n[c],!QG(t[l],e[l]))return!1;return!0}function I4(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function QG(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((l,c)=>r[c]===l)}else return t===e}function JG(t){return t.length>0?t[t.length-1]:null}function Ih(t){return nE(t)?t:qy(t)?Qi(Promise.resolve(t)):gt(t)}var xve={exact:tW,subset:nW},eW={exact:bve,subset:_ve,ignored:()=>!0};function YG(t,e,n){return xve[n.paths](t.root,e.root,n.matrixParams)&&eW[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function bve(t,e){return Yl(t,e)}function tW(t,e,n){if(!Rp(t.segments,e.segments)||!GC(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!tW(t.children[r],e.children[r],n))return!1;return!0}function _ve(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>QG(t[n],e[n]))}function nW(t,e,n){return iW(t,e,e.segments,n)}function iW(t,e,n,r){if(t.segments.length>n.length){let l=t.segments.slice(0,n.length);return!(!Rp(l,n)||e.hasChildren()||!GC(l,n,r))}else if(t.segments.length===n.length){if(!Rp(t.segments,n)||!GC(t.segments,n,r))return!1;for(let l in e.children)if(!t.children[l]||!nW(t.children[l],e.children[l],r))return!1;return!0}else{let l=n.slice(0,t.segments.length),c=n.slice(t.segments.length);return!Rp(t.segments,l)||!GC(t.segments,l,r)||!t.children[Bt]?!1:iW(t.children[Bt],e,c,r)}}function GC(t,e,n){return e.every((r,l)=>eW[n](t[l].parameters,r.parameters))}var Eh=class{constructor(e=new Wn([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vg(this.queryParams),this._queryParamMap}toString(){return kve.serialize(this)}},Wn=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return WC(this)}},Op=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Vg(this.parameters),this._parameterMap}toString(){return sW(this)}};function wve(t,e){return Rp(t,e)&&t.every((n,r)=>Yl(n.parameters,e[r].parameters))}function Rp(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Cve(t,e){let n=[];return Object.entries(t.children).forEach(([r,l])=>{r===Bt&&(n=n.concat(e(l,r)))}),Object.entries(t.children).forEach(([r,l])=>{r!==Bt&&(n=n.concat(e(l,r)))}),n}var rL=(()=>{let e=class e{};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:()=>new $C,providedIn:"root"});let t=e;return t})(),$C=class{parse(e){let n=new R4(e);return new Eh(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ix(e.root,!0)}`,r=Tve(e.queryParams),l=typeof e.fragment=="string"?`#${Dve(e.fragment)}`:"";return`${n}${r}${l}`}},kve=new $C;function WC(t){return t.segments.map(e=>sW(e)).join("/")}function ix(t,e){if(!t.hasChildren())return WC(t);if(e){let n=t.children[Bt]?ix(t.children[Bt],!1):"",r=[];return Object.entries(t.children).forEach(([l,c])=>{l!==Bt&&r.push(`${l}:${ix(c,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Cve(t,(r,l)=>l===Bt?[ix(t.children[Bt],!1)]:[`${l}:${ix(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Bt]!=null?`${WC(t)}/${n[0]}`:`${WC(t)}/(${n.join("//")})`}}function rW(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function HC(t){return rW(t).replace(/%3B/gi,";")}function Dve(t){return encodeURI(t)}function O4(t){return rW(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function UC(t){return decodeURIComponent(t)}function XG(t){return UC(t.replace(/\+/g,"%20"))}function sW(t){return`${O4(t.path)}${Sve(t.parameters)}`}function Sve(t){return Object.entries(t).map(([e,n])=>`;${O4(e)}=${O4(n)}`).join("")}function Tve(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(l=>`${HC(n)}=${HC(l)}`).join("&"):`${HC(n)}=${HC(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Ave=/^[^\/()?;#]+/;function T4(t){let e=t.match(Ave);return e?e[0]:""}var Mve=/^[^\/()?;=#]+/;function Eve(t){let e=t.match(Mve);return e?e[0]:""}var Lve=/^[^=?&#]+/;function Ive(t){let e=t.match(Lve);return e?e[0]:""}var Ove=/^[^&#]+/;function Rve(t){let e=t.match(Ove);return e?e[0]:""}var R4=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wn([],{}):new Wn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Bt]=new Wn(e,n)),r}parseSegment(){let e=T4(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new _t(4009,!1);return this.capture(e),new Op(UC(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Eve(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let l=T4(this.remaining);l&&(r=l,this.capture(r))}e[UC(n)]=UC(r)}parseQueryParam(e){let n=Ive(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let h=Rve(this.remaining);h&&(r=h,this.capture(r))}let l=XG(n),c=XG(r);if(e.hasOwnProperty(l)){let h=e[l];Array.isArray(h)||(h=[h],e[l]=h),h.push(c)}else e[l]=c}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=T4(this.remaining),l=this.remaining[r.length];if(l!=="/"&&l!==")"&&l!==";")throw new _t(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=Bt);let h=this.parseChildren();n[c]=Object.keys(h).length===1?h[Bt]:new Wn([],h),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new _t(4011,!1)}};function oW(t){return t.segments.length>0?new Wn([],{[Bt]:t}):t}function aW(t){let e={};for(let[r,l]of Object.entries(t.children)){let c=aW(l);if(r===Bt&&c.segments.length===0&&c.hasChildren())for(let[h,p]of Object.entries(c.children))e[h]=p;else(c.segments.length>0||c.hasChildren())&&(e[r]=c)}let n=new Wn(t.segments,e);return Pve(n)}function Pve(t){if(t.numberOfChildren===1&&t.children[Bt]){let e=t.children[Bt];return new Wn(t.segments.concat(e.segments),e.children)}return t}function zg(t){return t instanceof Eh}function Fve(t,e,n=null,r=null){let l=lW(t);return cW(l,e,n,r)}function lW(t){let e;function n(c){let h={};for(let m of c.children){let g=n(m);h[m.outlet]=g}let p=new Wn(c.url,h);return c===t&&(e=p),p}let r=n(t.root),l=oW(r);return e??l}function cW(t,e,n,r){let l=t;for(;l.parent;)l=l.parent;if(e.length===0)return A4(l,l,l,n,r);let c=Nve(e);if(c.toRoot())return A4(l,l,new Wn([],{}),n,r);let h=Bve(c,l,t),p=h.processChildren?ox(h.segmentGroup,h.index,c.commands):hW(h.segmentGroup,h.index,c.commands);return A4(l,h.segmentGroup,p,n,r)}function YC(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function cx(t){return typeof t=="object"&&t!=null&&t.outlets}function A4(t,e,n,r,l){let c={};r&&Object.entries(r).forEach(([m,g])=>{c[m]=Array.isArray(g)?g.map(y=>`${y}`):`${g}`});let h;t===e?h=n:h=uW(t,e,n);let p=oW(aW(h));return new Eh(p,c,l)}function uW(t,e,n){let r={};return Object.entries(t.children).forEach(([l,c])=>{c===e?r[l]=n:r[l]=uW(c,e,n)}),new Wn(t.segments,r)}var XC=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&YC(r[0]))throw new _t(4003,!1);let l=r.find(cx);if(l&&l!==JG(r))throw new _t(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Nve(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new XC(!0,0,t);let e=0,n=!1,r=t.reduce((l,c,h)=>{if(typeof c=="object"&&c!=null){if(c.outlets){let p={};return Object.entries(c.outlets).forEach(([m,g])=>{p[m]=typeof g=="string"?g.split("/"):g}),[...l,{outlets:p}]}if(c.segmentPath)return[...l,c.segmentPath]}return typeof c!="string"?[...l,c]:h===0?(c.split("/").forEach((p,m)=>{m==0&&p==="."||(m==0&&p===""?n=!0:p===".."?e++:p!=""&&l.push(p))}),l):[...l,c]},[]);return new XC(n,e,r)}var Ng=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Bve(t,e,n){if(t.isAbsolute)return new Ng(e,!0,0);if(!n)return new Ng(e,!1,NaN);if(n.parent===null)return new Ng(n,!0,0);let r=YC(t.commands[0])?0:1,l=n.segments.length-1+r;return Vve(n,l,t.numberOfDoubleDots)}function Vve(t,e,n){let r=t,l=e,c=n;for(;c>l;){if(c-=l,r=r.parent,!r)throw new _t(4005,!1);l=r.segments.length}return new Ng(r,!1,l-c)}function zve(t){return cx(t[0])?t[0].outlets:{[Bt]:t}}function hW(t,e,n){if(t??=new Wn([],{}),t.segments.length===0&&t.hasChildren())return ox(t,e,n);let r=Hve(t,e,n),l=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let c=new Wn(t.segments.slice(0,r.pathIndex),{});return c.children[Bt]=new Wn(t.segments.slice(r.pathIndex),t.children),ox(c,0,l)}else return r.match&&l.length===0?new Wn(t.segments,{}):r.match&&!t.hasChildren()?P4(t,e,n):r.match?ox(t,0,l):P4(t,e,n)}function ox(t,e,n){if(n.length===0)return new Wn(t.segments,{});{let r=zve(n),l={};if(Object.keys(r).some(c=>c!==Bt)&&t.children[Bt]&&t.numberOfChildren===1&&t.children[Bt].segments.length===0){let c=ox(t.children[Bt],e,n);return new Wn(t.segments,c.children)}return Object.entries(r).forEach(([c,h])=>{typeof h=="string"&&(h=[h]),h!==null&&(l[c]=hW(t.children[c],e,h))}),Object.entries(t.children).forEach(([c,h])=>{r[c]===void 0&&(l[c]=h)}),new Wn(t.segments,l)}}function Hve(t,e,n){let r=0,l=e,c={match:!1,pathIndex:0,commandIndex:0};for(;l<t.segments.length;){if(r>=n.length)return c;let h=t.segments[l],p=n[r];if(cx(p))break;let m=`${p}`,g=r<n.length-1?n[r+1]:null;if(l>0&&m===void 0)break;if(m&&g&&typeof g=="object"&&g.outlets===void 0){if(!KG(m,g,h))return c;r+=2}else{if(!KG(m,{},h))return c;r++}l++}return{match:!0,pathIndex:l,commandIndex:r}}function P4(t,e,n){let r=t.segments.slice(0,e),l=0;for(;l<n.length;){let c=n[l];if(cx(c)){let m=jve(c.outlets);return new Wn(r,m)}if(l===0&&YC(n[0])){let m=t.segments[e];r.push(new Op(m.path,qG(n[0]))),l++;continue}let h=cx(c)?c.outlets[Bt]:`${c}`,p=l<n.length-1?n[l+1]:null;h&&p&&YC(p)?(r.push(new Op(h,qG(p))),l+=2):(r.push(new Op(h,{})),l++)}return new Wn(r,{})}function jve(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=P4(new Wn([],{}),0,r))}),e}function qG(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function KG(t,e,n){return t==n.path&&Yl(e,n.parameters)}var ax="imperative",$r=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}($r||{}),va=class{constructor(e,n){this.id=e,this.url=n}},ux=class extends va{constructor(e,n,r="imperative",l=null){super(e,n),this.type=$r.NavigationStart,this.navigationTrigger=r,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Pp=class extends va{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=$r.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Po=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Po||{}),F4=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(F4||{}),Lh=class extends va{constructor(e,n,r,l){super(e,n),this.reason=r,this.code=l,this.type=$r.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fp=class extends va{constructor(e,n,r,l){super(e,n),this.reason=r,this.code=l,this.type=$r.NavigationSkipped}},hx=class extends va{constructor(e,n,r,l){super(e,n),this.error=r,this.target=l,this.type=$r.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qC=class extends va{constructor(e,n,r,l){super(e,n),this.urlAfterRedirects=r,this.state=l,this.type=$r.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},N4=class extends va{constructor(e,n,r,l){super(e,n),this.urlAfterRedirects=r,this.state=l,this.type=$r.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},B4=class extends va{constructor(e,n,r,l,c){super(e,n),this.urlAfterRedirects=r,this.state=l,this.shouldActivate=c,this.type=$r.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},V4=class extends va{constructor(e,n,r,l){super(e,n),this.urlAfterRedirects=r,this.state=l,this.type=$r.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},z4=class extends va{constructor(e,n,r,l){super(e,n),this.urlAfterRedirects=r,this.state=l,this.type=$r.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},H4=class{constructor(e){this.route=e,this.type=$r.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},j4=class{constructor(e){this.route=e,this.type=$r.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},G4=class{constructor(e){this.snapshot=e,this.type=$r.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},W4=class{constructor(e){this.snapshot=e,this.type=$r.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},U4=class{constructor(e){this.snapshot=e,this.type=$r.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$4=class{constructor(e){this.snapshot=e,this.type=$r.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var dx=class{},px=class{constructor(e){this.url=e}};var Y4=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tk,this.attachRef=null}},tk=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,l){let c=this.getOrCreateContext(r);c.outlet=l,this.contexts.set(r,c)}onChildOutletDestroyed(r){let l=this.getContext(r);l&&(l.outlet=null,l.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let l=this.getContext(r);return l||(l=new Y4,this.contexts.set(r,l)),l}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),KC=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=X4(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=X4(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=q4(e,this._root);return n.length<2?[]:n[n.length-2].children.map(l=>l.value).filter(l=>l!==e)}pathFromRoot(e){return q4(e,this._root).map(n=>n.value)}};function X4(t,e){if(t===e.value)return e;for(let n of e.children){let r=X4(t,n);if(r)return r}return null}function q4(t,e){if(t===e.value)return[e];for(let n of e.children){let r=q4(t,n);if(r.length)return r.unshift(e),r}return[]}var Ro=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Fg(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ZC=class extends KC{constructor(e,n){super(e),this.snapshot=n,oL(this,e)}toString(){return this.snapshot.toString()}};function dW(t){let e=Gve(t),n=new br([new Op("",{})]),r=new br({}),l=new br({}),c=new br({}),h=new br(""),p=new Hg(n,r,c,h,l,Bt,t,e.root);return p.snapshot=e.root,new ZC(new Ro(p,[]),e)}function Gve(t){let e={},n={},r={},l="",c=new fx([],e,r,l,n,Bt,t,null,{});return new QC("",new Ro(c,[]))}var Hg=class{constructor(e,n,r,l,c,h,p,m){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=l,this.dataSubject=c,this.outlet=h,this.component=p,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(It(g=>g[vx]))??gt(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=l,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(It(e=>Vg(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(It(e=>Vg(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sL(t,e,n="emptyOnly"){let r,{routeConfig:l}=t;return e!==null&&(n==="always"||l?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Ue(Ue({},e.params),t.params),data:Ue(Ue({},e.data),t.data),resolve:Ue(Ue(Ue(Ue({},t.data),e.data),l?.data),t._resolvedData)}:r={params:Ue({},t.params),data:Ue({},t.data),resolve:Ue(Ue({},t.data),t._resolvedData??{})},l&&fW(l)&&(r.resolve[vx]=l.title),r}var fx=class{get title(){return this.data?.[vx]}constructor(e,n,r,l,c,h,p,m,g){this.url=e,this.params=n,this.queryParams=r,this.fragment=l,this.data=c,this.outlet=h,this.component=p,this.routeConfig=m,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vg(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vg(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},QC=class extends KC{constructor(e,n){super(n),this.url=e,oL(this,n)}toString(){return pW(this._root)}};function oL(t,e){e.value._routerState=t,e.children.forEach(n=>oL(t,n))}function pW(t){let e=t.children.length>0?` { ${t.children.map(pW).join(", ")} } `:"";return`${t.value}${e}`}function M4(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yl(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Yl(e.params,n.params)||t.paramsSubject.next(n.params),yve(e.url,n.url)||t.urlSubject.next(n.url),Yl(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function K4(t,e){let n=Yl(t.params,e.params)&&wve(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||K4(t.parent,e.parent))}function fW(t){return typeof t.title=="string"||t.title===null}var aL=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new Tt,this.deactivateEvents=new Tt,this.attachEvents=new Tt,this.detachEvents=new Tt,this.parentContexts=Ye(tk),this.location=Ye(fa),this.changeDetector=Ye(vu),this.environmentInjector=Ye(Zs),this.inputBinder=Ye(lL,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:l,previousValue:c}=r.name;if(l)return;this.isTrackedInParentContexts(c)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(c)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _t(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _t(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _t(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,l){this.activated=r,this._activatedRoute=l,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,l){if(this.isActivated)throw new _t(4013,!1);this._activatedRoute=r;let c=this.location,p=r.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,g=new Z4(r,m,c.injector);this.activated=c.createComponent(p,{index:c.length,injector:g,environmentInjector:l??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(l){return new(l||e)},e.\u0275dir=Gl({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ki]});let t=e;return t})(),Z4=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Hg?this.route:e===tk?this.childContexts:this.parent.get(e,n)}},lL=new Ft("");function Wve(t,e,n){let r=mx(t,e._root,n?n._root:void 0);return new ZC(r,e)}function mx(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let l=Uve(t,e,n);return new Ro(r,l)}else{if(t.shouldAttach(e.value)){let c=t.retrieve(e.value);if(c!==null){let h=c.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(p=>mx(t,p)),h}}let r=$ve(e.value),l=e.children.map(c=>mx(t,c));return new Ro(r,l)}}function Uve(t,e,n){return e.children.map(r=>{for(let l of n.children)if(t.shouldReuseRoute(r.value,l.value.snapshot))return mx(t,r,l);return mx(t,r)})}function $ve(t){return new Hg(new br(t.url),new br(t.params),new br(t.queryParams),new br(t.fragment),new br(t.data),t.outlet,t.component,t)}var mW="ngNavigationCancelingError";function gW(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=zg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,l=vW(!1,Po.Redirect);return l.url=n,l.navigationBehaviorOptions=r,l}function vW(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[mW]=!0,n.cancellationCode=e,n}function Yve(t){return yW(t)&&zg(t.url)}function yW(t){return!!t&&t[mW]}var Xve=(()=>{let e=class e{};e.\u0275fac=function(l){return new(l||e)},e.\u0275cmp=Nt({type:e,selectors:[["ng-component"]],standalone:!0,features:[ar],decls:1,vars:0,template:function(l,c){l&1&&vt(0,"router-outlet")},dependencies:[aL],encapsulation:2});let t=e;return t})();function qve(t,e){return t.providers&&!t._injector&&(t._injector=r4(t.providers,e,`Route: ${t.path}`)),t._injector??e}function cL(t){let e=t.children&&t.children.map(cL),n=e?ti(Ue({},t),{children:e}):Ue({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Bt&&(n.component=Xve),n}function Xl(t){return t.outlet||Bt}function Kve(t,e){let n=t.filter(r=>Xl(r)===e);return n.push(...t.filter(r=>Xl(r)!==e)),n}function yx(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Zve=(t,e,n,r)=>It(l=>(new Q4(e,l.targetRouterState,l.currentRouterState,n,r).activate(t),l)),Q4=class{constructor(e,n,r,l,c){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=l,this.inputBindingEnabled=c}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),M4(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let l=Fg(n);e.children.forEach(c=>{let h=c.value.outlet;this.deactivateRoutes(c,l[h],r),delete l[h]}),Object.values(l).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,n,r){let l=e.value,c=n?n.value:null;if(l===c)if(l.component){let h=r.getContext(l.outlet);h&&this.deactivateChildRoutes(e,n,h.children)}else this.deactivateChildRoutes(e,n,r);else c&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),l=r&&e.value.component?r.children:n,c=Fg(e);for(let h of Object.values(c))this.deactivateRouteAndItsChildren(h,l);if(r&&r.outlet){let h=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:p})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),l=r&&e.value.component?r.children:n,c=Fg(e);for(let h of Object.values(c))this.deactivateRouteAndItsChildren(h,l);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let l=Fg(n);e.children.forEach(c=>{this.activateRoutes(c,l[c.value.outlet],r),this.forwardEvent(new $4(c.value.snapshot))}),e.children.length&&this.forwardEvent(new W4(e.value.snapshot))}activateRoutes(e,n,r){let l=e.value,c=n?n.value:null;if(M4(l),l===c)if(l.component){let h=r.getOrCreateContext(l.outlet);this.activateChildRoutes(e,n,h.children)}else this.activateChildRoutes(e,n,r);else if(l.component){let h=r.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){let p=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),h.children.onOutletReAttached(p.contexts),h.attachRef=p.componentRef,h.route=p.route.value,h.outlet&&h.outlet.attach(p.componentRef,p.route.value),M4(p.route.value),this.activateChildRoutes(e,null,h.children)}else{let p=yx(l.snapshot);h.attachRef=null,h.route=l,h.injector=p,h.outlet&&h.outlet.activateWith(l,h.injector),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}},JC=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bg=class{constructor(e,n){this.component=e,this.route=n}};function Qve(t,e,n){let r=t._root,l=e?e._root:null;return rx(r,l,n,[r.value])}function Jve(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Gg(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Vz(t)?t:e.get(t):r}function rx(t,e,n,r,l={canDeactivateChecks:[],canActivateChecks:[]}){let c=Fg(e);return t.children.forEach(h=>{eye(h,c[h.value.outlet],n,r.concat([h.value]),l),delete c[h.value.outlet]}),Object.entries(c).forEach(([h,p])=>lx(p,n.getContext(h),l)),l}function eye(t,e,n,r,l={canDeactivateChecks:[],canActivateChecks:[]}){let c=t.value,h=e?e.value:null,p=n?n.getContext(t.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){let m=tye(h,c,c.routeConfig.runGuardsAndResolvers);m?l.canActivateChecks.push(new JC(r)):(c.data=h.data,c._resolvedData=h._resolvedData),c.component?rx(t,e,p?p.children:null,r,l):rx(t,e,n,r,l),m&&p&&p.outlet&&p.outlet.isActivated&&l.canDeactivateChecks.push(new Bg(p.outlet.component,h))}else h&&lx(e,p,l),l.canActivateChecks.push(new JC(r)),c.component?rx(t,null,p?p.children:null,r,l):rx(t,null,n,r,l);return l}function tye(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Rp(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Rp(t.url,e.url)||!Yl(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!K4(t,e)||!Yl(t.queryParams,e.queryParams);case"paramsChange":default:return!K4(t,e)}}function lx(t,e,n){let r=Fg(t),l=t.value;Object.entries(r).forEach(([c,h])=>{l.component?e?lx(h,e.children.getContext(c),n):lx(h,null,n):lx(h,e,n)}),l.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Bg(e.outlet.component,l)):n.canDeactivateChecks.push(new Bg(null,l)):n.canDeactivateChecks.push(new Bg(null,l))}function xx(t){return typeof t=="function"}function nye(t){return typeof t=="boolean"}function iye(t){return t&&xx(t.canLoad)}function rye(t){return t&&xx(t.canActivate)}function sye(t){return t&&xx(t.canActivateChild)}function oye(t){return t&&xx(t.canDeactivate)}function aye(t){return t&&xx(t.canMatch)}function xW(t){return t instanceof iu||t?.name==="EmptyError"}var jC=Symbol("INITIAL_VALUE");function jg(){return Lo(t=>A2(t.map(e=>e.pipe(ru(1),cE(jC)))).pipe(It(e=>{for(let n of e)if(n!==!0){if(n===jC)return jC;if(n===!1||n instanceof Eh)return n}return!0}),Eo(e=>e!==jC),ru(1)))}function lye(t,e){return Ji(n=>{let{targetSnapshot:r,currentSnapshot:l,guards:{canActivateChecks:c,canDeactivateChecks:h}}=n;return h.length===0&&c.length===0?gt(ti(Ue({},n),{guardsResult:!0})):cye(h,r,l,t).pipe(Ji(p=>p&&nye(p)?uye(r,c,t,e):gt(p)),It(p=>ti(Ue({},n),{guardsResult:p})))})}function cye(t,e,n,r){return Qi(t).pipe(Ji(l=>mye(l.component,l.route,n,e,r)),Bl(l=>l!==!0,!0))}function uye(t,e,n,r){return Qi(e).pipe(vh(l=>ag(dye(l.route.parent,r),hye(l.route,r),fye(t,l.path,n),pye(t,l.route,n))),Bl(l=>l!==!0,!0))}function hye(t,e){return t!==null&&e&&e(new U4(t)),gt(!0)}function dye(t,e){return t!==null&&e&&e(new G4(t)),gt(!0)}function pye(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return gt(!0);let l=r.map(c=>M2(()=>{let h=yx(e)??n,p=Gg(c,h),m=rye(p)?p.canActivate(e,t):uu(h,()=>p(e,t));return Ih(m).pipe(Bl())}));return gt(l).pipe(jg())}function fye(t,e,n){let r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(h=>Jve(h)).filter(h=>h!==null).map(h=>M2(()=>{let p=h.guards.map(m=>{let g=yx(h.node)??n,y=Gg(m,g),_=sye(y)?y.canActivateChild(r,t):uu(g,()=>y(r,t));return Ih(_).pipe(Bl())});return gt(p).pipe(jg())}));return gt(c).pipe(jg())}function mye(t,e,n,r,l){let c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||c.length===0)return gt(!0);let h=c.map(p=>{let m=yx(e)??l,g=Gg(p,m),y=oye(g)?g.canDeactivate(t,e,n,r):uu(m,()=>g(t,e,n,r));return Ih(y).pipe(Bl())});return gt(h).pipe(jg())}function gye(t,e,n,r){let l=e.canLoad;if(l===void 0||l.length===0)return gt(!0);let c=l.map(h=>{let p=Gg(h,t),m=iye(p)?p.canLoad(e,n):uu(t,()=>p(e,n));return Ih(m)});return gt(c).pipe(jg(),bW(r))}function bW(t){return ZM(Gi(e=>{if(zg(e))throw gW(t,e)}),It(e=>e===!0))}function vye(t,e,n,r){let l=e.canMatch;if(!l||l.length===0)return gt(!0);let c=l.map(h=>{let p=Gg(h,t),m=aye(p)?p.canMatch(e,n):uu(t,()=>p(e,n));return Ih(m)});return gt(c).pipe(jg(),bW(r))}var gx=class{constructor(e){this.segmentGroup=e||null}},ek=class extends Error{constructor(e){super(),this.urlTree=e}};function Pg(t){return sg(new gx(t))}function yye(t){return sg(new _t(4e3,!1))}function xye(t){return sg(vW(!1,Po.GuardRejected))}var J4=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],l=n.root;for(;;){if(r=r.concat(l.segments),l.numberOfChildren===0)return gt(r);if(l.numberOfChildren>1||!l.children[Bt])return yye(e.redirectTo);l=l.children[Bt]}}applyRedirectCommands(e,n,r){let l=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new ek(l);return l}applyRedirectCreateUrlTree(e,n,r,l){let c=this.createSegmentGroup(e,n.root,r,l);return new Eh(c,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([l,c])=>{if(typeof c=="string"&&c.startsWith(":")){let p=c.substring(1);r[l]=n[p]}else r[l]=c}),r}createSegmentGroup(e,n,r,l){let c=this.createSegments(e,n.segments,r,l),h={};return Object.entries(n.children).forEach(([p,m])=>{h[p]=this.createSegmentGroup(e,m,r,l)}),new Wn(c,h)}createSegments(e,n,r,l){return n.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,l):this.findOrReturn(c,r))}findPosParam(e,n,r){let l=r[n.path.substring(1)];if(!l)throw new _t(4001,!1);return l}findOrReturn(e,n){let r=0;for(let l of n){if(l.path===e.path)return n.splice(r),l;r++}return e}},eL={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bye(t,e,n,r,l){let c=uL(t,e,n);return c.matched?(r=qve(e,r),vye(r,e,n,l).pipe(It(h=>h===!0?c:Ue({},eL)))):gt(c)}function uL(t,e,n){if(e.path==="**")return _ye(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?Ue({},eL):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let l=(e.matcher||vve)(n,t,e);if(!l)return Ue({},eL);let c={};Object.entries(l.posParams??{}).forEach(([p,m])=>{c[p]=m.path});let h=l.consumed.length>0?Ue(Ue({},c),l.consumed[l.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:l.consumed,remainingSegments:n.slice(l.consumed.length),parameters:h,positionalParamSegments:l.posParams??{}}}function _ye(t){return{matched:!0,parameters:t.length>0?JG(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ZG(t,e,n,r){return n.length>0&&kye(t,n,r)?{segmentGroup:new Wn(e,Cye(r,new Wn(n,t.children))),slicedSegments:[]}:n.length===0&&Dye(t,n,r)?{segmentGroup:new Wn(t.segments,wye(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Wn(t.segments,t.children),slicedSegments:n}}function wye(t,e,n,r){let l={};for(let c of n)if(nk(t,e,c)&&!r[Xl(c)]){let h=new Wn([],{});l[Xl(c)]=h}return Ue(Ue({},r),l)}function Cye(t,e){let n={};n[Bt]=e;for(let r of t)if(r.path===""&&Xl(r)!==Bt){let l=new Wn([],{});n[Xl(r)]=l}return n}function kye(t,e,n){return n.some(r=>nk(t,e,r)&&Xl(r)!==Bt)}function Dye(t,e,n){return n.some(r=>nk(t,e,r))}function nk(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Sye(t,e,n,r){return Xl(t)!==r&&(r===Bt||!nk(e,n,t))?!1:uL(e,t,n).matched}function Tye(t,e,n){return e.length===0&&!t.children[n]}var tL=class{};function Aye(t,e,n,r,l,c,h="emptyOnly"){return new nL(t,e,n,r,l,h,c).recognize()}var Mye=31,nL=class{constructor(e,n,r,l,c,h,p){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=l,this.urlTree=c,this.paramsInheritanceStrategy=h,this.urlSerializer=p,this.applyRedirects=new J4(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new _t(4002,`'${e.segmentGroup}'`)}recognize(){let e=ZG(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(It(n=>{let r=new fx([],Object.freeze({}),Object.freeze(Ue({},this.urlTree.queryParams)),this.urlTree.fragment,{},Bt,this.rootComponentType,null,{}),l=new Ro(r,n),c=new QC("",l),h=Fve(r,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(h),this.inheritParamsAndData(c._root,null),{state:c,tree:h}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Bt).pipe(gh(r=>{if(r instanceof ek)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof gx?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,l=sL(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(l.params),r.data=Object.freeze(l.data),e.children.forEach(c=>this.inheritParamsAndData(c,r))}processSegmentGroup(e,n,r,l){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,l,!0).pipe(It(c=>c instanceof Ro?[c]:[]))}processChildren(e,n,r){let l=[];for(let c of Object.keys(r.children))c==="primary"?l.unshift(c):l.push(c);return Qi(l).pipe(vh(c=>{let h=r.children[c],p=Kve(n,c);return this.processSegmentGroup(e,p,h,c)}),lE((c,h)=>(c.push(...h),c)),yh(null),aE(),Ji(c=>{if(c===null)return Pg(r);let h=_W(c);return Eye(h),gt(h)}))}processSegment(e,n,r,l,c,h){return Qi(n).pipe(vh(p=>this.processSegmentAgainstRoute(p._injector??e,n,p,r,l,c,h).pipe(gh(m=>{if(m instanceof gx)return gt(null);throw m}))),Bl(p=>!!p),gh(p=>{if(xW(p))return Tye(r,l,c)?gt(new tL):Pg(r);throw p}))}processSegmentAgainstRoute(e,n,r,l,c,h,p){return Sye(r,l,c,h)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,l,r,c,h):this.allowRedirects&&p?this.expandSegmentAgainstRouteUsingRedirect(e,l,n,r,c,h):Pg(l):Pg(l)}expandSegmentAgainstRouteUsingRedirect(e,n,r,l,c,h){let{matched:p,consumedSegments:m,positionalParamSegments:g,remainingSegments:y}=uL(n,l,c);if(!p)return Pg(n);l.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Mye&&(this.allowRedirects=!1));let _=this.applyRedirects.applyRedirectCommands(m,l.redirectTo,g);return this.applyRedirects.lineralizeSegments(l,_).pipe(Ji(C=>this.processSegment(e,r,n,C.concat(y),h,!1)))}matchSegmentAgainstRoute(e,n,r,l,c){let h=bye(n,r,l,e,this.urlSerializer);return r.path==="**"&&(n.children={}),h.pipe(Lo(p=>p.matched?(e=r._injector??e,this.getChildConfig(e,r,l).pipe(Lo(({routes:m})=>{let g=r._loadedInjector??e,{consumedSegments:y,remainingSegments:_,parameters:C}=p,S=new fx(y,C,Object.freeze(Ue({},this.urlTree.queryParams)),this.urlTree.fragment,Iye(r),Xl(r),r.component??r._loadedComponent??null,r,Oye(r)),{segmentGroup:A,slicedSegments:E}=ZG(n,y,_,m);if(E.length===0&&A.hasChildren())return this.processChildren(g,m,A).pipe(It(P=>P===null?null:new Ro(S,P)));if(m.length===0&&E.length===0)return gt(new Ro(S,[]));let L=Xl(r)===c;return this.processSegment(g,m,A,E,L?Bt:c,!0).pipe(It(P=>new Ro(S,P instanceof Ro?[P]:[])))}))):Pg(n)))}getChildConfig(e,n,r){return n.children?gt({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?gt({routes:n._loadedRoutes,injector:n._loadedInjector}):gye(e,n,r,this.urlSerializer).pipe(Ji(l=>l?this.configLoader.loadChildren(e,n).pipe(Gi(c=>{n._loadedRoutes=c.routes,n._loadedInjector=c.injector})):xye(n))):gt({routes:[],injector:e})}};function Eye(t){t.sort((e,n)=>e.value.outlet===Bt?-1:n.value.outlet===Bt?1:e.value.outlet.localeCompare(n.value.outlet))}function Lye(t){let e=t.value.routeConfig;return e&&e.path===""}function _W(t){let e=[],n=new Set;for(let r of t){if(!Lye(r)){e.push(r);continue}let l=e.find(c=>r.value.routeConfig===c.value.routeConfig);l!==void 0?(l.children.push(...r.children),n.add(l)):e.push(r)}for(let r of n){let l=_W(r.children);e.push(new Ro(r.value,l))}return e.filter(r=>!n.has(r))}function Iye(t){return t.data||{}}function Oye(t){return t.resolve||{}}function Rye(t,e,n,r,l,c){return Ji(h=>Aye(t,e,n,r,h.extractedUrl,l,c).pipe(It(({state:p,tree:m})=>ti(Ue({},h),{targetSnapshot:p,urlAfterRedirects:m}))))}function Pye(t,e){return Ji(n=>{let{targetSnapshot:r,guards:{canActivateChecks:l}}=n;if(!l.length)return gt(n);let c=new Set(l.map(m=>m.route)),h=new Set;for(let m of c)if(!h.has(m))for(let g of wW(m))h.add(g);let p=0;return Qi(h).pipe(vh(m=>c.has(m)?Fye(m,r,t,e):(m.data=sL(m,m.parent,t).resolve,gt(void 0))),Gi(()=>p++),lg(1),Ji(m=>p===h.size?gt(n):Mo))})}function wW(t){let e=t.children.map(n=>wW(n)).flat();return[t,...e]}function Fye(t,e,n,r){let l=t.routeConfig,c=t._resolve;return l?.title!==void 0&&!fW(l)&&(c[vx]=l.title),Nye(c,t,e,r).pipe(It(h=>(t._resolvedData=h,t.data=sL(t,t.parent,n).resolve,null)))}function Nye(t,e,n,r){let l=I4(t);if(l.length===0)return gt({});let c={};return Qi(l).pipe(Ji(h=>Bye(t[h],e,n,r).pipe(Bl(),Gi(p=>{c[h]=p}))),lg(1),oE(c),gh(h=>xW(h)?Mo:sg(h)))}function Bye(t,e,n,r){let l=yx(e)??r,c=Gg(t,l),h=c.resolve?c.resolve(e,n):uu(l,()=>c(e,n));return Ih(h)}function E4(t){return Lo(e=>{let n=t(e);return n?Qi(n).pipe(It(()=>e)):gt(e)})}var CW=(()=>{let e=class e{buildTitle(r){let l,c=r.root;for(;c!==void 0;)l=this.getResolvedTitleForRoute(c)??l,c=c.children.find(h=>h.outlet===Bt);return l}getResolvedTitleForRoute(r){return r.data[vx]}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:()=>Ye(Vye),providedIn:"root"});let t=e;return t})(),Vye=(()=>{let e=class e extends CW{constructor(r){super(),this.title=r}updateTitle(r){let l=this.buildTitle(r);l!==void 0&&this.title.setTitle(l)}};e.\u0275fac=function(l){return new(l||e)(wt($G))},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hL=new Ft("",{providedIn:"root",factory:()=>({})}),dL=new Ft(""),zye=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ye(c4)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return gt(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let l=Ih(r.loadComponent()).pipe(It(kW),Gi(h=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=h}),mp(()=>{this.componentLoaders.delete(r)})),c=new ng(l,()=>new Ms).pipe(tg());return this.componentLoaders.set(r,c),c}loadChildren(r,l){if(this.childrenLoaders.get(l))return this.childrenLoaders.get(l);if(l._loadedRoutes)return gt({routes:l._loadedRoutes,injector:l._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(l);let h=Hye(l,this.compiler,r,this.onLoadEndListener).pipe(mp(()=>{this.childrenLoaders.delete(l)})),p=new ng(h,()=>new Ms).pipe(tg());return this.childrenLoaders.set(l,p),p}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hye(t,e,n,r){return Ih(t.loadChildren()).pipe(It(kW),Ji(l=>l instanceof Hy||Array.isArray(l)?gt(l):Qi(e.compileModuleAsync(l))),It(l=>{r&&r(t);let c,h,p=!1;return Array.isArray(l)?(h=l,p=!0):(c=l.create(n).injector,h=c.get(dL,[],{optional:!0,self:!0}).flat()),{routes:h.map(cL),injector:c}}))}function jye(t){return t&&typeof t=="object"&&"default"in t}function kW(t){return jye(t)?t.default:t}var pL=(()=>{let e=class e{};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:()=>Ye(Gye),providedIn:"root"});let t=e;return t})(),Gye=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,l){return r}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wye=new Ft("");var Uye=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ms,this.transitionAbortSubject=new Ms,this.configLoader=Ye(zye),this.environmentInjector=Ye(Zs),this.urlSerializer=Ye(rL),this.rootContexts=Ye(tk),this.location=Ye(Ky),this.inputBindingEnabled=Ye(lL,{optional:!0})!==null,this.titleStrategy=Ye(CW),this.options=Ye(hL,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ye(pL),this.createViewTransition=Ye(Wye,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>gt(void 0),this.rootComponentType=null;let r=c=>this.events.next(new H4(c)),l=c=>this.events.next(new j4(c));this.configLoader.onLoadEndListener=l,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let l=++this.navigationId;this.transitions?.next(ti(Ue(Ue({},this.transitions.value),r),{id:l}))}setupNavigations(r,l,c){return this.transitions=new br({id:0,currentUrlTree:l,currentRawUrl:l,extractedUrl:this.urlHandlingStrategy.extract(l),urlAfterRedirects:this.urlHandlingStrategy.extract(l),rawUrl:l,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ax,restoredState:null,currentSnapshot:c.snapshot,targetSnapshot:null,currentRouterState:c,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Eo(h=>h.id!==0),It(h=>ti(Ue({},h),{extractedUrl:this.urlHandlingStrategy.extract(h.rawUrl)})),Lo(h=>{let p=!1,m=!1;return gt(h).pipe(Lo(g=>{if(this.navigationId>h.id)return this.cancelNavigationTransition(h,"",Po.SupersededByNewNavigation),Mo;this.currentTransition=h,this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?ti(Ue({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let y=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),_=g.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!y&&_!=="reload"){let C="";return this.events.next(new Fp(g.id,this.urlSerializer.serialize(g.rawUrl),C,F4.IgnoredSameUrlNavigation)),g.resolve(null),Mo}if(this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return gt(g).pipe(Lo(C=>{let S=this.transitions?.getValue();return this.events.next(new ux(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),S!==this.transitions?.getValue()?Mo:Promise.resolve(C)}),Rye(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Gi(C=>{h.targetSnapshot=C.targetSnapshot,h.urlAfterRedirects=C.urlAfterRedirects,this.currentNavigation=ti(Ue({},this.currentNavigation),{finalUrl:C.urlAfterRedirects});let S=new qC(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(S)}));if(y&&this.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){let{id:C,extractedUrl:S,source:A,restoredState:E,extras:L}=g,P=new ux(C,this.urlSerializer.serialize(S),A,E);this.events.next(P);let R=dW(this.rootComponentType).snapshot;return this.currentTransition=h=ti(Ue({},g),{targetSnapshot:R,urlAfterRedirects:S,extras:ti(Ue({},L),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,gt(h)}else{let C="";return this.events.next(new Fp(g.id,this.urlSerializer.serialize(g.extractedUrl),C,F4.IgnoredByUrlHandlingStrategy)),g.resolve(null),Mo}}),Gi(g=>{let y=new N4(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}),It(g=>(this.currentTransition=h=ti(Ue({},g),{guards:Qve(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),h)),lye(this.environmentInjector,g=>this.events.next(g)),Gi(g=>{if(h.guardsResult=g.guardsResult,zg(g.guardsResult))throw gW(this.urlSerializer,g.guardsResult);let y=new B4(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(y)}),Eo(g=>g.guardsResult?!0:(this.cancelNavigationTransition(g,"",Po.GuardRejected),!1)),E4(g=>{if(g.guards.canActivateChecks.length)return gt(g).pipe(Gi(y=>{let _=new V4(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(_)}),Lo(y=>{let _=!1;return gt(y).pipe(Pye(this.paramsInheritanceStrategy,this.environmentInjector),Gi({next:()=>_=!0,complete:()=>{_||this.cancelNavigationTransition(y,"",Po.NoDataFromResolver)}}))}),Gi(y=>{let _=new z4(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(_)}))}),E4(g=>{let y=_=>{let C=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(_.routeConfig).pipe(Gi(S=>{_.component=S}),It(()=>{})));for(let S of _.children)C.push(...y(S));return C};return A2(y(g.targetSnapshot.root)).pipe(yh(null),ru(1))}),E4(()=>this.afterPreactivation()),Lo(()=>{let{currentSnapshot:g,targetSnapshot:y}=h,_=this.createViewTransition?.(this.environmentInjector,g.root,y.root);return _?Qi(_).pipe(It(()=>h)):gt(h)}),It(g=>{let y=Wve(r.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=h=ti(Ue({},g),{targetRouterState:y}),this.currentNavigation.targetRouterState=y,h}),Gi(()=>{this.events.next(new dx)}),Zve(this.rootContexts,r.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),ru(1),Gi({next:g=>{p=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pp(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),this.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{p=!0}}),uE(this.transitionAbortSubject.pipe(Gi(g=>{throw g}))),mp(()=>{!p&&!m&&this.cancelNavigationTransition(h,"",Po.SupersededByNewNavigation),this.currentTransition?.id===h.id&&(this.currentNavigation=null,this.currentTransition=null)}),gh(g=>{if(m=!0,yW(g))this.events.next(new Lh(h.id,this.urlSerializer.serialize(h.extractedUrl),g.message,g.cancellationCode)),Yve(g)?this.events.next(new px(g.url)):h.resolve(!1);else{this.events.next(new hx(h.id,this.urlSerializer.serialize(h.extractedUrl),g,h.targetSnapshot??void 0));try{h.resolve(r.errorHandler(g))}catch(y){this.options.resolveNavigationPromiseOnError?h.resolve(!1):h.reject(y)}}return Mo}))}))}cancelNavigationTransition(r,l,c){let h=new Lh(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c);this.events.next(h),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $ye(t){return t!==ax}var Yye=(()=>{let e=class e{};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:()=>Ye(Xye),providedIn:"root"});let t=e;return t})(),iL=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Xye=(()=>{let e=class e extends iL{};e.\u0275fac=(()=>{let r;return function(c){return(r||(r=$y(e)))(c||e)}})(),e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DW=(()=>{let e=class e{};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:()=>Ye(qye),providedIn:"root"});let t=e;return t})(),qye=(()=>{let e=class e extends DW{constructor(){super(...arguments),this.location=Ye(Ky),this.urlSerializer=Ye(rL),this.options=Ye(hL,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ye(pL),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Eh,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=dW(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(l=>{l.type==="popstate"&&r(l.url,l.state)})}handleRouterEvent(r,l){if(r instanceof ux)this.stateMemento=this.createStateMemento();else if(r instanceof Fp)this.rawUrlTree=l.initialUrl;else if(r instanceof qC){if(this.urlUpdateStrategy==="eager"&&!l.extras.skipLocationChange){let c=this.urlHandlingStrategy.merge(l.finalUrl,l.initialUrl);this.setBrowserUrl(c,l)}}else r instanceof dx?(this.currentUrlTree=l.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(l.finalUrl,l.initialUrl),this.routerState=l.targetRouterState,this.urlUpdateStrategy==="deferred"&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l))):r instanceof Lh&&(r.code===Po.GuardRejected||r.code===Po.NoDataFromResolver)?this.restoreHistory(l):r instanceof hx?this.restoreHistory(l,!0):r instanceof Pp&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,l){let c=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(c)||l.extras.replaceUrl){let h=this.browserPageId,p=Ue(Ue({},l.extras.state),this.generateNgRouterState(l.id,h));this.location.replaceState(c,"",p)}else{let h=Ue(Ue({},l.extras.state),this.generateNgRouterState(l.id,this.browserPageId+1));this.location.go(c,"",h)}}restoreHistory(r,l=!1){if(this.canceledNavigationResolution==="computed"){let c=this.browserPageId,h=this.currentPageId-c;h!==0?this.location.historyGo(h):this.currentUrlTree===r.finalUrl&&h===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(l&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,l){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:l}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(c){return(r||(r=$y(e)))(c||e)}})(),e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sx=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(sx||{});function Kye(t,e){t.events.pipe(Eo(n=>n instanceof Pp||n instanceof Lh||n instanceof hx||n instanceof Fp),It(n=>n instanceof Pp||n instanceof Fp?sx.COMPLETE:(n instanceof Lh?n.code===Po.Redirect||n.code===Po.SupersededByNewNavigation:!1)?sx.REDIRECTING:sx.FAILED),Eo(n=>n!==sx.REDIRECTING),ru(1)).subscribe(()=>{e()})}function Zye(t){throw t}var Qye={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Jye={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},SW=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Ye(AC),this.stateManager=Ye(DW),this.options=Ye(hL,{optional:!0})||{},this.pendingTasks=Ye(Ag),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ye(Uye),this.urlSerializer=Ye(rL),this.location=Ye(Ky),this.urlHandlingStrategy=Ye(pL),this._events=new Ms,this.errorHandler=this.options.errorHandler||Zye,this.navigated=!1,this.routeReuseStrategy=Ye(Yye),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Ye(dL,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Ye(lL,{optional:!0}),this.eventsSubscription=new Zi,this.isNgZoneEnabled=Ye(ui)instanceof ui&&ui.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(l=>{try{let c=this.navigationTransitions.currentTransition,h=this.navigationTransitions.currentNavigation;if(c!==null&&h!==null){if(this.stateManager.handleRouterEvent(l,h),l instanceof Lh&&l.code!==Po.Redirect&&l.code!==Po.SupersededByNewNavigation)this.navigated=!0;else if(l instanceof Pp)this.navigated=!0;else if(l instanceof px){let p=this.urlHandlingStrategy.merge(l.url,c.currentRawUrl),m={info:c.extras.info,skipLocationChange:c.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||$ye(c.source)};this.scheduleNavigation(p,ax,null,m,{resolve:c.resolve,reject:c.reject,promise:c.promise})}}txe(l)&&this._events.next(l)}catch(c){this.navigationTransitions.transitionAbortSubject.next(c)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ax,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,l)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",l)},0)})}navigateToSyncWithBrowser(r,l,c){let h={replaceUrl:!0},p=c?.navigationId?c:null;if(c){let g=Ue({},c);delete g.navigationId,delete g.\u0275routerPageId,Object.keys(g).length!==0&&(h.state=g)}let m=this.parseUrl(r);this.scheduleNavigation(m,l,p,h)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(cL),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,l={}){let{relativeTo:c,queryParams:h,fragment:p,queryParamsHandling:m,preserveFragment:g}=l,y=g?this.currentUrlTree.fragment:p,_=null;switch(m){case"merge":_=Ue(Ue({},this.currentUrlTree.queryParams),h);break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=h||null}_!==null&&(_=this.removeEmptyProps(_));let C;try{let S=c?c.snapshot:this.routerState.snapshot.root;C=lW(S)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),C=this.currentUrlTree.root}return cW(C,r,_,y??null)}navigateByUrl(r,l={skipLocationChange:!1}){let c=zg(r)?r:this.parseUrl(r),h=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(h,ax,null,l)}navigate(r,l={skipLocationChange:!1}){return exe(r),this.navigateByUrl(this.createUrlTree(r,l),l)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,l){let c;if(l===!0?c=Ue({},Qye):l===!1?c=Ue({},Jye):c=l,zg(r))return YG(this.currentUrlTree,r,c);let h=this.parseUrl(r);return YG(this.currentUrlTree,h,c)}removeEmptyProps(r){return Object.entries(r).reduce((l,[c,h])=>(h!=null&&(l[c]=h),l),{})}scheduleNavigation(r,l,c,h,p){if(this.disposed)return Promise.resolve(!1);let m,g,y;p?(m=p.resolve,g=p.reject,y=p.promise):y=new Promise((C,S)=>{m=C,g=S});let _=this.pendingTasks.add();return Kye(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_))}),this.navigationTransitions.handleNavigationRequest({source:l,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:h,resolve:m,reject:g,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(C=>Promise.reject(C))}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function exe(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new _t(4008,!1)}function txe(t){return!(t instanceof dx)&&!(t instanceof px)}var nxe=new Ft("");function TW(t,...e){return wg([{provide:dL,multi:!0,useValue:t},[],{provide:Hg,useFactory:ixe,deps:[SW]},{provide:MC,multi:!0,useFactory:rxe},e.map(n=>n.\u0275providers)])}function ixe(t){return t.routerState.root}function rxe(){let t=Ye(pu);return e=>{let n=t.get(Th);if(e!==n.components[0])return;let r=t.get(SW),l=t.get(sxe);t.get(oxe)===1&&r.initialNavigation(),t.get(axe,null,tn.Optional)?.setUpPreloading(),t.get(nxe,null,tn.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),l.closed||(l.next(),l.complete(),l.unsubscribe())}}var sxe=new Ft("",{factory:()=>new Ms}),oxe=new Ft("",{providedIn:"root",factory:()=>1});var axe=new Ft("");var AW=[];var MW={providers:[TW(AW),NG()]};var eI=Object.defineProperty,lxe=Object.defineProperties,cxe=Object.getOwnPropertyDescriptor,uxe=Object.getOwnPropertyDescriptors,Dk=Object.getOwnPropertySymbols,hxe=Object.getPrototypeOf,CU=Object.prototype.hasOwnProperty,kU=Object.prototype.propertyIsEnumerable,dxe=Reflect.get,fL=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),Gt=Math.pow,EW=(t,e,n)=>e in t?eI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,he=(t,e)=>{for(var n in e||(e={}))CU.call(e,n)&&EW(t,n,e[n]);if(Dk)for(var n of Dk(e))kU.call(e,n)&&EW(t,n,e[n]);return t},He=(t,e)=>lxe(t,uxe(e)),er=(t,e)=>{var n={};for(var r in t)CU.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Dk)for(var r of Dk(t))e.indexOf(r)<0&&kU.call(t,r)&&(n[r]=t[r]);return n},Tu=(t,e)=>{for(var n in e)eI(t,n,{get:e[n],enumerable:!0})},B=(t,e,n,r)=>{for(var l=r>1?void 0:r?cxe(e,n):e,c=t.length-1,h;c>=0;c--)(h=t[c])&&(l=(r?h(e,n,l):h(l))||l);return r&&l&&eI(e,n,l),l},Ja=(t,e,n)=>dxe(hxe(t),n,e),ve=(t,e,n)=>new Promise((r,l)=>{var c=m=>{try{p(n.next(m))}catch(g){l(g)}},h=m=>{try{p(n.throw(m))}catch(g){l(g)}},p=m=>m.done?r(m.value):Promise.resolve(m.value).then(c,h);p((n=n.apply(t,e)).next())}),pxe=function(t,e){this[0]=t,this[1]=e},tI=t=>{var e=t[fL("asyncIterator")],n=!1,r,l={};return e==null?(e=t[fL("iterator")](),r=c=>l[c]=h=>e[c](h)):(e=e.call(t),r=c=>l[c]=h=>{if(n){if(n=!1,c==="throw")throw h;return h}return n=!0,{done:!1,value:new pxe(new Promise(p=>{var m=e[c](h);if(!(m instanceof Object))throw TypeError("Object expected");p(m)}),1)}}),l[fL("iterator")]=()=>l,r("next"),"throw"in e?r("throw"):l.throw=c=>{throw c},"return"in e&&r("return"),l};var fxe={},mxe=void 0;mxe=fxe;var DU=(t=>(t.POINTER="pointer",t.NODE="node",t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t.TOP_LEFT="top-left",t.TOP_RIGHT="top-right",t.BOTTOM_RIGHT="bottom-right",t.BOTTOM_LEFT="bottom-left",t))(DU||{}),gxe={},vxe=void 0;vxe=gxe;var yxe={};Tu(yxe,{day:()=>OU,friday:()=>Pxe,hour:()=>IU,millisecond:()=>SU,minute:()=>EU,monday:()=>Lxe,month:()=>PU,saturday:()=>Fxe,second:()=>AU,sunday:()=>RU,thursday:()=>Rxe,tuesday:()=>Ixe,utcDay:()=>qxe,utcHour:()=>$xe,utcMinute:()=>Gxe,utcMonth:()=>Qxe,utcYear:()=>t1e,wednesday:()=>Oxe,year:()=>FU});var kL=new Map;function DL(t,e){kL.has(e)||(kL.set(e,!0),t())}DL.clear=()=>kL.clear();function LW(t){return t}function*Sx(...t){for(let e of t)yield*r2(tI(e))}function*xxe(t){for(let e=t.length-1;e>=0;e--)yield t[e]}function IW(t,e=0,n){let{leading:r=!0,trailing:l=!0}=n??{},c,h,p=!1;function m(){l&&h?(c=setTimeout(m,e),t(...h)):p=!1,h=null}function g(...y){p?h=y:(p=!0,c=setTimeout(m,e),r?t(...y):h=y)}return Object.assign(g,{cancel(){clearTimeout(c),p=!1,h=null}})}var Le={log(...t){console.log(...t)},warn(t,...e){console.warn(`AG Charts - ${t}`,...e)},error(t,...e){typeof t=="object"?console.error("AG Charts error",t,...e):console.error(`AG Charts - ${t}`,...e)},table(...t){console.table(...t)},warnOnce(t,...e){DL(()=>Le.warn(t,...e),`Logger.warn: ${t}`)},errorOnce(t,...e){DL(()=>Le.error(t,...e),`Logger.error: ${t}`)}},Jx=class{constructor(t,e,n){this._encode=t,this._decode=e,this._rangeCallback=n}floor(t){let e=new Date(t),n=this._encode(e);return this._decode(n)}ceil(t){let e=new Date(Number(t)-1),n=this._encode(e);return this._decode(n+1)}range(t,e,n){var r;let l=(r=this._rangeCallback)==null?void 0:r.call(this,t,e),c=this._encode(n?this.floor(t):this.ceil(t)),h=this._encode(n?this.ceil(e):this.floor(e));if(h<c)return[];let p=[];for(let m=c;m<=h;m++){let g=this._decode(m);p.push(g)}return l?.(),p}},Ho=class extends Jx{getOffset(t,e){let n=typeof t=="number"||t instanceof Date?this._encode(new Date(t)):0;return Math.floor(n)%e}every(t,e){let n=0,r,l=t;t=Math.max(1,Math.round(t)),l!==t&&Le.warnOnce(`interval step of [${l}] rounded to [${t}].`);let{snapTo:c="start"}=e??{};if(typeof c=="string"){let m=n;r=(g,y)=>{let _=c==="start"?g:y;return n=this.getOffset(_,t),()=>n=m}}else typeof c=="number"?n=this.getOffset(new Date(c),t):c instanceof Date&&(n=this.getOffset(c,t));let h=m=>{let g=this._encode(m);return Math.floor((g-n)/t)},p=m=>this._decode(m*t+n);return new Jx(h,p,r)}};function bxe(t){return t.getTime()}function _xe(t){return new Date(t)}var SU=new Ho(bxe,_xe),wxe=SU,e9e=new Date(0).getFullYear(),Kp=1e3,Os=Kp*60,Jl=Os*60,Bh=Jl*24,Ux=Bh*7,bx=Bh*30,Sk=Bh*365,TU=new Date().getTimezoneOffset()*Os;function Cxe(t){return Math.floor((t.getTime()-TU)/Kp)}function kxe(t){return new Date(TU+t*Kp)}var AU=new Ho(Cxe,kxe),Tx=AU,MU=new Date().getTimezoneOffset()*Os;function Dxe(t){return Math.floor((t.getTime()-MU)/Os)}function Sxe(t){return new Date(MU+t*Os)}var EU=new Ho(Dxe,Sxe),Ax=EU,LU=new Date().getTimezoneOffset()*Os;function Txe(t){return Math.floor((t.getTime()-LU)/Jl)}function Axe(t){return new Date(LU+t*Jl)}var IU=new Ho(Txe,Axe),Mx=IU;function Mxe(t){let e=t.getTimezoneOffset()*Os;return Math.floor((t.getTime()-e)/Bh)}function Exe(t){let e=new Date(1970,0,1);return e.setDate(e.getDate()+t),e}var OU=new Ho(Mxe,Exe),SL=OU;function nf(t){let n=(7+t-4)%7;function r(c){let h=c.getTimezoneOffset()*Os;return Math.floor((c.getTime()-h)/Ux-n/7)}function l(c){let h=new Date(1970,0,1);return h.setDate(h.getDate()+c*7+n),h}return new Ho(r,l)}var RU=nf(0),Lxe=nf(1),Ixe=nf(2),Oxe=nf(3),Rxe=nf(4),Pxe=nf(5),Fxe=nf(6),uk=RU;function Nxe(t){return t.getFullYear()*12+t.getMonth()}function Bxe(t){let e=Math.floor(t/12),n=t-e*12;return new Date(e,n,1)}var PU=new Ho(Nxe,Bxe),Ug=PU;function Vxe(t){return t.getFullYear()}function zxe(t){let e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e}var FU=new Ho(Vxe,zxe),nI=FU;function Hxe(t){return Math.floor(t.getTime()/Os)}function jxe(t){return new Date(t*Os)}var Gxe=new Ho(Hxe,jxe);function Wxe(t){return Math.floor(t.getTime()/Jl)}function Uxe(t){return new Date(t*Jl)}var $xe=new Ho(Wxe,Uxe);function Yxe(t){return Math.floor(t.getTime()/Bh)}function Xxe(t){let e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e}var qxe=new Ho(Yxe,Xxe);function Kxe(t){return t.getUTCFullYear()*12+t.getUTCMonth()}function Zxe(t){let e=Math.floor(t/12),n=t-e*12;return new Date(Date.UTC(e,n,1))}var Qxe=new Ho(Kxe,Zxe);function Jxe(t){return t.getUTCFullYear()}function e1e(t){let e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e}var t1e=new Ho(Jxe,e1e),Kg={isEnterprise:!1},Hk=class{constructor(){this.destroyFns=[]}destroy(){for(let t of this.destroyFns)t()}},n1e=class{constructor(){this.modules=[]}register(...t){for(let e of t){let n=this.modules.find(r=>e.type===r.type&&e.optionsKey===r.optionsKey&&e.identifier===r.identifier);if(n){if(e.packageType==="enterprise"&&n.packageType==="community"){let r=this.modules.indexOf(n);this.modules.splice(r,1,e)}}else this.modules.push(e)}}hasEnterpriseModules(){return this.modules.some(t=>t.packageType==="enterprise")}*byType(...t){for(let e of this.modules)t.includes(e.type)&&(yield e)}},Fh=new n1e,i1e=class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(t,e){this.axesMap.set(t,e.instanceConstructor),e.themeTemplate&&this.setThemeTemplate(t,e.themeTemplate),e.hidden&&this.hidden.add(t)}create(t,e){let n=this.axesMap.get(t);if(n)return new n(e);throw new Error(`AG Charts - unknown axis type: ${t}`)}has(t){return this.axesMap.has(t)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter(t=>!this.hidden.has(t))}setThemeTemplate(t,e){return this.themeTemplates.set(t,e),this}getThemeTemplate(t){return this.themeTemplates.get(t)}},Vh=new i1e,Tk=Symbol("BREAK"),Zg="__decorator_config";function NU(t,e){Object.getOwnPropertyDescriptor(t,Zg)==null&&Object.defineProperty(t,Zg,{value:{}});let n=t[Zg],r=e.toString();if(typeof n[r]<"u")return n[r];let l=new WeakMap;n[r]={setters:[],getters:[],observers:[],valuesMap:l};let c=Object.getOwnPropertyDescriptor(t,e),h=c?.set,p=c?.get;return Object.defineProperty(t,e,{set:function(y){let{setters:_,observers:C}=n[r],S;_.some(A=>A.length>2)&&(S=p?p.call(this):l.get(this));for(let A of _)if(y=A(this,e,y,S),y===Tk)return;h?h.call(this,y):l.set(this,y);for(let A of C)A(this,y,S)},get:function(){let y=p?p.call(this):l.get(this);for(let _ of n[r].getters)if(y=_(this,e,y),y===Tk)return;return y},enumerable:!0,configurable:!1}),n[r]}function Du(t,e,n){return(r,l)=>{let c=NU(r,l);c.setters.push(t),e&&c.getters.unshift(e),n&&Object.assign(c,n)}}function r1e(t){return(e,n)=>{NU(e,n).observers.push(t)}}function jk(t){return typeof t<"u"&&Zg in t}function Qg(t){let e=new Set;for(;jk(t);)e.add(t?.[Zg]),t=Object.getPrototypeOf(t);return Array.from(e).flatMap(n=>Object.keys(n))}function s1e(t){return Qg(t).reduce((e,n)=>{var r;return e[n]=(r=t[n])!=null?r:null,e},{})}function o1e(t,e){let n=e.toString();for(;jk(t);){let r=t[Zg];if(Object.hasOwn(r,n))return r[n];t=Object.getPrototypeOf(t)}}function Ak(t){return t!=null}function ur(t){return Array.isArray(t)}function BU(t){return typeof t=="boolean"}function Gk(t){return t instanceof Date}function b1(t){return Gk(t)&&!isNaN(Number(t))}function VU(t){return t instanceof RegExp}function rf(t){return typeof t=="function"}function Za(t){return typeof t=="object"&&t!==null&&!ur(t)}function a1e(t){return ur(t)||xa(t)}function xa(t){return typeof t=="object"&&t!==null&&t.constructor===Object}function qr(t){return typeof t=="string"}function Vo(t){return typeof t=="number"}function Bn(t){return Vo(t)&&Number.isFinite(t)}function zU(t){return typeof window<"u"&&t instanceof HTMLElement}function l1e(t,e){return qr(e)&&Object.keys(t).includes(e)}function HU(t,e){return Object.values(t).includes(e)}function jU(t){return typeof t=="symbol"}function c1e(...t){return nn(...t.reverse())}function nn(...t){var e;let n={};for(let r of t){if(!Za(r))continue;let l=jk(r)?Qg(r):Object.keys(r);for(let c of l)xa(n[c])&&xa(r[c])?n[c]=nn(n[c],r[c]):(e=n[c])!=null||(n[c]=r[c])}return n}function TL(t,...e){return e&&ur(t)?t.map(n=>nn(n,...e)):t}function Wk(t,e){return Object.entries(t).reduce((n,[r,l])=>(n[r]=e(l,r,t),n),{})}function AL(t,e){let n=he({},t);for(let r of e)delete n[r];return n}function iI(t,e){return(ur(e)?e:e.split(".")).reduce((r,l)=>r[l],t)}function rI(t,e,n){let r=ur(e)?e.slice():e.split("."),l=r.pop(),c=r.reduce((h,p)=>h[p],t);c[l]=n}function Zp(t,e,n){if(n===void 0)return e;for(let r of t){let l=n[r];l!==void 0&&(e[r]=l)}return e}var GU=class extends Map{get(t){var e;return(e=super.get(t))!=null?e:"unknown"}isCartesian(t){return this.get(t)==="cartesian"}isPolar(t){return this.get(t)==="polar"}isHierarchy(t){return this.get(t)==="hierarchy"}isTopology(t){return this.get(t)==="topology"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(t=>this.isCartesian(t))}get polarTypes(){return this.seriesTypes.filter(t=>this.isPolar(t))}get hierarchyTypes(){return this.seriesTypes.filter(t=>this.isHierarchy(t))}get topologyTypes(){return this.seriesTypes.filter(t=>this.isTopology(t))}},u1e=class extends Map{set(t,e){return super.set(t,nn(e,this.get(t)))}},us=new GU,WU=new GU,ML=new u1e,h0=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology"],optionsInnerKey:"image"},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology"]},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology"]},{type:"root",optionsKey:"rangeButtons",chartTypes:["cartesian"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function h1e(t){return h0.some(e=>e.type==="series"&&e.identifier===t)}function Uk(t){var e;return(e=h0.find(n=>n.type==="series"&&n.identifier===t))==null?void 0:e.chartTypes}function d1e(t){var e;return((e=Uk(t))==null?void 0:e.find(r=>r==="cartesian"))==="cartesian"}function p1e(t){var e;return((e=Uk(t))==null?void 0:e.find(r=>r==="polar"))==="polar"}function f1e(t){var e;return((e=Uk(t))==null?void 0:e.find(r=>r==="hierarchy"))==="hierarchy"}function m1e(t){var e;return((e=Uk(t))==null?void 0:e.find(r=>r==="topology"))==="topology"}function g1e(t){return t.packageType==="enterprise"}function v1e(t){var e;if(!g1e(t))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");let n=h0.find(r=>r.type===t.type&&r.optionsKey===t.optionsKey&&r.identifier===t.identifier&&t.chartTypes.every(l=>r.chartTypes.includes(l)));return n&&((e=n.useCount)!=null||(n.useCount=0),n.useCount++),n!=null}function y1e(){return h0.filter(({useCount:t})=>t==null||t===0)}function d0(t){var e,n,r;return(r=(n=(e=t.series)==null?void 0:e[0])==null?void 0:n.type)!=null?r:"line"}function Jg(t){let e=d0(t);return e==null?!0:e==="cartesian"?(Le.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):us.isCartesian(e)||d1e(e)}function $k(t){let e=d0(t);return e==null?!1:e==="polar"?(Le.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):us.isPolar(e)||p1e(e)}function sI(t){let e=d0(t);return e==null?!1:e==="hierarchy"?(Le.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):us.isHierarchy(e)||f1e(e)}function oI(t){let e=d0(t);return e==null?!1:e==="topology"?(Le.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):us.isTopology(e)||m1e(e)}function x1e(t){let e=d0(t);return $k(t)&&e!=="pie"&&e!=="donut"}function b1e(t){return t==null?!1:us.has(t)}function _1e(t){return t==null?!1:Vh.has(t)}function w1e(t){var e,n,r,l;let c=[],h=us.get(d0(t));for(let{type:p,chartTypes:m,optionsKey:g,optionsInnerKey:y,identifier:_}of h0)if(!(h!=="unknown"&&!m.includes(h))){if(p==="root"||p==="legend"){let C=t[g];if(C==null)continue;y?C[y]&&(c.push(`${g}.${y}`),delete C[y]):(c.push(g),delete t[g])}else if(p==="axis"){if(!("axes"in t)||!((e=t.axes)!=null&&e.some(C=>C.type===_)))continue;c.push(`axis[type=${_}]`),t.axes=t.axes.filter(C=>C.type!==_)}else if(p==="axis-option"){if(!("axes"in t)||!((n=t.axes)!=null&&n.some(C=>C[g])))continue;c.push(`axis.${g}`),t.axes.forEach(C=>{C[g]&&delete C[g]})}else if(p==="series"){if(!((r=t.series)!=null&&r.some(C=>C.type===_)))continue;c.push(`series[type=${_}]`),t.series=t.series.filter(C=>C.type!==_)}else if(p==="series-option"){if(!((l=t.series)!=null&&l.some(C=>C[g])))continue;c.push(`series.${g}`),t.series.forEach(C=>{C[g]&&delete C[g]})}}if(c.length){let p="ag-charts-enterprise",m="https://charts.ag-grid.com/javascript/installation/";t.mode==="integrated"&&(p="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",m="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),Le.warnOnce([`unable to use these enterprise features as '${p}' has not been loaded:`,"",...c,"",`See: ${m}`].join(`
`))}}var dn=class{set(t){let{className:e=this.constructor.name}=this.constructor;if(typeof t!="object")return Le.warn(`unable to set ${e} - expecting a properties object`),this;let n=new Set(Object.keys(t));for(let r of Qg(this))if(n.has(r)){let l=t[r],c=this;sc(c[r])?c[r]=c[r]instanceof _1?c[r].reset(l):c[r].set(l):c[r]=l,n.delete(r)}for(let r of n)Le.warn(`unable to set [${r}] in ${e} - property is unknown`);return this}isValid(){return Qg(this).every(t=>{let{optional:e}=o1e(this,t);return e||typeof this[t]<"u"})}toJson(){return Qg(this).reduce((t,e)=>{let n=this[e];return t[e]=sc(n)?n.toJson():n,t},{})}},_1=class UU extends Array{constructor(e,...n){super(n.length),Object.defineProperty(this,"itemFactory",{value:e,enumerable:!1,configurable:!1}),this.set(n)}set(e){if(ur(e)){this.length=e.length;for(let n=0;n<e.length;n++)this[n]=new this.itemFactory().set(e[n])}return this}reset(e){return new UU(this.itemFactory,...e)}toJson(){return this.map(e=>{var n,r;return(r=(n=e?.toJson)==null?void 0:n.call(e))!=null?r:e})}};function sc(t){return t instanceof dn||t instanceof _1}var hk="class-instance";function ba(t,e,n){if(ur(e)){if(!ur(t)||t.length!==e.length||e.some((r,l)=>ba(t[l],r)!=null))return e}else if(xa(e)){if(!xa(t))return e;let r={},l=new Set([...Object.keys(t),...Object.keys(e)]);for(let c of l)if(!(t[c]===e[c]||n?.includes(c)))if(typeof t[c]==typeof e[c]){let h=ba(t[c],e[c]);h!==null&&(r[c]=h)}else r[c]=e[c];return Object.keys(r).length?r:null}else if(t!==e)return e;return null}function hs(t,e){return ur(t)?t.map(n=>hs(n,e)):xa(t)?Wk(t,(n,r)=>{var l;return(l=e?.shallow)!=null&&l.includes(r)?Mk(n):hs(n,e)}):Mk(t)}function Mk(t){return ur(t)?[...t]:xa(t)?he({},t):Gk(t)?new Date(t):VU(t)?new RegExp(t.source,t.flags):t}function ec(t,e,n,...r){var l;if(ur(t))e(t,...r),t.forEach((c,h)=>{ec(c,e,n,...OW(r,h))});else if(xa(t)){e(t,...r);for(let c of Object.keys(t)){if((l=n?.skip)!=null&&l.includes(c))continue;let h=t[c];(ur(h)||xa(h))&&ec(h,e,n,...OW(r,c))}}}function Cu(t,e,n={}){let{path:r,constructedArrays:l,matcherPath:c=r?.replace(/(\[[0-9+]+])/i,"[]"),skip:h=[]}=n;if(t==null)throw new Error(`AG Charts - target is uninitialised: ${r??"<root>"}`);if(e==null)return t;if(sc(t))return t.set(e);let p=t,m=mL(t);for(let g in e){let y=`${c?c+".":""}${g}`;if(h.includes(y))continue;let _=e[g],C=`${r?r+".":""}${g}`,S=p.constructor,A=p[g],E;try{let L=mL(A),P=mL(_);if(m===hk&&!(g in t)){Le.warn(`unable to set [${C}] in ${S?.name} - property is unknown`);continue}if(L!=null&&P!=null&&P!==L&&(L!==hk||P!=="object")){Le.warn(`unable to set [${C}] in ${S?.name} - can't apply type of [${P}], allowed types are: [${L}]`);continue}if(sc(A))p[g].set(_);else if(P==="array")if(E??(E=l?.get(A)),E!=null){let R=_;p[g]=R.map(V=>Cu(new E,V,He(he({},n),{path:C,matcherPath:y+"[]"})))}else p[g]=_;else P===hk?p[g]=_:P==="object"?A!=null?Cu(A,_,He(he({},n),{path:C,matcherPath:y})):E!=null?p[g]=Cu(new E,_,He(he({},n),{path:C,matcherPath:y})):(p[g]={},Cu(p[g],_,He(he({},n),{path:C,matcherPath:y}))):p[g]=_}catch(L){Le.warn(`unable to set [${C}] in [${S?.name}]; nested error is: ${L.message}`)}}return t}function OW(t,e){return t.map(n=>n?.[e])}function mL(t){return t==null?null:zU(t)||Gk(t)?"primitive":ur(t)?"array":Za(t)?xa(t)?"object":hk:rf(t)?"function":"primitive"}var C1e=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(t,{chartTypes:[e],instanceConstructor:n,defaultAxes:r,themeTemplate:l,enterpriseThemeTemplate:c,paletteFactory:h,solo:p,stackable:m,groupable:g,stackedByDefault:y,swapDefaultAxesCondition:_,hidden:C}){this.setThemeTemplate(t,l,c),this.seriesMap.set(t,{instanceConstructor:n,defaultAxes:r,paletteFactory:h,solo:p,stackable:m,groupable:g,stackedByDefault:y,swapDefaultAxesCondition:_}),us.set(t,e),C||WU.set(t,e)}create(t,e){var n;let r=(n=this.seriesMap.get(t))==null?void 0:n.instanceConstructor;if(r)return new r(e);throw new Error(`AG Charts - unknown series type: ${t}`)}cloneDefaultAxes(t){var e;let n=(e=this.seriesMap.get(t))==null?void 0:e.defaultAxes;return n?{axes:hs(n)}:null}setThemeTemplate(t,e,n={}){let r=this.themeTemplates.get(t);this.themeTemplates.set(t,{community:nn(e,r?.community),enterprise:nn(n,e,r?.community)})}getThemeTemplate(t){let e=this.themeTemplates.get(t);return Kg.isEnterprise?e?.enterprise:e?.community}getPaletteFactory(t){var e;return(e=this.seriesMap.get(t))==null?void 0:e.paletteFactory}isSolo(t){var e,n;return(n=(e=this.seriesMap.get(t))==null?void 0:e.solo)!=null?n:!1}isGroupable(t){var e,n;return(n=(e=this.seriesMap.get(t))==null?void 0:e.groupable)!=null?n:!1}isStackable(t){var e,n;return(n=(e=this.seriesMap.get(t))==null?void 0:e.stackable)!=null?n:!1}isStackedByDefault(t){var e,n;return(n=(e=this.seriesMap.get(t))==null?void 0:e.stackedByDefault)!=null?n:!1}isDefaultAxisSwapNeeded(t){var e,n,r;let l;for(let c of(e=t.series)!=null?e:[]){let{type:h="line"}=c,p=(r=(n=this.seriesMap.get(h))==null?void 0:n.swapDefaultAxesCondition)==null?void 0:r.call(n,c);if(p!=null){if(l!=null&&l!=p)throw new Error("AG Charts - The provided series have incompatible directions");l=p}}return l}},No=new C1e,k1e=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(t,{optionsKey:e,instanceConstructor:n,themeTemplate:r}){this.legendMap.set(t,{optionsKey:e,instanceConstructor:n}),this.themeTemplates.set(e,r)}create(t,e){var n;let r=(n=this.legendMap.get(t))==null?void 0:n.instanceConstructor;if(r)return new r(e);throw new Error(`AG Charts - unknown legend type: ${t}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((t,[e,n])=>(t[e]=n.optionsKey,t),{})}},aI=new k1e,$U=(t=>(t[t.SMALL=12]="SMALL",t[t.MEDIUM=13]="MEDIUM",t[t.LARGE=17]="LARGE",t))($U||{}),YU=(t=>(t.NORMAL="normal",t.BOLD="bold",t.BOLDER="bolder",t.LIGHTER="lighter",t))(YU||{}),XU=(t=>(t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left",t))(XU||{}),qU=(t=>(t.CATEGORY="category",t.ORDINAL_TIME="ordinal-time",t.NUMBER="number",t.TIME="time",t.LOG="log",t))(qU||{}),KU=(t=>(t.ANGLE_CATEGORY="angle-category",t.ANGLE_NUMBER="angle-number",t.RADIUS_CATEGORY="radius-category",t.RADIUS_NUMBER="radius-number",t))(KU||{}),ZU=(t=>(t.CIRCLE="circle",t.POLYGON="polygon",t))(ZU||{}),Zl={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Qp={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},qp=Symbol("is-dark-theme"),QU=Symbol("extends-chart-defaults"),JU=Symbol("extends-legend-defaults"),e$=Symbol("extends-legend-item-defaults"),t$=Symbol("extends-legend-item-marker-defaults"),n$=Symbol("extends-axes-defaults"),i$=Symbol("extends-axes-label-defaults"),r$=Symbol("extends-axes-line-defaults"),s$=Symbol("extends-axes-tick-defaults"),o$=Symbol("extends-axes-grid-line-defaults"),Au=Symbol("extends-series-defaults"),p0=Symbol("extends-cartesian-marker-defaults"),a$=Symbol("override-series-label-defaults"),Cr=Symbol("default-font"),Nn=Symbol("default-label-colour"),l$=Symbol("default-inverted-label-colour"),f0=Symbol("default-inside-series-label-colour"),e0=Symbol("default-muted-label-colour"),Ek=Symbol("default-axis-grid-colour"),dk=Symbol("default-axis-line-colour"),$x=Symbol("default-cross-lines-colour"),e1=Symbol("default-background-colour"),m0=Symbol("default-shadow-colour"),tl=Symbol("default-waterfall-series-positive-colors"),nl=Symbol("default-waterfall-series-negative-colors"),il=Symbol("default-waterfall-series-total-colors"),rl=Symbol("default-waterfall-series-connector-line-stroke"),lI=Symbol("default-polar-series-stroke"),sl=Symbol("default-diverging-series-colour-range"),cI=Symbol("default-hierarchy-fills"),uI=Symbol("default-hierarchy-strokes"),gL="white",D1e={fills:Object.values(Zl),strokes:Object.values(Qp)},EL={get cartesian(){return{seriesTypes:us.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:us.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:us.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:us.topologyTypes,commonOptions:[]}}},S1e=Object.values(EL).reduce((t,{commonOptions:e})=>[...t,...e],[]);function T1e(t,e){var n,r;return t==null?null:{fills:(n=t.fills)!=null?n:e.fills,strokes:(r=t.strokes)!=null?r:e.strokes}}var Bp=class Wi{getPalette(){return D1e}static getAxisDefaults(e){return nn(e,{top:{},right:{},bottom:{},left:{},title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:Cr,color:Nn},label:{fontSize:12,fontFamily:Cr,padding:5,color:Nn,avoidCollisions:!0},line:{enabled:!0,width:1,color:dk},tick:{enabled:!1,width:1,color:dk},gridLine:{enabled:!0,style:[{stroke:Ek,lineDash:[]}]},crossLines:{enabled:!1,fill:$x,stroke:$x,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:Cr,padding:5,color:Nn}}})}static getSeriesDefaults(){return{tooltip:{enabled:!0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}}static getCartesianSeriesMarkerDefaults(){return{enabled:!0,shape:"circle",size:7,strokeWidth:1}}static getLegendItemMarkerDefaults(){return{size:15,padding:8}}static getCaptionWrappingDefaults(){return"hyphenate"}static getChartDefaults(){return{background:{visible:!0,fill:e1},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:Cr,color:Nn,wrapping:Wi.getCaptionWrappingDefaults()},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:Cr,color:e0,wrapping:Wi.getCaptionWrappingDefaults()},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:Cr,color:"rgb(140, 140, 140)",wrapping:Wi.getCaptionWrappingDefaults()},legend:{position:"bottom",spacing:30,listeners:{},item:{paddingX:16,paddingY:8,marker:Wi.getLegendItemMarkerDefaults(),toggleSeriesVisible:!0,label:{color:Nn,fontSize:12,fontFamily:Cr}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:Nn},inactiveStyle:{fill:e0},highlightStyle:{fill:Nn},label:{color:Nn}}},tooltip:{enabled:!0,darkTheme:qp,range:"nearest",delay:0},overlays:{loading:{darkTheme:qp},noData:{darkTheme:qp},noVisibleSeries:{darkTheme:qp}},listeners:{}}}constructor(e){var n;e=hs(e??{});let{overrides:r=null,palette:l=null}=e,c=this.createChartConfigPerChartType(this.getDefaults());if(r){let{common:p}=r,m=(g,y)=>{if(y)for(let _ of g){let C=_;c[C]=nn(y,c[C])}};for(let{seriesTypes:g,commonOptions:y}of Object.values(EL)){let _=he({},p);for(let C of S1e)y.includes(C)||delete _[C];m(g,_)}us.seriesTypes.forEach(g=>{let y=g;r[y]&&(c[y]=nn(r[y],c[y]))})}let h=this.getPalette();this.palette=(n=T1e(l,h))!=null?n:h,this.config=Object.freeze(this.templateTheme(c))}createChartConfigPerChartType(e){return Object.entries(EL).forEach(([n,{seriesTypes:r}])=>{let l=ML.get(n);r.forEach(c=>{let h=c;e[h]||(e[h]=hs(l))})}),e}getDefaults(){let e=r=>he(he(he({axes:{}},aI.getThemeTemplates()),Wi.getChartDefaults()),ML.get(r)),n=(r,l)=>{var c;let h=e(r),p={};for(let m of l){p[m]=nn(No.getThemeTemplate(m),(c=p[m])!=null?c:hs(h));let{axes:g}=p[m];for(let y of Vh.keys())g[y]=nn(g[y],Vh.getThemeTemplate(y),r==="cartesian"&&Wi.cartesianAxisDefault[y])}return p};return nn(n("cartesian",us.cartesianTypes),n("polar",us.polarTypes),n("hierarchy",us.hierarchyTypes),n("topology",us.topologyTypes))}templateTheme(e){let n=hs(e),{extensions:r,properties:l}=this.getTemplateParameters();return ec(n,c=>{if(c.__extends__){let h=c.__extends__,p=r.get(h);if(p==null)throw new Error(`AG Charts - no template variable provided for: ${h}`);Object.keys(p).forEach(m=>{m in c?Za(c[m])&&(c[m]=nn(c[m],p[m])):c[m]=p[m]}),delete c.__extends__}if(c.__overrides__){let h=c.__overrides__,p=r.get(h);if(p==null)throw new Error(`AG Charts - no template variable provided for: ${h}`);Object.assign(c,p),delete c.__overrides__}if(ur(c))for(let h=0;h<c.length;h++){let p=c[h];l.has(p)&&(c[h]=l.get(p))}else for(let[h,p]of Object.entries(c))l.has(p)&&(c[h]=l.get(p))}),hs(n)}static getWaterfallSeriesDefaultPositiveColors(){return{fill:Zl.BLUE,stroke:Qp.BLUE,label:{color:Nn}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Zl.ORANGE,stroke:Qp.ORANGE,label:{color:Nn}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Zl.GRAY,stroke:Qp.GRAY,label:{color:Nn}}}getTemplateParameters(){let e=new Map;e.set(QU,Wi.getChartDefaults()),e.set(n$,Wi.getAxisDefaults()),e.set(JU,Wi.getChartDefaults().legend),e.set(e$,Wi.getChartDefaults().legend.item),e.set(t$,Wi.getLegendItemMarkerDefaults()),e.set(i$,Wi.getAxisDefaults().label),e.set(r$,Wi.getAxisDefaults().line),e.set(s$,Wi.getAxisDefaults().tick),e.set(o$,Wi.getAxisDefaults().gridLine),e.set(Au,Wi.getSeriesDefaults()),e.set(a$,{}),e.set(p0,Wi.getCartesianSeriesMarkerDefaults());let n=new Map;return n.set(qp,!1),n.set(Cr,"Verdana, sans-serif"),n.set(Nn,"rgb(70, 70, 70)"),n.set(l$,"white"),n.set(e0,"rgb(140, 140, 140)"),n.set(Ek,"rgb(224,234,241)"),n.set(dk,"rgb(195, 195, 195)"),n.set($x,"rgb(70, 70, 70)"),n.set(f0,gL),n.set(e1,gL),n.set(m0,"rgba(0, 0, 0, 0.5)"),n.set(sl,[Zl.ORANGE,Zl.YELLOW,Zl.GREEN]),n.set(cI,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),n.set(uI,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),n.set(lI,gL),n.set(tl,Wi.getWaterfallSeriesDefaultPositiveColors()),n.set(nl,Wi.getWaterfallSeriesDefaultNegativeColors()),n.set(il,Wi.getWaterfallSeriesDefaultTotalColors()),n.set(rl,Wi.getWaterfallSeriesDefaultTotalColors().stroke),{extensions:e,properties:n}}};Bp.cartesianAxisDefault={number:Bp.getAxisDefaults({line:{enabled:!1}}),log:Bp.getAxisDefaults({base:10,line:{enabled:!1}}),category:Bp.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:!1}}),time:Bp.getAxisDefaults({gridLine:{enabled:!1}}),"grouped-category":Bp.getAxisDefaults()};var Mu=Bp,vL="#192232",Vp={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},pk={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},A1e={fills:Object.values(Vp),strokes:Object.values(pk)},w1=class Ex extends Mu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Vp.BLUE,stroke:pk.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Vp.ORANGE,stroke:pk.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Vp.GRAY,stroke:pk.GRAY,label:{color:"white"}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.properties.set(qp,!0),e.properties.set(tl,Ex.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(nl,Ex.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(il,Ex.getWaterfallSeriesDefaultTotalColors()),e.properties.set(rl,Ex.getWaterfallSeriesDefaultTotalColors().stroke),e.properties.set(lI,vL),e.properties.set(Nn,"white"),e.properties.set(e0,"#7D91A0"),e.properties.set(Ek,"#545A6E"),e.properties.set($x,"white"),e.properties.set(sl,[Vp.ORANGE,Vp.YELLOW,Vp.GREEN]),e.properties.set(cI,["#192834","#253746","#324859","#3f596c","#4d6a80"]),e.properties.set(uI,["#192834","#3b5164","#496275","#577287","#668399"]),e.properties.set(e1,vL),e.properties.set(f0,vL),e}getPalette(){return A1e}constructor(e){super(e)}},zp={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},fk={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},M1e={fills:Object.values(zp),strokes:Object.values(fk)},E1e=class Lx extends w1{static getWaterfallSeriesDefaultPositiveColors(){return{fill:zp.BLUE,stroke:fk.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:zp.RED,stroke:fk.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:zp.GRAY,stroke:fk.GRAY,label:{color:"white"}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.properties.set(tl,Lx.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(nl,Lx.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(il,Lx.getWaterfallSeriesDefaultTotalColors()),e.properties.set(sl,[zp.ORANGE,zp.YELLOW,zp.GREEN]),e.properties.set(rl,Lx.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return M1e}},Hp={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},mk={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},L1e={fills:Object.values(Hp),strokes:Object.values(mk)},I1e=class Ix extends Mu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Hp.BLUE,stroke:mk.BLUE,label:{color:Nn}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Hp.RED,stroke:mk.RED,label:{color:Nn}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Hp.GRAY,stroke:mk.GRAY,label:{color:Nn}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.properties.set(tl,Ix.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(nl,Ix.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(il,Ix.getWaterfallSeriesDefaultTotalColors()),e.properties.set(sl,[Hp.ORANGE,Hp.YELLOW,Hp.GREEN]),e.properties.set(rl,Ix.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return L1e}},Ox={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},LL={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff"},O1e="#bbbbbb",R1e="#eeeeee",P1e={fills:Object.values(Ox),strokes:Object.values(LL)},F1e=class Rx extends w1{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Ox.BLUE,stroke:LL.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Ox.RED,stroke:LL.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:O1e,stroke:R1e,label:{color:"white"}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.properties.set(tl,Rx.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(nl,Rx.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(il,Rx.getWaterfallSeriesDefaultTotalColors()),e.properties.set(sl,[Ox.BLUE,Ox.RED]),e.properties.set(rl,Rx.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return P1e}},Px={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},IL={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb"},N1e="#bbbbbb",B1e="#888888",V1e={fills:Object.values(Px),strokes:Object.values(IL)},z1e=class Fx extends Mu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Px.BLUE,stroke:IL.BLUE,label:{color:Nn}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Px.RED,stroke:IL.RED,label:{color:Nn}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:N1e,stroke:B1e,label:{color:Nn}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.properties.set(tl,Fx.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(nl,Fx.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(il,Fx.getWaterfallSeriesDefaultTotalColors()),e.properties.set(sl,[Px.BLUE,Px.RED]),e.properties.set(rl,Fx.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return V1e}},jp={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},gk={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},H1e={fills:Object.values(jp),strokes:Object.values(gk)},j1e=class Nx extends w1{static getWaterfallSeriesDefaultPositiveColors(){return{fill:jp.BLUE,stroke:gk.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:jp.ORANGE,stroke:gk.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:jp.GRAY,stroke:gk.GRAY,label:{color:"white"}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.properties.set(tl,Nx.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(nl,Nx.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(il,Nx.getWaterfallSeriesDefaultTotalColors()),e.properties.set(sl,[jp.ORANGE,jp.YELLOW,jp.GREEN]),e.properties.set(rl,Nx.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return H1e}},Gp={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},vk={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},G1e={fills:Object.values(Gp),strokes:Object.values(vk)},W1e=class Bx extends Mu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Gp.BLUE,stroke:vk.BLUE,label:{color:Nn}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Gp.ORANGE,stroke:vk.ORANGE,label:{color:Nn}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Gp.GRAY,stroke:vk.GRAY,label:{color:Nn}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.properties.set(tl,Bx.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(nl,Bx.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(il,Bx.getWaterfallSeriesDefaultTotalColors()),e.properties.set(sl,[Gp.ORANGE,Gp.YELLOW,Gp.GREEN]),e.properties.set(rl,Bx.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return G1e}},Wp={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},yk={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#c18aff",YELLOW:"#fff653",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},U1e={fills:Object.values(Wp),strokes:Object.values(yk)},$1e=class Vx extends w1{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Wp.BLUE,stroke:yk.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Wp.ORANGE,stroke:yk.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Wp.GRAY,stroke:yk.GRAY,label:{color:"white"}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.properties.set(tl,Vx.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(nl,Vx.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(il,Vx.getWaterfallSeriesDefaultTotalColors()),e.properties.set(sl,[Wp.ORANGE,Wp.YELLOW,Wp.GREEN]),e.properties.set(rl,Vx.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return U1e}},Up={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},xk={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},Y1e={fills:Object.values(Up),strokes:Object.values(xk)},X1e=class zx extends Mu{static getWaterfallSeriesDefaultPositiveColors(){return{fill:Up.BLUE,stroke:xk.BLUE,label:{color:Nn}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:Up.ORANGE,stroke:xk.ORANGE,label:{color:Nn}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:Up.GRAY,stroke:xk.GRAY,label:{color:Nn}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.properties.set(tl,zx.getWaterfallSeriesDefaultPositiveColors()),e.properties.set(nl,zx.getWaterfallSeriesDefaultNegativeColors()),e.properties.set(il,zx.getWaterfallSeriesDefaultTotalColors()),e.properties.set(sl,[Up.ORANGE,Up.YELLOW,Up.GREEN]),e.properties.set(rl,zx.getWaterfallSeriesDefaultTotalColors().stroke),e}getPalette(){return Y1e}},Yx=()=>new Mu,yL=()=>new w1,q1e={undefined:Yx,null:Yx,"ag-default":Yx,"ag-sheets":()=>new W1e,"ag-polychroma":()=>new z1e,"ag-vivid":()=>new X1e,"ag-material":()=>new I1e},K1e={undefined:yL,null:yL,"ag-default-dark":yL,"ag-sheets-dark":()=>new j1e,"ag-polychroma-dark":()=>new F1e,"ag-vivid-dark":()=>new $1e,"ag-material-dark":()=>new E1e},c$=he(he({},K1e),q1e);function Z1e(t){if(t===null)return;let e=!0,{baseTheme:n,palette:r,overrides:l}=t;if(n!==void 0&&typeof n!="string"&&typeof n!="object"&&(Le.warn(`invalid theme.baseTheme type ${typeof n}, expected (string | object).`),e=!1),l!==void 0&&typeof l!="object"&&(Le.warn(`invalid theme.overrides type ${typeof l}, expected object.`),e=!1),typeof r=="object"){if(r!==null){let{fills:c,strokes:h}=r;c!==void 0&&!Array.isArray(c)&&(Le.warn("theme.overrides.fills must be undefined or an array"),e=!1),h!==void 0&&!Array.isArray(h)&&(Le.warn("theme.overrides.strokes must be undefined or an array"),e=!1)}}else r!==void 0&&(Le.warn(`invalid theme.palette type ${typeof r}, expected object.`),e=!1);if(e)return t}function Q1e(t){if(t===void 0||typeof t=="string"||t instanceof Mu)return t;if(typeof t=="object")return Z1e(t);Le.warn(`invalid theme value type ${typeof t}, expected object or string.`)}function hI(t){let e=Q1e(t);if(e instanceof Mu)return e;if(e==null||typeof e=="string"){let h=c$[e];return h?h():(Le.warnOnce(`the theme [${e}] is invalid, using [ag-default] instead.`),Yx())}let n=[],r;for(;typeof e=="object";)n.push(e.overrides),r??(r=e.palette),e=e.baseTheme;let l={baseTheme:e,overrides:nn(...n),palette:r},c=l.baseTheme?hI(l.baseTheme):Yx();return new c.constructor(l)}function ac(t){if(t.length===0)return;let e=1/0,n=-1/0;for(let l of t){let c=l;c instanceof Date&&(c=c.getTime()),typeof c=="number"&&(c<e&&(e=c),c>n&&(n=c))}let r=[e,n];if(r.every(isFinite))return r}function u$(t,e,n){return C1(t,e,n).extent}function C1(t,e,n){var r;let l=!1;return t.length>2&&(t=(r=ac(t))!=null?r:[NaN,NaN]),isNaN(e)||(l||(l=e>t[0]),t=[e,t[1]]),isNaN(n)||(l||(l=n<t[1]),t=[t[0],n]),t[0]>t[1]&&(t=[]),{extent:t,clipped:l}}function Xx(t,e){if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(Array.isArray(t[n])&&Array.isArray(e[n])){if(!Xx(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function Lk(t){return typeof t>"u"?[]:Array.isArray(t)?t:[t]}function Yk(t){return Array.from(new Set(t))}function dI(t,e){return t.reduce((n,r)=>{var l;let c=e(r);return(l=n[c])!=null||(n[c]=[]),n[c].push(r),n},{})}function OL(t,e,n=0){if(t.length===0)return[];let r=[];for(let l=0;l<e;l++)r.push(t.at((l+n)%t.length));return r}function h$(t,e){return e.reduce(([n,r],l)=>t(l)?[[...n,l],r]:[n,[...r,l]],[[],[]])}var Su={},ik=new WeakMap;typeof window<"u"?Su.window=window:typeof global<"u"&&(Su.window=global.window);typeof document<"u"?Su.document=document:typeof global<"u"&&(Su.document=global.document);function sf(){return Su.document}function _a(t){var e;return t?(e=Su.window)==null?void 0:e[t]:Su.window}function Is(t,e){return sf().createElement(t,e)}function d$(t,e){let{body:n}=sf(),r=Is("a");r.href=t,r.download=e,r.style.display="none",n.appendChild(r),r.click(),setTimeout(()=>n.removeChild(r))}function Xk(t,e){var n,r;let l=sf();if(e&&((n=ik.get(l))!=null&&n.has(e)))return;let c=Is("style");c.innerHTML=t,l.head.insertBefore(c,l.head.querySelector("style")),e&&!ik.has(l)?ik.set(l,new Set([e])):e&&((r=ik.get(l))==null||r.add(e))}function p$(t){Su.document=t}function f$(t){Su.window=t}var J1e=2e3,RW=Date.now(),ebe=()=>{let t=Date.now()-RW;if(t>J1e){let e=(Math.floor(t/100)/10).toFixed(1);Le.log(`**** ${e}s since last log message ****`)}RW=Date.now()},Li={create(...t){return Object.assign((...n)=>{Li.check(...t)&&(typeof n[0]=="function"&&(n=Lk(n[0]())),ebe(),Le.log(...n))},{check:()=>Li.check(...t)})},check(...t){return t.length===0&&t.push(!0),Lk(_a("agChartsDebug")).some(n=>t.includes(n))}},tbe=new Set(["map-shape-background","map-line-background"]),m$=class{constructor(t,e){var n,r,l;let c={shallow:["data"]},h=hs(t,c),p=this.optionsType(h);this.sanityCheckAndCleanup(h),this.userOptions=h,this.activeTheme=hI(h.theme),this.defaultAxes=this.getDefaultAxes(h),this.specialOverrides=this.specialOverridesDefaults(he({},e));let m=this.getSeriesThemeConfig(p),{axes:g={},series:y}=m,_=er(m,["axes","series"]);this.processedOptions=hs(nn(this.userOptions,_,this.defaultAxes),c),this.processAxesOptions(this.processedOptions,g),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),(Jg(this.processedOptions)||x1e(this.processedOptions))&&((n=this.processedOptions.legend)==null?void 0:n.enabled)==null&&((l=(r=this.processedOptions).legend)!=null||(r.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions),Kg.isEnterprise||w1e(this.processedOptions)}getOptions(){var t;return(t=this.processedOptions)!=null?t:{}}diffOptions(t){return ba(t,this.processedOptions)}getSeriesThemeConfig(t){var e,n;return hs((n=(e=this.activeTheme)==null?void 0:e.config[t])!=null?n:{})}getDefaultAxes(t){let e=this.optionsType(t),n=No.cloneDefaultAxes(e);return No.isDefaultAxisSwapNeeded(t)&&this.swapAxesPosition(n),n}optionsType(t){var e,n,r;return(r=(n=(e=t.series)==null?void 0:e[0])==null?void 0:n.type)!=null?r:"line"}sanityCheckAndCleanup(t){var e;this.deprecationWarnings(t),this.axesTypeIntegrity(t),this.seriesTypeIntegrity(t),this.soloSeriesIntegrity(t),this.removeDisabledOptions(t),this.removeLeftoverSymbols(t),(e=t.series)!=null&&e.some(n=>n.type==="bullet")&&t.sync!=null&&t.sync.enabled!==!1&&(Le.warnOnce("bullet series cannot be synced, disabling synchronization."),delete t.sync)}swapAxesPosition(t){var e;if(Jg(t)){let[n,r]=(e=t.axes)!=null?e:[];t.axes=[He(he({},n),{position:r.position}),He(he({},r),{position:n.position})]}}processAxesOptions(t,e){"axes"in t&&(t.axes=t.axes.map(n=>{var r,l,c;let h=nn((r=e[n.type])==null?void 0:r[n.position],e[n.type]),{crossLines:p}=h,m=er(h,["crossLines"]);n.crossLines&&(n.crossLines=TL(n.crossLines,p));let g=(l=m.gridLine)==null?void 0:l.style;(c=n.gridLine)!=null&&c.style&&g?.length&&(n.gridLine.style=n.gridLine.style.map((L,P)=>L.stroke!=null||L.lineDash!=null?nn(L,g.at(P%g.length)):L));let y=nn(n,m),{top:_,right:C,bottom:S,left:A}=y;return er(y,["top","right","bottom","left"])}))}processSeriesOptions(t){let e=this.getDefaultSeriesType(t),n=this.getTooltipPositionDefaults(t),r=!!(Za(t.theme)&&t.theme.palette),l={colourIndex:0,userPalette:r},c=t.series.map(h=>{var p,m;(p=h.type)!=null||(h.type=e);let g=(m=this.getSeriesThemeConfig(h.type).series)!=null?m:{},{innerLabels:y}=g,_=er(g,["innerLabels"]),C=tbe.has(h.type)?{colourIndex:0,userPalette:r}:l,S=this.getSeriesPalette(h.type,C),A=nn(this.getSeriesGroupingOptions(h),h,n,_,S);return A.innerLabels&&(A.innerLabels=TL(A.innerLabels,y)),this.activeTheme.templateTheme(A)});t.series=this.setSeriesGroupingOptions(c)}processMiniChartSeriesOptions(t){var e,n;let r=(n=(e=t.navigator)==null?void 0:e.miniChart)==null?void 0:n.series;if(r==null)return;let l={colourIndex:0,userPalette:!!(Za(t.theme)&&t.theme.palette)};r=r.map(c=>{var h,p;(h=c.type)!=null||(c.type="line");let m=(p=this.getSeriesThemeConfig(c.type).series)!=null?p:{},{innerLabels:g}=m,y=er(m,["innerLabels"]),_=nn(this.getSeriesGroupingOptions(c),c,y,this.getSeriesPalette(c.type,l));return this.activeTheme.templateTheme(_)}),t.navigator.miniChart.series=this.setSeriesGroupingOptions(r)}getSeriesPalette(t,e){let n=No.getPaletteFactory(t),{colourIndex:r,userPalette:l}=e,{fills:c=[],strokes:h=[]}=this.activeTheme.palette;return n?.({userPalette:l,colorsCount:Math.max(c.length,h.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),takeColors(p){return e.colourIndex+=p,{fills:OL(c,p,r),strokes:OL(h,p,r)}}})}getSeriesGroupingOptions(t){let e=No.isGroupable(t.type),n=No.isStackable(t.type),r=No.isStackedByDefault(t.type);t.grouped&&!e&&Le.warnOnce(`unsupported grouping of series type "${t.type}".`),(t.stacked||t.stackGroup)&&!n&&Le.warnOnce(`unsupported stacking of series type "${t.type}".`);let{grouped:l,stacked:c}=t;return c??(c=(r||t.stackGroup!=null)&&!(e&&l)),l??(l=!0),{stacked:n&&c,grouped:e&&l&&!(n&&c)}}setSeriesGroupingOptions(t){let e=this.getSeriesGrouping(t);Li.create(!0,"opts")("setSeriesGroupingOptions() - series grouping: ",e);let n={},r=e.reduce((l,c)=>{var h,p;return c.groupType==="default"||((p=l[h=c.seriesType])!=null||(l[h]=0),l[c.seriesType]+=c.groupType==="stack"?1:c.series.length),l},{});return e.flatMap(l=>{var c,h;switch((h=n[c=l.seriesType])!=null||(n[c]=0),l.groupType){case"stack":let p=n[l.seriesType]++;return l.series.map((m,g)=>Object.assign(m,{seriesGrouping:{groupIndex:p,groupCount:r[l.seriesType],stackIndex:g,stackCount:l.series.length}}));case"group":return l.series.map(m=>Object.assign(m,{seriesGrouping:{groupIndex:n[l.seriesType]++,groupCount:r[l.seriesType],stackIndex:0,stackCount:0}}))}return l.series}).map(l=>{var c=l,{stacked:h,grouped:p}=c,m=er(c,["stacked","grouped"]);return m})}getSeriesGroupId(t){var e;return!t.stacked&&!t.grouped?"default-ag-charts-group":[t.type,t.xKey,t.stacked?(e=t.stackGroup)!=null?e:"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){let e=new Map;return t.reduce((n,r)=>{let l=r.type;if(!r.stacked&&!r.grouped)n.push({groupType:"default",seriesType:l,series:[r]});else{let c=this.getSeriesGroupId(r);if(!e.has(c)){let p={groupType:r.stacked?"stack":"group",seriesType:l,series:[]};e.set(c,p),n.push(p)}e.get(c).series.push(r)}return n},[])}getDefaultSeriesType(t){if(Jg(t))return"line";if($k(t))return"pie";if(sI(t))return"treemap";if(oI(t))return"map-shape";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(t){var e;let n=(e=t.tooltip)==null?void 0:e.position;if(!xa(n))return;let{type:r,xOffset:l,yOffset:c}=n,h={};return qr(r)&&HU(DU,r)&&(h.type=r),Bn(l)&&(h.xOffset=l),Bn(c)&&(h.yOffset=c),{tooltip:{position:h}}}deprecationWarnings(t){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([n,r])=>{var l;(l=t.series)!=null&&l.some(c=>c[n]!=null)&&Le.warnOnce(`Property [series.${n}] is deprecated, please use [series.${r}] and multiple series instead.`)})}axesTypeIntegrity(t){var e;if("axes"in t){let n=(e=t.axes)!=null?e:[];for(let{type:r}of n)if(!_1e(r)){delete t.axes;let l=Array.from(Vh.publicKeys()).join(", ");Le.warnOnce(`unknown axis type: ${r}; expected one of: ${l}`)}}}seriesTypeIntegrity(t){var e;let n=(e=t.series)!=null?e:[];t.series=n.filter(({type:r})=>{if(r==null||b1e(r)||h1e(r))return!0;Le.warnOnce(`unknown series type: ${r}; expected one of: ${WU.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(t){let e=t.series;if(e&&e.length>1&&e.some(n=>No.isSolo(n.type))){let n=this.optionsType(t);if(No.isSolo(n))Le.warn(`series[0] of type '${n}' is incompatible with other series types. Only processing series[0]`),t.series=e.slice(0,1);else{let{solo:r,nonSolo:l}=dI(e,h=>No.isSolo(h.type)?"solo":"nonSolo"),c=Yk(r.map(h=>h.type)).join(", ");Le.warn(`Unable to mix these series types with the lead series type: ${c}`),t.series=l}}}enableConfiguredOptions(t){ec(this.userOptions,(e,n)=>{n&&"enabled"in n&&!n._enabledFromTheme&&e.enabled==null&&(n.enabled=!0)},{skip:["data","theme"]},t),ec(t,e=>{e._enabledFromTheme!=null&&delete e._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(t){ec(t,e=>{"enabled"in e&&e.enabled===!1&&Object.keys(e).forEach(n=>{n!=="enabled"&&delete e[n]})},{skip:["data","theme"]})}removeLeftoverSymbols(t){ec(t,e=>{if(!(!e||!Za(e)))for(let[n,r]of Object.entries(e))jU(r)&&delete e[n]},{skip:["data"]})}specialOverridesDefaults(t){if(t.window!=null?f$(t.window):typeof window<"u"?t.window=window:typeof global<"u"&&(t.window=global.window),t.document!=null?p$(t.document):typeof document<"u"?t.document=document:typeof global<"u"&&(t.document=global.document),t.window==null)throw new Error("AG Charts - unable to resolve global window");if(t.document==null)throw new Error("AG Charts - unable to resolve global document");return t}};function pI(){return(t,e)=>{let n=[`Property [${t}] is deprecated.`,e].filter(Boolean).join(" ");Le.warnOnce(n)}}function of(t,e){let n=pI(),r=e?.default;return Du((l,c,h)=>(h!==r&&n(c.toString(),t),h))}function nbe(t,e){let n=pI();return Du((r,l,c)=>(c!==r[t]&&(n(l.toString(),`Use [${t}] instead.`),rI(r,t,e?e(c):c)),Tk),(r,l)=>(n(l.toString(),`Use [${t}] instead.`),iI(r,t)))}var g$={};Tu(g$,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Rs,fromToMotion:()=>Si,staticFromToMotion:()=>cc});var RL=new Map;function v$(){RL.clear()}function lc(t){var e;let n=t.constructor,r=Object.hasOwn(n,"className")?n.className:n.name;if(!r)throw new Error(`The ${n} is missing the 'className' property.`);let l=((e=RL.get(r))!=null?e:0)+1;return RL.set(r,l),`${r}-${l}`}var fI="$interpolate",PW=t=>t[fI]!=null;function kn(t,e,n){return Math.min(n,Math.max(t,e))}function Ik(t,e){let[n,r]=Qa(e);return kn(n,t,r)}function Qa(t){return t.length?[Math.min(...t),Math.max(...t)]:[]}function t1(t){let[e,n]=Qa(t);return n-e}function Jp(t,e,n=1e-10){return Math.abs(t-e)<n}function k1(t){return Math.sign(t)===-1||Object.is(t,-0)}function mI(t,e=2){let n=Gt(10,e);return Math.round(t*n)/n}function qk(t,e=2){let n=Math.floor(Math.log(Math.abs(t))/Math.LN10);return n>=0||!isFinite(n)?t.toFixed(e):t.toFixed(Math.abs(n)-1+e)}function Kk(t,e){return Math.floor(t%e+(t<0?e:0))}function gI(t,e=10){let[,n=""]=(Math.abs(t)%1).toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:e}).split(".");return n.length}function y$(t,e,n,r=1/0){let l={nearest:void 0,distanceSquared:r};for(let c of n){let h=c.distanceSquared(t,e);if(h===0)return{nearest:c,distanceSquared:0};h<l.distanceSquared&&(l.nearest=c,l.distanceSquared=h)}return l}function ibe(t,e,n,r=1/0){let{x:l,y:c}=n.transformPoint(t,e),h={nearest:void 0,distanceSquared:r};for(let p of n.children){let{nearest:m,distanceSquared:g}=p.nearestSquared(l,c,h.distanceSquared);if(g===0)return{nearest:m,distanceSquared:g};g<h.distanceSquared&&(h.nearest=m,h.distanceSquared=g)}return h}var n1=class bk{constructor(e,n,r,l){this.x=e,this.y=n,this.width=r,this.height=l}clone(){let{x:e,y:n,width:r,height:l}=this;return new bk(e,n,r,l)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}containsPoint(e,n){return e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height}collidesBBox(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(e,n){if(this.containsPoint(e,n))return 0;let r=e-kn(this.x,e,this.x+this.width),l=n-kn(this.y,n,this.y+this.height);return r*r+l*l}static nearestBox(e,n,r){return y$(e,n,r)}shrink(e,n){let r=(l,c)=>{switch(l){case"top":this.y+=c;case"bottom":this.height-=c;break;case"left":this.x+=c;case"right":this.width-=c;break;case"vertical":this.y+=c,this.height-=c*2;break;case"horizontal":this.x+=c,this.width-=c*2;break;case void 0:this.x+=c,this.width-=c*2,this.y+=c,this.height-=c*2;break;default:}};return typeof e=="number"?r(n,e):typeof e=="object"&&Object.entries(e).forEach(([l,c])=>r(l,c)),this}grow(e,n){if(typeof e=="number")this.shrink(-e,n);else{let r=he({},e);for(let l in r)r[l]*=-1;this.shrink(r)}return this}combine(e){let{x:n,y:r,width:l,height:c}=this;this.x=Math.min(n,e.x),this.y=Math.min(r,e.y),this.width=Math.max(n+l,e.x+e.width)-this.x,this.height=Math.max(r+c,e.y+e.height)-this.y}static merge(e){let n=1/0,r=1/0,l=-1/0,c=-1/0;return e.forEach(h=>{h.x<n&&(n=h.x),h.y<r&&(r=h.y),h.x+h.width>l&&(l=h.x+h.width),h.y+h.height>c&&(c=h.y+h.height)}),new bk(n,r,l-n,c-r)}[fI](e,n){return new bk(this.x*(1-n)+e.x*n,this.y*(1-n)+e.y*n,this.width*(1-n)+e.width*n,this.height*(1-n)+e.height*n)}};n1.zero=new n1(0,0,0,0);n1.NaN=new n1(NaN,NaN,NaN,NaN);var yt=n1,Nh=(t=>(t[t.NONE=0]="NONE",t[t.TRIVIAL=1]="TRIVIAL",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR",t))(Nh||{});function rbe(){try{return new Function("return true"),!0}catch{return!1}}var sbe=rbe();function je(t){let{changeCb:e,convertor:n}=t??{};return function(r,l){let c=`__${l}`;r[l]||(sbe&&e==null&&n==null?obe(r,l,c,t):abe(r,l,c,t))}}function obe(t,e,n,r){let{redraw:l=1,type:c="normal",checkDirtyOnAssignment:h=!1}=r??{},p=new Function("value",`
        const oldValue = this.${n};
        if (value !== oldValue) {
            this.${n} = value;
            ${c==="normal"?`this.markDirty(this, ${l});`:""}
            ${c==="transform"?`this.markDirtyTransform(${l});`:""}
            ${c==="path"?`if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${l}); }`:""}
            ${c==="font"?`if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${l}); }`:""}
        }
        ${h?"if (value != null && value._dirty > 0) { this.markDirty(value, value._dirty); }":""}
`),m=new Function(`return this.${n};`);Object.defineProperty(t,e,{set:p,get:m,enumerable:!0,configurable:!0})}function abe(t,e,n,r){let{redraw:l=1,type:c="normal",changeCb:h,convertor:p,checkDirtyOnAssignment:m=!1}=r??{};Object.defineProperty(t,e,{set:function(_){let C=this[n];_=p?p(_):_,_!==C&&(this[n]=_,c==="normal"&&this.markDirty(this,l),c==="transform"&&this.markDirtyTransform(l),c==="path"&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,l)),c==="font"&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,l)),h?.(this)),m&&_!=null&&_._dirty>0&&this.markDirty(_,_._dirty)},get:function(){return this[n]},enumerable:!0,configurable:!0})}var lbe=class{constructor(){this._dirty=3}markDirty(t,e=1){this._dirty<e&&(this._dirty=e)}markClean(t){this._dirty=0}isDirty(){return this._dirty>0}},PL=class Hx{get e(){return[...this.elements]}constructor(e=[1,0,0,1,0,0]){this.elements=e}setElements(e){let n=this.elements;return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],this}get identity(){let e=this.elements;return e[0]===1&&e[1]===0&&e[2]===0&&e[3]===1&&e[4]===0&&e[5]===0}AxB(e,n,r){let l=e[0]*n[0]+e[2]*n[1],c=e[1]*n[0]+e[3]*n[1],h=e[0]*n[2]+e[2]*n[3],p=e[1]*n[2]+e[3]*n[3],m=e[0]*n[4]+e[2]*n[5]+e[4],g=e[1]*n[4]+e[3]*n[5]+e[5];r=r??e,r[0]=l,r[1]=c,r[2]=h,r[3]=p,r[4]=m,r[5]=g}multiplySelf(e){return this.AxB(this.elements,e.elements),this}multiply(e){let n=new Array(6);return this.AxB(this.elements,e.elements,n),new Hx(n)}preMultiplySelf(e){return this.AxB(e.elements,this.elements,this.elements),this}inverse(){let e=this.elements,n=e[0],r=e[1],l=e[2],c=e[3],h=e[4],p=e[5],m=1/(n*c-r*l);return n*=m,r*=m,l*=m,c*=m,new Hx([c,-r,-l,n,l*p-c*h,r*h-n*p])}inverseTo(e){let n=this.elements,r=n[0],l=n[1],c=n[2],h=n[3],p=n[4],m=n[5],g=1/(r*h-l*c);return r*=g,l*=g,c*=g,h*=g,e.setElements([h,-l,-c,r,c*m-h*p,l*p-r*m]),this}invertSelf(){let e=this.elements,n=e[0],r=e[1],l=e[2],c=e[3],h=e[4],p=e[5],m=1/(n*c-r*l);return n*=m,r*=m,l*=m,c*=m,e[0]=c,e[1]=-r,e[2]=-l,e[3]=n,e[4]=l*p-c*h,e[5]=r*h-n*p,this}transformPoint(e,n){let r=this.elements;return{x:e*r[0]+n*r[2]+r[4],y:e*r[1]+n*r[3]+r[5]}}transformBBox(e,n){let r=this.elements,l=r[0],c=r[1],h=r[2],p=r[3],m=e.width*.5,g=e.height*.5,y=e.x+m,_=e.y+g,C=Math.abs(m*l)+Math.abs(g*h),S=Math.abs(m*c)+Math.abs(g*p);return n||(n=new yt(0,0,0,0)),n.x=y*l+_*h+r[4]-C,n.y=y*c+_*p+r[5]-S,n.width=C+C,n.height=S+S,n}toContext(e){if(this.identity)return;let n=this.elements;e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}static flyweight(e){return Hx.instance.setElements(e.elements)}static updateTransformMatrix(e,n,r,l,c,h,p){let[m,g]=[0,0],y=n,_=r,C,S;y===1&&_===1?(C=0,S=0):(C=p?.scalingCenterX==null?m:p?.scalingCenterX,S=p?.scalingCenterY==null?g:p?.scalingCenterY);let A=l,E=Math.cos(A),L=Math.sin(A),P,R;A===0?(P=0,R=0):(P=p?.rotationCenterX==null?m:p?.rotationCenterX,R=p?.rotationCenterY==null?g:p?.rotationCenterY);let V=c,z=h,H=C*(1-y)-P,U=S*(1-_)-R;return e.setElements([E*y,L*y,-L*_,E*_,E*H-L*U+P+V,L*H+E*U+R+z]),e}static fromContext(e){let n=e.getTransform();return new Hx([n.a,n.b,n.c,n.d,n.e,n.f])}};PL.instance=new PL;var tc=PL,x$=(t=>(t[t.All=0]="All",t[t.None=1]="None",t))(x$||{}),to=class b$ extends lbe{constructor({isVirtual:e,tag:n,zIndex:r}={}){super(),this.serialNumber=b$._nextSerialNumber++,this.id=lc(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new tc,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.isVirtual=e??!1,this.tag=n??NaN,this.zIndex=r??0}get datum(){var e,n;return(n=this._datum)!=null?n:(e=this._parent)==null?void 0:e.datum}get previousDatum(){return this._previousDatum}set datum(e){this._datum!==e&&(this._previousDatum=this._datum),this._datum=e}_setLayerManager(e){this._layerManager=e,this._debug=e?.debug;for(let n of this._children)n._setLayerManager(e);for(let n of this._virtualChildren)n._setLayerManager(e)}get layerManager(){return this._layerManager}*ancestors(){let e=this;for(;e=e.parent;)yield e}*traverseUp(){yield this,yield*r2(tI(this.ancestors()))}get parent(){return this._parent}get children(){return this._virtualChildren.length?this._children.concat(this._virtualChildren.flatMap(e=>e.children)):this._children}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(e,n){let r=n??Object.keys(e);for(let l of r)this[l]=e[l];return this}append(e){Array.isArray(e)||(e=[e]);for(let n of e){if(n.parent)throw new Error(`${n} already belongs to another parent: ${n.parent}.`);if(n.layerManager)throw new Error(`${n} already belongs to a scene: ${n.layerManager}.`);if(this.childSet[n.id])throw new Error(`Duplicate ${n.constructor.name} node: ${n}`);n.isVirtual?this._virtualChildren.push(n):this._children.push(n),this.childSet[n.id]=!0,n._parent=this,n._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(e){return this.append(e),e}removeChild(e){let n=()=>{throw new Error("The node to be removed is not a child of this node.")};if(e.parent!==this&&n(),e.isVirtual){let r=this._virtualChildren.indexOf(e);r<0&&n(),this._virtualChildren.splice(r,1)}else{let r=this._children.indexOf(e);r<0&&n(),this._children.splice(r,1)}return delete this.childSet[e.id],e._parent=void 0,e._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(e,3),e}calculateCumulativeMatrix(){this.computeTransformMatrix();let e=tc.flyweight(this.matrix),n=this.parent;for(;n;)n.computeTransformMatrix(),e.preMultiplySelf(n.matrix),n=n.parent;return e}transformPoint(e,n){return this.calculateCumulativeMatrix().invertSelf().transformPoint(e,n)}inverseTransformPoint(e,n){return this.calculateCumulativeMatrix().transformPoint(e,n)}transformBBox(e){return this.calculateCumulativeMatrix().invertSelf().transformBBox(e)}inverseTransformBBox(e){return this.calculateCumulativeMatrix().transformBBox(e)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}containsPoint(e,n){return!1}pickNode(e,n){var r;if(!this.visible||this.pointerEvents===1||!this.containsPoint(e,n))return;let{children:l}=this;if(l.length>1e3)for(let c=l.length-1;c>=0;c--){let h=l[c],m=((r=h.computeTransformedBBox())==null?void 0:r.containsPoint(e,n))?h.pickNode(e,n):void 0;if(m)return m}else if(l.length)for(let c=l.length-1;c>=0;c--){let h=l[c].pickNode(e,n);if(h)return h}else if(!this.isContainerNode)return this}findNodes(e){return this.children.flatMap(n=>n.findNodes(e))}getCachedBBox(){var e;return(e=this.cachedBBox)!=null?e:yt.zero}computeBBox(){}computeTransformedBBox(){let e=this.computeBBox();if(!e)return;this.computeTransformMatrix();let n=tc.flyweight(this.matrix);for(let r of this.ancestors())r.computeTransformMatrix(),n.preMultiplySelf(r.matrix);return n.transformBBox(e,e),e}computeTransformMatrix(){if(!this.dirtyTransform)return;let{matrix:e,scalingX:n,scalingY:r,rotation:l,translationX:c,translationY:h,scalingCenterX:p,scalingCenterY:m,rotationCenterX:g,rotationCenterY:y}=this;tc.updateTransformMatrix(e,n,r,l,c,h,{scalingCenterX:p,scalingCenterY:m,rotationCenterX:g,rotationCenterY:y}),this.dirtyTransform=!1}render(e){let{stats:n}=e;this._dirty=0,this.cachedBBox=this.computeBBox(),n&&n.nodesRendered++}clearBBox(e){let n=this.computeBBox();if(n==null)return;let{x:r,y:l,width:c,height:h}=n,p=this.transformPoint(r,l),m=this.transformPoint(r+c,l+h);e.clearRect(p.x,p.y,m.x-p.x,m.y-p.y)}markDirty(e,n=1,r=n){this._dirty>n||this._dirty===n&&n===r||(this._dirty=n,this.parent?this.parent.markDirty(this,r):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(e){let{force:n=!1,recursive:r=!0}=e??{};if(!(this._dirty===0&&!n)){if(this._dirty=0,r!==!1)for(let l of this._virtualChildren)l.markClean({force:n});if(r===!0)for(let l of this._children)l.markClean({force:n})}}onVisibleChange(){}get nodeCount(){let e=1,n=this._dirty>=0||this.dirtyTransform?1:0,r=this.visible?1:0,l=c=>{let{count:h,visibleCount:p,dirtyCount:m}=c.nodeCount;e+=h,r+=p,n+=m};for(let c of this._children)l(c);for(let c of this._virtualChildren)l(c);return{count:e,visibleCount:r,dirtyCount:n}}onZIndexChange(){this.parent&&(this.parent.dirtyZIndex=!0)}};to._nextSerialNumber=0;B([je({type:"transform"})],to.prototype,"scalingX",2);B([je({type:"transform"})],to.prototype,"scalingY",2);B([je({type:"transform"})],to.prototype,"scalingCenterX",2);B([je({type:"transform"})],to.prototype,"scalingCenterY",2);B([je({type:"transform"})],to.prototype,"rotationCenterX",2);B([je({type:"transform"})],to.prototype,"rotationCenterY",2);B([je({type:"transform"})],to.prototype,"rotation",2);B([je({type:"transform"})],to.prototype,"translationX",2);B([je({type:"transform"})],to.prototype,"translationY",2);B([je({redraw:3,changeCb:t=>t.onVisibleChange()})],to.prototype,"visible",2);B([je({redraw:1,changeCb:t=>t.onZIndexChange()})],to.prototype,"zIndex",2);B([je({redraw:1,changeCb:t=>t.onZIndexChange()})],to.prototype,"zIndexSubOrder",2);var g0=to,xL=t=>{let e=t<0?-1:1,n=Math.abs(t);return n<=.04045?t/12.92:e*Gt((n+.055)/1.055,2.4)},bL=t=>{let e=t<0?-1:1,n=Math.abs(t);return n>.0031308?e*(1.055*Gt(n,1/2.4)-.055):12.92*t},vI=class Cn{constructor(e,n,r,l=1){this.r=kn(0,e||0,1),this.g=kn(0,n||0,1),this.b=kn(0,r||0,1),this.a=kn(0,l||0,1)}static validColorString(e){return e.indexOf("#")>=0?!!Cn.parseHex(e):e.indexOf("rgb")>=0?!!Cn.stringToRgba(e):!!Cn.nameToHex[e.toLowerCase()]}static fromString(e){if(e.indexOf("#")>=0)return Cn.fromHexString(e);let n=Cn.nameToHex[e.toLowerCase()];if(n)return Cn.fromHexString(n);if(e.indexOf("rgb")>=0)return Cn.fromRgbaString(e);throw new Error(`Invalid color string: '${e}'`)}static tryParseFromString(e){try{return Cn.fromString(e)}catch{return Le.warnOnce(`invalid color string: '${e}'.`),Cn.fromArray([0,0,0])}}static parseHex(e){e=e.replace(/ /g,"").slice(1);let n;switch(e.length){case 6:case 8:n=[];for(let r=0;r<e.length;r+=2)n.push(parseInt(`${e[r]}${e[r+1]}`,16));break;case 3:case 4:n=e.split("").map(r=>parseInt(r,16)).map(r=>r+r*16);break}if(n?.length>=3&&n.every(r=>r>=0))return n.length===3&&n.push(255),n}static fromHexString(e){let n=Cn.parseHex(e);if(n){let[r,l,c,h]=n;return new Cn(r/255,l/255,c/255,h/255)}throw new Error(`Malformed hexadecimal color string: '${e}'`)}static stringToRgba(e){let[n,r]=[NaN,NaN];for(let p=0;p<e.length;p++){let m=e[p];if(!n&&m==="(")n=p;else if(m===")"){r=p;break}}let l=n&&r&&e.substring(n+1,r);if(!l)return;let c=l.split(","),h=[];for(let p=0;p<c.length;p++){let m=c[p],g=parseFloat(m);if(isNaN(g))return;m.indexOf("%")>=0?(g=kn(0,g,100),g/=100):p===3?g=kn(0,g,1):(g=kn(0,g,255),g/=255),h.push(g)}return h}static fromRgbaString(e){let n=Cn.stringToRgba(e);if(n){if(n.length===3)return new Cn(n[0],n[1],n[2]);if(n.length===4)return new Cn(n[0],n[1],n[2],n[3])}throw new Error(`Malformed rgb/rgba color string: '${e}'`)}static fromArray(e){if(e.length===4)return new Cn(e[0],e[1],e[2],e[3]);if(e.length===3)return new Cn(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(e,n,r,l=1){let c=Cn.HSBtoRGB(e,n,r);return new Cn(c[0],c[1],c[2],l)}static fromHSL(e,n,r,l=1){let c=Cn.HSLtoRGB(e,n,r);return new Cn(c[0],c[1],c[2],l)}static fromOKLCH(e,n,r,l=1){let c=Cn.OKLCHtoRGB(e,n,r);return new Cn(c[0],c[1],c[2],l)}static padHex(e){return e.length===1?"0"+e:e}toHexString(){let e="#"+Cn.padHex(Math.round(this.r*255).toString(16))+Cn.padHex(Math.round(this.g*255).toString(16))+Cn.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(e+=Cn.padHex(Math.round(this.a*255).toString(16))),e}toRgbaString(e=3){let n=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],r=Math.pow(10,e);return this.a!==1?(n.push(Math.round(this.a*r)/r),`rgba(${n.join(", ")})`):`rgb(${n.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return Cn.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(e,n,r){let l=xL(e),c=xL(n),h=xL(r),p=Math.cbrt(.4122214708*l+.5363325363*c+.0514459929*h),m=Math.cbrt(.2119034982*l+.6806995451*c+.1073969566*h),g=Math.cbrt(.0883024619*l+.2817188376*c+.6299787005*h),y=.2104542553*p+.793617785*m-.0040720468*g,_=1.9779984951*p-2.428592205*m+.4505937099*g,C=.0259040371*p+.7827717662*m-.808675766*g,S=Math.atan2(C,_)*180/Math.PI,A=y,E=Math.hypot(_,C),L=S>=0?S:S+360;return[A,E,L]}static OKLCHtoRGB(e,n,r){let l=e,c=n*Math.cos(r*Math.PI/180),h=n*Math.sin(r*Math.PI/180),p=Gt(l+.3963377774*c+.2158037573*h,3),m=Gt(l-.1055613458*c-.0638541728*h,3),g=Gt(l-.0894841775*c-1.291485548*h,3),y=4.0767416621*p-3.3077115913*m+.2309699292*g,_=-1.2684380046*p+2.6097574011*m-.3413193965*g,C=-.0041960863*p-.7034186147*m+1.707614701*g,S=bL(y),A=bL(_),E=bL(C);return[S,A,E]}static RGBtoHSL(e,n,r){let l=Math.min(e,n,r),c=Math.max(e,n,r),h=(c+l)/2,p,m;if(c===l)p=NaN,m=0;else{let g=c-l;m=h>.5?g/(2-c-l):g/(c+l),c===e?p=(n-r)/g+(n<r?6:0):c===n?p=(r-e)/g+2:p=(e-n)/g+4,p*=360/6}return[p,m,h]}static HSLtoRGB(e,n,r){if(n===0)return[r,r,r];let l=r<.5?r*(1+n):r+n-r*n,c=2*r-l;function h(y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?c+(l-c)*6*y:y<1/2?l:y<2/3?c+(l-c)*(2/3-y)*6:c}let p=h(e/360+1/3),m=h(e/360),g=h(e/360-1/3);return[p,m,g]}static RGBtoHSB(e,n,r){let l=Math.min(e,n,r),c=Math.max(e,n,r),h=c===0?0:(c-l)/c,p=NaN;if(l!==c){let m=c-l,g=(c-e)/m,y=(c-n)/m,_=(c-r)/m;e===c?p=_-y:n===c?p=2+g-_:p=4+y-g,p/=6,p<0&&(p=p+1)}return[p*360,h,c]}static HSBtoRGB(e,n,r){isNaN(e)&&(e=0),e=(e%360+360)%360/360;let l=0,c=0,h=0;if(n===0)l=c=h=r;else{let p=(e-Math.floor(e))*6,m=p-Math.floor(p),g=r*(1-n),y=r*(1-n*m),_=r*(1-n*(1-m));switch(p>>0){case 0:l=r,c=_,h=g;break;case 1:l=y,c=r,h=g;break;case 2:l=g,c=r,h=_;break;case 3:l=g,c=y,h=r;break;case 4:l=_,c=g,h=r;break;case 5:l=r,c=g,h=y;break}}return[l,c,h]}derive(e,n,r,l){let c=Cn.RGBtoHSB(this.r,this.g,this.b),h=c[2];h==0&&r>1&&(h=.05);let p=((c[0]+e)%360+360)%360,m=kn(0,c[1]*n,1);h=kn(0,h*r,1);let g=kn(0,this.a*l,1),y=Cn.HSBtoRGB(p,m,h);return y.push(g),Cn.fromArray(y)}brighter(){return this.derive(0,1,1/.7,1)}darker(){return this.derive(0,1,.7,1)}static interpolate(e,n){let r=Cn.tryParseFromString(e),l=Cn.tryParseFromString(n);return c=>{let h=(m,g)=>m*(1-c)+g*c;return new Cn(h(r.r,l.r),h(r.g,l.g),h(r.b,l.b),h(r.a,l.a)).toString()}}};vI.didDebug=!1;vI.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"});var Ql=vI;function jx(t,e){return n=>Number(t)*(1-n)+Number(e)*n}function cbe(t,e){if(typeof t=="string")try{t=Ql.fromString(t)}catch{t=Ql.fromArray([0,0,0])}if(typeof e=="string")try{e=Ql.fromString(e)}catch{e=Ql.fromArray([0,0,0])}let n=jx(t.r,e.r),r=jx(t.g,e.g),l=jx(t.b,e.b),c=jx(t.a,e.a);return h=>Ql.fromArray([n(h),r(h),l(h),c(h)]).toRgbaString()}var yI={};Tu(yI,{easeIn:()=>ube,easeInOut:()=>hbe,easeInOutQuad:()=>fbe,easeInQuad:()=>dbe,easeOut:()=>i1,easeOutQuad:()=>pbe,inverseEaseOut:()=>w$,linear:()=>_$});var _$=t=>t,ube=t=>1-Math.cos(t*Math.PI/2),i1=t=>Math.sin(t*Math.PI/2),hbe=t=>-(Math.cos(t*Math.PI)-1)/2,dbe=t=>t*t,pbe=t=>1-Gt(1-t,2),fbe=t=>t<.5?2*t*t:1-Gt(-2*t+2,2)/2,w$=t=>2*Math.asin(t)/Math.PI,Ok=.2,$g=["initial","remove","update","add","trailing","end","none"],r1={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Ok,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+Ok,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},C$=(t=>(t.Loop="loop",t.Reverse="reverse",t))(C$||{});function mbe(t){return t.every(e=>e instanceof g0)}function Zk(t){return mbe(t)?{nodes:t,selections:[]}:{nodes:[],selections:t}}var k$=class{constructor(t){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1;var e,n,r,l,c,h,p;this.id=t.id,this.groupId=t.groupId,this.autoplay=(e=t.autoplay)!=null?e:!0,this.ease=(n=t.ease)!=null?n:_$,this.phase=t.phase;let m=(r=t.duration)!=null?r:r1[this.phase].animationDuration;this.duration=m*t.defaultDuration,this.delay=((l=t.delay)!=null?l:0)*t.defaultDuration,this.onComplete=t.onComplete,this.onPlay=t.onPlay,this.onStop=t.onStop,this.onUpdate=t.onUpdate,this.interpolate=this.createInterpolator(t.from,t.to),this.from=t.from,t.skip===!0&&((c=this.onUpdate)==null||c.call(this,t.to,!1,this),(h=this.onStop)==null||h.call(this,this),(p=this.onComplete)==null||p.call(this,this),this.isComplete=!0),t.collapsable!==!1&&(this.duration=this.checkCollapse(t,this.duration))}checkCollapse(t,e){return t.from===t.to?0:(typeof t.from=="object"?ba(t.from,t.to):null)?e:0}play(t=!1){var e,n;this.isPlaying||this.isComplete||(this.isPlaying=!0,(e=this.onPlay)==null||e.call(this,this),this.autoplay&&(this.autoplay=!1,t&&((n=this.onUpdate)==null||n.call(this,this.from,!0,this))))}pause(){this.isPlaying=!1}stop(){var t;this.isPlaying=!1,this.isComplete||(this.isComplete=!0,(t=this.onStop)==null||t.call(this,this))}update(t){var e,n;if(this.isComplete)return t;!this.isPlaying&&this.autoplay&&this.play(!0);let r=this.elapsed;if(this.elapsed+=t,this.delay>this.elapsed)return 0;let l=this.interpolate(this.isReverse?1-this.delta:this.delta);(e=this.onUpdate)==null||e.call(this,l,!1,this);let c=this.delay+this.duration;return this.elapsed>=c?(this.stop(),this.isComplete=!0,(n=this.onComplete)==null||n.call(this,this),t-(c-r)):0}get delta(){return this.ease(kn(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(t,e){if(typeof e!="object"||PW(e))return this.interpolateValue(t,e);let n=[];for(let r in e){let l=this.interpolateValue(t[r],e[r]);l!=null&&n.push([r,l])}return r=>{let l={};for(let[c,h]of n)l[c]=h(r);return l}}interpolateValue(t,e){if(!(t===void 0||e===void 0)){if(PW(t))return n=>t[fI](e,n);try{switch(typeof t){case"number":return jx(t,e);case"string":return cbe(t,e)}}catch{}throw new Error(`Unable to interpolate values: ${t}, ${e}`)}}},Rs={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Si(t,e,n,r,l,c,h){let{fromFn:p,toFn:m,intermediateFn:g}=l,{nodes:y,selections:_}=Zk(r),C=(A,E)=>{var L;let P,R=0,V=0;for(let z of E){let H=A[R]===z,U={last:V>=E.length-1,lastLive:R>=A.length-1,prev:E[V-1],prevFromProps:P,prevLive:A[R-1],next:E[V+1],nextLive:A[R+(H?1:0)]},X=`${t}_${e}_${z.id}`;n.stopByAnimationId(X);let Q="unknown";H?c&&h&&(Q=gbe(z,z.datum,c,h)):Q="removed";let Z=p(z,z.datum,Q,U),{phase:ie,start:ne,finish:de,delay:ue,duration:ge}=Z,De=er(Z,["phase","start","finish","delay","duration"]),Ce=m(z,z.datum,Q,U),{phase:Pe,start:Ve,finish:Ie,delay:Ne,duration:Xe}=Ce,Qe=er(Ce,["phase","start","finish","delay","duration"]),Wt=de==null&&Ie==null;n.animate({id:X,groupId:t,phase:(L=ie??Pe)!=null?L:"update",duration:ge??Xe,delay:ue??Ne,from:De,to:Qe,ease:i1,collapsable:Wt,onPlay:()=>{z.setProperties(he(he({},ne),Ve))},onUpdate(Ut){z.setProperties(Ut),g&&z.setProperties(g(z,z.datum,Q,U))},onStop:()=>{z.setProperties(he(he(he(he(he(he({},ne),Ve),De),Qe),de),Ie))}}),H&&R++,V++,P=De}},S=0;for(let A of _){let E=A.nodes(),L=E.filter(P=>!A.isGarbage(P));C(L,E),n.animate({id:`${t}_${e}_selection_${S}`,groupId:t,phase:"end",from:0,to:1,ease:i1,onStop(){A.cleanup()}}),S++}C(y,y)}function cc(t,e,n,r,l,c,h){let{nodes:p,selections:m}=Zk(r),{start:g,finish:y,phase:_}=h,C=y==null;n.animate({id:`${t}_${e}`,groupId:t,phase:_??"update",from:l,to:c,ease:i1,collapsable:C,onPlay:()=>{if(g){for(let S of p)S.setProperties(g);for(let S of m)for(let A of S.nodes())A.setProperties(g)}},onUpdate(S){for(let A of p)A.setProperties(S);for(let A of m)for(let E of A.nodes())E.setProperties(S)},onStop:()=>{for(let S of p)S.setProperties(he(he({},c),y));for(let S of m)for(let A of S.nodes())A.setProperties(he(he({},c),y))}})}function gbe(t,e,n,r){let l=n(t,e);return r.added.has(l)?"added":"updated"}var nc=Math.PI*2;function cr(t){return t%=nc,t+=nc,t%=nc,t}function D$(t){return t%=nc,t+=nc,t!==nc&&(t%=nc),t}function s1(t){return t%=nc,t<-Math.PI?t+=nc:t>=Math.PI&&(t-=nc),t}function S$(t,e,n){let r=cr(t),l=cr(e),c=D$(n);return l<=c?l<=r&&r<=c:l<=r||r<=c}function ds(t){return t/180*Math.PI}function vbe(t){return t/Math.PI*180}function xI(t,e){return t=cr(t),e=cr(e),e-t+(t>e?2*Math.PI:0)}var Fr=(t,e)=>{let n=Symbol(String(e));t[n]=void 0,Object.defineProperty(t,e,{get(){return this[n]},set(r){this[n]!==r&&(this[n]=r,this.invalid=!0)},enumerable:!0,configurable:!1})},el=class{constructor(){this.type="band",this.invalid=!0,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._step=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Le.warnOnce("Expected update to not invalidate scale"))}set domain(t){this.invalid=!0;let e=[];this.index=new Map;let n=this.index;t.forEach(r=>{this.getIndex(r)===void 0&&n.set(r,e.push(r)-1)}),this._domain=e}get domain(){return this._domain}ticks(){this.refresh();let{interval:t=1}=this;typeof t!="number"&&(t=Number(t));let e=Math.abs(Math.round(t));return this._domain.filter((n,r)=>r%e===0)}convert(t){this.refresh();let e=this.getIndex(t);if(e===void 0)return NaN;let n=this.ordinalRange[e];return n===void 0?NaN:n}invert(t){this.refresh();let e=this.ordinalRange.findIndex(n=>n===t);return this.domain[e]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=kn(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this._paddingInner=kn(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this._paddingOuter=kn(0,t,1)}get paddingOuter(){return this._paddingOuter}update(){let t=this._domain.length;if(t===0)return;let e=this.round,n=this._paddingInner,r=this._paddingOuter,[l,c]=this.range,h=c-l,p=h/Math.max(1,t+2*r-n),m=e?Math.floor(p):p,g=m*(t-n),y=l+(h-g)/2,_=e?Math.round(y):y,C=m*(1-n),S=e?Math.round(C):C,A=p*(1-n),E=[];for(let L=0;L<t;L++)E.push(_+m*L);this._bandwidth=S,this._rawBandwidth=A,this._step=m,this.ordinalRange=E}getIndex(t){if(!(t instanceof Date))return this.index.get(t);let e=t.valueOf(),n=0;for(let r of this.index.keys()){if(r instanceof Date&&r.valueOf()===e)return n;n++}}};B([Fr],el.prototype,"interval",2);B([Fr],el.prototype,"range",2);B([Fr],el.prototype,"round",2);function G(t,e={}){let{optional:n=!1,property:r}=e;return Du((l,c,h)=>{var p;let m=He(he({},e),{target:l,property:c});if(n&&typeof h>"u"||t(h,m))return sc(l[c])&&!sc(h)?(l[c].set(h),l[c]):h;let g=r??String(c).replace(/^_*/,""),y=(p=l.constructor.className)!=null?p:l.constructor.name.replace(/Properties$/,""),_=qx(h),C=50;if(_!=null&&_.length>C){let S=_.length-C;_=_.slice(0,C)+`... (+${S} characters)`}return Le.warn(`Property [${g}] of [${y}] cannot be set to [${_}]${t.message?`; expecting ${S1(t,m)}`:""}, ignoring.`),Tk},void 0,{optional:n})}var Ca=(...t)=>{let e=[];return Zn((n,r)=>(e.length=0,t.every(l=>{let c=l(n,r);return c||e.push(S1(l,r)),c})),()=>e.filter(Boolean).join(" AND "))},af=(...t)=>Zn((e,n)=>t.some(r=>r(e,n)),e=>t.map(Dbe(e)).filter(Boolean).join(" OR ")),qe=R$(Zn((t,e)=>sc(t)||Za(t)&&sc(e.target[e.property]),"a properties object")),ybe=R$(Zn(t=>Za(t),"an object")),Ct=Zn(BU,"a boolean"),jo=Zn(rf,"a function"),Re=Zn(qr,"a string"),mi=Tbe(Zn(Bn,"a number")),Qk=Zn(t=>Vo(t)&&isNaN(t),"NaN"),Ae=mi.restrict({min:0}),In=mi.restrict({min:0,max:1}),jh=mi.restrict({min:-360,max:360}),v0=af(mi,Qk),D1=Sbe(Zn(ur,"an array")),Eu=(t,e)=>Zn((n,r)=>ur(n)&&n.every(l=>t(l,r)),n=>{var r;let l=(r=S1(D1,n))!=null?r:"";return e?`${l} of ${e}`:l}),Rk=t=>Bn(t)||b1(t),y0=t=>Zn((e,n)=>!Rk(e)||!Rk(n.target[t])||e<n.target[t],`to be less than ${t}`),x0=t=>Zn((e,n)=>!Rk(e)||!Rk(n.target[t])||e>n.target[t],`to be greater than ${t}`),bI=Zn(b1,"Date object"),_I=af(bI,Ae),T$="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",Dn=Zn(t=>qr(t)&&Ql.validColorString(t),`color String. ${T$}`),ka=Zn(Eu(Dn),`color strings. ${T$}`),xbe=Eu(Ct,"boolean values"),Jk=Eu(mi,"numbers"),A$=Eu(Re,"strings"),bbe=Zn(Eu(bI),"Date objects"),wI=Zn(Eu(qe),"objects"),M$=Ui(["butt","round","square"],"a line cap"),_be=Ui(["round","bevel","miter"],"a line join"),Lu=Zn(Eu(Ae),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),CI=Ui(["top","right","bottom","left"],"a position"),Gh=Ui(["normal","italic","oblique"],"a font style"),Wh=af(Ui(["normal","bold","bolder","lighter"],"a font weight"),mi.restrict({min:1,max:1e3})),eD=Ui(["never","always","hyphenate","on-space"],"a text wrap strategy"),E$=Ui(["left","center","right"],"a text align"),wbe=Ui(["top","middle","bottom"],"a vertical align"),Cbe=Ui(["ellipsis","hide"],"an overflow strategy"),L$=Ui(["horizontal","vertical"],"a direction"),I$=Ui(["inside","outside"],"a placement"),kI=af(Ui(["exact","nearest"],"interaction range"),mi),DI=Ui(["top","bottom","left","right"]);function Ui(t,e="a"){return Zn(n=>t.includes(n),`${e} keyword such as ${kbe(t)}`)}var O$=af(Ca(mi.restrict({min:1}),y0("maxSpacing")),Qk),SI=af(Ca(mi.restrict({min:1}),x0("minSpacing")),Qk);function Zn(t,e){return t.message=e,t}function kbe(t){let e=t.map(r=>`'${r}'`);if(e.length===1)return e[0];let n=e.pop();return`${e.join(", ")} or ${n}`}function S1(t,e){return rf(t.message)?t.message(e):t.message}function Dbe(t){return e=>S1(e,t)}function Sbe(t){return Object.assign(t,{restrict({length:e,minLength:n}={}){let r="an array";return Vo(n)&&n>0?r="a non-empty array":Vo(e)&&(r=`an array of length ${e}`),Zn(l=>ur(l)&&(Vo(e)?l.length===e:!0)&&(Vo(n)?l.length>=n:!0),r)}})}function Tbe(t){return Object.assign(t,{restrict({min:e,max:n}={}){let r=["a number"],l=Vo(e),c=Vo(n);return l&&c?r.push(`between ${e} and ${n} inclusive`):l?r.push(`greater than or equal to ${e}`):c&&r.push(`less than or equal to ${n}`),Zn(h=>Bn(h)&&(l?h>=e:!0)&&(c?h<=n:!0),r.join(" "))}})}function R$(t){return Object.assign(t,{restrict(e){return Zn(n=>n instanceof e,n=>{var r;return(r=S1(t,n))!=null?r:`an instance of ${e.name}`})}})}function qx(t){if(typeof t=="number"){if(isNaN(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity"}return JSON.stringify(t)}var P$=(t=>(t.X="x",t.Y="y",t))(P$||{}),FL={constructedArrays:new WeakMap};function F$(t,e){var n;(n=FL.constructedArrays)==null||n.set(t,e)}var uc=class NL{constructor(e,n){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=NL.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=e,this.range=n}static is(e){return e instanceof NL}transform(e){return e}transformInvert(e){return e}calcBandwidth(e=1){let{range:n}=this,r=this.getDomain(),l=Math.abs(n[1]-n[0]),c=Math.abs(r[1]-r[0])/e+1,h=Math.floor(l),p=Math.min(c,h);return l/Math.max(1,p)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(e,n){var r;let l=(r=n?.clampMode)!=null?r:this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();let c=this.getDomain().map(_=>this.transform(_)),[h,p]=c,{range:m}=this,[g,y]=m;if(e=this.transform(e),l==="clamped"){let[_,C]=Qa(c.map(Number));if(Number(e)<_)return g;if(Number(e)>C)return y}return h===p?(g+y)/2:e===h?g:e===p?y:g+(Number(e)-Number(h))/(Number(p)-Number(h))*(y-g)}invert(e){this.refresh();let n=this.getDomain().map(C=>this.transform(C)),[r,l]=n,{range:c}=this,[h,p]=c,m=h>p,g=m?p:h,y=m?h:p,_;return e<g?m?l:r:e>y?m?r:l:(h===p?_=this.toDomain((Number(r)+Number(l))/2):_=this.toDomain(Number(r)+(e-h)/(p-h)*(Number(l)-Number(r))),this.transformInvert(_))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Le.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){let[e,n]=this.range;return Math.abs(n-e)}};uc.defaultTickCount=5;uc.defaultMaxTickCount=6;B([Fr],uc.prototype,"domain",2);B([Fr],uc.prototype,"range",2);B([Fr],uc.prototype,"nice",2);B([Fr],uc.prototype,"interval",2);B([Fr],uc.prototype,"tickCount",2);B([Fr],uc.prototype,"minTickCount",2);B([Fr],uc.prototype,"maxTickCount",2);var Ln=uc,rk={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function TI(t,e=new Date(t.getFullYear(),0,1)){let n=t.getTimezoneOffset()-e.getTimezoneOffset(),r=t.getTime()-e.getTime()+n*6e4,l=36e5*24;return Math.floor(r/l)}function FW(t,e){let r=new Date(t.getFullYear(),0,1).getDay(),l=(e-r+7)%7,c=new Date(t.getFullYear(),0,l+1);return c<=t?Math.floor(TI(t,c)/7)+1:0}var Abe=0,N$=1,NW=4;function B$(t,e=t.getFullYear()){let r=new Date(e,0,1).getDay(),l=(NW-r+7)%7,c=new Date(e,0,l-(NW-N$)+1);return c<=t?Math.floor(TI(t,c)/7)+1:B$(t,e-1)}function Mbe(t){let e=t.getTimezoneOffset(),n=Math.abs(e);return`${e>0?"-":"+"}${Xr(Math.floor(n/60),2,"0")}${Xr(Math.floor(n%60),2,"0")}`}var Ebe={a:t=>rk.shortDays[t.getDay()],A:t=>rk.days[t.getDay()],b:t=>rk.shortMonths[t.getMonth()],B:t=>rk.months[t.getMonth()],c:"%x, %X",d:(t,e)=>Xr(t.getDate(),2,e??"0"),e:"%_d",f:(t,e)=>Xr(t.getMilliseconds()*1e3,6,e??"0"),H:(t,e)=>Xr(t.getHours(),2,e??"0"),I:(t,e)=>{let n=t.getHours()%12;return n===0?"12":Xr(n,2,e??"0")},j:(t,e)=>Xr(TI(t)+1,3,e??"0"),m:(t,e)=>Xr(t.getMonth()+1,2,e??"0"),M:(t,e)=>Xr(t.getMinutes(),2,e??"0"),L:(t,e)=>Xr(t.getMilliseconds(),3,e??"0"),p:t=>t.getHours()<12?"AM":"PM",Q:t=>String(t.getTime()),s:t=>String(Math.floor(t.getTime()/1e3)),S:(t,e)=>Xr(t.getSeconds(),2,e??"0"),u:t=>{let e=t.getDay();return e<1&&(e+=7),String(e%7)},U:(t,e)=>Xr(FW(t,Abe),2,e??"0"),V:(t,e)=>Xr(B$(t),2,e??"0"),w:(t,e)=>Xr(t.getDay(),2,e??"0"),W:(t,e)=>Xr(FW(t,N$),2,e??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(t,e)=>Xr(t.getFullYear()%100,2,e??"0"),Y:(t,e)=>Xr(t.getFullYear(),4,e??"0"),Z:t=>Mbe(t),"%":()=>"%"},Lbe={_:" ",0:"0","-":""};function Xr(t,e,n){let r=String(Math.floor(t));return r.length>=e?r:`${n.repeat(e-r.length)}${r}`}function T1(t){let e=[];for(;t.length>0;){let n=t.indexOf("%");if(n!==0){let p=n>0?t.substring(0,n):t;e.push(p)}if(n<0)break;let r=t[n+1],l=Lbe[r];l!=null&&n++;let c=t[n+1],h=Ebe[c];if(typeof h=="function")e.push([h,l]);else if(typeof h=="string"){let p=T1(h);e.push([p,l])}else e.push(`${l??""}${c}`);t=t.substring(n+2)}return n=>{let r=typeof n=="number"?new Date(n):n;return e.map(l=>typeof l=="string"?l:l[0](r,l[1])).join("")}}var V$=(t=>(t[t.MILLISECOND=0]="MILLISECOND",t[t.SECOND=1]="SECOND",t[t.MINUTE=2]="MINUTE",t[t.HOUR=3]="HOUR",t[t.WEEK_DAY=4]="WEEK_DAY",t[t.SHORT_MONTH=5]="SHORT_MONTH",t[t.MONTH=6]="MONTH",t[t.SHORT_YEAR=7]="SHORT_YEAR",t[t.YEAR=8]="YEAR",t))(V$||{}),Oh={0:".%L",1:":%S",2:"%I:%M",3:"%I %p",4:"%a",5:"%b %d",6:"%B",7:"%y",8:"%Y"};function Pr(t){return t instanceof Date?t.getTime():t}function AI(t){let e=z$(t);return n=>T1(e)(n)}function z$(t=[]){let e=8,n=m=>{m<e&&(e=m)};for(let m of t){let g=H$(m);n(g)}let r=Pr(t[0]),l=Pr(t.at(-1)),c=new Date(r).getFullYear(),p=new Date(l).getFullYear()-c>0;return j$(e,p,t)}function H$(t){return Tx.floor(t)<t?0:Ax.floor(t)<t?1:Mx.floor(t)<t?2:SL.floor(t)<t?3:Ug.floor(t)<t?uk.floor(t)<t?4:5:nI.floor(t)<t?6:8}function j$(t,e,n){let r=[Oh[t]],l=0,c=Pr(n[0]),h=Pr(n.at(-1)),p=Math.abs(h-c);switch(t){case 1:p/Os>1&&r.push(Oh[2]);case 2:p/Jl>1&&r.push(Oh[3]);case 3:l=r.length,p/Bh>1&&r.push(Oh[4]);case 4:if(p/Ux>1||e){let m=r.indexOf(Oh[4]);m>-1&&r.splice(m,1,Oh[5])}case 5:case 6:(p/Sk>1||e)&&r.push(Oh[8]);default:break}return l<r.length&&(r=[...r.slice(0,l),r.slice(l).join(" ")]),l>0&&(r=[...r.slice(0,l).reverse(),...r.slice(l)],l<r.length&&r.splice(l,0," ")),r.join("")}var o1=(t,e=[])=>Object.assign(e,{fractionDigits:t});function tD(t,e,n,r,l){if(n<2)return a1(t,e,e-t);let c=a0(t,e,n,r,l);return isNaN(c)?o1(0):(t=Math.ceil(t/c)*c,e=Math.floor(e/c)*c,a1(t,e,c))}var G$=[1,2,5,10];function a0(t,e,n,r=0,l=1/0){let c=Math.abs(e-t),h=c/n,p=Math.floor(Math.log10(h)),m=Math.pow(10,p),g=G$.map(y=>{let _=y*m,C=Math.ceil(c/_),S=C>=r&&C<=l,A=Math.abs(C-n);return{multiplier:y,isWithinBounds:S,diffCount:A}}).sort((y,_)=>y.isWithinBounds!==_.isWithinBounds?y.isWithinBounds?-1:1:y.diffCount-_.diffCount)[0].multiplier;return!g||isNaN(g)?NaN:g*m}function Ibe(t,e){let n=Math.abs(e-t),r=Math.floor(Math.log10(n)),l=Math.pow(10,r),c=t>e?Math.ceil:Math.floor,h=e<t?Math.floor:Math.ceil;return G$.map(p=>{let m=p*l,g=c(t/m)*m,y=h(e/m)*m;return{error:1-n/Math.abs(y-g),domain:[g,y]}}).sort((p,m)=>p.error-m.error)[0].domain}function a1(t,e,n){let r=Math.min(t,e),l=Math.max(t,e),c=gI(n),h=Math.pow(10,c),p=Math.ceil((l-r)/n),m=o1(c);for(let g=0;g<=p;g++){let y=r+n*g;m.push(Math.round(y*h)/h)}return m}function l1({start:t,stop:e,interval:n,count:r,availableRange:l}){let c=e-t;return r??(r=c/(typeof n=="number"?n:1)),r>=l?(Le.warn("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}var W$=class Fo extends Ln{constructor(){super([],[0,1]),this.type="time"}toDomain(e){return new Date(e)}static getTickInterval({start:e,stop:n,count:r,minCount:l,maxCount:c}){let h,p,m=r??Ln.defaultTickCount,g=Math.abs(n-e)/Math.max(m,1),y=0;for(;y<Fo.tickIntervals.length&&g>Fo.tickIntervals[y][2];)y++;if(y===0)p=Math.max(a0(e,n,m,l,c),1),h=wxe;else if(y===Fo.tickIntervals.length){let _=e/Sk,C=n/Sk;p=a0(_,C,m,l,c),h=nI}else{let _=g-Fo.tickIntervals[y-1][2],C=Fo.tickIntervals[y][2]-g,S=_<C?y-1:y;[h,p]=Fo.tickIntervals[S]}return h.every(p)}invert(e){return new Date(super.invert(e))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();let[e,n]=this.getDomain().map(Pr),r=Math.min(e,n),l=Math.max(e,n),{interval:c,nice:h,tickCount:p,minTickCount:m,maxTickCount:g}=this;if(c!==void 0){let y=this.getPixelRange(),_=Fo.getTicksForInterval({start:r,stop:l,interval:c,availableRange:y});return _??Fo.getDefaultTicks({start:r,stop:l,tickCount:p,minTickCount:m,maxTickCount:g})}if(h){if(p===2)return this.niceDomain;if(p===1)return this.niceDomain.slice(0,1)}return Fo.getDefaultTicks({start:r,stop:l,tickCount:p,minTickCount:m,maxTickCount:g})}static getDefaultTicks({start:e,stop:n,tickCount:r,minTickCount:l,maxTickCount:c}){let h=Fo.getTickInterval({start:e,stop:n,count:r,minCount:l,maxCount:c});return h?h.range(new Date(e),new Date(n)):[]}static getTicksForInterval({start:e,stop:n,interval:r,availableRange:l}){if(!r)return[];if(r instanceof Jx){let _=r.range(new Date(e),new Date(n));return l1({start:e,stop:n,interval:r,count:_.length,availableRange:l})?void 0:_}let c=Math.abs(r);if(l1({start:e,stop:n,interval:c,availableRange:l}))return;let h=[...Fo.tickIntervals];h.reverse();let p=h.find(_=>c%_[2]===0);if(p)return p[0].every(c/(p[2]/p[1])).range(new Date(e),new Date(n));let m=new Date(e),g=new Date(n),y=[];for(;m<=g;)y.push(m),m=new Date(m),m.setMilliseconds(m.getMilliseconds()+c);return y}tickFormat({ticks:e,specifier:n}){return n==null?AI(e):T1(n)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[n,r]=this.domain;for(let l=0;l<4;l++){this.updateNiceDomainIteration(n,r);let[c,h]=this.niceDomain;if(Pr(n)===Pr(c)&&Pr(r)===Pr(h))break;n=c,r=h}}updateNiceDomainIteration(e,n){let r=Math.min(Pr(e),Pr(n)),l=Math.max(Pr(e),Pr(n)),c=e>n,{interval:h}=this,p;if(h instanceof Jx)p=h;else{let m=typeof h=="number"?(l-r)/Math.max(h,1):this.tickCount;p=Fo.getTickInterval({start:r,stop:l,count:m,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(p){let m=p.range(new Date(r),new Date(l),!0),g=c?[...m].reverse():m,y=g[0],_=g.at(-1);this.niceDomain=[y,_]}}};W$.tickIntervals=[[Tx,1,Kp],[Tx,5,5*Kp],[Tx,15,15*Kp],[Tx,30,30*Kp],[Ax,1,Os],[Ax,5,5*Os],[Ax,15,15*Os],[Ax,30,30*Os],[Mx,1,Jl],[Mx,3,3*Jl],[Mx,6,6*Jl],[Mx,12,12*Jl],[SL,1,Bh],[SL,2,2*Bh],[uk,1,Ux],[uk,2,2*Ux],[uk,3,3*Ux],[Ug,1,bx],[Ug,2,2*bx],[Ug,3,3*bx],[Ug,4,4*bx],[Ug,6,6*bx],[nI,1,Sk]];var c1=W$,A1=class U$ extends el{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=Ln.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this.index=new Map,this._domain=[]}static is(e){return e instanceof U$}toDomain(e){return new Date(e)}set domain(e){this.invalid=!0;let n=[],r=e.length;if(r===0){this._domain=n;return}this.index=new Map;let{index:l}=this,c=e[0]>e[r-1];e.forEach((h,p)=>{let m=this.toDomain(Pr(e[p+1])+(c?1:-1)||Pr(h)+(c?-1:1)),g=c?[m,h]:[h,m];l.get(g)===void 0&&l.set(g,n.push(h)-1)}),this._domain=n}get domain(){return this._domain}ticks(){this.refresh();let[e,n]=[Pr(this.domain[0]),Pr(this.domain.at(-1))],r=Math.min(e,n),l=Math.max(e,n),{interval:c,tickCount:h,minTickCount:p,maxTickCount:m}=this,g;if(c!==void 0){let[_,C]=this.range,S=Math.abs(C-_);g=c1.getTicksForInterval({start:r,stop:l,interval:c,availableRange:S})}g??(g=c1.getDefaultTicks({start:r,stop:l,tickCount:h,minTickCount:p,maxTickCount:m}));let y=new Set;return g=g.filter(_=>{let C=this.convert(_);return y.has(C)?!1:(y.add(C),!0)}),g}convert(e){if(typeof e=="number"&&(e=new Date(e)),!(e instanceof Date))return NaN;this.refresh();let n;for(let[l,c]of this.index.entries())if(e>=l[0]&&e<=l[1]){n=c;break}if(n===void 0)return NaN;let r=this.ordinalRange[n];return r===void 0?NaN:r}tickFormat({ticks:e,specifier:n}){return n==null?AI(e):T1(n)}invert(e){return new Date(super.invert(e))}};B([Fr],A1.prototype,"tickCount",2);B([Fr],A1.prototype,"minTickCount",2);B([Fr],A1.prototype,"maxTickCount",2);B([Fr],A1.prototype,"interval",2);var zo=A1;function $$(t,e){return typeof t=="number"&&typeof e=="number"?t-e:typeof t=="string"&&typeof e=="string"?t.localeCompare(e):t==null&&e==null?0:t==null?-1:e==null?1:String(t).localeCompare(String(e))}function BW(t){return typeof t=="function"?t():t}function Y$(t,e,n){for(let r in t){let l=n(BW(t[r]),BW(e[r]));if(l!==0)return l}return 0}var MI=class _k extends g0{constructor(e){var n;super({isVirtual:e?.isVirtual}),this.opts=e,this.opacity=1,this.lastBBox=void 0;let{zIndex:r,zIndexSubOrder:l}=e??{};this.isContainerNode=!0,r!==void 0&&(this.zIndex=r),l!==void 0&&(this.zIndexSubOrder=l),this.name=(n=this.opts)==null?void 0:n.name}static is(e){return e instanceof _k}onZIndexChange(){var e;super.onZIndexChange(),this.layer&&((e=this._layerManager)==null||e.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}isLayer(){return this.layer!=null}_setLayerManager(e){var n,r;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(super._setLayerManager(e),e&&((n=this.opts)!=null&&n.layer)){let{zIndex:l,zIndexSubOrder:c,name:h}=(r=this.opts)!=null?r:{};this.layer=e.addLayer({name:h,zIndex:l,zIndexSubOrder:c,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()})}}getComputedOpacity(){let e=1;for(let n of this.traverseUp())n instanceof _k&&(e*=n.opacity);return e}getVisibility(){for(let e of this.traverseUp())if(!e.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}markDirty(e,n=1){if(this.isVirtual){super.markDirty(e,n);return}let r=n;(n<2||this.layer!=null)&&(r=1),super.markDirty(e,n,r)}containsPoint(e,n){return!0}computeBBox(){return this.computeTransformMatrix(),_k.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}render(e){var n,r;let{opts:{name:l=void 0}={},_debug:c}=this,{dirty:h,dirtyZIndex:p,layer:m,children:g,clipRect:y,dirtyTransform:_}=this,{ctx:C,forceRender:S,clipBBox:A}=e,{resized:E,stats:L}=e,P=C.getTransform(),R=h>=2||p||E,V=R,z=!1;for(let ie of g)if(V||(V=ie.layerManager==null&&ie.dirty>=1),z||(z=ie.layerManager!=null&&ie.dirty>=1),V)break;if(l&&c?.({name:l,group:this,isDirty:R,isChildDirty:V,dirtyTransform:_,renderCtx:e,forceRender:S}),_)S="dirtyTransform";else if(m){let ie=this.computeBBox();(this.lastBBox===void 0||!this.lastBBox.equals(ie))&&(S="dirtyTransform",this.lastBBox=ie)}if(!R&&!V&&!z&&!S){l&&L&&c?.({name:l,result:"skipping",renderCtx:e,counts:this.nodeCount,group:this}),m&&L&&(L.layersSkipped++,L.nodesSkipped+=this.nodeCount.count),this.markClean({recursive:!1});return}let H=this.visible;if(m){if(C=m.context,C.save(),C.setTransform(m.pixelRatio,0,0,m.pixelRatio,0,0),S!=="dirtyTransform"&&(S=V||p),S&&m.clear(),A){let{width:ie,height:ne,x:de,y:ue}=A;c?.(()=>({name:l,clipBBox:A,ctxTransform:C.getTransform(),renderCtx:e,group:this})),C.beginPath(),C.rect(de,ue,ie,ne),C.clip()}C.setTransform(P)}else C.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(C),y){let{x:ie,y:ne,width:de,height:ue}=y;C.save(),c?.(()=>({name:l,clipRect:y,ctxTransform:C.getTransform(),renderCtx:e,group:this})),C.beginPath(),C.rect(ie,ne,de,ue),C.clip(),A=this.matrix.transformBBox(y)}let U=this.hasVirtualChildren();p?(this.sortChildren(g),S!=="dirtyTransform"&&(S=!0)):U&&this.sortChildren(g);let Q=S!==e.forceRender||A!==e.clipBBox||C!==e.ctx?He(he({},e),{ctx:C,forceRender:S,clipBBox:A}):e,Z=0;for(let ie of g){if(!ie.visible||!H){ie.markClean(),L&&(Z+=ie.nodeCount.count);continue}if(!S&&ie.dirty===0){L&&(Z+=ie.nodeCount.count);continue}C.save(),ie.render(Q),C.restore()}if(L&&(L.nodesSkipped+=Z),super.render(e),y&&C.restore(),U)for(let ie of this.virtualChildren)ie.markClean({recursive:"virtual"});m&&(L&&L.layersRendered++,C.restore(),S&&m.snapshot(),(r=(n=m.context).verifyDepthZero)==null||r.call(n)),l&&L&&c?.({name:l,result:"rendered",skipped:Z,renderCtx:e,counts:this.nodeCount,group:this})}sortChildren(e){this.dirtyZIndex=!1,e.sort((n,r)=>{var l,c;return Y$([n.zIndex,...(l=n.zIndexSubOrder)!=null?l:[void 0,void 0],n.serialNumber],[r.zIndex,...(c=r.zIndexSubOrder)!=null?c:[void 0,void 0],r.serialNumber],$$)})}static computeBBox(e){let n=1/0,r=-1/0,l=1/0,c=-1/0;for(let h of e){if(!h.visible)continue;let p=h.computeTransformedBBox();if(!p)continue;let{x:m,y:g,width:y,height:_}=p;m<n&&(n=m),g<l&&(l=g),m+y>r&&(r=m+y),g+_>c&&(c=g+_)}return new yt(n,l,r-n,c-l)}setClipRectInGroupCoordinateSpace(e){this.clipRect=e?this.transformBBox(e):void 0}};MI.className="Group";B([je({redraw:3,convertor:t=>kn(0,t,1)})],MI.prototype,"opacity",2);var et=MI,Obe=class{constructor(t=[]){this.stops=t}},Rbe=class extends Obe{constructor(t,e=0){super(t),this.angle=e}createGradient(t,e){let{stops:r,angle:l}=this,c=cr(ds(l+90)),h=Math.cos(c),p=Math.sin(c),m=e.width,g=e.height,y=e.x+m*.5,_=e.y+g*.5;if(m>0&&g>0){let C=Math.sqrt(g*g+m*m)/2,S=Math.atan2(g,m),A;c<Math.PI/2?A=c:c<Math.PI?A=Math.PI-c:c<3*Math.PI/2?A=c-Math.PI:A=2*Math.PI-c;let E=C*Math.abs(Math.cos(A-S)),L=t.createLinearGradient(y+h*E,_+p*E,y-h*E,_-p*E);return r.forEach(P=>{L.addColorStop(P.offset,P.color)}),L}return"black"}},Pbe=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,Go=class ql extends g0{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=ql.defaultStyles.fill,this.stroke=ql.defaultStyles.stroke,this.strokeWidth=ql.defaultStyles.strokeWidth,this.lineDash=ql.defaultStyles.lineDash,this.lineDashOffset=ql.defaultStyles.lineDashOffset,this.lineCap=ql.defaultStyles.lineCap,this.lineJoin=ql.defaultStyles.lineJoin,this.opacity=ql.defaultStyles.opacity,this.fillShadow=ql.defaultStyles.fillShadow}restoreOwnStyles(){let{defaultStyles:e}=this.constructor;Object.assign(this,e)}onFillChange(){let{fill:e}=this,n;if(e?.startsWith("linear-gradient")&&(n=Pbe.exec(e))){let r=parseFloat(n[1]),l=[],c=n[2],h=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,p;for(;p=h.exec(c);)l.push(p[0]);this.gradient=new Rbe(l.map((m,g)=>({color:m,offset:g/(l.length-1)})),r)}else this.gradient=void 0}align(e,n){var r,l,c;let h=(c=(l=(r=this.layerManager)==null?void 0:r.canvas)==null?void 0:l.pixelRatio)!=null?c:1,p=Math.round(e*h)/h;return n==null?p:n===0?0:n<1?Math.ceil(n*h)/h:Math.round((n+e)*h)/h-p}fillStroke(e){this.renderFill(e),this.renderStroke(e)}renderFill(e){if(this.fill){let{globalAlpha:n}=e;this.applyFill(e),this.applyFillAlpha(e),this.applyShadow(e),e.fill(),e.globalAlpha=n}e.shadowColor="rgba(0, 0, 0, 0)"}applyFill(e){this.gradient?e.fillStyle=this.gradient.createGradient(e,this.computeBBox()):e.fillStyle=this.fill}applyFillAlpha(e){let{globalAlpha:n}=e;e.globalAlpha=n*this.opacity*this.fillOpacity}applyShadow(e){var n,r;let l=(r=(n=this.layerManager)==null?void 0:n.canvas.pixelRatio)!=null?r:1,c=this.fillShadow;c?.enabled&&(e.shadowColor=c.color,e.shadowOffsetX=c.xOffset*l,e.shadowOffsetY=c.yOffset*l,e.shadowBlur=c.blur*l)}renderStroke(e){if(this.stroke&&this.strokeWidth){let{globalAlpha:n}=e;e.strokeStyle=this.stroke,e.globalAlpha=n*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin),e.stroke(),e.globalAlpha=n}}containsPoint(e,n){return this.isPointInPath(e,n)}};Go.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0};B([je({redraw:2})],Go.prototype,"fillOpacity",2);B([je({redraw:2})],Go.prototype,"strokeOpacity",2);B([je({redraw:2,changeCb:t=>t.onFillChange()})],Go.prototype,"fill",2);B([je({redraw:2})],Go.prototype,"stroke",2);B([je({redraw:2})],Go.prototype,"strokeWidth",2);B([je({redraw:2})],Go.prototype,"lineDash",2);B([je({redraw:2})],Go.prototype,"lineDashOffset",2);B([je({redraw:2})],Go.prototype,"lineCap",2);B([je({redraw:2})],Go.prototype,"lineJoin",2);B([je({redraw:2,convertor:t=>kn(0,t,1)})],Go.prototype,"opacity",2);B([je({redraw:2,checkDirtyOnAssignment:!0})],Go.prototype,"fillShadow",2);var wa=Go,hc=class extends wa{constructor(t={}){super(t),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new yt(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(t,e){return!1}render(t){var e;let{ctx:n,forceRender:r,stats:l}=t;if(this.dirty===0&&!r){l&&(l.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(n);let{x1:c,y1:h,x2:p,y2:m}=this;c=this.align(c),h=this.align(h),p=this.align(p),m=this.align(m);let{fill:g,opacity:y,isRange:_}=this;if(!!(_&&g)){let{fillOpacity:R}=this;n.fillStyle=g,n.globalAlpha=y*R,n.beginPath(),n.moveTo(c,h),n.lineTo(p,h),n.lineTo(p,m),n.lineTo(c,m),n.closePath(),n.fill()}let{stroke:S,strokeWidth:A,startLine:E,endLine:L}=this;if(!!((E||L)&&S&&A)){let{strokeOpacity:R,lineDash:V,lineDashOffset:z,lineCap:H,lineJoin:U}=this;n.strokeStyle=S,n.globalAlpha=y*R,n.lineWidth=A,V&&n.setLineDash(V),z&&(n.lineDashOffset=z),H&&(n.lineCap=H),U&&(n.lineJoin=U),n.beginPath(),E&&(n.moveTo(c,h),n.lineTo(p,h)),L&&(n.moveTo(p,m),n.lineTo(c,m)),n.stroke()}(e=this.fillShadow)==null||e.markClean(),super.render(t)}};hc.className="Range";hc.defaultStyles=He(he({},wa.defaultStyles),{strokeWidth:1});B([je({redraw:2})],hc.prototype,"x1",2);B([je({redraw:2})],hc.prototype,"y1",2);B([je({redraw:2})],hc.prototype,"x2",2);B([je({redraw:2})],hc.prototype,"y2",2);B([je({redraw:2})],hc.prototype,"startLine",2);B([je({redraw:2})],hc.prototype,"endLine",2);B([je({redraw:2})],hc.prototype,"isRange",2);var _x=new WeakMap,wx=new WeakMap;function Pk(t,e){var n,r,l;let c=JSON.stringify(t,null,0);return _x.has(e)||_x.set(e,new Map),(n=_x.get(e))!=null&&n.has(c)||(r=_x.get(e))==null||r.set(c,e(t)),(l=_x.get(e))==null?void 0:l.get(c)}function X$(t){return(e,...n)=>{var r,l,c;let h=JSON.stringify(e,null,0);return wx.has(t)||wx.set(t,new Map),(r=wx.get(t))!=null&&r.has(h)||(l=wx.get(t))==null||l.set(h,t(e,...n)),(c=wx.get(t))==null?void 0:c.get(h)}}var BL="\u2026";function nD(t){let{redraw:e=3,changeCb:n}=t??{};return je({redraw:e,type:"font",changeCb:n})}var hr=class Yr extends wa{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=Yr.defaultStyles.textAlign,this.textBaseline=Yr.defaultStyles.textBaseline,this.lineHeight=void 0}onTextChange(){var e,n;this.lines=(n=(e=this.text)==null?void 0:e.split(`
`))!=null?n:[]}get font(){return(this._font==null||this._dirtyFont)&&(this._dirtyFont=!1,this._font=l0(this)),this._font}computeBBox(){var e,n;let{x:r,y:l,lines:c,lineHeight:h,textBaseline:p=Yr.defaultStyles.textBaseline,textAlign:m=Yr.defaultStyles.textAlign}=this,g=0,y=0,_=0,C=0,S=0,A=l0(this);for(let E=0;E<c.length;E++){let L=Yr.measureText(c[E],A,p,m);g=Math.max(g,L.actualBoundingBoxLeft),_=Math.max(_,L.width),E==0?(y+=L.actualBoundingBoxAscent,C+=L.actualBoundingBoxAscent):S+=(e=L.fontBoundingBoxAscent)!=null?e:L.emHeightAscent,E==c.length-1?C+=L.actualBoundingBoxDescent:S+=(n=L.fontBoundingBoxDescent)!=null?n:L.emHeightDescent}return h!==void 0&&(S=(c.length-1)*h),C+=S,y+=S*this.getVerticalModifier(p),new yt(r-g,l-y,_,C)}getLineHeight(e){var n,r;if(this.lineHeight)return this.lineHeight;let l=Yr.measureText(e,this.font,this.textBaseline,this.textAlign);return((n=l.fontBoundingBoxAscent)!=null?n:l.emHeightAscent)+((r=l.fontBoundingBoxDescent)!=null?r:l.emHeightDescent)}isPointInPath(e,n){let r=this.transformPoint(e,n),l=this.computeBBox();return l?l.containsPoint(r.x,r.y):!1}render(e){let{ctx:n,forceRender:r,stats:l}=e;if(this.dirty===0&&!r){l&&(l.nodesSkipped+=this.nodeCount.count);return}if(!this.lines.length||!this.layerManager){l&&(l.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(n);let{fill:c,stroke:h,strokeWidth:p}=this;n.font=this.font,n.textAlign=this.textAlign,n.textBaseline=this.textBaseline;let m=this.layerManager.canvas.pixelRatio||1,{globalAlpha:g}=n;if(c){n.fillStyle=c,n.globalAlpha=g*this.opacity*this.fillOpacity;let{fillShadow:y}=this;y?.enabled&&(n.shadowColor=y.color,n.shadowOffsetX=y.xOffset*m,n.shadowOffsetY=y.yOffset*m,n.shadowBlur=y.blur*m),this.renderLines((_,C,S)=>n.fillText(_,C,S))}if(h&&p){n.strokeStyle=h,n.lineWidth=p,n.globalAlpha=g*this.opacity*this.strokeOpacity;let{lineDash:y,lineDashOffset:_,lineCap:C,lineJoin:S}=this;y&&n.setLineDash(y),_&&(n.lineDashOffset=_),C&&(n.lineCap=C),S&&(n.lineJoin=S),this.renderLines((A,E,L)=>n.strokeText(A,E,L))}super.render(e)}renderLines(e){let{lines:n,x:r,y:l}=this,c=this.lines.map(m=>this.getLineHeight(m)),p=-(c.reduce((m,g)=>m+g,0)-c[0])*this.getVerticalModifier(this.textBaseline);for(let m=0;m<n.length;m++)e(n[m],r,l+p),p+=c[m]}static wrapLines(e,n,r,l,c,h){let p=h!=="hide",m=new q$(l),g=e.split(/\r?\n/g);if(g.length===0)return{lines:void 0,truncated:!1};if(c==="never"){let{text:S,truncated:A}=Yr.truncateLine(g[0],n,m,p?"auto":"never");return{lines:S!=null?[S]:void 0,truncated:A}}let y=[],_=0,C=!1;for(let S of g){let A=Yr.wrapLine(S,n,r,m,l,c,_,p);if(A==null)return{lines:void 0,truncated:!1};if(y.push(...A.result),_=A.cumulativeHeight,A.truncated){C=!0;break}}return{lines:y,truncated:C}}static wrap(e,n,r,l,c,h="ellipsis"){var p;let{lines:m,truncated:g}=Yr.wrapLines(e,n,r,l,c,h);return{text:(p=m?.join(`
`).trim())!=null?p:"",truncated:g}}static wrapLine(e,n,r,l,c,h,p,m){if(e=e.trim(),!e)return{result:[],truncated:!1,cumulativeHeight:p};let g=l.size(e);if(g.width<=n)return{result:[e],truncated:!1,cumulativeHeight:p+g.height};if(g.height>r||l.width("W")>n)return m?{result:[],truncated:!0,cumulativeHeight:p}:void 0;let y=e.split(/\s+/g),_=Yr.wrapLineSequentially(y,n,r,l,c,h,p,m);if(_==null)return;p=_.cumulativeHeight;let{lines:C}=_;if(!(_.wordsBrokenOrTruncated||_.linesTruncated)){let A=_.lines.length,E=Yr.wrapLineBalanced(y,n,l,A);E.length===C.length&&(C=E)}return{result:C.map(A=>A.join(" ")),truncated:_.linesTruncated,cumulativeHeight:p}}static breakWord(e,n,r,l,c){let h=S=>Yr.punctuationMarks.includes(e[S]),p=l?c.width("-"):0,m=[],g=0,y=0;for(let S=0;S<e.length;S++){let A=e[S],E=c.width(A),L=y===0?n:r;g+E+p>L&&(m.push(S),g=0,y++),g+=E}let _=[],C=0;for(let S of m){let A=e.substring(C,S);l&&A.length>0&&!h(S-1)&&!h(S)&&(A+="-"),_.push(A),C=S}return _.push(e.substring(C)),_}static truncateLine(e,n,r,l){e=e.trimEnd();let c=r.width(e);if(c>n&&l==="never")return{text:void 0,truncated:!1};if(c<=n&&l!=="force")return{text:e,truncated:!1};let h=r.width(BL),p=e,m=c;for(;p.length>0&&m+h>n;)p=p.slice(0,-1).trimEnd(),m=r.width(p);return m+h<=n?{text:`${p}${BL}`,truncated:!0}:{text:void 0,truncated:!1}}static wrapLineSequentially(e,n,r,l,c,h,p,m){let{fontSize:g=0,lineHeight:y=g*Yr.defaultLineHeightRatio}=c,_=h==="always"||h==="hyphenate",C=h==="hyphenate",S=l.width(" "),A=!1,E=!1,L=[],P=[],R=0,V=()=>({lines:L,linesTruncated:E,wordsBrokenOrTruncated:A,cumulativeHeight:p}),z=()=>{if(!m)return;let U=P.join(" "),{text:X}=Yr.truncateLine(U,n,l,"force");if(X!=null)return P.splice(0,P.length,X),E=!0,V()},H=()=>{let U=p+y;return U>=r?!1:(P=[],R=0,p=U,L.push(P),!0)};if(!H())return z();for(let U=0;U<e.length;U++){let X=e[U],Q=l.width(X),Z=P.length===0?0:S,ie=R+Z+Q;if(ie<=n){P.push(X),R=ie;continue}if(Q<=n){if(!H())return z();P.push(X),R=Q;continue}if(A=!0,_){let ne=n-R-Z,de=Yr.breakWord(X,ne,n,C,l);for(let ue=0;ue<de.length;ue++){let ge=de[ue];if(ge&&P.push(ge),ue===de.length-1)R=l.width(ge);else if(!H())return z()}}else if(m){if(!H())return z();let{text:ne}=Yr.truncateLine(X,n,l,"force");if(ne==null)return;P.push(ne),U<e.length-1&&(E=!0);break}else return}return V()}static wrapLineBalanced(e,n,r,l){let c=e.reduce((S,A)=>S+r.width(A),0),h=r.width(" "),p=h*(e.length-l-2),m=(c+p)/l,g=[],y=[],_=r.width(e[0]),C=!0;for(let S of e){let A=r.width(S);if(C){y=[],y.push(S),_=A,C=!1,g.push(y);continue}let E=_+h+A;E<=m?(y.push(S),_=E):E<=n?(y.push(S),C=!0):(y=[S],_=A,g.push(y))}return g}setFont(e){this.fontFamily=e.fontFamily,this.fontSize=e.fontSize,this.fontStyle=e.fontStyle,this.fontWeight=e.fontWeight}setAlign(e){this.textAlign=e.textAlign,this.textBaseline=e.textBaseline}getVerticalModifier(e){switch(e){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return .5}}static get textContext(){var e;return(e=this._textContext)!=null?e:this._textContext=Is("canvas").getContext("2d")}static measureText(e,n,r,l){return this._measureText({text:e,font:n,textBaseline:r,textAlign:l})}static getTextSize(e,n){return this._getTextSize({text:e,font:n})}};hr.className="Text";hr.defaultLineHeightRatio=1.15;hr.defaultStyles=Object.assign({},wa.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"});hr.ellipsis=BL;hr.punctuationMarks=[".",",","-",":",";","!","?","'",'"',"(",")"];hr._measureText=X$(({text:t,font:e,textBaseline:n,textAlign:r})=>{let l=hr.textContext;return l.font=e,l.textBaseline=n,l.textAlign=r,l.measureText(t)});hr._getTextSize=X$(({text:t,font:e})=>{let n=hr.textContext;n.font=e;let r=n.measureText(t);return{width:r.width,height:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}});B([je({redraw:3})],hr.prototype,"x",2);B([je({redraw:3})],hr.prototype,"y",2);B([je({redraw:3,changeCb:t=>t.onTextChange()})],hr.prototype,"text",2);B([nD()],hr.prototype,"fontStyle",2);B([nD()],hr.prototype,"fontWeight",2);B([nD()],hr.prototype,"fontSize",2);B([nD()],hr.prototype,"fontFamily",2);B([je({redraw:3})],hr.prototype,"textAlign",2);B([je({redraw:3})],hr.prototype,"textBaseline",2);B([je({redraw:3})],hr.prototype,"lineHeight",2);var an=hr,q$=class{constructor(t){this.font=qr(t)?t:l0(t)}size(t){return an.getTextSize(t,this.font)}width(t){let{width:e}=this.size(t);return e}};function l0(t){let{fontFamily:e,fontSize:n,fontStyle:r,fontWeight:l}=t;return[r??"",l??"",n+"px",e].join(" ").trim()}var pr=class extends dn{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return l0(this)}};B([G(Ct)],pr.prototype,"enabled",2);B([G(Dn,{optional:!0})],pr.prototype,"color",2);B([G(Gh,{optional:!0})],pr.prototype,"fontStyle",2);B([G(Wh,{optional:!0})],pr.prototype,"fontWeight",2);B([G(Ae)],pr.prototype,"fontSize",2);B([G(Re)],pr.prototype,"fontFamily",2);B([G(jo,{optional:!0})],pr.prototype,"formatter",2);function Fk(t){let{parallelFlipRotation:e=0,regularFlipRotation:n=0}=t,r=t.rotation?cr(ds(t.rotation)):0,l=!r&&e>=0&&e<=Math.PI?-1:1,c=!r&&n>=0&&n<=Math.PI?-1:1,h=0;return t.parallel?h=l*Math.PI/2:c===-1&&(h=Math.PI),{configuredRotation:r,defaultRotation:h,parallelFlipFlag:l,regularFlipFlag:c}}function Fbe(t,e){return isNaN(t)?e?0:10:t}function Nbe(t,e,n,r){return t&&!e?n*r===-1?"hanging":"bottom":"middle"}function _L(t,e,n,r,l){let c=e>0&&e<=Math.PI,h=n>0&&n<=Math.PI,p=c||h?-1:1;if(t)if(e||n){if(r*p===-1)return"end"}else return"center";else if(r*l===-1)return"end";return"start"}function Bbe(t,e,n,r,l){let{width:c,height:h}=e,p=new yt(n,r,0,0);l.transformBBox(p,e);let{x:m,y:g}=e;return e.width=c,e.height=h,{point:{x:m,y:g},label:{text:t,width:c,height:h}}}var K$=(t=>(t[t.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",t[t.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",t[t.AXIS_ZINDEX=2]="AXIS_ZINDEX",t[t.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",t[t.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",t[t.AXIS_FOREGROUND_ZINDEX=5]="AXIS_FOREGROUND_ZINDEX",t[t.SERIES_CROSSHAIR_ZINDEX=6]="SERIES_CROSSHAIR_ZINDEX",t[t.SERIES_LABEL_ZINDEX=7]="SERIES_LABEL_ZINDEX",t[t.SERIES_CROSSLINE_LINE_ZINDEX=8]="SERIES_CROSSLINE_LINE_ZINDEX",t[t.LEGEND_ZINDEX=9]="LEGEND_ZINDEX",t[t.NAVIGATOR_ZINDEX=10]="NAVIGATOR_ZINDEX",t))(K$||{}),EI=t=>!!t&&Object.hasOwn(t,"toString")&&qr(t.toString()),Vbe=t=>!!t&&Object.hasOwn(t,"valueOf")&&Bn(t.valueOf()),LI=t=>Bn(t)||Vbe(t)||b1(t);function u1(t,e){if(e&&LI(t))return t;if(!e)return qr(t)||EI(t)?t:String(t)}function t0(t){return EI(t)&&Object.hasOwn(t,"id")?t.id:t}var II=t=>t==="value"?Zn((e,n)=>n.target.type==="line",e=>e.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):Zn((e,n)=>n.target.type==="range",e=>e.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),Z$=(t,e,n,r)=>{let l=t==="line"&&e!==void 0,c=t==="range"&&n!==void 0;if(!l&&!c)return!0;let[h,p]=n??[e,void 0],m=Ln.is(r)||zo.is(r),g=u1(h,m)!=null&&!isNaN(r.convert(h)),y=u1(p,m)!=null&&!isNaN(r.convert(p));if(l&&g||c&&g&&y)return!0;let _=["Expecting crossLine"];return c?(g||_.push(`range start ${qx(h)}`),y||_.push(`${g?"":"and "}range end ${qx(p)}`)):_.push(`value ${qx(h)}`),_.push("to match the axis scale domain."),Le.warnOnce(_.join(" ")),!1},zbe={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},Hbe={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function VW({yDirection:t,padding:e=0,position:n="top",bbox:r}){let l=t?zbe:Hbe,{xTranslationDirection:c,yTranslationDirection:h}=l[n],p=t?r.width:r.height,m=t?r.height:r.width,g=c*(e+p/2),y=h*(e+m/2);return{xTranslation:g,yTranslation:y}}function jbe({yDirection:t,bbox:e,padding:n=0,position:r="top"}){let l={};return r.startsWith("inside")||(r==="top"&&!t?l.top=n+e.height:r==="bottom"&&!t?l.bottom=n+e.height:r==="left"&&t?l.left=n+e.width:r==="right"&&t&&(l.right=n+e.width)),l}var VL=({yDirection:t,xEnd:e,yStart:n,yEnd:r})=>t?{x:e/2,y:n}:{x:e,y:isNaN(r)?n:(n+r)/2},zW=({yDirection:t,xStart:e,xEnd:n,yStart:r,yEnd:l})=>t?{x:e,y:isNaN(l)?r:(r+l)/2}:{x:n/2,y:r},HW=({yDirection:t,xEnd:e,yStart:n,yEnd:r})=>t?{x:e,y:isNaN(r)?n:(n+r)/2}:{x:e/2,y:isNaN(r)?n:r},jW=({yDirection:t,xStart:e,xEnd:n,yStart:r,yEnd:l})=>t?{x:n/2,y:isNaN(l)?r:l}:{x:e,y:isNaN(l)?r:(r+l)/2},Gbe=({xEnd:t,yStart:e,yEnd:n})=>({x:t/2,y:isNaN(n)?e:(e+n)/2}),GW=({yDirection:t,xStart:e,xEnd:n,yStart:r})=>t?{x:e/2,y:r}:{x:n,y:r},WW=({yDirection:t,xStart:e,yStart:n,yEnd:r})=>t?{x:e,y:isNaN(r)?n:r}:{x:e,y:n},UW=({yDirection:t,xEnd:e,yStart:n,yEnd:r})=>t?{x:e,y:n}:{x:e,y:isNaN(r)?n:r},$W=({yDirection:t,xStart:e,xEnd:n,yStart:r,yEnd:l})=>t?{x:n,y:isNaN(l)?r:l}:{x:e,y:isNaN(l)?r:l},Wbe={top:{c:VL},bottom:{c:jW},left:{c:zW},right:{c:HW},topLeft:{c:GW},topRight:{c:UW},bottomLeft:{c:WW},bottomRight:{c:$W},inside:{c:Gbe},insideLeft:{c:zW},insideRight:{c:HW},insideTop:{c:VL},insideBottom:{c:jW},insideTopLeft:{c:GW},insideBottomLeft:{c:WW},insideTopRight:{c:UW},insideBottomRight:{c:$W}},Ube=Ui(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),Da=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}};B([G(Ct,{optional:!0})],Da.prototype,"enabled",2);B([G(Re,{optional:!0})],Da.prototype,"text",2);B([G(Gh,{optional:!0})],Da.prototype,"fontStyle",2);B([G(Wh,{optional:!0})],Da.prototype,"fontWeight",2);B([G(Ae)],Da.prototype,"fontSize",2);B([G(Re)],Da.prototype,"fontFamily",2);B([G(mi)],Da.prototype,"padding",2);B([G(Dn,{optional:!0})],Da.prototype,"color",2);B([G(Ube,{optional:!0})],Da.prototype,"position",2);B([G(jh,{optional:!0})],Da.prototype,"rotation",2);B([G(Ct,{optional:!0})],Da.prototype,"parallel",2);var Fs=class Gx{constructor(){this.id=lc(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new Da,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new et({name:`${this.id}`,layer:!0,zIndex:Gx.LINE_LAYER_ZINDEX}),this.labelGroup=new et({name:`${this.id}`,layer:!0,zIndex:Gx.LABEL_LAYER_ZINDEX}),this.crossLineRange=new hc,this.crossLineLabel=new an,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;let{group:e,labelGroup:n,crossLineRange:r,crossLineLabel:l}=this;e.append(r),n.append(l),r.pointerEvents=1}update(e){let{enabled:n,data:r,type:l,value:c,range:h,scale:p}=this;if(!l||!p||!n||!e||!Z$(l,c,h,p)||r.length===0){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=e,this.labelGroup.visible=e,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(e,n){if(!e||!this.createNodeData(n))return;let{sideFlag:l,gridLength:c,data:h}=this,p=[],m=0,g=l*c,y=h[0],_=h[1],C=new yt(Math.min(m,g),Math.min(y,_),Math.abs(m-g),Math.abs(y-_));p.push(C);let S=this.computeLabelBBox();return S&&p.push(S),yt.merge(p)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(e){var n,r,l;let{scale:c,gridLength:h,sideFlag:p,direction:m,label:{position:g="top"},clippedRange:y,strokeWidth:_=0}=this;if(this.data=[],!c)return!1;let C=(n=c.bandwidth)!=null?n:0,S=(r=c.step)!=null?r:0,A=(e?-1:1)*(c instanceof el?(S-C)/2:0),[E,L]=[0,p*h],[P,R]=this.getRange(),V=R===void 0&&zo.is(c)?C/2+A:0,[z,H]=[Number(c.convert(P,{clampMode:"clamped"}))-A+V,c.convert(R,{clampMode:"clamped"})+C+A];z=Ik(z,y),H=Ik(H,y),[P,R]=[Number(c.convert(P))+V,c.convert(R)+C];let U=(P===z||R===H||z!==H)&&Math.abs(H-z)>0;if(U&&z>H&&([z,H]=[H,z],[P,R]=[R,P]),P-A>=z&&(P-=A),R+A<=H&&(R+=A),this.isRange=U,this.startLine=_>0&&P>=z&&P<=z+A,this.endLine=_>0&&R>=H-C-A&&R<=H,!U&&!this.startLine&&!this.endLine)return!1;if(this.data=[z,H],this.label.enabled){let X=m==="y",{c:Q=VL}=(l=Wbe[g])!=null?l:{},{x:Z,y:ie}=Q({yDirection:X,xStart:E,xEnd:L,yStart:z,yEnd:H});this.labelPoint={x:Z,y:ie}}return!0}updateRangeNode(){var e;let{crossLineRange:n,sideFlag:r,gridLength:l,data:c,startLine:h,endLine:p,isRange:m,fill:g,fillOpacity:y,stroke:_,strokeWidth:C,lineDash:S}=this;n.x1=0,n.x2=r*l,n.y1=c[0],n.y2=c[1],n.startLine=h,n.endLine=p,n.isRange=m,n.fill=g,n.fillOpacity=y??1,n.stroke=_,n.strokeWidth=C??1,n.strokeOpacity=(e=this.strokeOpacity)!=null?e:1,n.lineDash=S}updateLabel(){let{crossLineLabel:e,label:n}=this;n.text&&(e.fontStyle=n.fontStyle,e.fontWeight=n.fontWeight,e.fontSize=n.fontSize,e.fontFamily=n.fontFamily,e.fill=n.color,e.text=n.text)}positionLabel(){let{crossLineLabel:e,labelPoint:{x:n=void 0,y:r=void 0}={},label:{parallel:l,rotation:c,position:h="top",padding:p=0},direction:m,parallelFlipRotation:g,regularFlipRotation:y}=this;if(n===void 0||r===void 0)return;let{defaultRotation:_,configuredRotation:C}=Fk({rotation:c,parallel:l,regularFlipRotation:y,parallelFlipRotation:g});e.rotation=_+C,e.textBaseline="middle",e.textAlign="center";let S=e.computeTransformedBBox();if(!S)return;let A=m==="y",{xTranslation:E,yTranslation:L}=VW({yDirection:A,padding:p,position:h,bbox:S});e.translationX=n+E,e.translationY=r+L}getZIndex(e=!1){return e?Gx.RANGE_LAYER_ZINDEX:Gx.LINE_LAYER_ZINDEX}getRange(){var e;let{value:n,range:r,scale:l}=this,c=Ln.is(l)||zo.is(l),h=(e=r?.[0])!=null?e:n,p=r?.[1];return!c&&p===void 0&&(p=h),c&&h===p&&(p=void 0),[h,p]}computeLabelBBox(){let{label:e}=this;if(!e.enabled)return;let n=new an;n.fontFamily=e.fontFamily,n.fontSize=e.fontSize,n.fontStyle=e.fontStyle,n.fontWeight=e.fontWeight,n.text=e.text;let{labelPoint:{x:r=void 0,y:l=void 0}={},label:{parallel:c,rotation:h,position:p="top",padding:m=0},direction:g,parallelFlipRotation:y,regularFlipRotation:_}=this;if(r===void 0||l===void 0)return;let{configuredRotation:C}=Fk({rotation:h,parallel:c,regularFlipRotation:_,parallelFlipRotation:y});n.rotation=C,n.textBaseline="middle",n.textAlign="center";let S=n.computeTransformedBBox();if(!S)return;let A=g==="y",{xTranslation:E,yTranslation:L}=VW({yDirection:A,padding:m,position:p,bbox:S});return n.translationX=r+E,n.translationY=l+L,n.computeTransformedBBox()}calculatePadding(e){var n,r,l,c,h,p,m,g;let{isRange:y,startLine:_,endLine:C,direction:S,label:{padding:A=0,position:E="top"}}=this;if(!y&&!_&&!C)return;let L=this.computeLabelBBox();if(L?.x==null||L?.y==null)return;let P=jbe({yDirection:S==="y",padding:A,position:E,bbox:L});e.left=Math.max((n=e.left)!=null?n:0,(r=P.left)!=null?r:0),e.right=Math.max((l=e.right)!=null?l:0,(c=P.right)!=null?c:0),e.top=Math.max((h=e.top)!=null?h:0,(p=P.top)!=null?p:0),e.bottom=Math.max((m=e.bottom)!=null?m:0,(g=P.bottom)!=null?g:0)}};Fs.LINE_LAYER_ZINDEX=8;Fs.RANGE_LAYER_ZINDEX=3;Fs.LABEL_LAYER_ZINDEX=7;Fs.className="CrossLine";B([G(Ct,{optional:!0})],Fs.prototype,"enabled",2);B([G(Ui(["range","line"],"a crossLine type"),{optional:!0})],Fs.prototype,"type",2);B([G(Ca(II("range"),D1.restrict({length:2})),{optional:!0})],Fs.prototype,"range",2);B([G(II("value"),{optional:!0})],Fs.prototype,"value",2);B([G(Dn,{optional:!0})],Fs.prototype,"fill",2);B([G(In,{optional:!0})],Fs.prototype,"fillOpacity",2);B([G(Dn,{optional:!0})],Fs.prototype,"stroke",2);B([G(mi,{optional:!0})],Fs.prototype,"strokeWidth",2);B([G(In,{optional:!0})],Fs.prototype,"strokeOpacity",2);B([G(Lu,{optional:!0})],Fs.prototype,"lineDash",2);var zL=Fs,OI=class{constructor(){this.moduleMap=new Map}*modules(){for(let t of this.moduleMap.values())yield t.moduleInstance}addModule(t,e){if(this.moduleMap.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);this.moduleMap.set(t.optionsKey,{module:t,moduleInstance:e(t)})}removeModule(t){var e;let n=qr(t)?t:t.optionsKey;(e=this.moduleMap.get(n))==null||e.moduleInstance.destroy(),this.moduleMap.delete(n)}getModule(t){var e;return(e=this.moduleMap.get(qr(t)?t:t.optionsKey))==null?void 0:e.moduleInstance}isEnabled(t){return this.moduleMap.has(qr(t)?t:t.optionsKey)}mapModules(t){return Array.from(this.moduleMap.values(),(e,n)=>t(e.moduleInstance,n))}destroy(){var t;for(let e of this.moduleMap.keys())(t=this.moduleMap.get(e))==null||t.moduleInstance.destroy();this.moduleMap.clear()}},Q$={};Tu(Q$,{resetMotion:()=>kr});function kr(t,e){let{nodes:n,selections:r}=Zk(t);for(let l of r){for(let c of l.nodes()){let h=e(c,c.datum);c.setProperties(h)}l.cleanup()}for(let l of n){let c=e(l,l.datum);l.setProperties(c)}}var M1=class{constructor(t,e,n){this.states=e,this.preTransitionCb=n,this.debug=Li.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,"color: green")}transition(t,e){var n,r;let l=this.states[this.state],c=l?.[t];if(!c){this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.state}`,"color: grey");return}let h=this.state;return typeof c=="string"?h=c:typeof c=="object"&&(h=c.target),this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${h}`,"color: green"),(n=this.preTransitionCb)==null||n.call(this,this.state,h),this.state=h,typeof c=="function"?c(e):typeof c=="object"&&((r=c.action)==null||r.call(c,e)),this.state}},n0=t=>`(${t})`,bu=t=>`${n0(t)}?`,YW=t=>bu(`?:${t}`),$be=(()=>{let t=".",e="[<>=^]",n="[+\\-( ]",r="[$\u20AC\xA3\xA5\u20A3\u20B9#]",l="0",c="\\d+",h=",",p="\\d+",m="~",g="[%a-z]";return new RegExp(["^",YW(`${bu(t)}${n0(e)}`),bu(n),bu(r),bu(l),bu(c),bu(h),YW(`\\.${n0(p)}`),bu(m),bu(g),"$"].join(""),"i")})(),Ybe=(()=>{let t=".*?",e=".+?",n=".*?";return new RegExp(["^",n0(t),`#\\{${n0(e)}\\}`,n0(n),"$"].join(""))})();function J$(t){let e,n,r=Ybe.exec(t);r&&([,e,t,n]=r);let l=$be.exec(t);if(!l)throw new Error(`The number formatter is invalid: ${t}`);let[,c,h,p,m,g,y,_,C,S,A]=l;return{fill:c,align:h,sign:p,symbol:m,zero:g,width:parseInt(y),comma:_,precision:parseInt(C),trim:!!S,type:A,prefix:e,suffix:n}}function eY(t){let e=typeof t=="string"?J$(t):t,{fill:n,align:r,sign:l="-",symbol:c,zero:h,width:p,comma:m,type:g,prefix:y="",suffix:_="",precision:C}=e,{trim:S}=e,A=C===void 0||isNaN(C),E;if(!g)E=Bo.g,S=!0;else if(g in Bo&&g in Yg)E=A?Yg[g]:Bo[g];else if(g in Bo)E=Bo[g];else if(g in Yg)E=Yg[g];else throw new Error(`The number formatter type is invalid: ${g}`);let L;return C==null||A?L=g?6:12:L=C,P=>{let R=E(P,L);return S&&(R=Xbe(R)),m&&(R=qbe(R,m)),R=Jbe(P,R,l),c&&c!=="#"&&(R=`${c}${R}`),c==="#"&&g==="x"&&(R=`0x${R}`),g==="s"&&(R=`${R}${Kbe(P)}`),(g==="%"||g==="p")&&(R=`${R}%`),p!=null&&!isNaN(p)&&(R=e_e(R,p,n??h,r)),R=`${y}${R}${_}`,R}}var sk=t=>Math.floor(Math.abs(t)),Yg={b:t=>sk(t).toString(2),c:t=>String.fromCharCode(t),d:t=>Math.round(Math.abs(t)).toFixed(0),o:t=>sk(t).toString(8),x:t=>sk(t).toString(16),X:t=>Yg.x(t).toUpperCase(),n:t=>Yg.d(t),"%":t=>`${sk(t*100).toFixed(0)}`},Bo={e:(t,e)=>Math.abs(t).toExponential(e),E:(t,e)=>Bo.e(t,e).toUpperCase(),f:(t,e)=>Math.abs(t).toFixed(e),F:(t,e)=>Bo.f(t,e).toUpperCase(),g:(t,e)=>{if(t===0)return"0";let n=Math.abs(t),r=Math.floor(Math.log10(n));return r>=-4&&r<e?n.toFixed(e-1-r):n.toExponential(e-1)},G:(t,e)=>Bo.g(t,e).toUpperCase(),n:(t,e)=>Bo.g(t,e),p:(t,e)=>Bo.r(t*100,e),r:(t,e)=>{if(t===0)return"0";let n=Math.abs(t),l=Math.floor(Math.log10(n))-(e-1);if(l<=0)return n.toFixed(-l);let c=Math.pow(10,l);return(Math.round(n/c)*c).toFixed()},s:(t,e)=>{let n=tY(t);return Bo.r(t/Math.pow(10,n),e)},"%":(t,e)=>Bo.f(t*100,e)};function Xbe(t){return t.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function qbe(t,e){let n=t.indexOf(".");n<0&&(n=t.length);let r=t.substring(0,n).split(""),l=t.substring(n);for(let c=r.length-3;c>0;c-=3)r.splice(c,0,e);return`${r.join("")}${l}`}function Kbe(t){return Zbe[tY(t)]}function tY(t){return kn(nY,t?Math.floor(Math.log10(Math.abs(t))/3)*3:0,iY)}var nY=-24,iY=24,Zbe={[nY]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xB5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[iY]:"Y"},Qbe="\u2212";function Jbe(t,e,n=""){if(n==="(")return t>=0?e:`(${e})`;let r=n==="+"?"+":"";return`${t>=0?r:Qbe}${e}`}function e_e(t,e,n=" ",r=">"){let l=t;if(r===">"||!r)l=l.padStart(e,n);else if(r==="<")l=l.padEnd(e,n);else if(r==="^"){let c=Math.max(0,e-l.length),h=Math.ceil(c/2),p=Math.floor(c/2);l=l.padStart(h+l.length,n),l=l.padEnd(p+l.length,n)}return l}function rY(t,e){let n=J$(e??",f"),{precision:r}=n;(r==null||isNaN(r))&&(n.type==="f"||n.type==="%"?n.precision=Math.max(...t.map(c=>{if(typeof c!="number"||c===0)return 0;let h=Math.floor(Math.log10(Math.abs(c))),p=n.type?6:12,m=c.toExponential(p-1).replace(/\.?0+e/,"e"),g=m.indexOf(".");if(g<0)return h>=0?0:-h;let y=m.indexOf("e")-g;return Math.max(0,y-h-1)})):(!n.type||n.type in Bo)&&(n.precision=Math.max(...t.map(c=>{if(typeof c!="number")return 0;let h=c.toExponential((n.type?6:12)-1).replace(/\.?0+e/,"e");return h.substring(0,h.indexOf("e")).replace(".","").length}))));let l=eY(n);return c=>l(Number(c))}var sY=class HL extends Ln{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=LW,this.basePow=LW,this.log=e=>Math.min(...this.domain)>=0?this.baseLog(e):-this.baseLog(-e),this.pow=e=>Math.min(...this.domain)>=0?this.basePow(e):-this.basePow(-e),this.defaultClampMode="clamped"}toDomain(e){return e}transform(e){return Math.min(...this.domain)>=0?Math.log(e):-Math.log(-e)}transformInvert(e){return Math.min(...this.domain)>=0?Math.exp(e):-Math.exp(-e)}refresh(){this.base<=0&&(this.base=0,Le.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=HL.getBaseLogMethod(this.base),this.basePow=HL.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){let[e,n]=this.domain,r=e>n?Math.ceil:Math.floor,l=e>n?Math.floor:Math.ceil,c=this.pow(r(this.log(e))),h=this.pow(l(this.log(n)));this.niceDomain=[c,h]}ticks(){var e;let n=(e=this.tickCount)!=null?e:10;if(!this.domain||this.domain.length<2||n<1)return[];this.refresh();let r=this.base,[l,c]=this.getDomain(),h=Math.min(l,c),p=Math.max(l,c),m=this.log(h),g=this.log(p);if(this.interval){let L=Math.abs(this.interval),P=Math.abs(g-m),R=a1(m,g,Math.min(P,L));R=o1(R.fractionDigits,R.map(z=>this.pow(z)).filter(z=>z>=h&&z<=p));let V=this.getPixelRange();if(!l1({start:h,stop:p,interval:L,count:R.length,availableRange:V}))return R}let y=r%1===0,_=g-m>=n;if(!y||_){let L=tD(m,g,Math.min(g-m,n));return L=o1(L.fractionDigits,L.map(P=>this.pow(P))),L}let C=[],S=h>0;m=Math.floor(m)-1,g=Math.round(g)+1;let A=t1(this.range)/n,E=1/0;for(let L=m;L<=g;L++){let P=this.convert(this.pow(L+1));for(let R=1;R<r;R++){let V=S?R:r-R+1,z=this.pow(L)*V,H=this.convert(z),U=Math.abs(E-H),X=Math.abs(H-P),Q=U>=A&&X>=A;z>=h&&z<=p&&(R===1||Q||C.length===0)&&(C.push(z),E=H)}}return C}tickFormat({count:e,ticks:n,specifier:r}){return e!==1/0&&n==null&&this.ticks(),r??(r=this.base===10?".0e":","),qr(r)?eY(r):r}static getBaseLogMethod(e){switch(e){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:let n=Math.log(e);return r=>Math.log(r)/n}}static getBasePowerMethod(e){switch(e){case 10:return n=>n>=0?Gt(10,n):1/Gt(10,-n);case Math.E:return Math.exp;default:return n=>Gt(e,n)}}};B([Fr],sY.prototype,"base",2);var RI=sY,Ti=class $p{constructor(e,n,r=!0){this.parentNode=e,this.autoCleanup=r,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=Li.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(g0,n)?()=>new n:n}static select(e,n,r=!0){return new $p(e,n,r)}static selectAll(e,n){let r=[],l=c=>{n(c)&&r.push(c),c.children.forEach(l)};return l(e),r}static selectByClass(e,n){return $p.selectAll(e,r=>r instanceof n)}static selectByTag(e,n){return $p.selectAll(e,r=>r.tag===n)}createNode(e,n,r){let l=this.nodeFactory(e);return l.datum=e,n?.(l),r==null?this._nodes.push(l):this._nodes.splice(r,0,l),this.parentNode.appendChild(l),l}update(e,n,r){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${e}`),r){let l=new Map(e.map((c,h)=>[r(c),[c,h]]));for(let[c,h]of this._nodesMap.entries())if(l.has(h)){let[p]=l.get(h);c.datum=p,this.garbageBin.delete(c),l.delete(h)}else this.garbageBin.add(c);for(let[c,[h,p]]of l.entries())this._nodesMap.set(this.createNode(h,n,p),c)}else{let l=Math.max(e.length,this.data.length);for(let c=0;c<l;c++)c>=e.length?this.garbageBin.add(this._nodes[c]):c>=this._nodes.length?this.createNode(e[c],n):(this._nodes[c].datum=e[c],this.garbageBin.delete(this._nodes[c]))}return this.data=e.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(e=>this.garbageBin.has(e)?(this._nodesMap.delete(e),this.garbageBin.delete(e),this.parentNode.removeChild(e),!1):!0),this)}clear(){return this.update([]),this}isGarbage(e){return this.garbageBin.has(e)}hasGarbage(){return this.garbageBin.size>0}each(e){for(let n of this._nodes.entries())e(n[1],n[1].datum,n[0]);return this}*[Symbol.iterator](){for(let e=0;e<this._nodes.length;e++){let n=this._nodes[e],r=this._nodes[e].datum;yield{node:n,datum:r,index:e}}}select(e){return $p.selectAll(this.parentNode,e)}selectByClass(e){return $p.selectByClass(this.parentNode,e)}selectByTag(e){return $p.selectByTag(this.parentNode,e)}nodes(){return this._nodes}},Dr=class extends wa{constructor(t={}){super(t),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(t){this.x1=t,this.x2=t}set y(t){this.y1=t,this.y2=t}computeBBox(){return new yt(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(t,e){if(this.x1===this.x2||this.y1===this.y2){let{x:n,y:r}=this.transformPoint(t,e);return this.computeBBox().grow(this.strokeWidth/2).containsPoint(n,r)}return!1}render(t){var e;let{ctx:n,forceRender:r,stats:l,devicePixelRatio:c}=t;if(this.dirty===0&&!r){l&&(l.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(n);let{x1:h,y1:p,x2:m,y2:g}=this;if(h===m){let{strokeWidth:y}=this,_=Math.round(h*c)/c+Math.trunc(y*c)%2/(c*2);h=_,m=_}else if(p===g){let{strokeWidth:y}=this,_=Math.round(p*c)/c+Math.trunc(y*c)%2/(c*2);p=_,g=_}n.beginPath(),n.moveTo(h,p),n.lineTo(m,g),this.fillStroke(n),(e=this.fillShadow)==null||e.markClean(),super.render(t)}};Dr.className="Line";Dr.defaultStyles=Object.assign({},wa.defaultStyles,{fill:void 0,strokeWidth:1});B([je({redraw:3})],Dr.prototype,"x1",2);B([je({redraw:3})],Dr.prototype,"y1",2);B([je({redraw:3})],Dr.prototype,"x2",2);B([je({redraw:3})],Dr.prototype,"y2",2);function t_e(t,e,n,r,l,c){if(t.size===0)return!1;let h=t.x,p=t.y;e!=null&&(h-=(e.x-.5)*t.size,p-=(e.y-.5)*t.size);let m=h;h<n?m=n:h>n+l&&(m=n+l);let g=p;p<r?g=r:p>r+c&&(g=r+c);let y=h-m,_=p-g;return Math.sqrt(y*y+_*_)<=t.size*.5}function oY(t,e,n,r,l){let c=t.x+t.width>e&&t.x<e+r,h=t.y+t.height>n&&t.y<n+l;return c&&h}function n_e(t,e,n,r,l){return e+r<t.x+t.width&&e>t.x&&n>t.y&&n+l<t.y+t.height}function i_e(t){return t!=null&&typeof t.point=="object"&&typeof t.label=="object"}var r_e={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}};function s_e(t,e,n=5){var r,l;let c=[];t=t.map(h=>h.slice().sort((p,m)=>m.point.size-p.point.size));for(let h=0;h<t.length;h++){let p=c[h]=[],m=t[h];if(m?.length&&m[0].label)for(let g=0,y=m.length;g<y;g++){let _=m[g],{point:C,label:S,marker:A}=_,{text:E,width:L,height:P}=S,R=C.size*.5,V=0,z=0;if(R>0&&_.placement!=null){let ie=r_e[_.placement];V=(L*.5+R+n)*ie.x,z=(P*.5+R+n)*ie.y}let H=C.x-L*.5+V-(((r=A?.center.x)!=null?r:.5)-.5)*C.size,U=C.y-P*.5+z-(((l=A?.center.y)!=null?l:.5)-.5)*C.size;!(!e||n_e(e,H,U,L,P))||t.some(ie=>ie.some(ne=>{var de;return t_e(ne.point,(de=ne.marker)==null?void 0:de.center,H,U,L,P)}))||c.some(ie=>ie.some(ne=>oY(ne,H,U,L,P)))||p.push({index:g,text:E,x:H,y:U,width:L,height:P,datum:_})}}return c}function o_e(t,e){let n=[];for(let r=0;r<t.length;r++){let l=t[r],{point:{x:c,y:h},label:{text:p}}=l,{label:{width:m,height:g}}=l;if(m+=e??0,g+=e??0,n.some(_=>oY(_,c,h,m,g)))return!0;n.push({index:r,text:p,x:c,y:h,width:m,height:g,datum:l})}return!1}function aY(t,e){return t.length===e.length&&t.every((n,r)=>{let l=e[r];return Array.isArray(n)&&Array.isArray(l)?aY(n,l):n===l})}function lY(t,e){return t.length===e.length&&t.every((n,r)=>Number(n)===Number(e[r]))}function a_e(t){let e=ur(t)?t:t.split(".");if(e.length===1){let[n]=e;return Du((r,l,c)=>r[n]=c,r=>r[n])}return Du((n,r,l)=>rI(n,e,l),n=>iI(n,e))}function l_e(t){return Du((e,n,r)=>e[t]=r)}function ii(t,e){return Du((n,r,l)=>n[t][e??r]=l)}function no(t){let{newValue:e,oldValue:n,changeValue:r}=t;return Du((l,c,h,p)=>(h!==p&&(p!==void 0&&n?.call(l,p),h!==void 0&&e?.call(l,h),r?.call(l,h,p)),h))}function Uh(t){return r1e(t)}function cY(t,e,n,r,l){let{top:c,right:h,bottom:p,left:m,width:g,height:y}=l;return m!=null?g!=null?h=n-m+g:h!=null&&(g=n-m-h):h!=null&&g!=null&&(m=n-h-g),c!=null?y!=null?p=r-c-y:p!=null&&(y=r-p-c):p!=null&&y!=null&&(c=r-p-y),g==null?y==null?(g=t,y=e):g=Math.ceil(t*y/e):y==null&&(y=Math.ceil(e*g/t)),m==null&&(h==null?m=Math.floor((n-g)/2):m=n-h-g),c==null&&(p==null?c=Math.floor((r-y)/2):c=r-y-p),{x:m,y:c,width:g,height:y}}var lr="ag-chart-tooltip",c_e="ag-chart-dark-tooltip";function h1(t,e){var n,r,l;if(typeof t=="string")return t;let{content:c=(n=e?.content)!=null?n:"",title:h=e?.title,color:p=(r=e?.color)!=null?r:"white",backgroundColor:m=(l=e?.backgroundColor)!=null?l:"#888"}=t,g=h?`<div class="${lr}-title"
        style="color: ${p}; background-color: ${m}">${h}</div>`:"",y=c?`<div class="${lr}-content">${c}</div>`:"";return`${g}${y}`}var E1=class extends dn{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};B([G(Ui(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"],"a position type"))],E1.prototype,"type",2);B([G(mi)],E1.prototype,"xOffset",2);B([G(mi)],E1.prototype,"yOffset",2);var dc=class extends dn{constructor(){super(),this.enabled=!0,this.delay=0,this.range="nearest",this.wrapping="hyphenate",this.position=new E1,this.darkTheme=!1,this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0,this.element=Is("div"),this.element.classList.add(lr),this.root=sf().body,this.root.appendChild(this.element)}destroy(){this.element.remove()}isVisible(){return!this.element.classList.contains(lr+"-hidden")}show(t,e,n,r=!1){var l,c,h,p,m,g,y,_,C;let{element:S}=this;if(n!=null)S.innerHTML=n;else if(!S.innerHTML){this.toggle(!1);return}let A=(c=(l=e.position)==null?void 0:l.type)!=null?c:this.position.type,E=(p=(h=e.position)==null?void 0:h.xOffset)!=null?p:0,L=(g=(m=e.position)==null?void 0:m.yOffset)!=null?g:0,P=this.getTooltipBounds({positionType:A,meta:e,yOffset:L,xOffset:E,canvasRect:t}),R=this.getWindowBoundingBox(),V=R.x+R.width-S.clientWidth-1,z=R.y+R.height-S.clientHeight,H=cY(S.clientWidth,S.clientHeight,t.width,t.height,P);H.x+=t.x,H.y+=t.y;let U=kn(R.x,H.x,V),X=kn(R.y,H.y,z),Q=U!==H.x||X!==H.y,Z=(A==="node"||A==="pointer")&&!Q&&!E&&!L,ie=(_=(y=e.showArrow)!=null?y:this.showArrow)!=null?_:Z;this.updateShowArrow(ie),S.style.transform=`translate(${Math.round(U)}px, ${Math.round(X)}px)`,this.enableInteraction=(C=e.enableInteraction)!=null?C:!1,this.delay>0&&!r?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}getWindowBoundingBox(){let{innerWidth:t,innerHeight:e}=_a();return new yt(0,0,t,e)}toggle(t){let{classList:e}=this.element,n=(m,g)=>e.toggle(`${lr}-${m}`,g),r=this.isVisible(),l=1/0;if(t||clearTimeout(this.showTimeout),r!==t){let m=Date.now();l=m-this.lastVisibilityChange,this.lastVisibilityChange=m}let c=100,h=5,p=!r&&t&&l>c;l>h&&n("no-animation",p),n("no-interaction",!this.enableInteraction),n("hidden",!t),n("arrow",this._showArrow),e.toggle(c_e,this.darkTheme);for(let m of this.wrapTypes)e.toggle(`${lr}-wrap-${m}`,m===this.wrapping)}pointerLeftOntoTooltip(t){var e;if(!this.enableInteraction)return!1;let n=(e=t.sourceEvent.relatedTarget)==null?void 0:e.classList,l=!!["","-title","-content"].filter(c=>n?.contains(`${lr}${c}`));return n!==void 0&&l}updateShowArrow(t){this._showArrow=t}getTooltipBounds({positionType:t,meta:e,yOffset:n,xOffset:r,canvasRect:l}){let{clientWidth:c,clientHeight:h}=this.element,p={width:c,height:h};switch(t){case"node":case"pointer":return p.top=e.offsetY+n-h-8,p.left=e.offsetX+r-c/2,p;case"top":return p.top=n,p.left=l.width/2-c/2+r,p;case"right":return p.top=l.height/2-h/2+n,p.left=l.width-c/2+r,p;case"left":return p.top=l.height/2-h/2+n,p.left=r,p;case"bottom":return p.top=l.height-h+n,p.left=l.width/2-c/2+r,p;case"top-left":return p.top=n,p.left=r,p;case"top-right":return p.top=n,p.left=l.width-c+r,p;case"bottom-right":return p.top=l.height-h+n,p.left=l.width-c+r,p;case"bottom-left":return p.top=l.height-h+n,p.left=r,p}}};B([G(Ct)],dc.prototype,"enabled",2);B([G(Ct,{optional:!0})],dc.prototype,"showArrow",2);B([Uh((t,e,n)=>{e&&t.element.classList.add(e),n&&t.element.classList.remove(n)}),G(Re,{optional:!0})],dc.prototype,"class",2);B([G(Ae)],dc.prototype,"delay",2);B([G(kI)],dc.prototype,"range",2);B([G(eD)],dc.prototype,"wrapping",2);B([G(qe)],dc.prototype,"position",2);B([G(Ct)],dc.prototype,"darkTheme",2);var fi=class extends dn{constructor(){super(...arguments),this.id=lc(this),this.node=new an({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1}registerInteraction(t){return t.regionManager.getRegion("root").addListener("hover",n=>this.handleMouseMove(t,n))}computeTextWrap(t,e){var n,r;let{text:l,wrapping:c}=this,h=Math.min((n=this.maxWidth)!=null?n:1/0,t),p=(r=this.maxHeight)!=null?r:e;if(!isFinite(h)&&!isFinite(p)){this.node.text=l;return}let{text:m,truncated:g}=an.wrap(l??"",h,p,this,c);this.node.text=m,this.truncated=g}handleMouseMove(t,e){if(!this.enabled)return;let{offsetX:n,offsetY:r}=e,l=this.node.computeBBox(),c=this.node.visible&&l.containsPoint(n,r);c&&e.consume(),!this.truncated||!c?t.tooltipManager.removeTooltip(this.id):t.tooltipManager.updateTooltip(this.id,{offsetX:n,offsetY:r,lastPointerEvent:e,showArrow:!1},h1({content:this.text}))}};fi.SMALL_PADDING=10;fi.LARGE_PADDING=20;B([G(Ct)],fi.prototype,"enabled",2);B([G(Re,{optional:!0}),ii("node")],fi.prototype,"text",2);B([G(E$,{optional:!0}),ii("node")],fi.prototype,"textAlign",2);B([G(Gh,{optional:!0}),ii("node")],fi.prototype,"fontStyle",2);B([G(Wh,{optional:!0}),ii("node")],fi.prototype,"fontWeight",2);B([G(Ae),ii("node")],fi.prototype,"fontSize",2);B([G(Re),ii("node")],fi.prototype,"fontFamily",2);B([G(Dn,{optional:!0}),ii("node","fill")],fi.prototype,"color",2);B([G(Ae,{optional:!0})],fi.prototype,"spacing",2);B([G(Ae,{optional:!0})],fi.prototype,"lineHeight",2);B([G(Ae,{optional:!0})],fi.prototype,"maxWidth",2);B([G(Ae,{optional:!0})],fi.prototype,"maxHeight",2);B([G(eD)],fi.prototype,"wrapping",2);var u_e=["stroke","lineDash"],h_e=Eu(t=>Za(t)&&Object.keys(t).every(e=>u_e.includes(e)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),iD=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};B([G(Ct)],iD.prototype,"enabled",2);B([G(Ae)],iD.prototype,"width",2);B([G(h_e)],iD.prototype,"style",2);function Iu(t,e=[void 0]){return Du((n,r,l)=>e.includes(l)?rf(t)?t(l):t:l)}var tr=class extends dn{constructor(){super(...arguments),this.enabled=!0,this.autoWrap=!1,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};B([G(Ct)],tr.prototype,"enabled",2);B([G(Ct,{optional:!0})],tr.prototype,"autoWrap",2);B([G(Ae,{optional:!0})],tr.prototype,"maxWidth",2);B([G(Ae,{optional:!0})],tr.prototype,"maxHeight",2);B([G(Gh,{optional:!0})],tr.prototype,"fontStyle",2);B([G(Wh,{optional:!0})],tr.prototype,"fontWeight",2);B([G(mi.restrict({min:1}))],tr.prototype,"fontSize",2);B([G(Re)],tr.prototype,"fontFamily",2);B([G(Ae)],tr.prototype,"padding",2);B([G(v0),Iu(NaN)],tr.prototype,"minSpacing",2);B([G(Dn,{optional:!0})],tr.prototype,"color",2);B([G(jh,{optional:!0})],tr.prototype,"rotation",2);B([G(Ct)],tr.prototype,"avoidCollisions",2);B([G(Ct)],tr.prototype,"mirrored",2);B([G(Ct)],tr.prototype,"parallel",2);B([G(jo,{optional:!0})],tr.prototype,"formatter",2);B([G(Re,{optional:!0})],tr.prototype,"format",2);var L1=class{constructor(){this.enabled=!0,this.width=1,this.color=void 0}};B([G(Ct)],L1.prototype,"enabled",2);B([G(Ae)],L1.prototype,"width",2);B([G(Dn,{optional:!0})],L1.prototype,"color",2);var d_e=Zn(t=>Bn(t)&&t>0||t instanceof Jx,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),ol=class extends dn{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6,this.color=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN}};B([G(Ct)],ol.prototype,"enabled",2);B([G(Ae)],ol.prototype,"width",2);B([G(Ae)],ol.prototype,"size",2);B([G(Dn,{optional:!0})],ol.prototype,"color",2);B([G(d_e,{optional:!0})],ol.prototype,"interval",2);B([G(D1,{optional:!0})],ol.prototype,"values",2);B([G(O$),Iu(NaN)],ol.prototype,"minSpacing",2);var al=class extends dn{constructor(){super(...arguments),this.enabled=!1,this.spacing=fi.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};B([G(Ct)],al.prototype,"enabled",2);B([G(Re,{optional:!0})],al.prototype,"text",2);B([G(Ae,{optional:!0})],al.prototype,"spacing",2);B([G(Gh,{optional:!0})],al.prototype,"fontStyle",2);B([G(Wh,{optional:!0})],al.prototype,"fontWeight",2);B([G(Ae)],al.prototype,"fontSize",2);B([G(Re)],al.prototype,"fontFamily",2);B([G(Dn,{optional:!0})],al.prototype,"color",2);B([G(eD)],al.prototype,"wrapping",2);B([G(jo,{optional:!0})],al.prototype,"formatter",2);function jL(t){let[e,n]=Qa(t.range),r=Math.floor(e),l=Math.ceil(n);return{min:r,max:l,visible:r!==l}}var GL=Math.PI*2,p_e=GL/2;function f_e(t,e){return Math.abs(e-t)<p_e?e:t>e?e+GL:e-GL}function uY(t){let e=(h,p)=>{let[m=t.min,g=t.max]=Qa(p??[]);return h<m||h>g};return{tick:{fromFn(h,p,m){let g=h.y1+h.translationY,y=h.opacity;return(m==="added"||e(h.datum.translationY,h.datum.range))&&(g=p.translationY,y=0),{y:0,translationY:g,opacity:y,phase:Rs[m]}},toFn(h,p,m){let g=p.translationY,y=1;return m==="removed"&&(y=0),{y:0,translationY:g,opacity:y,finish:{y:g,translationY:0}}},intermediateFn(h,p,m){return{visible:!e(h.y)}}},line:{fromFn(h,p){var m;return He(he({},(m=h.previousDatum)!=null?m:p),{phase:Rs.updated})},toFn(h,p){return he({},p)}},label:{fromFn(h,p,m){var g;let y=(g=h.previousDatum)!=null?g:p,_=y.x,C=y.y,S=y.rotationCenterX,A=Math.round(h.translationY),E=y.rotation,L=h.opacity;return m==="removed"||e(y.y,y.range)?E=p.rotation:(m==="added"||e(h.datum.y,h.datum.range))&&(A=Math.round(y.translationY),L=0,E=p.rotation),{x:_,y:C,rotationCenterX:S,translationY:A,rotation:E,opacity:L,phase:Rs[m]}},toFn(h,p,m){var g,y;let _=p.x,C=p.y,S=p.rotationCenterX,A=Math.round(p.translationY),E=0,L=1;return m==="added"?(L=1,E=p.rotation):m==="removed"?(L=0,E=p.rotation):E=f_e((y=(g=h.previousDatum)==null?void 0:g.rotation)!=null?y:p.rotation,p.rotation),{x:_,y:C,rotationCenterX:S,translationY:A,rotation:E,opacity:L,finish:{rotation:p.rotation}}}},group:{fromFn(h,p){let{rotation:m,translationX:g,translationY:y}=h;return{rotation:m,translationX:g,translationY:y,phase:Rs.updated}},toFn(h,p){let{rotation:m,translationX:g,translationY:y}=p;return{rotation:m,translationX:g,translationY:y}}}}}function hY(){return(t,e)=>({rotation:e.rotation,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,translationX:e.translationX,translationY:e.translationY})}function dY(t){let{visible:e,min:n,max:r}=t;return(l,c)=>{let h=c.translationY,p=e&&h>=n&&h<=r;return{y:h,translationY:0,opacity:1,visible:p}}}function pY(){return(t,e)=>({x:e.x,y:e.y,translationY:e.translationY,rotation:e.rotation,rotationCenterX:e.rotationCenterX})}function fY(){return(t,e)=>he({},e)}var lf=class mY{constructor(e,n,r){this.moduleCtx=e,this.scale=n,this.id=lc(this),this.nice=!0,this.reverse=!1,this.keys=[],this.dataDomain={domain:[],clipped:!1},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new et({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new Dr),this.tickLineGroup=this.axisGroup.appendChild(new et({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new et({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new et({name:`${this.id}-CrossLines`}),this.gridGroup=new et({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new et({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=Ti.select(this.tickLineGroup,Dr,!1),this.tickLabelGroupSelection=Ti.select(this.tickLabelGroup,an,!1),this.gridLineGroupSelection=Ti.select(this.gridLineGroup,Dr,!1),this.line=new L1,this.tick=this.createTick(),this.gridLine=new iD,this.label=this.createLabel(),this.defaultTickMinSpacing=mY.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new al,this._titleCaption=new fi,this.gridLength=0,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new OI,this.refreshScale(),this._titleCaption.registerInteraction(this.moduleCtx),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.destroyFns.push(e.regionManager.getRegion("series").addListener("hover",c=>this.checkAxisHover(c))),this.animationManager=e.animationManager,this.animationState=new M1("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:c=>this.animateReadyUpdate(c),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines);let l;this.destroyFns.push(e.layoutService.addListener("layout-complete",c=>{l!=null&&ba(c.chart,l)!=null&&this.animationState.transition("resize"),l=he({},c.chart)})),r?.respondsToZoom!==!1&&this.destroyFns.push(e.updateService.addListener("update-complete",c=>{this.minRect=c.minRect}))}get type(){var e;return(e=this.constructor.type)!=null?e:""}set crossLines(e){var n,r;(n=this._crossLines)==null||n.forEach(l=>this.detachCrossLine(l)),e&&this.assignCrossLineArrayConstructor(e),this._crossLines=e,(r=this._crossLines)==null||r.forEach(l=>{this.attachCrossLine(l),this.initCrossLine(l)})}get crossLines(){return this._crossLines}resetAnimation(e){e==="initial"&&this.animationState.transition("reset")}attachCrossLine(e){this.crossLineGroup.appendChild(e.group),this.crossLineGroup.appendChild(e.labelGroup)}detachCrossLine(e){this.crossLineGroup.removeChild(e.group),this.crossLineGroup.removeChild(e.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(e=>e())}refreshScale(){var e;this.range=this.scale.range.slice(),(e=this.crossLines)==null||e.forEach(this.initCrossLine,this)}updateRange(){var e;let{range:n,visibleRange:r,scale:l}=this,c=(n[1]-n[0])/(r[1]-r[0]),h=c*r[0],p=n[0]-h;l.range=[p,p+c],(e=this.crossLines)==null||e.forEach(m=>{m.clippedRange=[n[0],n[1]]})}setCrossLinesVisible(e){this.crossLineGroup.visible=e}attachAxis(e,n){n.appendChild(this.gridGroup),e.appendChild(this.axisGroup),e.appendChild(this.crossLineGroup)}detachAxis(e,n){n.removeChild(this.gridGroup),e.removeChild(this.axisGroup),e.removeChild(this.crossLineGroup)}inRange(e,n=0,r=0){let[l,c]=Qa(this.range);return e+n>=l-r&&e<=c+r}onLabelFormatChange(e,n){let{scale:r,fractionDigits:l}=this,h=!(r instanceof RI)&&l>0?p=>typeof p=="number"?p.toFixed(l):String(p):p=>String(p);if(n&&r&&r.tickFormat)try{this.labelFormatter=r.tickFormat({ticks:e,specifier:n})}catch{this.labelFormatter=h,Le.warnOnce(`the axis label format string ${n} is invalid. No formatting will be applied`)}else this.labelFormatter=h}setTickInterval(e){var n;this.scale.interval=(n=this.tick.interval)!=null?n:e}setTickCount(e,n,r){let{scale:l}=this,c=Ln.is(l)||zo.is(l);if(e&&c){if(typeof e=="number"){l.tickCount=e,l.minTickCount=n??0,l.maxTickCount=r??1/0;return}l instanceof c1&&this.setTickInterval(e)}}onGridLengthChange(e,n){var r;(n&&!e||!n&&e)&&this.onGridVisibilityChange(),(r=this.crossLines)==null||r.forEach(this.initCrossLine,this)}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createTick(){return new ol}createLabel(){return new tr}checkAxisHover(e){!this.interactionEnabled||!this.computeBBox().containsPoint(e.offsetX,e.offsetY)||this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(e=0,n=!0){if(!this.tickGenerationResult)return;let{rotation:r,parallelFlipRotation:l,regularFlipRotation:c}=this.calculateRotations(),h=this.label.getSideFlag();this.updatePosition();let p=this.getAxisLineCoordinates(),{tickData:m,combinedRotation:g,textBaseline:y,textAlign:_,primaryTickCount:C}=this.tickGenerationResult,S=this.tickLabelGroupSelection.nodes().map(A=>A.datum.tickId);if(this.updateSelections(p,m.ticks,{combinedRotation:g,textAlign:_,textBaseline:y,range:this.scale.range}),!n||this.animationManager.isSkipped())this.resetSelectionNodes();else{let A=this.calculateUpdateDiff(S,m);this.animationState.transition("update",A)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(h),this.updateTickLines(),this.updateTitle({anyTickVisible:m.ticks.length>0}),this.updateCrossLines({rotation:r,parallelFlipRotation:l,regularFlipRotation:c}),this.updateLayoutState(),C}getAxisLineCoordinates(){let[e,n]=Qa(this.range);return{x:0,y1:e,y2:n}}getTickLineCoordinates(e){let r=this.label.getSideFlag()*this.getTickSize(),l=Math.min(0,r),c=l+Math.abs(r),h=e.translationY;return{x1:l,x2:c,y:h}}getTickLabelProps(e,n){let{label:r}=this,{combinedRotation:l,textBaseline:c,textAlign:h,range:p}=n,m=e.tickLabel,y=r.getSideFlag()*(this.getTickSize()+r.padding+this.seriesAreaPadding),_=m!==""&&m!=null;return{tickId:e.tickId,translationY:e.translationY,fill:r.color,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,rotation:l,rotationCenterX:y,text:m,textAlign:h,textBaseline:c,visible:_,x:y,y:0,range:p}}getTickSize(){return this.tick.enabled?this.tick.size:this.createTick().size}setTitleProps(e,n){var r;let{title:l}=this;if(!l.enabled){e.enabled=!1;return}if(e.color=l.color,e.fontFamily=l.fontFamily,e.fontSize=l.fontSize,e.fontStyle=l.fontStyle,e.fontWeight=l.fontWeight,e.enabled=l.enabled,e.wrapping=l.wrapping,l.enabled){let c=e.node,h=((r=l.spacing)!=null?r:0)+n.spacing,p=this.label.getSideFlag(),m=cr(this.rotation),g=p===-1&&m>Math.PI&&m<Math.PI*2?-1:1,y=g*p*Math.PI/2,_=g===1?"bottom":"top",{range:C}=this,S=Math.floor(g*p*(C[0]+C[1])/2),A=Math.floor(p===-1?g*-h:-h),{callbackCache:E}=this.moduleCtx,{formatter:L=R=>R.defaultValue}=l,P=E.call(L,this.getTitleFormatterParams());c.setProperties({rotation:y,text:P,textBaseline:_,visible:!0,x:S,y:A})}}calculateLayout(e){var n,r;let{rotation:l,parallelFlipRotation:c,regularFlipRotation:h}=this.calculateRotations(),p=this.label.getSideFlag(),m=p*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:e,parallelFlipRotation:c,regularFlipRotation:h,labelX:m,sideFlag:p}),this.updateLayoutState();let g=this.tickGenerationResult,{tickData:y,combinedRotation:_,textBaseline:C,textAlign:S}=g,A=er(g,["tickData","combinedRotation","textBaseline","textAlign"]),E=[],{x:L,y1:P,y2:R}=this.getAxisLineCoordinates(),V=new yt(L+Math.min(p*this.seriesAreaPadding,0),P,this.seriesAreaPadding,R-P);if(E.push(V),this.tick.enabled&&y.ticks.forEach(Q=>{let{x1:Z,x2:ie,y:ne}=this.getTickLineCoordinates(Q),de=new yt(Z,ne,ie-Z,0);E.push(de)}),this.label.enabled){let Q=new an;y.ticks.forEach(Z=>{let ie=this.getTickLabelProps(Z,{combinedRotation:_,textAlign:S,textBaseline:C,range:this.scale.range});if(!ie.visible)return;Q.setProperties(He(he({},ie),{translationY:Math.round(Z.translationY)}));let ne=Q.computeTransformedBBox();ne&&E.push(ne)})}let z=Q=>{let Z=new tc,{rotation:ie,translationX:ne,translationY:de,rotationCenterX:ue,rotationCenterY:ge}=this.getAxisTransform();return tc.updateTransformMatrix(Z,1,1,ie,ne,de,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:ue,rotationCenterY:ge}),Z.transformBBox(Q)};if((n=this.title)!=null&&n.enabled){let Q=new fi,Z=yt.merge(E).width;this.setTitleProps(Q,{spacing:Z});let ne=Q.node.computeTransformedBBox();ne&&E.push(ne)}let H=yt.merge(E),U=z(H),X=this.isAnySeriesActive();return(r=this.crossLines)==null||r.forEach(Q=>{var Z;Q.sideFlag=-p,Q.direction=l===-Math.PI/2?"x":"y",Q instanceof zL&&(Q.label.parallel=(Z=Q.label.parallel)!=null?Z:this.label.parallel),Q.parallelFlipRotation=c,Q.regularFlipRotation=h,Q.calculateLayout(X,this.reverse)}),e=A.primaryTickCount,{primaryTickCount:e,bbox:U}}updateLayoutState(){this.layout.label={fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format}}setDomain(e){this.dataDomain=this.normaliseDataDomain(e),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.tick.interval);let{scale:e,nice:n}=this;Ln.is(e)&&(e.nice=n,e.update())}calculateRotations(){let e=ds(this.rotation),n=cr(e),r=cr(e-Math.PI/2);return{rotation:e,parallelFlipRotation:n,regularFlipRotation:r}}generateTicks({primaryTickCount:e,parallelFlipRotation:n,regularFlipRotation:r,labelX:l,sideFlag:c}){var h;let{scale:p,tick:m,label:{parallel:g,rotation:y,fontFamily:_,fontSize:C,fontStyle:S,fontWeight:A}}=this,E=e!==void 0,{defaultRotation:L,configuredRotation:P,parallelFlipFlag:R,regularFlipFlag:V}=Fk({rotation:y,parallel:g,regularFlipRotation:r,parallelFlipRotation:n}),z=P+L,H=new tc,{maxTickCount:U}=this.estimateTickCount({minSpacing:m.minSpacing,maxSpacing:(h=m.maxSpacing)!=null?h:NaN}),Q=!(Ln.is(p)||zo.is(p))||isNaN(U)?10:U,Z=_L(g,P,0,c,V),ie=Nbe(g,P,c,R),ne={fontFamily:_,fontSize:C,fontStyle:S,fontWeight:A,textBaseline:ie,textAlign:Z},de={rawTicks:[],ticks:[],labelCount:0},ue=0,ge=0,De=!0,Ce=!1;for(;De&&ue<=Q&&!Ce;){ge=0,Z=_L(g,P,0,c,V);let Ve=this.getTickStrategies({secondaryAxis:E,index:ue});for(let Ie of Ve){({tickData:de,index:ue,autoRotation:ge,terminate:Ce}=Ie({index:ue,tickData:de,textProps:ne,labelOverlap:De,terminate:Ce,primaryTickCount:e}));let Ne=P!==0||ge!==0,Xe=z+ge;Z=_L(g,P,ge,c,V),De=this.checkLabelOverlap(Xe,Ne,H,de.ticks,l,He(he({},ne),{textAlign:Z}))}}let Pe=L+P+ge;return!E&&de.rawTicks.length>0&&(e=de.rawTicks.length),{tickData:de,primaryTickCount:e,combinedRotation:Pe,textBaseline:ie,textAlign:Z}}getTickStrategies({index:e,secondaryAxis:n}){let{scale:r,label:l,tick:c}=this,h=Ln.is(r)||zo.is(r),p=l.enabled&&l.avoidCollisions,m=!h&&e!==0&&p,g=l.autoRotate===!0&&l.rotation===void 0,y=[],_;this.tick.values?_=3:n?_=1:m?_=2:_=0;let C=({index:S,tickData:A,primaryTickCount:E,terminate:L})=>this.createTickData(_,S,A,L,E);if(y.push(C),!h&&!isNaN(c.minSpacing)){let S=({index:A,tickData:E,primaryTickCount:L,terminate:P})=>this.createTickData(2,A,E,P,L);y.push(S)}if(!p)return y;if(l.autoWrap){let S=({index:A,tickData:E,textProps:L})=>this.wrapLabels(E,A,L);y.push(S)}else if(g){let S=({index:A,tickData:E,labelOverlap:L,terminate:P})=>({index:A,tickData:E,autoRotation:this.getAutoRotation(L),terminate:P});y.push(S)}return y}createTickData(e,n,r,l,c){var h;let{scale:p,tick:m}=this,{maxTickCount:g,minTickCount:y,defaultTickCount:_}=this.estimateTickCount({minSpacing:m.minSpacing,maxSpacing:(h=m.maxSpacing)!=null?h:NaN}),C=Ln.is(p)||zo.is(p),S=!C||isNaN(g)?10:g,A=C?Math.max(_-n,y):g,E=m.interval===void 0&&m.values===void 0&&A>y&&(C||e===2),L=!0;for(;L&&n<=S;){let R=r.rawTicks;A=C?Math.max(_-n,y):g;let{rawTicks:V,ticks:z,labelCount:H}=this.getTicks({tickGenerationType:e,previousTicks:R,tickCount:A,minTickCount:y,maxTickCount:g,primaryTickCount:c});r.rawTicks=V,r.ticks=z,r.labelCount=H,L=E?lY(V,R):!1,n++}let P=m.interval!==void 0||m.values!==void 0;return l||(l=P),{tickData:r,index:n,autoRotation:0,terminate:l}}checkLabelOverlap(e,n,r,l,c,h){tc.updateTransformMatrix(r,1,1,e,0,0);let p=this.createLabelData(l,c,h,r),m=Fbe(this.label.minSpacing,n);return o_e(p,m)}createLabelData(e,n,r,l){let c=[],h=new q$(r);for(let{tickLabel:p,translationY:m}of e){if(p===""||p==null)continue;let{width:g,height:y}=h.size(p),_=new yt(n,m,g,y),C=Bbe(p,_,n,m,l);c.push(C)}return c}getAutoRotation(e){var n;return e?cr(ds((n=this.label.autoRotateAngle)!=null?n:0)):0}getTicks({tickGenerationType:e,previousTicks:n,tickCount:r,minTickCount:l,maxTickCount:c,primaryTickCount:h}){var p;let{range:m,scale:g,visibleRange:y}=this,_;switch(e){case 3:if(Ln.is(g)){let[R,V]=Qa(g.getDomain().map(Number));_=this.tick.values.filter(z=>z>=R&&z<=V).sort((z,H)=>z-H)}else _=this.tick.values;break;case 1:Ln.is(g)?_=this.updateSecondaryAxisTicks(h):_=this.createTicks(r,l,c);break;case 2:_=this.filterTicks(n,r);break;default:_=this.createTicks(r,l,c);break}this.fractionDigits=_.fractionDigits>=0?_.fractionDigits:0,this.onLabelFormatChange(_,this.label.format);let C=((p=g.bandwidth)!=null?p:0)/2,S=[],A=0,E=new Map,L=Math.max(0,Math.floor(y[0]*_.length)),P=Math.min(_.length,Math.ceil(y[1]*_.length));for(let R=L;R<P;R++){let V=_[R],z=g.convert(V)+C;if(m.length>0&&!this.inRange(z,0,.001))continue;let H=this.formatTick(V,R),U=H;if(E.has(U)){let X=E.get(U);E.set(U,X+1),U=`${U}_${X}`}else E.set(U,1);S.push({tick:V,tickId:U,tickLabel:H,translationY:Math.floor(z)}),!(H===""||H==null)&&A++}return{rawTicks:_,ticks:S,labelCount:A}}filterTicks(e,n){var r;let c=!isNaN(this.tick.minSpacing)||!isNaN((r=this.tick.maxSpacing)!=null?r:NaN)?Math.ceil(e.length/n):2;return e.filter((h,p)=>p%c===0)}createTicks(e,n,r){var l,c,h;return this.setTickCount(e,n,r),(h=(c=(l=this.scale).ticks)==null?void 0:c.call(l))!=null?h:[]}estimateTickCount({minSpacing:e,maxSpacing:n}){let{minRect:r}=this,l=this.calculateRangeWithBleed(),c=Math.max(this.defaultTickMinSpacing,l/Ln.defaultMaxTickCount),h=!isNaN(n);isNaN(e)&&(e=c),isNaN(n)&&(n=l),e>n&&(e===c?e=n:n=e);let p=1;r&&(p=this.direction==="x"?r.width:r.height),h&&(h=p<c);let m=kn(1,Math.floor(l/e),h?Math.floor(l/p):1/0),g=Math.min(m,Math.ceil(l/n)),y=kn(g,Ln.defaultTickCount,m);return{minTickCount:g,maxTickCount:m,defaultTickCount:y}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:e,parallelFlipRotation:n,regularFlipRotation:r}){var l;let c=this.label.getSideFlag(),h=this.isAnySeriesActive();(l=this.crossLines)==null||l.forEach(p=>{var m;p.sideFlag=-c,p.direction=e===-Math.PI/2?"x":"y",p instanceof zL&&(p.label.parallel=(m=p.label.parallel)!=null?m:this.label.parallel),p.parallelFlipRotation=n,p.regularFlipRotation=r,p.update(h)})}updateTickLines(){let{tick:e,label:n}=this,r=n.getSideFlag();this.tickLineGroupSelection.each(l=>{l.strokeWidth=e.width,l.stroke=e.color,l.x1=r*this.getTickSize(),l.x2=0})}calculateAvailableRange(){return t1(this.range)}calculateRangeWithBleed(){let e=1/t1(this.visibleRange);return mI(this.calculateAvailableRange()*e,2)}calculateDomain(){let n=this.boundSeries.filter(r=>this.includeInvisibleDomains||r.isEnabled()).flatMap(r=>r.getDomain(this.direction));this.setDomain(n)}getAxisTransform(){return{rotation:ds(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){let{crossLineGroup:e,axisGroup:n,gridGroup:r,translation:l,gridLineGroupSelection:c,gridPadding:h,gridLength:p}=this,{rotation:m}=this.calculateRotations(),g=this.label.getSideFlag(),y=Math.floor(l.x),_=Math.floor(l.y);e.setProperties({rotation:m,translationX:y,translationY:_}),r.setProperties({rotation:m,translationX:y,translationY:_}),n.datum=this.getAxisTransform(),c.each(C=>{C.x1=h,C.x2=-g*p+h})}updateSecondaryAxisTicks(e){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(e,n,r){this.lineNode.datum=e,this.gridLineGroupSelection.update(this.gridLength?n:[],l=>l.append(new Dr),l=>l.tickId),this.tickLineGroupSelection.update(n,l=>l.appendChild(new Dr),l=>l.tickId),this.tickLabelGroupSelection.update(n.map(l=>this.getTickLabelProps(l,r)),l=>l.appendChild(new an),l=>l.tickId)}updateAxisLine(){let{line:e}=this,n=e.enabled?e.width:0;this.lineNode.setProperties({stroke:e.color,strokeWidth:n})}updateGridLines(e){let{gridLine:{style:n,width:r},gridPadding:l,gridLength:c}=this;c===0||n.length===0||this.gridLineGroupSelection.each((h,p,m)=>{let{stroke:g,lineDash:y}=n[m%n.length];h.setProperties({x1:l,x2:-e*c+l,fill:void 0,stroke:g,strokeWidth:r,lineDash:y})})}updateLabels(){let{label:e}=this;e.enabled&&this.tickLabelGroupSelection.each((n,r)=>{n.setProperties(r,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}wrapLabels(e,n,r){let{parallel:l,maxWidth:c,maxHeight:h}=this.label,p=this.maxThickness,m=Math.round(this.calculateAvailableRange()/e.labelCount);return l&&([p,m]=[m,p]),e.ticks.forEach(g=>{let{text:y}=an.wrap(g.tickLabel,c??p,h??m,r,"hyphenate");g.tickLabel=y}),{tickData:e,index:n,autoRotation:0,terminate:!0}}updateTitle(e){let{rotation:n,title:r,_titleCaption:l,lineNode:c,tickLineGroup:h,tickLabelGroup:p}=this;if(!r){l.enabled=!1;return}let m=0;if(r.enabled&&e.anyTickVisible){let g=et.computeBBox([h,p,c]),y=n===0?g.width:g.height;m+=y+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(l,{spacing:m})}formatTick(e,n){var r,l;let{label:c,labelFormatter:h,fractionDigits:p,moduleCtx:{callbackCache:m}}=this;if(c.formatter){let g=p>0?e:String(e);return(r=m.call(c.formatter,{value:g,index:n,fractionDigits:p,formatter:h}))!=null?r:g}else if(h)return(l=m.call(h,e))!=null?l:String(e);return String(e)}formatDatum(e){return this.formatTick(e,0)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(e){e.scale=this.scale,e.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(e=>this.includeInvisibleDomains||e.isEnabled())}clipTickLines(e,n,r,l){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new yt(e,n,r,l))}clipGrid(e,n,r,l){this.gridGroup.setClipRectInGroupCoordinateSpace(new yt(e,n,r,l))}calculatePadding(e,n,r){let l=Math.abs(r?n:e)*.01;return[l,l]}getTitleFormatterParams(){var e;let n=this.boundSeries.reduce((r,l)=>{let c=l.getKeys(this.direction),h=l.getNames(this.direction);for(let p=0;p<c.length;p++)r.push({key:c[p],name:h[p]});return r},[]);return{direction:this.direction,boundSeries:n,defaultValue:(e=this.title)==null?void 0:e.text}}normaliseDataDomain(e){return{domain:[...e],clipped:!1}}getLayoutState(){return he({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){var e;return(e=this.axisContext)!=null||(this.axisContext=this.createAxisContext()),He(he({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){return{axisId:this.id,direction:this.direction,continuous:Ln.is(this.scale),keys:()=>this.boundSeries.flatMap(e=>e.getKeys(this.direction)),seriesKeyProperties:()=>this.boundSeries.reduce((e,n)=>(n.getKeyProperties(this.direction).forEach(l=>{e.indexOf(l)<0&&e.push(l)}),e),[]),scaleValueFormatter:e=>{var n,r;return(r=(n=this.scale).tickFormat)==null?void 0:r.call(n,{specifier:e})},scaleBandwidth:()=>{var e;return(e=this.scale.bandwidth)!=null?e:0},scaleConvert:e=>this.scale.convert(e),scaleInvert:e=>{var n,r;return(r=(n=this.scale).invert)==null?void 0:r.call(n,e)}}}animateReadyUpdate(e){let{animationManager:n}=this.moduleCtx,r=jL(this),l=uY(r);Si(this.id,"axis-group",n,[this.axisGroup],l.group),Si(this.id,"line",n,[this.lineNode],l.line),Si(this.id,"line-paths",n,[this.gridLineGroupSelection,this.tickLineGroupSelection],l.tick,(c,h)=>h.tickId,e),Si(this.id,"tick-labels",n,[this.tickLabelGroupSelection],l.label,(c,h)=>h.tickId,e)}resetSelectionNodes(){let{gridLineGroupSelection:e,tickLineGroupSelection:n,tickLabelGroupSelection:r,lineNode:l}=this,c=jL(this);kr([this.axisGroup],hY()),kr([e,n],dY(c)),kr([r],pY()),kr([l],fY())}calculateUpdateDiff(e,n){let r=new Set,l=new Set,c={},h=Math.max(e.length,n.ticks.length);for(let p=0;p<h;p++){let m=n.ticks[p],g=e[p],y=m?.tickId;c[y??g]=m,g!==y&&(l.has(y)?l.delete(y):y&&r.add(y),r.has(g)?r.delete(g):g&&l.add(g))}return{changed:r.size>0||l.size>0,added:r,removed:l}}isReversed(){return this.reverse}};lf.defaultTickMinSpacing=50;B([G(Ct)],lf.prototype,"nice",2);B([G(Ct)],lf.prototype,"reverse",2);B([G(A$)],lf.prototype,"keys",2);B([G(qe,{optional:!0})],lf.prototype,"title",2);B([Uh((t,e,n)=>t.onGridLengthChange(e,n))],lf.prototype,"gridLength",2);var PI=lf,FI=class extends tr{constructor(){super(...arguments),this.autoRotateAngle=335}};B([G(Ct,{optional:!0})],FI.prototype,"autoRotate",2);B([G(jh)],FI.prototype,"autoRotateAngle",2);var NI=class gY extends PI{constructor(){super(...arguments),this.thickness=0,this.position="left"}static is(e){return e instanceof gY}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(e,n){return this.updateDirection(),super.update(e,n)}calculateLayout(e){return this.updateDirection(),super.calculateLayout(e)}createAxisContext(){return He(he({},super.createAxisContext()),{position:this.position})}assignCrossLineArrayConstructor(e){F$(e,zL)}createLabel(){return new FI}};B([G(Ae)],NI.prototype,"thickness",2);B([G(CI)],NI.prototype,"position",2);var I1=NI,$h=class extends I1{constructor(t,e=new el){super(t,e),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(t){this._paddingOverrideEnabled=!0,this.scale.paddingInner=t}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(t){this.scale.paddingOuter=t}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(t){let e=[],n=new Set;for(let r of t){let l=r instanceof Date?r.getTime():r;n.has(l)||(n.add(l),e.push(r))}return{domain:e,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){let t=this.boundSeries.map(e=>{var n;return(n=e.getBandScalePadding)==null?void 0:n.call(e)}).filter(e=>e!=null);t.length>0&&(this.scale.paddingInner=Math.min(...t.map(e=>e.inner)),this.scale.paddingOuter=Math.max(...t.map(e=>e.outer)))}return super.calculateDomain()}};$h.className="CategoryAxis";$h.type="category";B([G(In)],$h.prototype,"groupPaddingInner",2);var vY=class{constructor(t="",e,n=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=n}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((t,e)=>e!==this.number):[]}};function m_e(t,e=!0){let n=new vY,r=0;return e&&t.forEach(l=>r=Math.max(r,l.labels.length)),t.forEach(l=>{if(e)for(;l.labels.length<r;)l.labels.unshift("");g_e(n,l)}),n}function g_e(t,e){let n=e.labels.slice().reverse(),r=n.length-1;n.forEach((l,c)=>{let h=t.children,p=h.find(g=>g.label===l),m=c!==r;if(p&&m)t=p;else{let g=new vY(l,t);g.number=h.length,h.push(g),m&&(t=g)}})}function v_e(t,e,n){let r=e.number-t.number,l=n/r;e.change-=l,e.shift+=n,t.change+=l,e.prelim+=n,e.mod+=n}function y_e(t,e,n){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:n}function x_e(t){let e=t.children;if(e){let n=0,r=0;for(let l=e.length-1;l>=0;l--){let c=e[l];c.prelim+=n,c.mod+=n,r+=c.change,n+=c.shift+r}}}function b_e(t,e,n){let r=t.getLeftSibling();if(r){let l=t,c=t,h=r,p=c.getLeftmostSibling(),m=c.mod,g=l.mod,y=h.mod,_=p.mod;for(;h.nextRight()&&c.nextLeft();){h=h.nextRight(),c=c.nextLeft(),p=p.nextLeft(),l=l.nextRight(),l.ancestor=t;let C=h.prelim+y-(c.prelim+m)+n;C>0&&(v_e(y_e(h,t,e),t,C),m+=C,g+=C),y+=h.mod,m+=c.mod,_+=p.mod,g+=l.mod}h.nextRight()&&!l.nextRight()?(l.thread=h.nextRight(),l.mod+=y-g):(c.nextLeft()&&!p.nextLeft()&&(p.thread=c.nextLeft(),p.mod+=m-_),e=t)}return e}function yY(t,e){let n=t.children;if(n.length){let r=n[0];n.forEach(h=>{yY(h,e),r=b_e(h,r,e)}),x_e(t);let l=(n[0].prelim+n.at(-1).prelim)/2,c=t.getLeftSibling();c?(t.prelim=c.prelim+e,t.mod=t.prelim-l):t.prelim=l}else{let r=t.getLeftSibling();t.prelim=r?r.prelim+e:0}}var XW=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(t,e){let{x:n,y:r}=e(t);n>this.right&&(this.right=n),n<this.left&&(this.left=n),r>this.bottom&&(this.bottom=r),r<this.top&&(this.top=r)}};function xY(t,e,n){t.x=t.prelim+e,t.y=t.depth,n.update(t),t.children.forEach(r=>xY(r,e+t.mod,n))}function bY(t){let e=t.children,n=0;e.forEach(r=>{bY(r),r.children.length?n+=r.leafCount:n++}),t.leafCount=n,e.length?(t.subtreeLeft=e[0].subtreeLeft,t.subtreeRight=e[t.children.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}function __e(t){let e=new w_e;return yY(t,1),xY(t,-t.prelim,e),bY(t),e}var w_e=class{constructor(){this.dimensions=new XW,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(t){this.dimensions.update(t,e=>({x:e.x,y:e.y})),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)}resize(t,e,n=0,r=0,l=!1){let c=this.leafCount-1,h=this.depth,p=this.dimensions,m=1,g=1;if(t>0&&c){let S=(p.right-p.left)/c;m=t/c/S,l&&(m=-m)}if(e>0&&h){let S=(p.bottom-p.top)/h;g=e/h/S}let y=new XW;this.nodes.forEach(S=>{S.screenX=S.x*m,S.screenY=S.y*g,y.update(S,A=>({x:A.screenX,y:A.screenY}))});let _=-y.left,C=-y.top;this.nodes.forEach(S=>{S.screenX+=_+n,S.screenY+=C+r})}},_Y=class extends tr{constructor(){super(...arguments),this.grid=!1}};B([G(Ct)],_Y.prototype,"grid",2);var zh=class extends I1{constructor(t){super(t,new el),this.tickScale=new el,this.line=new L1,this.label=new _Y,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;let{tickLineGroup:e,tickLabelGroup:n,gridLineGroup:r,tickScale:l,scale:c}=this;c.paddingOuter=.1,c.paddingInner=c.paddingOuter*2,this.refreshScale(),l.paddingInner=1,l.paddingOuter=0,this.gridLineSelection=Ti.select(r,Dr),this.axisLineSelection=Ti.select(e,Dr),this.separatorSelection=Ti.select(e,Dr),this.labelSelection=Ti.select(n,an)}updateRange(){let{range:t,visibleRange:e,scale:n}=this,r=(t[1]-t[0])/(e[1]-e[0]),l=r*e[0],c=t[0]-l;this.tickScale.range=n.range=[c,c+r],this.resizeTickTree()}resizeTickTree(){var t;let e=this.scale,n=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,r=this.tickTreeLayout,l=this.lineHeight;r&&r.resize(Math.abs(n[1]-n[0]),r.depth*l,(Math.min(n[0],n[1])||0)+((t=e.bandwidth)!=null?t:0)/2,-r.depth*l,n[1]-n[0]<0)}get lineHeight(){return this.label.fontSize*1.5}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){var t;let{direction:e}=this,n=null,r=this.boundSeries.filter(c=>c.visible).flatMap(c=>{if(e==="y"||n)return c.getDomain(e);if(n===null){let h=c.getDomain(e);return n=Vo(h[0]),h}return[]});this.setDomain((t=ac(r))!=null?t:Yk(r));let{domain:l}=this.dataDomain;this.tickTreeLayout=__e(m_e(l)),this.tickScale.domain=l.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){let{_titleCaption:t}=this;t.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;let{tickLabelLayout:t}=this.computedLayout;this.labelSelection.update(t).each((n,r)=>{n.setProperties(r)})}updateSeparators(){if(!this.computedLayout)return;let{separatorLayout:t}=this.computedLayout,{range:e}=this,n=1e-7;this.separatorSelection.update(t).each((l,c)=>{l.x1=c.x1,l.x2=c.x2,l.y1=c.y,l.y2=c.y,l.visible=c.y>=e[0]-n&&c.y<=e[1]+n,l.stroke=this.tick.color,l.fill=void 0,l.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;let{axisLineLayout:t}=this.computedLayout;this.axisLineSelection.update(t).each((n,r)=>{n.setProperties(He(he({},r),{stroke:this.line.color,strokeWidth:this.line.width})),n.x1=r.x,n.x2=r.x,n.y1=r.y1,n.y2=r.y2,n.strokeWidth=this.line.width,n.stroke=this.line.color})}updateCategoryGridLines(){let{gridLength:t,gridLine:e,label:n,range:r,tickScale:l}=this,c=l.ticks(),h=n.getSideFlag(),p=this.gridLineSelection.update(t?c:[]);if(t){let{width:m,style:g}=e,y=g.length;p.each((_,C,S)=>{let A=Math.round(l.convert(C));_.x1=0,_.x2=-h*t,_.y1=A,_.y2=A,_.visible=A>=r[0]&&A<=r[1];let{stroke:E,lineDash:L}=g[S%y];_.stroke=E,_.strokeWidth=m,_.lineDash=L,_.fill=void 0})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();let{scale:t,label:e,label:{parallel:n},moduleCtx:{callbackCache:r},range:l,title:c,title:{formatter:h=we=>we.defaultValue}={}}=this,p=t.range[0],m=t.range[1],y=Math.abs(m-p)/t.domain.length||0,_=Math.ceil(e.fontSize/y),C=ds(this.rotation),S=Math.abs(Math.cos(C))<1e-8,A=e.getSideFlag(),E=this.lineHeight,L=this.tickTreeLayout,P=t.ticks(),R=L?L.nodes:[],V=L?L.depth>1:!1,{defaultRotation:z,configuredRotation:H,parallelFlipFlag:U}=Fk({rotation:e.rotation,parallel:n,regularFlipRotation:cr(C-Math.PI/2),parallelFlipRotation:cr(C)}),X=[],Q=we=>({fill:we.fill,fontFamily:we.fontFamily,fontSize:we.fontSize,fontStyle:we.fontStyle,fontWeight:we.fontWeight,rotation:we.rotation,rotationCenterX:we.rotationCenterX,rotationCenterY:we.rotationCenterY,text:we.text,textAlign:we.textAlign,textBaseline:we.textBaseline,translationX:we.translationX,translationY:we.translationY,visible:we.visible,x:we.x,y:we.y}),Z=new Map,ie=0,ne=new an,de=(we,lt)=>{var zt;if(ne.setProperties({fill:e.color,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textAlign:"center",textBaseline:U===-1?"bottom":"hanging",translationX:we.screenY-e.fontSize*.25,translationY:we.screenX}),lt===0){if(!(c?.enabled&&P.length>0))return!1;let Ge=r.call(h,this.getTitleFormatterParams());ne.setProperties({fill:c.color,fontFamily:c.fontFamily,fontSize:c.fontSize,fontStyle:c.fontStyle,fontWeight:c.fontWeight,text:Ge,textBaseline:"hanging",translationX:we.screenY-e.fontSize*.25,translationY:we.screenX})}else if(lt%_===0){if(!(we.screenX>=l[0]&&we.screenX<=l[1]))return!1;e.formatter?ne.text=(zt=r.call(e.formatter,{value:String(we.label),index:lt}))!=null?zt:String(we.label):ne.text=String(we.label)}else return!1;return!0};R.forEach((we,lt)=>{if(!de(we,lt))return;let be=ne.computeTransformedBBox();if(!be)return;Z.set(lt,be),!we.children.length&&be.width>ie&&(ie=be.width)});let ue=A*e.padding,ge=this.label.grid,De=[];R.forEach((we,lt)=>{let zt=de(we,lt),be=lt;ne.x=ue,ne.rotationCenterX=ue;let Ge=!we.children.length;if(Ge)ne.rotation=H,ne.textAlign="end",ne.textBaseline="middle";else{ne.translationX-=ie-E+this.label.padding;let me=we.leafCount*y,$t=Z.get(be);$t&&$t.width>me?(zt=!1,Z.delete(be)):S?ne.rotation=z:ne.rotation=-Math.PI/2}if(we.parent&&V){let me=Ge?we.screenX-y/2:we.screenX-we.leafCount*y/2;if(Ge)(we.number!==we.children.length-1||ge)&&De.push({y:me,x1:0,x2:-ie-this.label.padding*2});else{let $t=-ie-this.label.padding*2+we.screenY;De.push({y:me,x1:$t+E,x2:$t})}}let tt;if(zt){let me=ne.computeTransformedBBox();me&&Z.set(lt,me),tt=He(he({},Q(ne)),{visible:zt})}else Z.delete(lt),tt={visible:zt};X.push(tt)});let Ce=0;De.forEach(we=>Ce=Math.min(Ce,we.x2)),De.push({y:Math.max(p,m),x1:0,x2:Ce});let Pe=[],Ve=[],Ie=1e-7;De.forEach(we=>{if(we.y>=l[0]-Ie&&we.y<=l[1]+Ie){let{x1:lt,x2:zt,y:be}=we,Ge=new yt(Math.min(lt,zt),be,Math.abs(lt-zt),0);Ve.push(Ge),Pe.push({x1:lt,x2:zt,y:be})}});let Ne=[],Xe=[],Qe=L?L.depth+1:1;for(let we=0;we<Qe;we++){let lt=P.length>0&&(we===0||ge&&V),zt=we>0?-ie-this.label.padding*2-(we-1)*E:0,be=new yt(zt,Math.min(...l),0,Math.abs(l[1]-l[0]));Xe.push(be),Ne.push({x:zt,y1:l[0],y2:l[1],visible:lt})}let Wt=we=>{let lt=new tc,{rotation:zt,translationX:be,translationY:Ge,rotationCenterX:tt,rotationCenterY:me}=this.getAxisTransform();return tc.updateTransformMatrix(lt,1,1,zt,be,Ge,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:tt,rotationCenterY:me}),lt.transformBBox(we)},Ut=yt.merge([...Z.values(),...Ve,...Xe]);return{bbox:Wt(Ut),tickLabelLayout:X,separatorLayout:Pe,axisLineLayout:Ne}}calculateLayout(){let{axisLineLayout:t,separatorLayout:e,tickLabelLayout:n,bbox:r}=this.computeLayout();return this.computedLayout={axisLineLayout:t,separatorLayout:e,tickLabelLayout:n},{bbox:r,primaryTickCount:void 0}}};zh.className="GroupedCategoryAxis";zh.type="grouped-category";B([G(Dn,{optional:!0})],zh.prototype,"labelColor",2);function wY(){if(typeof navigator>"u")return!1;let t=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(t==null)return!1;let[e,n]=t[1].split("_").map(Number);return e<16||e===16&&n<6}var BI=class WL{constructor(e){this.enabled=!0,this.width=600,this.height=300;let{width:n,height:r,pixelRatio:l}=e;this.pixelRatio=wY()?1:l??_a("devicePixelRatio"),this.element=Is("canvas"),this.element.width=Math.round((n??this.width)*this.pixelRatio),this.element.height=Math.round((r??this.height)*this.pixelRatio),this.context=this.element.getContext("2d"),this.onEnabledChange(),this.resize(n??0,r??0),WL.debugContext(this.context)}static is(e){return e instanceof WL}drawImage(e,n=0,r=0){return e.drawImage(this.context.canvas,n,r)}toDataURL(e){return this.element.toDataURL(e)}resize(e,n){if(!(e>0&&n>0))return;let{element:r,context:l,pixelRatio:c}=this;r.width=Math.round(e*c),r.height=Math.round(n*c),l.setTransform(c,0,0,c,0,0),r.style.width=e+"px",r.style.height=n+"px",this.width=e,this.height=n}snapshot(){}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onContainerChange(e,n){var r,l;e!==n&&((r=this.element.parentNode)==null||r.removeChild(this.element),(l=this.container)==null||l.appendChild(this.element))}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"block":"none")}static debugContext(e){if(Li.check("canvas")){let n=e.save.bind(e),r=e.restore.bind(e),l=0;Object.assign(e,{save(){n(),l++},restore(){if(l===0)throw new Error("AG Charts - Unable to restore() past depth 0");r(),l--},verifyDepthZero(){if(l!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${l}`)}})}}};B([Uh(t=>t.onEnabledChange())],BI.prototype,"enabled",2);B([Uh((t,e,n)=>t.onContainerChange(e,n))],BI.prototype,"container",2);var rD=BI,qW=class{constructor({width:t=600,height:e=300,pixelRatio:n}){this.enabled=!0,this.width=0,this.height=0,this.canvas=new OffscreenCanvas(t,e),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.pixelRatio=wY()?1:n??_a("devicePixelRatio"),this.resize(t,e),rD.debugContext(this.context)}static isSupported(){return typeof OffscreenCanvas<"u"&&OffscreenCanvas.prototype.transferToImageBitmap!=null}drawImage(t,e=0,n=0){return t.drawImage(this.imageSource,e,n)}resize(t,e){if(!(t>0&&e>0))return;let{canvas:n,context:r,pixelRatio:l}=this;n.width=Math.round(t*l),n.height=Math.round(e*l),r.setTransform(l,0,0,l,0,0),this.width=t,this.height=e}snapshot(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)}},C_e=class CY{constructor(e,n){this.canvas=e,this.markDirty=n,this.debug=Li.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(e,n){var r,l;return Y$([e.zIndex,...(r=e.zIndexSubOrder)!=null?r:[void 0,void 0],e.id],[n.zIndex,...(l=n.zIndexSubOrder)!=null?l:[void 0,void 0],n.id],$$)}get size(){return this.layersMap.size}forEach(e){Array.from(this.layersMap.values()).sort(CY.sortLayers).forEach(e)}resize(e,n){this.canvas.resize(e,n),this.layersMap.forEach(({canvas:r})=>r.resize(e,n))}addLayer(e){let{width:n,height:r,pixelRatio:l}=this.canvas,{zIndex:c=this.nextZIndex++,name:h,zIndexSubOrder:p,getComputedOpacity:m,getVisibility:g}=e,y=qW.isSupported()?qW:rD,_=new y({width:n,height:r,pixelRatio:l}),C={id:this.nextLayerId++,name:h,canvas:_,zIndex:c,zIndexSubOrder:p,getComputedOpacity:m,getVisibility:g};return c>=this.nextZIndex&&(this.nextZIndex=c+1),this.layersMap.set(_,C),this.debug("Scene.addLayer() - layers",this.layersMap),C.canvas}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(e,n,r){let l=this.layersMap.get(e);l&&(l.zIndex=n,l.zIndexSubOrder=r,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}};function KW(t,e,n,r,l={}){if(!Li.check("scene:stats","scene:stats:verbose"))return;let{layersRendered:c=0,layersSkipped:h=0,nodesRendered:p=0,nodesSkipped:m=0}=r??{},g=performance.now(),y=e.start;e.end=performance.now();let _=0,C=Object.entries(e).filter(([z])=>z!=="end").map(([z,H],U)=>{let X=U>0?QW(z,_,H):null;return _=H,X}).filter(z=>z!=null).join(" + "),S=Object.entries(l).map(([z,H])=>`${z}: ${H}`).join(" ; "),A=Li.check("scene:stats:verbose"),E=[`${QW("\u23F1\uFE0F",y,g)} (${C})`,`${S}`,`Layers: ${A?ZW(c,h):t.size}`,A?`Nodes: ${ZW(p,m)}`:null].filter(qr),L=new Map(E.map(z=>[z,an.getTextSize(z,n.font)])),P=Math.max(...Array.from(L.values(),z=>z.width)),R=D_e(L.values(),z=>z.height);n.save(),n.fillStyle="white",n.fillRect(0,0,P,R),n.fillStyle="black";let V=0;for(let[z,H]of L.entries())V+=H.height,n.fillText(z,2,V);n.restore()}function k_e(t,e,n){var r;let l=Lk(_a("agChartsSceneDebug")).flatMap(c=>qr(c)&&c==="layout"?["seriesRoot","legend","root",/.*Axis-\d+-axis.*/]:c);for(let c of l){if(qr(c)&&n[c]!=null)continue;let h=qr(c)?T_e(c):S_e(c),p=t?.findNodes(h);if(!p?.length){Le.log(`Scene.render() - no debugging node with id [${c}] in scene graph.`);continue}for(let m of p)n[et.is(m)&&(r=m.name)!=null?r:m.id]=m}e.save();for(let[c,h]of Object.entries(n)){let p=h.computeTransformedBBox();if(!p){Le.log(`Scene.render() - no bbox for debugged node [${c}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(p.x,p.y,p.width,p.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(c,p.x,p.y,p.width),e.fillText(c,p.x,p.y,p.width)}e.restore()}function wk(t){var e,n;return Li.check(!0,"scene")?he(he({node:t,name:(e=t instanceof et?t.name:null)!=null?e:t.id,dirty:Nh[t.dirty]},(n=t.parent)!=null&&n.isVirtual?{virtualParentDirty:Nh[t.parent.dirty],virtualParent:t.parent}:{}),t.children.map(r=>wk(r)).reduce((r,l)=>{let{name:c}=l,{node:{visible:h,opacity:p,zIndex:m,zIndexSubOrder:g},node:y,virtualParent:_}=l;(!h||p<=0)&&(c=`(${c})`),y instanceof et&&y.isLayer()&&(c=`*${c}*`);let C=[`${c??"<unknown>"}`,`z: ${m}`,g&&`zo: ${g.map(E=>typeof E=="function"?`${E()} (fn)`:E).join(" / ")}`,_&&"(virtual parent)"].filter(E=>!!E).join(" "),S=C,A=1;for(;r[S]!=null&&A<100;)S=`${C} (${A++})`;return r[S]=l,r},{})):{}}function kY(t){var e;if(t.dirty===0)return{dirtyTree:{},paths:[]};let n=t.children.map(c=>kY(c)).filter(c=>c.paths.length>0),r=et.is(t)&&(e=t.name)!=null?e:t.id,l=n.length?n.flatMap(c=>c.paths).map(c=>`${r}.${c}`):[r];return{dirtyTree:he({name:r,node:t,dirty:Nh[t.dirty]},n.map(c=>c.dirtyTree).filter(c=>c.dirty!=null).reduce((c,h)=>{var p;return c[(p=h.name)!=null?p:"<unknown>"]=h,c},{})),paths:l}}function ZW(t,e){let n=t+e;return`${t} / ${n} (${Math.round(100*t/n)}%)`}function QW(t,e,n){return`${t}: ${Math.round((n-e)*100)/100}ms`}function D_e(t,e){let n=0;for(let r of t)n+=e(r);return n}function S_e(t){return e=>t.test(e.id)||et.is(e)&&e.name!=null&&t.test(e.name)}function T_e(t){return e=>t===e.id||et.is(e)&&e.name!=null&&t===e.name}var VI=class{constructor({width:t,height:e,pixelRatio:n}){this.debug=Li.create(!0,"scene"),this.id=lc(this),this.root=null,this.isDirty=!1,this.canvas=new rD({width:t,height:e,pixelRatio:n}),this.layersManager=new C_e(this.canvas,()=>{this.isDirty=!0})}get width(){var t,e;return(e=(t=this.pendingSize)==null?void 0:t[0])!=null?e:this.canvas.width}get height(){var t,e;return(e=(t=this.pendingSize)==null?void 0:t[1])!=null?e:this.canvas.height}setContainer(t){return this.canvas.container=t,this}setRoot(t){var e;return this.root===t?this:(this.isDirty=!0,(e=this.root)==null||e._setLayerManager(),this.root=t,t&&(t.visible=!0,t._setLayerManager(this.layersManager)),this)}attachNode(t){var e;return(e=this.root)==null||e.appendChild(t),()=>this.removeChild(t)}appendChild(t){var e;return(e=this.root)==null||e.appendChild(t),this}removeChild(t){var e;return(e=this.root)==null||e.removeChild(t),this}download(t,e){var n;d$(this.canvas.toDataURL(e),(n=t?.trim())!=null?n:"image")}getDataURL(t){return this.canvas.toDataURL(t)}resize(t,e){return t=Math.round(t),e=Math.round(e),t>0&&e>0&&(t!==this.width||e!==this.height)?(this.pendingSize=[t,e],this.isDirty=!0,!0):!1}render(t){return ve(this,null,function*(){var e,n;let{debugSplitTimes:r={start:performance.now()},extraDebugStats:l}=t??{},{canvas:c,canvas:{context:h}={},root:p,pendingSize:m}=this;if(!h)return;if(m&&(this.layersManager.resize(...m),this.pendingSize=void 0),p&&!p.visible){this.isDirty=!1;return}if(p&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:Nh[p.dirty],tree:wk(p)}),KW(this.layersManager,r,h,void 0,l);return}let g={ctx:h,devicePixelRatio:(e=this.canvas.pixelRatio)!=null?e:1,forceRender:!0,resized:!!m,debugNodes:{}};Li.check("scene:stats:verbose")&&(g.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let y=!1;if((!p||p.dirty>=1)&&(y=!0,c.clear()),p&&Li.check("scene:dirtyTree")){let{dirtyTree:_,paths:C}=kY(p);Li.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:_,paths:C})}p&&y&&(this.debug("Scene.render() - before",{redrawType:Nh[p.dirty],canvasCleared:y,tree:wk(p)}),p.visible&&(h.save(),p.render(g),h.restore())),r["\u270D\uFE0F"]=performance.now(),this.layersManager.size&&y&&(h.save(),h.resetTransform(),this.layersManager.forEach(_=>{_.canvas.enabled&&_.getVisibility()&&(h.globalAlpha=_.getComputedOpacity(),_.canvas.drawImage(h))}),h.restore(),r["\u26D9"]=performance.now()),(n=h.verifyDepthZero)==null||n.call(h),this.isDirty=!1,KW(this.layersManager,r,h,g.stats,l),k_e(this.root,h,g.debugNodes),p&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:Nh[p.dirty],tree:wk(p),canvasCleared:y})})}strip(){let{context:t,pixelRatio:e}=this.canvas;t.setTransform(e,0,0,e,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.canvas.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};VI.className="Scene";function A_e(t){return new Promise(e=>{setTimeout(()=>e(void 0),t)})}var M_e=class{constructor(){this.cache=new WeakMap}call(t,...e){let n,r=this.cache.get(t),l=()=>{try{let c=t(...e);return r&&n!=null&&r.set(n,c),c}catch(c){Le.warnOnce("User callback errored, ignoring",c);return}};try{n=JSON.stringify(e)}catch{return l()}return r==null&&(r=new Map,this.cache.set(t,r)),r.has(n)?r.get(n):l()}invalidateCache(){this.cache=new WeakMap}},E_e=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(t){return new Promise(e=>{this.acquireQueue.push([t,e]),this.available&&this.dispatchNext().catch(n=>Le.errorOnce(n))})}acquireImmediately(t){return ve(this,null,function*(){return this.available?(yield this.acquire(t),!0):!1})}waitForClearAcquireQueue(){return ve(this,null,function*(){return this.acquire(()=>ve(this,null,function*(){}))})}dispatchNext(){return ve(this,null,function*(){var t,e;this.available=!1;let[n,r]=(t=this.acquireQueue.shift())!=null?t:[];for(;n;){try{yield n(),r?.()}catch(l){Le.error("mutex callback error",l),r?.()}[n,r]=(e=this.acquireQueue.shift())!=null?e:[]}this.available=!0})}},DY=class{constructor(){this.eventListeners=new Map}addEventListener(t,e){if(typeof e!="function")throw new Error("AG Charts - listener must be a Function");let n=this.eventListeners.get(t);n?n.add(e):this.eventListeners.set(t,new Set([e]))}removeEventListener(t,e){var n;(n=this.eventListeners.get(t))==null||n.delete(e),this.eventListeners.size===0&&this.eventListeners.delete(t)}hasEventListener(t){return this.eventListeners.has(t)}clearEventListeners(){this.eventListeners.clear()}fireEvent(t){var e;(e=this.eventListeners.get(t.type))==null||e.forEach(n=>n(t))}},Yh=class extends dn{constructor(t=0,e=t,n=t,r=e){super(),this.top=t,this.right=e,this.bottom=n,this.left=r}clear(){this.top=this.right=this.bottom=this.left=0}};B([G(Ae)],Yh.prototype,"top",2);B([G(Ae)],Yh.prototype,"right",2);B([G(Ae)],Yh.prototype,"bottom",2);B([G(Ae)],Yh.prototype,"left",2);function L_e(t){return SY((e,n)=>requestAnimationFrame(e),t)}function I_e(t){return SY((e,n=0)=>setTimeout(e,n),t)}function SY(t,e){let n=0,r=!1,l,c,h=()=>r,p=()=>{r=!1,c?.(),c=void 0,l=void 0,n>0&&t(m)},m=()=>{let g=n;n=0,r=!0;let y=e({count:g});if(!y){p();return}y.then(p,p)};return{schedule(g){n===0&&!h()&&t(m,g),n++},await(){return ve(this,null,function*(){if(h())for(l==null&&(l=new Promise(g=>{c=g}));h();)yield l})}}}var O_e=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([e,n])=>this.observe(e,n)),this.queuedObserveRequests=[]};var t;if(typeof ResizeObserver>"u"){for(let[e,n]of this.elements)this.checkClientSize(e,n);return}this.resizeObserver=new ResizeObserver(e=>{for(let{target:n,contentRect:r}of e){let{width:l,height:c}=r;this.checkSize(this.elements.get(n),n,l,c)}}),this.documentReady=sf().readyState==="complete",this.documentReady||(t=_a())==null||t.addEventListener("load",this.onLoad)}destroy(){var t,e;(t=_a())==null||t.removeEventListener("load",this.onLoad),(e=this.resizeObserver)==null||e.disconnect(),this.resizeObserver=null}checkSize(t,e,n,r){var l,c;t&&(n!==((l=t.size)==null?void 0:l.width)||r!==((c=t.size)==null?void 0:c.height))&&(t.size={width:n,height:r},t.cb(t.size,e))}observe(t,e){var n;if(!this.documentReady){this.queuedObserveRequests.push([t,e]);return}this.elements.has(t)?this.removeFromQueue(t):(n=this.resizeObserver)==null||n.observe(t),this.elements.set(t,{cb:e})}unobserve(t){var e;(e=this.resizeObserver)==null||e.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([e])=>e!==t)}checkClientSize(t,e){var n,r;let l=(n=t.clientWidth)!=null?n:0,c=(r=t.clientHeight)!=null?r:0;this.checkSize(e,t,l,c)}},TY=class extends dn{constructor(){super(...arguments),this.range="tooltip"}};B([G(Ui(["tooltip","node"],"a range"))],TY.prototype,"range",2);var Kx=(t=>(t[t.FULL=0]="FULL",t[t.UPDATE_DATA=1]="UPDATE_DATA",t[t.PROCESS_DATA=2]="PROCESS_DATA",t[t.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=4]="SERIES_UPDATE",t[t.TOOLTIP_RECALCULATION=5]="TOOLTIP_RECALCULATION",t[t.SCENE_RENDER=6]="SCENE_RENDER",t[t.NONE=7]="NONE",t))(Kx||{}),JW=class AY{constructor(){this.domain=new Set}static is(e){return e instanceof AY}extend(e){this.domain.add(e)}getDomain(){return Array.from(this.domain)}},Yp=class MY{constructor(){this.domain=[1/0,-1/0]}static is(e){return e instanceof MY}static extendDomain(e,n=[1/0,-1/0]){for(let r of e)typeof r=="number"&&(n[0]>r&&(n[0]=r),n[1]<r&&(n[1]=r));return n}extend(e){this.domain[0]>e&&(this.domain[0]=e),this.domain[1]<e&&(this.domain[1]=e)}getDomain(){return[...this.domain]}};function R_e(t){return t.map(e=>Za(e)?JSON.stringify(e):e).join("-")}function P_e(t){return Number.isInteger(t)?t:Math.abs(t)>1e4?Math.trunc(t):Math.round(t*1e4)/1e4}function F_e(t){if(t==null)return[];let[e,n]=t.map(Number);return e===0&&n===0?[0,1]:e===1/0&&n===-1/0?[]:(e===1/0?e=0:n===-1/0&&(n=0),Bn(e)&&Bn(n)?[e,n]:[])}function Ps(t,e){var n;let r=F_e(t);if(r.length===0)return r;let[l,c]=r;if(l===c){let[h,p]=(n=e?.calculatePadding(l,c,e.isReversed()))!=null?n:[1,1];l-=h,c+=p}return[l,c]}function eU(){return new Map([[void 0,0]])}function zI(t,e){var n;return(n=e?.get(t.id))!=null?n:0}var Np=Symbol("invalid"),EY=class{constructor(t){this.debug=Li.create(!0,"data-model"),this.scopeCache=new Map;let{props:e,mode:n="standalone"}=t;this.mode=n;let r=!0;for(let h of e){if(h.type==="key"&&!r)throw new Error("AG Charts - internal config error: keys must come before values.");h.type==="value"&&r&&(r=!1)}this.opts=he({dataVisible:!0},t),this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let l=({matchGroupIds:h=[]})=>{for(let p of h)if(this.values.every(m=>m.groupId!==p))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${p}).`)},c=({matchIds:h})=>{for(let p of h??[])if(!this.values.some(m=>{var g,y;return(y=(g=m.idsMap)==null?void 0:g.get(p[0]))==null?void 0:y.has(p[1])}))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${p}).`)};for(let h of e)switch(h.type){case"key":this.keys.push(He(he({},h),{index:this.keys.length,missing:eU()}));break;case"value":if(h.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(h)}`);this.values.push(He(he({},h),{index:this.values.length,missing:eU()}));break;case"aggregate":c(h),l(h),this.aggregates.push(He(he({},h),{index:this.aggregates.length}));break;case"group-value-processor":c(h),l(h),this.groupProcessors.push(He(he({},h),{index:this.groupProcessors.length}));break;case"property-value-processor":this.propertyProcessors.push(He(he({},h),{index:this.propertyProcessors.length}));break;case"reducer":this.reducers.push(He(he({},h),{index:this.reducers.length}));break;case"processor":this.processors.push(He(he({},h),{index:this.processors.length}));break}}resolveProcessedDataIndexById(t,e){var n;return(n=this.resolveProcessedDataDefById(t,e))!=null?n:{}}resolveProcessedDataDefById(t,e){let{value:n,done:r}=this.scopeDefs(t,e).next();if(r)throw new Error(`AG Charts - didn't find property definition for [${e}, ${t.id}]`);return n}resolveProcessedDataDefsByIds(t,e){return e.map(n=>[n,this.resolveProcessedDataDefsById(t,n)])}resolveProcessedDataDefsValues(t,{keys:e,values:n}){let r={};for(let[l,[{index:c,def:h}]]of t){let p=h.type==="key"?e:n;r[l]=p[c]}return r}resolveProcessedDataDefsById(t,e){let n=Array.from(this.scopeDefs(t,e));if(!n.length)throw new Error(`AG Charts - didn't find property definition for [${e}, ${t.id}]`);return n}*scopeDefs(t,e){var n,r;for(let l of(r=(n=this.scopeCache.get(t.id))==null?void 0:n.get(e))!=null?r:[])yield{index:l.index,def:l}}getDomain(t,e,n="value",r){var l,c;let h=this.getDomainsByType(n,r);if(h==null)return[];let p=this.resolveProcessedDataDefsById(t,e);if(p.length===1)return(l=h[p[0].index])!=null?l:[];{let m=[1/0,-1/0];for(let{index:g}of p)Yp.extendDomain((c=h[g])!=null?c:[],m);return m}}getDomainsByType(t,e){switch(t){case"key":return e.domain.keys;case"value":return e.domain.values;case"aggregate":return e.domain.aggValues;case"group-value-processor":return e.domain.groups;default:return null}}processData(t,e){let{opts:{groupByKeys:n,groupByFn:r},aggregates:l,groupProcessors:c,reducers:h,processors:p,propertyProcessors:m}=this,g=performance.now();if(n&&this.keys.length===0)return;let y=this.extractData(t,e);if(n?y=this.groupData(y):r&&(y=this.groupData(y,r(y))),c.length>0&&this.postProcessGroups(y),l.length>0&&this.aggregateData(y),m.length>0&&this.postProcessProperties(y),h.length>0&&this.reduceData(y),p.length>0&&this.postProcessData(y),t.length>0){for(let C of Sx(this.keys,this.values))for(let[S,A]of C.missing)if(A>=t.length){let E=S==null?"":` for ${S}`;Le.warnOnce(`the key '${C.property}' was not found in any data element${E}.`)}}let _=performance.now();y.time=_-g,this.debug.check()&&N_e(y),this.scopeCache.clear();for(let C of Sx(this.keys,this.values,this.aggregates,this.groupProcessors,this.reducers))if(C.idsMap)for(let[S,A]of C.idsMap)for(let E of A)this.scopeCache.has(S)?this.scopeCache.get(S).has(E)?this.scopeCache.get(S).get(E).add(C):this.scopeCache.get(S).set(E,new Set([C])):this.scopeCache.set(S,new Map([[E,new Set([C])]]));return y}hasMatchingDef(t,e){var n;for(let[r,l]of t)if((n=e.get(r))!=null&&n.has(l))return!0;return!1}valueGroupIdxLookup({matchGroupIds:t,matchIds:e}){let n=[];for(let[r,l]of this.values.entries())t&&(l.groupId==null||!t.includes(l.groupId))||e&&(l.idsMap==null||!this.hasMatchingDef(e,l.idsMap))||n.push(r);return n}valueIdxLookup(t,e){let n=t==null||t.length===0,r=typeof e=="string"?e:e.id,l=h=>{if(h.idsMap){for(let[p,m]of h.idsMap)if(t?.includes(p)&&m.has(r))return!0}return!1},c=this.values.findIndex(h=>(h.scopes==null||n&&!h.scopes.length||h.scopes.some(m=>t?.includes(m)))&&(h.property===r||h.id===r||l(h)));if(c===-1)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(e)} in scope(s) ${JSON.stringify(t)}`);return c}extractData(t,e){var n,r,l,c,h,p;let{keys:m,values:g,opts:{dataVisible:y}}=this,{dataDomain:_,processValue:C,scopes:S,allScopesHaveSameDefs:A}=this.initDataDomainProcessor(),E=new Array(y?t.length:0),L=0,P=0;for(let[V,z]of t.entries()){let H={},U=S.size>0?new Set(S):void 0,X=y?new Array(m.length):void 0,Q=0,Z;for(let ue of m){if(Z=C(ue,z,Z),Z===Np)break;X&&(X[Q++]=Z)}if(Z===Np)continue;let ie=y&&g.length>0?new Array(g.length):void 0,ne,de={};for(let ue of e??[])de[ue.id]=ue;for(let[ue,ge]of g.entries()){for(let De of(n=ge.scopes)!=null?n:S){let Ce=de[De],Pe=(r=Ce?.data[V])!=null?r:z;if(ne=C(ge,Pe,ne,De),!(ne===Np||!ie)){if(Ce!==void 0&&ge.includeProperty!==!1){let Ve=ge.includeProperty&&ge.id!=null?ge.id:ge.property;(c=H[l=Ce.id])!=null||(H[l]={}),H[Ce.id][Ve]=ne}ge.useScopedValues?((h=ie[ue])!=null||(ie[ue]={}),ie[ue][De]=ne):ie[ue]=ne}}if(ne===Np){if(A)break;for(let De of(p=ge.scopes)!=null?p:S)U?.delete(De);if(U?.size===0)break}}if(!(ne===Np&&A)&&U?.size!==0&&y){let ue={datum:he(he({},z),H),keys:X,values:ie};!A&&U&&U.size<S.size&&(P++,ue.validScopes=new Set(U)),E[L++]=ue}}E.length=L;let R=V=>{let z=_.get(V),H=z.getDomain();return Yp.is(z)&&H[0]>H[1]?[]:H};return{type:"ungrouped",input:{count:t.length},data:E,domain:{keys:m.map(R),values:g.map(R)},defs:{allScopesHaveSameDefs:A,keys:m,values:g},partialValidDataCount:P,time:0}}groupData(t,e){let n=new Map;for(let h of t.data){let{keys:p,values:m,datum:g,validScopes:y}=h,_=e?e(h):p,C=R_e(_);if(n.has(C)){let S=n.get(C);if(S.values.push(m),S.datum.push(g),y!=null&&S.validScopes!=null)for(let A of S.validScopes)y.has(A)||S.validScopes.delete(A)}else n.set(C,{keys:_,values:[m],datum:[g],validScopes:y})}let r=new Array(n.size),l=new Array(n.size),c=0;for(let[,{keys:h,values:p,datum:m,validScopes:g}]of n.entries())g?.size!==0&&(l[c]=h,r[c++]={keys:h,values:p,datum:m,validScopes:g});return He(he({},t),{type:"grouped",data:r,domain:He(he({},t.domain),{groups:l})})}aggregateData(t){var e,n,r,l,c,h,p,m;let g=t.type==="ungrouped";t.domain.aggValues=[];for(let[y,_]of this.aggregates.entries()){let C=this.valueGroupIdxLookup(_),S=[1/0,-1/0];for(let A of t.data){let E=!A.validScopes||((e=_.matchScopes)==null?void 0:e.some(V=>{var z;return(z=A.validScopes)==null?void 0:z.has(V)}));if((n=A.aggValues)!=null||(A.aggValues=new Array(this.aggregates.length)),!E)continue;let L=g?[A.values]:A.values,P=(l=(r=_.groupAggregateFunction)==null?void 0:r.call(_))!=null?l:[1/0,-1/0];for(let V of L){let z=C.map(U=>V[U]),H=_.aggregateFunction(z,A.keys);H&&(P=(h=(c=_.groupAggregateFunction)==null?void 0:c.call(_,H,P))!=null?h:Yp.extendDomain(H,P))}let R=((m=(p=_.finalFunction)==null?void 0:p.call(_,P))!=null?m:P).map(V=>P_e(V));A.aggValues[y]=R,Yp.extendDomain(R,S)}t.domain.aggValues.push(S)}}postProcessGroups(t){var e,n,r;let{groupProcessors:l}=this,c=new Set,h=new Map,p=new Map,m=new Map;for(let y of l){let _=this.valueGroupIdxLookup(y);p.set(y,_),m.set(y,y.adjust());for(let C of _){let A=this.values[C].valueType==="category";c.add(C),h.set(C,A?new JW:new Yp)}}let g=y=>{var _;for(let C of c)(_=h.get(C))==null||_.extend(y[C])};for(let y of t.data){for(let _ of l){if(!(!y.validScopes||((e=_.matchScopes)==null?void 0:e.some(E=>{var L;return(L=y.validScopes)==null?void 0:L.has(E)}))))continue;let S=(n=p.get(_))!=null?n:[],A=(r=m.get(_))==null?void 0:r();if(A)if(t.type==="grouped")for(let E of y.values)E&&A(E,S);else y.values&&A(y.values,S)}if(t.type==="grouped")for(let _ of y.values)g(_);else g(y.values)}for(let[y,_]of h)t.domain.values[y]=_.getDomain()}postProcessProperties(t){for(let{adjust:e,property:n,scopes:r}of this.propertyProcessors)e()(t,this.valueIdxLookup(r,n))}reduceData(t){var e,n;(e=t.reduced)!=null||(t.reduced={});for(let r of this.reducers){let l=r.reducer(),c=r.initialValue;for(let h of t.data)(!h.validScopes||(n=r.scopes)!=null&&n.some(p=>{var m;return(m=h.validScopes)==null?void 0:m.has(p)}))&&(c=l(c,h));t.reduced[r.property]=c}}postProcessData(t){var e;(e=t.reduced)!=null||(t.reduced={});for(let n of this.processors)t.reduced[n.property]=n.calculate(t)}initDataDomainProcessor(){let{keys:t,values:e}=this,n=new Set;for(let g of e)if(g.scopes)for(let y of g.scopes)n.add(y);let r=new Map,l=new Map,c=!0,h=()=>{var g;for(let y of Sx(t,e))y.valueType==="category"?r.set(y,new JW):(r.set(y,new Yp),c&&(c=((g=y.scopes)!=null?g:[]).length===n.size))};h();let p=this.buildAccessors(Sx(t,e));return{dataDomain:r,processValue:(g,y,_,C)=>{var S,A,E,L,P;let R,V;if(p.has(g.property)){try{V=p.get(g.property)(y)}catch{}R=V!=null}else R=g.property in y,V=R?y[g.property]:g.missingValue;g.forceValue!=null&&(V=R&&k1(V)?-1*g.forceValue:g.forceValue,R=!0);let z="missingValue"in g;if(!R&&!z){let H=(S=g.missing.get(C))!=null?S:0;g.missing.set(C,H+1)}if(r.has(g)||h(),R&&!((E=(A=g.validation)==null?void 0:A.call(g,V,y))!=null?E:!0))if("invalidValue"in g)V=g.invalidValue;else return this.mode!=="integrated"&&Le.warnOnce(`invalid value of type [${typeof V}] ignored:`,`[${V}]`),Np;return g.processor&&(l.has(g)||l.set(g,g.processor()),V=(L=l.get(g))==null?void 0:L(V,_===Np?void 0:_)),(P=r.get(g))==null||P.extend(V),V},initDataDomain:h,scopes:n,allScopesHaveSameDefs:c}}buildAccessors(t){let e=new Map;if(this.mode==="integrated")return e;for(let n of t){if(!(n.property.includes(".")||n.property.includes("[")))continue;let l;n.property.startsWith("[")?l=`return datum${n.property};`:l=`return datum.${n.property};`,e.set(n.property,new Function("datum",l))}return e}};function N_e(t){var e,n;let r=(l,c)=>{c.length>0&&(Le.log(`DataModel.processData() - ${l}`),Le.table(c))};if(Le.log("DataModel.processData() - processedData",t),r("Key Domains",t.domain.keys),r("Group Domains",(e=t.domain.groups)!=null?e:[]),r("Value Domains",t.domain.values),r("Aggregate Domains",(n=t.domain.aggValues)!=null?n:[]),t.type==="grouped"){let l=t.data.reduce((c,h)=>{var p,m;let g=(p=h.keys)!=null?p:[],y=(m=h.aggValues)!=null?m:[],_=h.keys.map(()=>{}),C=y?.map(()=>{});return c.push(...h.values.map((S,A)=>[...A===0?g:_,...S??[],...A==0?y:C])),c},[]);r("Values",l)}else{let l=t.data.reduce((c,h)=>{var p;let m=(p=h.aggValues)!=null?p:[];return c.push([...h.keys,...h.values,...m]),c},[]);r("Values",l)}}var LY=class _u{constructor(e){this.mode=e,this.debug=Li.create(!0,"data-model"),this.requested=[],this.status="setup"}request(e,n,r){return ve(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((l,c)=>{this.requested.push({id:e,opts:r,data:n,resultCb:l,reject:c})})})}execute(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);let e=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",e);let n=this.mergeRequested(e);this.debug("DataController.execute() - merged",n),this.debug.check()&&(_a().processedData=[]);let r=this.hasMultipleDataSources(e),l=this.requested.map(({id:c})=>c);for(let{opts:c,data:h,resultCbs:p,rejects:m,ids:g}of n){let y=r||c.props.some(_=>(_.type==="key"||_.type==="value")&&_.useScopedValues);try{let _=new EY(He(he({},c),{mode:this.mode})),C=_.processData(h,e);this.debug.check()&&_a("processedData").push(C),C?.partialValidDataCount===0?p.forEach((S,A)=>S({dataModel:_,processedData:this.processScopedData(g[A],C,l,y)})):C?this.splitResult(_,C,g,p):m.forEach(S=>S(new Error("AG Charts - no processed data generated")))}catch(_){m.forEach(C=>C(_))}}}hasMultipleDataSources(e){if(e.length){let[{data:n},...r]=e;return r.some(l=>n!==l.data)}return!1}processScopedData(e,n,r,l){let c=p=>{if(Array.isArray(p))return p.map(c);let m=l?he(he({},p),p[e]):p;for(let g of r)delete m[g];return m},h=p=>{var m;return Array.isArray(p)?p.map(h):(m=p?.[e])!=null?m:p};return He(he({},n),{data:n.data.map(p=>{var m;return He(he({},p),{datum:c(p.datum),values:l?(m=p.values)==null?void 0:m.map(h):p.values})})})}validateRequests(e){let n=[];for(let[r,l]of e.entries())r>0&&l.data.length!==e[0].data.length&&l.opts.groupByData===!1?l.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):n.push(l);return n}mergeRequested(e){let n=[];for(let r of e){let l=n.find(_u.groupMatch(r));l?l.push(r):n.push([r])}return n.map(_u.mergeRequests)}splitResult(e,n,r,l){for(let c=0;c<r.length;c++){let h=r[c],p=l[c];p({dataModel:e,processedData:He(he({},n),{data:n.data.filter(({validScopes:m})=>{var g;return(g=m?.has(h))!=null?g:!0})})})}}static groupMatch({opts:e,data:n}){function r(l){return l.filter(c=>c.type==="key").map(c=>c.property).join(";")}return([l])=>(e.groupByData===!1||l.data===n)&&l.opts.groupByKeys===e.groupByKeys&&l.opts.dataVisible===e.dataVisible&&l.opts.groupByFn===e.groupByFn&&r(l.opts.props)===r(e.props)}static mergeRequests(e){function n(r){var l;(r.type==="key"||r.type==="value")&&(r.useScopedValues=Yk((l=r.scopes)!=null?l:[]).length>1)}return e.reduce((r,l)=>{var{id:c,data:h,resultCb:p,reject:m,opts:g}=l,y=g,{props:_}=y,C=er(y,["props"]),S,A,E,L,P;r.ids.push(c),r.rejects.push(m),r.resultCbs.push(p),(S=r.data)!=null||(r.data=h),(A=r.opts)!=null||(r.opts=He(he({},C),{props:[]}));for(let R of _){n(R),_u.createIdsMap(R);let V=r.opts.props.find(z=>z.type===R.type&&_u.deepEqual(z,R));if(!V){r.opts.props.push(R);continue}(E=V.scopes)!=null||(V.scopes=[]),V.scopes.push(...(L=R.scopes)!=null?L:[]),(V.type==="key"||V.type==="value")&&((P=R.idsMap)!=null&&P.size)&&_u.mergeIdsMap(R.idsMap,V.idsMap)}return r},{ids:[],rejects:[],resultCbs:[],data:null,opts:null})}static mergeIdsMap(e,n){for(let[r,l]of e)if(n.has(r))for(let c of l)n.get(r).add(c);else n.set(r,new Set(l))}static createIdsMap(e){var n;if(e.id!=null&&((n=e.idsMap)!=null||(e.idsMap=new Map),e.scopes!=null))for(let r of e.scopes)e.idsMap.has(r)?e.idsMap.get(r).add(e.id):e.idsMap.set(r,new Set([e.id]))}static deepEqual(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;let r,l;if(Array.isArray(e)){if(l=e.length,l!==n.length)return!1;for(r=l-1;r>=0;r--)if(!_u.deepEqual(e[r],n[r]))return!1;return!0}let c=Object.keys(e);if(l=c.length,l!==Object.keys(n).length)return!1;for(r=l-1;r>=0;r--){let h=c[r];if(!_u.skipKeys.has(h)&&(!Object.hasOwn(n,h)||!_u.deepEqual(e[h],n[h])))return!1}return!0}return!1}};LY.skipKeys=new Set(["id","idsMap","type","scopes","useScopedValues"]);var IY=LY,b0=class{constructor(){this.registeredListeners=new Map}addListener(t,e){let n={symbol:Symbol(t),handler:e};return this.registeredListeners.has(t)?this.registeredListeners.get(t).push(n):this.registeredListeners.set(t,[n]),()=>this.removeListener(n.symbol)}removeListener(t){for(let[e,n]of this.registeredListeners.entries()){let r=n.findIndex(l=>l.symbol===t);if(r>=0){n.splice(r,1),n.length===0&&this.registeredListeners.delete(e);break}}}dispatch(t,...e){for(let n of this.getListenersByType(t))try{n.handler(...e)}catch(r){Le.errorOnce(r)}}dispatchWrapHandlers(t,e,...n){for(let r of this.getListenersByType(t))try{e(r.handler,...n)}catch(l){Le.errorOnce(l)}}getListenersByType(t){var e;return(e=this.registeredListeners.get(t))!=null?e:[]}destroy(){this.registeredListeners.clear()}},sD=class extends b0{constructor(t){super(),this.animationManager=t,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=Li.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(t){typeof t=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=t,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(t){this.isLoadingData=!0,this.throttledFetch(t)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(t){return IW(e=>this.fetch(e),t,{leading:!1,trailing:!0})}createThrottledDispatch(t){return IW((e,n)=>{this.debug(`DataService - dispatching 'data-load' | ${e}`),this.dispatch("data-load",{type:"data-load",data:n})},t,{leading:!0,trailing:!0})}fetch(t){return ve(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");let e=performance.now(),n=this.requestCounter++;this.debug(`DataService - requesting | ${n}`),this.freshRequests.push(n);let r;try{r=yield this.dataSourceCallback(t),this.debug(`DataService - response | ${performance.now()-e}ms | ${n}`)}catch(c){this.debug(`DataService - request failed | ${n}`),Le.errorOnce(`DataService - request failed | [${c}]`)}this.isLoadingInitialData=!1;let l=this.freshRequests.findIndex(c=>c===n);if(l===-1||this.dispatchOnlyLatest&&l!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${n}`);return}this.freshRequests=this.freshRequests.slice(l+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(r)?this.throttledDispatch(n,r):this.dispatch("data-error")})}};B([no({newValue(t){this.throttledDispatch=this.createThrottledDispatch(t)}})],sD.prototype,"dispatchThrottle",2);B([no({newValue(t){this.throttledFetch=this.createThrottledFetch(t)}})],sD.prototype,"requestThrottle",2);var tU=class{constructor(t){this.maxAnimationTime=t,this.debug=Li.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map($g.map(e=>[e,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}isActive(){return this.controllers.size>0}getActiveControllers(){var t;return(t=this.phases.get($g[this.currentPhase]))!=null?t:[]}checkOverlappingId(t){t!=null&&this.controllers.has(t)&&(this.controllers.get(t).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${t}`),this.skip())}addAnimation(t){var e;if(t.isComplete)return;if($g.indexOf(t.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",t.id),t.stop();return}this.controllers.set(t.id,t),(e=this.phases.get(t.phase))==null||e.push(t)}removeAnimation(t){this.controllers.delete(t.id);let e=this.phases.get(t.phase),n=e?.indexOf(t);n!=null&&n>=0&&e?.splice(n,1)}progress(t){if(!this.isReady)return;let e=t===0?.01:t,n=()=>{let g=$g[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:g,phaseMeta:r1[g]}},{phase:r,phaseControllers:l,phaseMeta:c}=n(),h=()=>$g[this.currentPhase]==null,p=()=>{for({phase:r,phaseControllers:l,phaseMeta:c}=n();!h()&&l.length===0;)this.currentPhase++,{phase:r,phaseControllers:l,phaseMeta:c}=n(),this.debug(`AnimationBatch - phase changing to ${r}`,{unusedTime:e},l)},m=this.controllers.size;this.debug(`AnimationBatch - ${t}ms; phase ${r} with ${l?.length} of ${m}`);do{let g=e,y=c.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0,_=0;for(let C of l)y?C.stop():e=Math.min(C.update(g),e),C.isComplete&&(_++,this.removeAnimation(C));this.animationTimeConsumed+=g-e,this.debug(`AnimationBatch - updated ${l.length} controllers; ${_} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),p()}while(e>0&&!h());this.animationTimeConsumed>this.maxAnimationTime&&(Le.warnOnce("Animation batch exceeded max animation time, skipping.",new Map(this.controllers.entries())),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let t=!0;for(let[,e]of this.controllers)if(e.duration>0&&r1[e.phase].skipIfNoEarlierAnimations!==!0){t=!1;break}if(!t)for(let[,e]of this.controllers)e.autoplay&&e.play(!0)}skip(t=!0){if(this.skipAnimations===!1&&t===!0){for(let e of this.controllers.values())e.stop();this.controllers.clear()}this.skipAnimations=t}play(){for(let t of this.controllers.values())t.play()}pause(){for(let t of this.controllers.values())t.pause()}stop(){for(let t of this.controllers.values())try{t.stop(),this.removeAnimation(t)}catch(e){Le.error("Error during animation stop",e)}this.dispatchStopped()}stopByAnimationId(t){if(t!=null&&this.controllers.has(t)){let e=this.controllers.get(t);e&&(e.stop(),this.removeAnimation(e))}}stopByAnimationGroupId(t){for(let e of this.controllers.values())e.groupId===t&&this.stopByAnimationId(e.id)}dispatchStopped(){this.stoppedCbs.forEach(t=>t()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}},Xh=class{constructor(){this.listeners=new b0}addListener(t,e){return this.listeners.addListener(t,e)}removeListener(t){this.listeners.removeListener(t)}destroy(){this.listeners.destroy()}},OY=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","enter","page-left","wheel"],nU=["pagehide","mousemove","mouseup"],iU=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel"],B_e=`
.ag-chart-wrapper {
    touch-action: none;
}
`,Nk=(t=>(t[t.Default=8]="Default",t[t.ZoomDrag=4]="ZoomDrag",t[t.ContextMenu=2]="ContextMenu",t[t.Animation=1]="Animation",t[t.All=15]="All",t))(Nk||{}),RY=class UL extends Xh{constructor(e){super(),this.debug=Li.create(!0,"interaction"),this.eventHandler=n=>this.processEvent(n),this.mouseDown=!1,this.touchDown=!1,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=8,this.rootElement=sf().body,this.element=e;for(let n of iU)n.startsWith("touch")?e.addEventListener(n,this.eventHandler,{passive:!0}):n==="wheel"?e.addEventListener(n,this.eventHandler,{passive:!1}):e.addEventListener(n,this.eventHandler);for(let n of nU)_a().addEventListener(n,this.eventHandler);Xk(B_e,"interactionManager")}destroy(){super.destroy();for(let e of nU)_a().removeEventListener(e,this.eventHandler);for(let e of iU)this.element.removeEventListener(e,this.eventHandler)}addListener(e,n,r=8){return super.addListener(e,l=>{this.getState()&r&&n(l)})}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}getState(){return this.stateQueue&-this.stateQueue}processEvent(e){let n=this.decideInteractionEventTypes(e);n.length>0&&this.dispatchEvent(e,n).catch(r=>Le.errorOnce(r))}dispatchEvent(e,n){return ve(this,null,function*(){let r=this.calculateCoordinates(e);if(r!=null)for(let l of n)this.listeners.dispatchWrapHandlers(l,(c,h)=>{h.consumed||c(h)},this.buildEvent(he({type:l,event:e},r)))})}recordDown(e){e instanceof MouseEvent&&(Zp(["offsetX","offsetY"],this.clickHistory[0],e),Zp(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),Zp(["offsetX","offsetY"],this.dblclickHistory[0],e)),this.dragStartElement=e.target}recordUp(e){e instanceof MouseEvent&&Zp(["offsetX","offsetY"],this.dblclickHistory[1],e),this.dragStartElement=void 0}decideInteractionEventTypes(e){let n="drag-start";switch(e.type){case"click":case"dblclick":case"contextmenu":case"wheel":return[e.type];case"mousedown":return this.mouseDown=!0,this.recordDown(e),[n];case"touchstart":return this.touchDown=!0,this.recordDown(e),[n];case"touchmove":case"mousemove":return!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(e)?[]:this.mouseDown||this.touchDown?["drag"]:["hover"];case"mouseup":return!this.mouseDown&&!this.isEventOverElement(e)?[]:(this.mouseDown=!1,this.recordUp(e),["drag-end"]);case"touchend":return!this.touchDown&&!this.isEventOverElement(e)?[]:(this.touchDown=!1,this.recordUp(e),["drag-end"]);case"mouseout":case"touchcancel":return["leave"];case"mouseenter":let r=e instanceof MouseEvent&&(e.buttons&1)===1;return this.mouseDown!==r?(this.mouseDown=r,[r?n:"drag-end"]):["enter"];case"pagehide":return["page-left"]}return[]}isEventOverElement(e){var n;return e.target===this.element||((n=e.target)==null?void 0:n.parentElement)===this.element}calculateCoordinates(e){var n;if(e instanceof MouseEvent)return this.getMouseEventCoords(e);if(typeof TouchEvent<"u"&&e instanceof TouchEvent){let r=(n=e.touches[0])!=null?n:e.changedTouches[0],{clientX:l,clientY:c,pageX:h,pageY:p}=r;return He(he({},UL.NULL_COORDS),{clientX:l,clientY:c,pageX:h,pageY:p})}else if(e instanceof PageTransitionEvent)return e.persisted?void 0:UL.NULL_COORDS}getMouseEventCoords(e){let{clientX:n,clientY:r,pageX:l,pageY:c}=e,{offsetX:h,offsetY:p}=e,m=g=>{let y=0,_=0;for(;g;)y+=g.offsetLeft,_+=g.offsetTop,g=g.offsetParent;return{x:y,y:_}};if(this.dragStartElement!=null&&e.target!==this.dragStartElement){let g=m(this.dragStartElement),y=m(e.target);h-=g.x-y.x,p-=g.y-y.y}return{clientX:n,clientY:r,pageX:l,pageY:c,offsetX:h,offsetY:p}}isWheelEvent(e){return e.type==="wheel"}buildEvent(e){let{type:n,event:r,clientX:l,clientY:c}=e,{offsetX:h,offsetY:p,pageX:m,pageY:g}=e;if(!Bn(h)||!Bn(p)){let A=this.element.getBoundingClientRect();h=l-A.left,p=c-A.top}if(!Bn(m)||!Bn(g)){let A=this.rootElement.getBoundingClientRect();m=l-A.left,g=c-A.top}let[y,_]=[NaN,NaN];if(this.isWheelEvent(r)){let A=r.deltaMode===0?.01:1;y=r.deltaX*A,_=r.deltaY*A}let C=[];r.type==="click"?C=this.clickHistory:r.type==="dblclick"&&(C=this.dblclickHistory);let S={type:n,offsetX:h,offsetY:p,pageX:m,pageY:g,deltaX:y,deltaY:_,pointerHistory:C,sourceEvent:r,consumed:!1,consume(){S.consumed=!0}};return this.debug("InteractionManager - builtEvent: ",S),S}};RY.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var PY=RY;function rU(t){return t==null?!0:!isNaN(t)&&t>=0&&t<=2}var FY=class extends Xh{constructor(t,e){super(),this.interactionManager=t,this.chartUpdateMutex=e,this.defaultDuration=1e3,this.batch=new tU(this.defaultDuration*1.5),this.debug=Li.create(!0,"animation"),this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1}animate(t){var e=er(t,[]),n;let r=this.batch;try{r.checkOverlappingId(e.id)}catch(g){this.failsafeOnError(g);return}let l=(n=e.id)!=null?n:Math.random().toString(),c=this.isSkipped()||e.phase==="none";c&&this.debug("AnimationManager - skipping animation");let{delay:h,duration:p}=e;if(!rU(h))throw new Error(`Animation delay of ${h} is unsupported (${l})`);if(!rU(p))throw new Error(`Animation duration of ${p} is unsupported (${l})`);let m=new k$(He(he({},e),{id:l,skip:c,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(m,this.defaultDuration))return this.batch.addAnimation(m),m}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(t){this.failsafeOnError(t)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(t){this.failsafeOnError(t)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(t){try{this.batch.stopByAnimationId(t)}catch(e){this.failsafeOnError(e)}}stopByAnimationGroupId(t){try{this.batch.stopByAnimationGroupId(t)}catch(e){this.failsafeOnError(e)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(t=!0){this.skipAnimations=t}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(t){this.requestId=requestAnimationFrame(t)}forceTimeJump(t,e){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let t,e=n=>ve(this,null,function*(){let r=()=>ve(this,null,function*(){let l=n-(t??n);t=n,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:l}),this.interactionManager.pushState(1);try{this.batch.progress(l)}catch(c){this.failsafeOnError(c)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:l})});this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(r):yield this.chartUpdateMutex.acquire(r),this.batch.isActive()?this.scheduleAnimationFrame(e):this.batch.stop()});this.scheduleAnimationFrame(e)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(t,e=!0){Le.error("Error during animation, skipping animations",t),e&&this.cancelAnimation()}startBatch(t){this.debug(`AnimationManager - startBatch() with skipAnimations=${t}.`),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new tU(this.defaultDuration*1.5),t===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(1),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(t){this.batch.stoppedCbs.add(t)}},NY=class extends Xh{legendItemClick(t,e,n,r){let l={type:"legend-item-click",series:t,itemId:e,enabled:n,legendItemName:r};this.listeners.dispatch("legend-item-click",l)}legendItemDoubleClick(t,e,n,r,l){let c={type:"legend-item-double-click",series:t,itemId:e,enabled:n,legendItemName:l,numVisibleItems:r};this.listeners.dispatch("legend-item-double-click",c)}axisHover(t,e){let n={type:"axis-hover",axisId:t,direction:e};this.listeners.dispatch("axis-hover",n)}},BY=class{constructor(){this.defaultActions=[],this.disabledActions=new Set}copyDefaultActions(){return[...this.defaultActions]}registerDefaultAction(t){t.id&&this.defaultActions.find(({id:e})=>e===t.id)||this.defaultActions.push(t)}enableAction(t){this.disabledActions.delete(t)}disableAction(t){this.disabledActions.add(t)}isDisabled(t){return this.disabledActions.has(t)}},tf=class extends Map{constructor(t,e){super(),this.defaultValue=t,this.defaultState=e}set(t,e){return this.delete(t),typeof e<"u"&&super.set(t,e),this}stateId(){var t;return(t=Array.from(this.keys()).pop())!=null?t:this.defaultState}stateValue(){var t;return(t=Array.from(this.values()).pop())!=null?t:this.defaultValue}},VY=class{constructor(t){this.element=t,this.stateTracker=new tf("default")}updateCursor(t,e){this.stateTracker.set(t,e),this.element.style.cursor=this.stateTracker.stateValue()}getCursor(){return this.element.style.cursor}};function V_e(t,e){let n=t.screenX-e.screenX,r=t.screenY-e.screenY;return n*n+r*r}function sU(t,e){return Math.sqrt(V_e(t,e))}var z_e=1,zY=class extends Xh{constructor(t){super(),this.touchstart=e=>this.onTouchStart(e),this.touchmove=e=>this.onTouchMove(e),this.touchend=e=>this.onTouchEnd(e),this.touchcancel=e=>this.onTouchCancel(e),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.element=t,t.addEventListener("touchstart",this.touchstart,{passive:!0}),t.addEventListener("touchmove",this.touchmove,{passive:!0}),t.addEventListener("touchend",this.touchend),t.addEventListener("touchcancel",this.touchcancel)}destroy(){let{element:t}=this;t.removeEventListener("touchstart",this.touchstart),t.removeEventListener("touchmove",this.touchmove),t.removeEventListener("touchend",this.touchend),t.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(t){let{touches:e}=t,{finger1:n,finger2:r}=this.pinch;if(this.pinch.status!==0&&e.length===2){if(e[0].identifier===n.identifier&&e[1].identifier===r.identifier)return[e[0],e[1]];if(e[0].identifier===r.identifier&&e[1].identifier===n.identifier)return[e[1],e[0]]}}copyTouchData(t){let e=["identifier","screenX","screenY"];Zp(e,this.pinch.finger1,t.touches[0]),Zp(e,this.pinch.finger2,t.touches[1]),this.pinch.distance=sU(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(t,e){let{finger1:n,finger2:r,origin:l}=this.pinch,c={type:t,finger1:n,finger2:r,deltaDistance:e,origin:l};this.listeners.dispatch(t,c)}onTouchStart(t){this.stopPinchTracking();let{pinch:e}=this;t.touches.length===2&&(e.status=1,this.copyTouchData(t),e.origin.x=(t.touches[0].clientX+t.touches[1].clientX)/2,e.origin.y=(t.touches[0].clientY+t.touches[1].clientY)/2)}onTouchMove(t){let e=this.findPinchTouches(t);if(e!==void 0){let[n,r]=e,{pinch:l}=this,c=sU(n,r),h=c-l.distance;l.status===1?Math.abs(h)>z_e&&(l.status=2,this.copyTouchData(t),this.dispatchPinchEvent("pinch-start",0)):l.status===2?(l.distance=c,this.copyTouchData(t),this.dispatchPinchEvent("pinch-move",h)):Le.error(`unexpected pinch.status: ${l.status}`)}}onTouchEnd(t){this.stopPinchTracking()}onTouchCancel(t){this.stopPinchTracking()}stopPinchTracking(){let{pinch:t}=this;t.status===2&&this.dispatchPinchEvent("pinch-end",0),this.pinch.status=0}},$L=class extends Xh{constructor(){super(...arguments),this.highlightStates=new tf,this.pickedStates=new tf}updateHighlight(t,e){let{activeHighlight:n}=this;this.highlightStates.set(t,e),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,n)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:n})}getActiveHighlight(){return this.activeHighlight}updatePicked(t,e){this.pickedStates.set(t,e),this.activePicked=this.pickedStates.stateValue()}getActivePicked(){return this.activePicked}isEqual(t,e){return t===e||t?.series===e?.series&&t?.itemId===e?.itemId&&t?.datum===e?.datum}};function H_e(t,e,n){return t.getter.getCachedBBox().containsPoint(e,n)}function oU(t){let{width:e,height:n}=t.getter.getCachedBBox();return e*n}var j_e=class{constructor(){this.elems=[]}add(t,e){e.forEach(n=>this.elems.push({value:t,getter:n}))}find(t,e){return this.elems.filter(n=>H_e(n,t,e)).sort((n,r)=>oU(n)-oU(r)).map(n=>n.value)}*[Symbol.iterator](){for(let{value:t}of Object.values(this.elems))yield t}clear(){this.elems.length=0}},G_e=class extends b0{},W_e=class{constructor(t){this.interactionManager=t,this.isDragging=!1,this.leftCanvas=!1,this.eventHandler=e=>this.processEvent(e),this.regions=new j_e,this.destroyFns=[],this.destroyFns.push(...OY.map(e=>t.addListener(e,this.eventHandler,15)))}destroy(){this.destroyFns.forEach(t=>t()),this.currentRegion=void 0;for(let t of this.regions)t.listeners.destroy();this.regions.clear()}pushRegion(t,e){let n={name:t,listeners:new G_e};return this.regions.add(n,e),n}addRegion(t,e,...n){return this.makeObserver(this.pushRegion(t,[e,...n]))}getRegion(t){return this.makeObserver(this.findByName(t))}findByName(t){for(let e of this.regions)if(e.name===t)return e;Le.errorOnce(`unable '${t}' region found`)}makeObserver(t){let{interactionManager:e}=this;class n{addListener(l,c,h=8){var p;return(p=t?.listeners.addListener(l,m=>{m.consumed||e.getState()&h&&c(m)}))!=null?p:()=>{}}}return new n}checkPointerHistory(t,e){for(let n of e.pointerHistory){let r=this.pickRegion(n.offsetX,n.offsetY);if(t.name!==r?.name)return!1}return!0}dispatch(t,e){t?.listeners.dispatch(e.type,e)}handleDragging(t){let{currentRegion:e}=this;switch(t.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(e,t),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(e,t),this.leftCanvas&&this.dispatch(e,He(he({},t),{type:"leave"})),!0;break}return!1}processEvent(t){if(this.handleDragging(t))return;let{currentRegion:e}=this,n=this.pickRegion(t.offsetX,t.offsetY);e!==void 0&&n?.name!==e.name&&this.dispatch(e,He(he({},t),{type:"leave"})),n!==void 0&&n.name!==e?.name&&this.dispatch(n,He(he({},t),{type:"enter"})),n!==void 0&&this.checkPointerHistory(n,t)&&this.dispatch(n,t),this.currentRegion=n}pickRegion(t,e){let n=this.regions.find(t,e);return n.length>0?n[0]:void 0}},HI=class Xp extends Xh{constructor(e){super(),this.chart=e}subscribe(e=Xp.DEFAULT_GROUP){let n=this.get(e);return n||(n=new Set,Xp.chartsGroups.set(e,n)),n.add(this.chart),this}unsubscribe(e=Xp.DEFAULT_GROUP){var n;return(n=this.get(e))==null||n.delete(this.chart),this}getChart(){return this.chart}getGroup(e=Xp.DEFAULT_GROUP){let n=this.get(e);return n?Array.from(n):[]}getGroupSiblings(e=Xp.DEFAULT_GROUP){return this.getGroup(e).filter(n=>n!==this.chart)}get(e){return Xp.chartsGroups.get(e)}};HI.chartsGroups=new Map;HI.DEFAULT_GROUP=Symbol("sync-group-default");var U_e=HI,HY=class extends Xh{constructor(){super(...arguments),this.visible=new tf(!1)}toggleVisibility(t,e){let n=this.visible.stateValue();this.visible.set(t,e);let r=this.visible.stateValue();r!==n&&this.listeners.dispatch("visibility",{type:"visibility",visible:r??!1})}addButton(t,e){this.listeners.dispatch("button-added",{type:"button-added",id:t,options:e})}removeButton(t){this.listeners.dispatch("button-removed",{type:"button-removed",id:t})}pressButton(t){this.listeners.dispatch("button-pressed",{type:"button-pressed",id:t})}},$_e=`
.${lr} {
    transition: transform 0.1s ease;
    max-width: 100%;
    position: fixed;
    left: 0px;
    top: 0px;
    z-index: 99999;
    font: 12px Verdana, sans-serif;
    color: rgb(70, 70, 70);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
}

.${lr}-wrap-always {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: none;
}

.${lr}-wrap-hyphenate {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
}

.${lr}-wrap-on-space {
    overflow-wrap: normal;
    word-break: normal;
}

.${lr}-wrap-never {
    white-space: pre;
    text-overflow: ellipsis;
}

.${lr}-no-interaction {
    pointer-events: none;
    user-select: none;
}

.${lr}-no-animation {
    transition: none !important;
}

.${lr}-hidden {
    visibility: hidden;
}

.${lr}-title {
    overflow: hidden;
    position: relative;
    padding: 8px 14px;
    border-top-left-radius: 2px;
    border-top-right-radius: 2px;
    color: white;
    background-color: #888888;
    z-index: 1;
    text-overflow: inherit;
}

.${lr}-title:only-child {
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
}

.${lr}-content {
    overflow: hidden;
    padding: 6px 14px;
    line-height: 1.7em;
    background: white;
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
    border: 1px solid rgba(0, 0, 0, 0.15);
    overflow: hidden;
    text-overflow: inherit;
}

.${lr}-arrow::before {
    content: "";

    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid #d9d9d9;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.${lr}-arrow::after {
    content: "";

    position: absolute;
    top: calc(100% - 1px);
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid white;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.ag-chart-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`,YL=class{constructor(t,e){if(this.canvasElement=t,this.tooltip=e,this.stateTracker=new tf,this.appliedState=null,typeof IntersectionObserver<"u"){let n=new IntersectionObserver(r=>{for(let l of r)l.target===this.canvasElement&&l.intersectionRatio===0&&this.tooltip.toggle(!1)},{root:this.tooltip.root});n.observe(this.canvasElement),this.observer=n}Xk($_e,"tooltip")}updateTooltip(t,e,n){var r;this.tooltip.enabled&&(n??(n=(r=this.stateTracker.get(t))==null?void 0:r.content),this.stateTracker.set(t,{content:n,meta:e}),this.applyStates())}removeTooltip(t){this.tooltip.enabled&&(this.stateTracker.delete(t),this.applyStates())}getTooltipMeta(t){var e;return(e=this.stateTracker.get(t))==null?void 0:e.meta}destroy(){var t;(t=this.observer)==null||t.unobserve(this.canvasElement)}applyStates(){var t;let e=this.stateTracker.stateId(),n=e?this.stateTracker.get(e):null;if(n?.meta==null||n?.content==null){this.appliedState=null,this.tooltip.toggle(!1);return}let r=this.canvasElement.getBoundingClientRect();if(((t=this.appliedState)==null?void 0:t.content)===n?.content){let l=this.tooltip.isVisible();this.tooltip.show(r,n?.meta,null,l)}else this.tooltip.show(r,n?.meta,n?.content);this.appliedState=n}static makeTooltipMeta(t,e){var n,r,l,c,h,p,m;let{offsetX:g,offsetY:y}=t,{tooltip:_}=e.series.properties,C={offsetX:g,offsetY:y,enableInteraction:(r=(n=_.interaction)==null?void 0:n.enabled)!=null?r:!1,lastPointerEvent:{offsetX:g,offsetY:y},showArrow:_.showArrow,position:{type:_.position.type,xOffset:_.position.xOffset,yOffset:_.position.yOffset}},S=(m=(c=(l=e.yBar)==null?void 0:l.upperPoint)!=null?c:e.midPoint)!=null?m:(p=(h=e.series).datumMidPoint)==null?void 0:p.call(h,e);if(_.position.type==="node"&&S){let{x:A,y:E}=S,L=e.series.contentGroup.inverseTransformPoint(A,E);return He(he({},C),{offsetX:Math.round(L.x),offsetY:Math.round(L.y)})}return C}},jY=class extends Xh{constructor(){super(...arguments),this.axisZoomManagers=new Map,this.state=new tf(void 0,"initial"),this.rejectCallbacks=new Map}updateAxes(t){var e;let n=new Map(t.map(r=>[r.id,this.axisZoomManagers.get(r.id)]));this.axisZoomManagers.clear();for(let r of t)this.axisZoomManagers.set(r.id,(e=n.get(r.id))!=null?e:new Y_e(r));this.state.size>0&&t.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(t,e,n=!0,r){var l;if(r&&this.rejectCallbacks.set(t,r),this.axisZoomManagers.size===0){let c=this.state.stateId();c==="initial"||c===t||n?(this.state.set(t,e),c!==t&&((l=this.rejectCallbacks.get(c))==null||l(t))):r?.(c);return}this.state.set(t,e),this.axisZoomManagers.forEach(c=>{c.updateZoom(t,e?.[c.getDirection()])}),this.applyChanges()}updateAxisZoom(t,e,n){var r;(r=this.axisZoomManagers.get(e))==null||r.updateZoom(t,n),this.applyChanges()}fireZoomPanStartEvent(){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start"})}getZoom(){let t,e;if(this.axisZoomManagers.forEach(n=>{n.getDirection()==="x"?t??(t=n.getZoom()):n.getDirection()==="y"&&(e??(e=n.getZoom()))}),t||e)return{x:t,y:e}}getAxisZoom(t){var e,n;return(n=(e=this.axisZoomManagers.get(t))==null?void 0:e.getZoom())!=null?n:{min:0,max:1}}getAxisZooms(){let t={};for(let[e,n]of this.axisZoomManagers.entries())t[e]={direction:n.getDirection(),zoom:n.getZoom()};return t}applyChanges(){if(!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).some(Boolean))return;let e={};for(let[n,r]of this.axisZoomManagers.entries())e[n]=r.getZoom();this.listeners.dispatch("zoom-change",He(he({type:"zoom-change"},this.getZoom()),{axes:e}))}},Y_e=class{constructor(t){this.axis=t;let[e=0,n=1]=t.visibleRange;this.state=new tf({min:e,max:n}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(t,e){this.state.set(t,e)}getZoom(){return hs(this.state.stateValue())}applyChanges(){let t=this.currentZoom;return this.currentZoom=this.state.stateValue(),t.min!==this.currentZoom.min||t.max!==this.currentZoom.max}},GY=class extends b0{constructor(){super(...arguments),this.layoutComplete="layout-complete"}addListener(t,e){if(this.isLayoutStage(t)||this.isLayoutComplete(t))return super.addListener(t,e);throw new Error(`AG Charts - unsupported listener type: ${t}`)}dispatchPerformLayout(t,e){return this.isLayoutStage(t)?this.getListenersByType(t).reduce((n,r)=>{try{return r.handler(n)}catch(l){return Le.errorOnce(l),n}},e):e}dispatchLayoutComplete(t){this.dispatch(this.layoutComplete,t)}isLayoutStage(t){return t!==this.layoutComplete}isLayoutComplete(t){return t===this.layoutComplete}},X_e=["top","right","bottom","left"],WY=["category","grouped-category","number","log","time"];function q_e(t){return WY.includes(t.type)}function K_e(t){return WY.includes(t.type)}function Z_e(t){return typeof t=="string"&&X_e.includes(t)}var Q_e=class{constructor(){this.result=[],this.valid=[],this.invalid=[]}push(t,e){let{result:n,valid:r,invalid:l}=this;K_e(e)&&(Z_e(e.position)?r.push(t):l.push(t)),n.push(t)}guessInvalidPositions(){let t=this.valid.filter(n=>q_e(n)).map(n=>n.position).filter(n=>n!==void 0),e=["top","right","bottom","left"];for(let n of this.invalid){let r=e.pop();for(;t.includes(r)&&r!==void 0;)r=e.pop();if(r===void 0)break;n.position=r}return this.result}},J_e=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo","stacked","grouped","stackGroup"];function ewe(t,e,n){var r,l,c,h;let p=(A,E)=>{let L=[A];for(let P of J_e)P in E&&E[P]!=null&&L.push(`${P}=${E[P]}`);return L.join(";")},m=new Map,g=0;for(let A of t){let E=p(A.type,A.properties);m.has(E)||m.set(E,[]),(r=m.get(E))==null||r.push([A,g++])}let y=new Map;for(let A of e){let E=p(A.type,A);y.has(E)||y.set(E,[]),(l=y.get(E))==null||l.push(A)}if(![...m.keys()].some(A=>y.has(A)))return{status:"no-overlap",oldKeys:m.keys(),newKeys:y.keys()};let C=[],S=-1;for(let[A,E]of y.entries())for(let L of E){S++;let P=m.get(A);if(P==null||P.length<1){C.push({opts:L,idx:S,status:"add"}),m.delete(A);continue}let[R,V]=P.shift(),z=(c=n?.[V])!=null?c:{},H=ba(z,L??{}),{groupIndex:U,stackIndex:X}=(h=H?.seriesGrouping)!=null?h:{};U!=null||X!=null?C.push({opts:L,series:R,diff:H,idx:V,status:"series-grouping"}):H?C.push({opts:L,series:R,diff:H,idx:V,status:"update"}):C.push({opts:L,series:R,idx:V,status:"no-op"}),P.length===0&&m.delete(A)}for(let A of m.values())for(let[E,L]of A)C.push({series:E,idx:L,status:"remove"});return{status:"overlap",changes:C}}var twe=class extends OI{applyOptions(t){for(let e of this.moduleMap.values())e.module.optionsKey in t&&sc(e.moduleInstance)&&e.moduleInstance.set(t[e.module.optionsKey])}*legends(){for(let{module:t,moduleInstance:e}of this.moduleMap.values())t.type==="legend"&&(yield{legendType:t.identifier,legend:e})}},wu="ag-chart-overlay",XL="ag-chart-dark-overlay",i0=class extends dn{constructor(t,e){super(),this.className=t,this.defaultText=e,this.darkTheme=!1}getText(){var t;return(t=this.text)!=null?t:this.defaultText}getElement(t,e){var n;(n=this.element)!=null||(this.element=Is("div")),this.element.classList.add(this.className,wu),this.element.classList.toggle(XL,this.darkTheme);let r=this.element;if(r.style.position="absolute",r.style.left=`${e.x}px`,r.style.top=`${e.y}px`,r.style.width=`${e.width}px`,r.style.height=`${e.height}px`,this.renderer){let l=this.renderer();l instanceof HTMLElement?r.replaceChildren(l):r.innerHTML=l}else{let l=Is("div");Object.assign(l.style,{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"}),l.innerText=this.getText(),r.replaceChildren(l),t?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(c){r.style.opacity=String(c)},onStop(){r.style.opacity="1"}})}return this.element}removeElement(t){if(this.element){if(t){let{element:e}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){e.style.opacity=String(n)},onStop(){e.remove()}})}else this.element.remove();this.element=void 0}}};B([G(Re,{optional:!0})],i0.prototype,"text",2);B([G(jo,{optional:!0})],i0.prototype,"renderer",2);B([G(Ct)],i0.prototype,"darkTheme",2);var oD=class extends dn{constructor(){super(...arguments),this.loading=new i0("ag-chart-loading-overlay","Loading data..."),this.noData=new i0("ag-chart-no-data-overlay","No data to display"),this.noVisibleSeries=new i0("ag-chart-no-visible-series","No visible series")}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};B([G(qe)],oD.prototype,"loading",2);B([G(qe)],oD.prototype,"noData",2);B([G(qe)],oD.prototype,"noVisibleSeries",2);var nwe=`
.${wu} {
    color: #181d1f;
}

.${wu}.${XL} {
    color: #ffffff;
}

.${wu}--loading {
    color: rgb(140, 140, 140); /* DEFAULT_MUTED_LABEL_COLOUR */
}

.${wu}__loading-background {
    background: white; /* DEFAULT_BACKGROUND_FILL */
}

.${wu}.${XL} .${wu}__loading-background {
    background: #192232; /* DEFAULT_DARK_BACKGROUND_FILL */
}
`;function iwe(t,e){let{animationDuration:n}=r1.add,r=n*e,l=Is("div");l.className=`${wu}--loading`,l.style.display="flex",l.style.alignItems="center",l.style.justifyContent="center",l.style.flexDirection="column",l.style.height="100%",l.style.boxSizing="border-box",l.style.font="13px Verdana, sans-serif",l.style.userSelect="none",l.style.animation=`ag-charts-loading ${r}ms linear 50ms both`;let c=Is("span");c.style.width="45px",c.style.height="40px",c.style.backgroundImage=["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),c.style.backgroundSize="10px 400%",c.style.backgroundRepeat="no-repeat",c.style.animation="ag-charts-loading-matrix 1s infinite linear";let h=Is("p");h.style.marginTop="1em",h.innerText=t;let p=Is("div");p.className=`${wu}__loading-background`,p.style.position="absolute",p.style.inset="0",p.style.opacity="0.5",p.style.zIndex="-1";let m=Is("style");return m.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),l.replaceChildren(m,c,h,p),Xk(nwe,"chartOverlays"),l}function jI(t,e=[0,0]){for(let n of t)typeof n=="number"&&(n<0&&(e[0]+=n),n>0&&(e[1]+=n));return e}function rwe(t,e,n){return{id:e,scopes:[t.id],matchGroupIds:[n],type:"aggregate",aggregateFunction:l=>jI(l)}}function UY(t,e,n){return{id:e,scopes:[t.id],type:"aggregate",matchGroupIds:n?[n]:void 0,aggregateFunction:r=>jI(r),groupAggregateFunction:(r,l=[0,0])=>{var c,h;return l[0]+=(c=r?.[0])!=null?c:0,l[1]+=(h=r?.[1])!=null?h:0,l}}}function $Y(t,e,n){return{id:e,scopes:[t.id],matchGroupIds:[n],type:"aggregate",aggregateFunction:l=>Yp.extendDomain(l)}}function qL(t,e){return{id:e,scopes:[t.id],type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(n,r=[0,0])=>{var l,c;return r[0]+=(l=n?.[0])!=null?l:0,r[1]+=(c=n?.[1])!=null?c:0,r}}}function YY(t,e,n){return{id:e,scopes:[t.id],matchGroupIds:n?[n]:void 0,type:"aggregate",aggregateFunction:l=>jI(l),groupAggregateFunction:(l,c=[0,0,-1])=>{var h,p;return c[0]+=(h=l?.[0])!=null?h:0,c[1]+=(p=l?.[1])!=null?p:0,c[2]++,c},finalFunction:(l=[0,0,0])=>{let c=l[0]+l[1];return c>=0?[0,c/l[2]]:[c/l[2],0]}}}function KL(t,e,n,r){let l={id:e,scopes:[t.id],matchGroupIds:r?[r]:void 0,type:"aggregate",aggregateFunction:(c,h=[])=>{let p=h[1]-h[0];return n.aggregateFunction(c).map(m=>m/p)}};return n.groupAggregateFunction&&(l.groupAggregateFunction=n.groupAggregateFunction),l}function XY(t){return()=>{let e=0;return n=>Bn(n)?(e+=t?Math.max(0,n):n,e):n}}function qY(){return()=>{let t=0;return e=>{if(!Bn(e))return e;let n=t;return t+=e,n}}}var ZL={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let t=NaN;return(e=1/0,n)=>{let r=n.keys[0],l=Math.abs(r-t);return t=r,!isNaN(l)&&l>0&&l<e?l:e}}},swe={type:"processor",property:"aggValuesExtent",calculate:t=>{var e,n,r,l;let c=[...(n=(e=t.domain.aggValues)==null?void 0:e[0])!=null?n:[0,0]];for(let[h,p]of(l=(r=t.domain.aggValues)==null?void 0:r.slice(1))!=null?l:[])h<c[0]&&(c[0]=h),p>c[1]&&(c[1]=p);return c}},KY={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:t}})=>t?.slice().sort((e,n)=>{for(let r=0;r<e.length;r++){let l=e[r]-n[r];if(l!==0)return l}return 0})};function owe({normaliseTo:t,mode:e}){let n=(r,l)=>{let c=r*t/l;return c>=0?Math.min(t,c):Math.max(-t,c)};return()=>()=>(r,l)=>{let c=[0,0];for(let p of l){let m=r[p],g=m<0?0:1;e==="sum"?c[g]+=m:g===0?c[g]=Math.min(c[g],m):c[g]=Math.max(c[g],m)}let h=Math.max(Math.abs(c[0]),c[1]);for(let p of l)r[p]=n(r[p],h)}}function Bk(t,e,n,r="sum"){return{scopes:[t.id],type:"group-value-processor",matchGroupIds:e,adjust:Pk({normaliseTo:n,mode:r},owe)}}function awe({normaliseTo:t,zeroDomain:e,rangeMin:n,rangeMax:r}){let l=t[1]-t[0],c=(h,p,m)=>{let g=t[0]+(h-p)/m*l;return m===0?e:g>=t[1]?t[1]:g<t[0]?t[0]:g};return()=>(h,p)=>{let[m,g]=h.domain.values[p];n!=null&&(m=n),r!=null&&(g=r);let y=g-m;h.domain.values[p]=[t[0],t[1]];for(let _ of h.data){let C=_.values;h.type==="ungrouped"&&(C=[C]);for(let S of C)S[p]=c(S[p],m,y)}}}function d1(t,e,n,r,l,c){return{scopes:[t.id],type:"property-value-processor",property:e,adjust:Pk({normaliseTo:n,rangeMin:l,rangeMax:c,zeroDomain:r},awe)}}function _0(t,e){return{type:"processor",scopes:[t.id],property:"animationValidation",calculate(n){var r;let{keys:l,values:c}=n.defs,{input:h,data:p}=n,m=!0,g=!0,y=[];for(let C=0;C<c.length;C++)(r=c[C].scopes)!=null&&r.includes(t.id)&&e?.includes(c[C].id)&&y.push([C,c[C]]);let _=(C,S,A)=>{var E;if(S.valueType==="category"){let P=n.domain[A][C];m&&(m=P.length===h.count);return}let L=(E=p[0])==null?void 0:E[A][C];for(let P=1;(m||g)&&P<p.length;P++){let R=p[P][A][C];g&&(g=L<=R),m&&(m=L!==R),L=R}};for(let C=0;(m||g)&&C<l.length;C++)_(C,l[C],"keys");for(let C=0;(m||g)&&C<y.length;C++){let[S,A]=y[C];_(S,A,"values")}return{uniqueKeys:m,orderedKeys:g}}}}function lwe({mode:t,separateNegative:e}){return()=>()=>(n,r)=>{let l=[0,0];for(let c of r){let h=n[c],p=k1(h)&&e?0:1;Bn(h)&&(t==="normal"&&(l[p]+=h),n[c]=l[p],t==="trailing"&&(l[p]+=h))}}}function cwe({mode:t,sum:e}){return()=>{let n=[],r=!0;return()=>(l,c)=>{let h=0;for(let p of c){let m=l[p],g=r&&e==="current"?0:n[p];n[p]=m;let y=e==="current"?m:g;if(!Bn(m)||!Bn(g)){l[p]=h;continue}t==="normal"&&(h+=y),l[p]=h,t==="trailing"&&(h+=y)}r=!1}}}function ZY(t,e,n,r,l=!1){let c;if(n.startsWith("window")){let h=n.endsWith("-trailing")?"trailing":"normal";c=Pk({mode:h,sum:r},cwe)}else c=Pk({mode:n,separateNegative:l},lwe);return{scopes:[t.id],type:"group-value-processor",matchGroupIds:[e],adjust:c}}function cf(t,e=!0){return{type:"processor",property:"diff",calculate:n=>{let r=new Map,l=new Map,c=new Map,h=new Map,p=Math.max(t.data.length,n.data.length);for(let g=0;g<p;g++){let y=t.data[g],_=n.data[g],C=y?Hh(y.keys):"",S=_?Hh(_.keys):"";if(_&&y&&C===S){Xx(y.values,_.values)||c.set(S,_);continue}h.has(S)?((e||!Xx(h.get(S).values,_.values))&&(c.set(S,_),r.set(S,_)),h.delete(S)):_&&l.set(S,_),l.has(C)?((e||!Xx(l.get(C).values,y.values))&&(c.set(C,y),r.set(C,y)),l.delete(C)):y&&(c.delete(C),h.set(C,y))}return{changed:l.size>0||c.size>0||h.size>0,added:l,updated:c,removed:h,moved:r}}}}function Hh(t){return ur(t)?t.map(e=>t0(e)).join("___"):t0(t)}var QY=(t=>(t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",t[t.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",t[t.NEAREST_NODE=3]="NEAREST_NODE",t))(QY||{});function GI(t){return u1(t,!0)!=null}function JY(t){return u1(t,!1)!=null}function Kr(t,e,n,r={}){return he({scopes:[t.id],property:e,type:"key",valueType:n?"range":"category",validation:n?GI:JY},r)}function Kn(t,e,n,r={}){return he({scopes:[t.id],property:e,type:"value",valueType:n?"range":"category",validation:n?GI:JY},r)}function WI(t,e,n={}){let r=n,{min:l=-1/0,max:c=1/0}=r,h=er(r,["min","max"]);return he({scopes:[t.id],type:"value",property:e,valueType:"range",validation:GI,processor:()=>p=>Bn(p)?kn(l,p,c):p},h)}function uwe(t,e,n,r={}){return He(he({},Kn(t,e,n,r)),{processor:eX()})}function eX(){return()=>{let t=0;return e=>{let n=t;return t=e,n}}}function UI(t,e,n,r={}){let l=r,{onlyPositive:c}=l,h=er(l,["onlyPositive"]);return He(he({},Kn(t,e,n,h)),{processor:XY(c)})}function hwe(t,e,n,r={}){return He(he({},Kn(t,e,n,r)),{processor:qY()})}function Rh(t,e,n,r,l="current",c){return[Kn(t,e,n,c),ZY(t,c.groupId,r,l,c.separateNegative),...c.rangeId!=null?[$Y(t,c.rangeId,c.groupId)]:[]]}var O1=class{constructor(t,e,{datum:n},r){this.type=t,this.event=e,this.datum=n,this.seriesId=r.id}},$I=class{constructor(t,e,n){this.series=t,this.seriesGrouping=e,this.oldGrouping=n,this.type="groupingChanged"}},w0=class extends DY{constructor(t){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=O1,this.internalId=lc(this),this.rootGroup=new et({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new OI,this._declarationOrder=-1,this.seriesListeners=new b0;let{moduleCtx:e,useLabelLayer:n=!1,pickModes:r=[1],directionKeys:l={},directionNames:c={},contentGroupVirtual:h=!0,canHaveAxes:p=!1}=t;this.ctx=e,this.directionKeys=l,this.directionNames=c,this.canHaveAxes=p,this.contentGroup=this.rootGroup.appendChild(new et({name:`${this.internalId}-content`,layer:!h,isVirtual:h,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new et({name:`${this.internalId}-highlight`,layer:!h,isVirtual:h,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new et({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new et({name:"highlightLabel",zIndex:10})),this.pickModes=r,this.labelGroup=this.rootGroup.appendChild(new et({name:`${this.internalId}-series-labels`,layer:n,zIndex:7})),this.annotationGroup=new et({name:`${this.id}-annotation`,layer:!h,isVirtual:h,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){var t,e;return(e=(t=this.properties)==null?void 0:t.id)!=null?e:this.internalId}get type(){var t;return(t=this.constructor.type)!=null?t:""}get data(){var t;return(t=this._data)!=null?t:this._chartData}set visible(t){this.properties.visible=t,this.visibleChanged()}get visible(){return this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){var t,e;return(e=(t=this.properties.tooltip)==null?void 0:t.enabled)!=null?e:!1}onDataChange(){this.nodeDataRefresh=!0}setOptionsData(t){this._data=t,this.onDataChange()}setChartData(t){this._chartData=t,this.data===t&&this.onDataChange()}onSeriesGroupingChange(t,e){let{internalId:n,type:r,visible:l}=this;t&&this.ctx.seriesStateManager.deregisterSeries({id:n,type:r}),e&&this.ctx.seriesStateManager.registerSeries({id:n,type:r,visible:l,seriesGrouping:e}),this.fireEvent(new $I(this,e,t))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(t,e=0){let n=0;switch(t){case"data":case"paths":break;case"labels":n+=2e4;break;case"marker":n+=1e4;break;case"highlight":e+=15e3;break;case"annotation":n+=15e3;break}return[()=>this._declarationOrder+n,e]}addListener(t,e){return this.seriesListeners.addListener(t,e)}dispatch(t,e){this.seriesListeners.dispatch(t,e)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(t=>t()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(t,e){let n=this.resolveKeyDirection(t),r=e?.[n],l=[];if(!r)return l;let c=(...h)=>{for(let p of h)Array.isArray(p)?c(...p):typeof p=="object"?c(...Object.values(p)):l.push(p)};return c(...r.map(h=>this.properties[h])),l}getKeys(t){return this.getDirectionValues(t,this.directionKeys)}getKeyProperties(t){var e;return(e=this.directionKeys[this.resolveKeyDirection(t)])!=null?e:[]}getNames(t){return this.getDirectionValues(t,this.directionNames)}resolveKeyDirection(t){return t}getDomain(t){let e=this.getSeriesDomain(t),n=this.moduleMap.mapModules(r=>r.getDomain(t));return e.concat(n.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0}visibleChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){let{dimOpacity:e=1,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||e===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return e}}getStrokeWidth(t){let{strokeWidth:e,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||e===void 0)return t;switch(this.isItemIdHighlighted()){case 1:return e;case 0:case 2:return t}}isItemIdHighlighted(){var t,e;let n=(e=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight())==null?void 0:e.series;return n==null?0:n!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,n)=>he(he({},n),e),{})}pickNode(t,e){let{pickModes:n,visible:r,rootGroup:l}=this;if(!(!r||!l.visible))for(let c of n){if(e&&!e.includes(c))continue;let h;switch(c){case 0:h=this.pickNodeExactShape(t);break;case 1:case 2:h=this.pickNodeMainAxisFirst(t,c===2);break;case 3:h=this.pickNodeClosestDatum(t);break}if(h)return{pickMode:c,match:h.datum,distance:h.distance}}}pickNodeExactShape(t){let e=this.contentGroup.pickNode(t.x,t.y);return e&&{datum:e.datum,distance:0}}pickNodeClosestDatum(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeMainAxisFirst(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeClick",t,e,this))}fireNodeDoubleClickEvent(t,e){this.fireEvent(new this.NodeEvent("nodeDoubleClick",t,e,this))}createNodeContextMenuActionEvent(t,e){return new this.NodeEvent("nodeContextMenuAction",t,e,this)}toggleSeriesItem(t,e){this.visible=e,this.nodeDataRefresh=!0,this.dispatch("visibility-changed",{itemId:t,enabled:e})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return He(he({},this.ctx),{series:this})}getLabelText(t,e,n=String){var r;return t.formatter&&(r=this.ctx.callbackCache.call(t.formatter,he({seriesId:this.id},e)))!=null?r:n(e.value)}getMarkerStyle(t,e,n=t.getStyle()){var r,l;let c={size:(l=(r=e.datum.point)==null?void 0:r.size)!=null?l:0},h=nn(c,n);if(t.formatter){let p=this.ctx.callbackCache.call(t.formatter,He(he(he({seriesId:this.id},h),e),{datum:e.datum.datum}));return nn(p,h)}return h}updateMarkerStyle(t,e,n,r=e.getStyle(),{applyTranslation:l=!0}={}){let{point:c}=n.datum,h=this.getMarkerStyle(e,n,r),p=this.visible&&h.size>0&&c&&!isNaN(c.x)&&!isNaN(c.y);l?t.setProperties(He(he({visible:p},h),{translationX:c?.x,translationY:c?.y})):t.setProperties(he({visible:p},h)),typeof e.shape=="function"&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())}getMinRects(t,e){}get nodeDataDependencies(){var t;return(t=this._nodeDataDependencies)!=null?t:{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(t){let{width:e,height:n}=t??{width:NaN,height:NaN},r=t?{seriesRectWidth:e,seriesRectHeight:n}:void 0,l=ba(this.nodeDataDependencies,r)!=null;return l&&(this._nodeDataDependencies=r,this.markNodeDataDirty()),l}};w0.highlightedZIndex=1e12;B([no({changeValue:function(t,e){this.onSeriesGroupingChange(e,t)}})],w0.prototype,"seriesGrouping",2);var aU=30,dwe=class{constructor(t){this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal",this.rootGroup=t}setSeriesCount(t){this.expectedSeriesCount=t}requestGroup(t){var e,n,r,l;let{internalId:c,type:h,rootGroup:p,highlightGroup:m,annotationGroup:g,seriesGrouping:y}=t,{groupIndex:_=c}=y??{};if(this.series[c]!=null)throw new Error(`AG Charts - series already has an allocated layer: ${this.series[c]}`);Object.keys(this.series).length===0&&(this.mode=this.expectedSeriesCount>=aU?"aggressive-grouping":"normal"),(n=(e=this.groups)[h])!=null||(e[h]={});let C=this.lookupIdx(_),S=this.groups[h][C];return S||(S=(l=(r=this.groups[h])[C])!=null?l:r[C]={seriesIds:[],group:this.rootGroup.appendChild(new et({name:`${h}-content`,layer:!0,zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("data")})),highlight:this.rootGroup.appendChild(new et({name:`${h}-highlight`,layer:!0,zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("highlight")})),annotation:this.rootGroup.appendChild(new et({name:`${h}-annotation`,layer:!0,zIndex:4,zIndexSubOrder:t.getGroupZIndexSubOrder("annotation")}))}),this.series[c]={layerState:S,seriesConfig:t},S.seriesIds.push(c),S.group.appendChild(p),S.highlight.appendChild(m),S.annotation.appendChild(g),S.group}changeGroup(t){var e,n;let{internalId:r,seriesGrouping:l,type:c,rootGroup:h,highlightGroup:p,annotationGroup:m,oldGrouping:g}=t,{groupIndex:y=r}=l??{};(n=(e=this.groups[c])==null?void 0:e[y])!=null&&n.seriesIds.includes(r)||(this.series[r]!=null&&this.releaseGroup({internalId:r,seriesGrouping:g,type:c,rootGroup:h,highlightGroup:p,annotationGroup:m}),this.requestGroup(t))}releaseGroup(t){var e,n,r,l,c;let{internalId:h,seriesGrouping:p,rootGroup:m,highlightGroup:g,annotationGroup:y,type:_}=t,{groupIndex:C=h}=p??{};if(this.series[h]==null)throw new Error(`AG Charts - series doesn't have an allocated layer: ${h}`);let S=this.lookupIdx(C),A=(r=(e=this.groups[_])==null?void 0:e[S])!=null?r:(n=this.series[h])==null?void 0:n.layerState;if(A&&(A.seriesIds=A.seriesIds.filter(E=>E!==h),A.group.removeChild(m),A.highlight.removeChild(g),A.annotation.removeChild(y)),A?.seriesIds.length===0)this.rootGroup.removeChild(A.group),this.rootGroup.removeChild(A.highlight),this.rootGroup.removeChild(A.annotation),delete this.groups[_][S],delete this.groups[_][h];else if(A?.seriesIds.length>0){let E=(c=this.series[(l=A?.seriesIds)==null?void 0:l[0]])==null?void 0:c.seriesConfig;A.group.zIndexSubOrder=E?.getGroupZIndexSubOrder("data"),A.highlight.zIndexSubOrder=E?.getGroupZIndexSubOrder("highlight"),A.annotation.zIndexSubOrder=E?.getGroupZIndexSubOrder("annotation")}delete this.series[h]}lookupIdx(t){return this.mode==="normal"?t:typeof t=="string"&&(t=Number(t.split("-").slice(-1)[0]),!t)?0:Math.floor(kn(0,t/this.expectedSeriesCount,1)*aU)}destroy(){for(let t of Object.values(this.groups))for(let e of Object.values(t))this.rootGroup.removeChild(e.group),this.rootGroup.removeChild(e.highlight),this.rootGroup.removeChild(e.annotation);this.groups={},this.series={}}},pwe=class{constructor(){this.groups={}}registerSeries({id:t,seriesGrouping:e,visible:n,type:r}){var l,c;e&&((c=(l=this.groups)[r])!=null||(l[r]={}),this.groups[r][t]={grouping:e,visible:n})}deregisterSeries({id:t,type:e}){this.groups[e]&&delete this.groups[e][t],this.groups[e]&&Object.keys(this.groups[e]).length===0&&delete this.groups[e]}getVisiblePeerGroupIndex({type:t,seriesGrouping:e,visible:n}){var r;if(!e)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};let l=new Set,c=new Set;for(let p of Object.values((r=this.groups[t])!=null?r:{}))p.visible&&(l.add(p.grouping.groupIndex),p.grouping.groupIndex===e.groupIndex&&c.add(p.grouping.stackIndex));let h=Array.from(l);return h.sort((p,m)=>p-m),{visibleGroupCount:h.length,visibleSameStackCount:c.size,index:h.indexOf(e.groupIndex)}}},fwe=class{constructor(t,e){this.chartLike=t,this.layoutService=e,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",n=>this.layoutComplete(n)),this.layoutService.addListener("start-layout",n=>this.positionPadding(n.shrinkRect)),this.layoutService.addListener("start-layout",n=>this.positionCaptions(n.shrinkRect)))}destroy(){this.destroyFns.forEach(t=>t())}layoutComplete({clipSeries:t,series:{paddedRect:e}}){let{seriesArea:n,seriesRoot:r}=this.chartLike;n.clip||t?r.setClipRectInGroupCoordinateSpace(e):r.setClipRectInGroupCoordinateSpace()}positionPadding(t){let{padding:e}=this.chartLike;return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),{shrinkRect:t}}positionCaptions(t){var e,n;let{title:r,subtitle:l,footnote:c}=this.chartLike,h=t.clone(),p=_=>{var C;let S=t.height/10,A=(C=_.lineHeight)!=null?C:_.fontSize*an.defaultLineHeightRatio,E=t.width,L=Math.max(A,S);_.computeTextWrap(E,L)},m=_=>_==="left"?h.x:_==="right"?h.x+h.width:(_!=="center"&&Le.error(`invalid textAlign value: ${_}`),h.x+h.width/2),g=(_,C)=>{let S=h.y;_.node.x=m(_.textAlign),_.node.y=S,_.node.textBaseline="top",p(_);let A=_.node.computeBBox(),E=Math.ceil(A.y-S+A.height+C);h.shrink(E,"top")},y=(_,C)=>{let S=h.y+h.height;_.node.x=m(_.textAlign),_.node.y=S,_.node.textBaseline="bottom",p(_);let A=_.node.computeBBox(),E=Math.ceil(S-A.y+C);h.shrink(E,"bottom")};if(r.node.visible=r.enabled,l.node.visible=l.enabled,c.node.visible=c.enabled,r.enabled){let{spacing:_=l.enabled?fi.SMALL_PADDING:fi.LARGE_PADDING}=r;g(r,_)}return l.enabled&&g(l,(e=l.spacing)!=null?e:0),c.enabled&&y(c,(n=c.spacing)!=null?n:0),{shrinkRect:h}}},mwe=class{constructor(t,e,n,r){this.chart=t,this.dataService=e,this.updateService=n,this.zoomManager=r,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(t=>t())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow().catch(t=>Le.errorOnce(t))}onZoomChange(){this.dirtyZoom=!0}updateWindow(){return ve(this,null,function*(){if(!this.dataService.isLazy())return;let t=this.getValidAxis(),e,n=!0;if(t){let r=this.zoomManager.getAxisZoom(t.id);e=this.getAxisWindow(t,r),n=this.shouldRefresh(t,r)}this.dirtyZoom=!1,this.dirtyDataSource=!1,n&&this.dataService.load({windowStart:e?.min,windowEnd:e?.max})})}getValidAxis(){return this.chart.axes.find(t=>t.type==="time")}shouldRefresh(t,e){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;let n=this.lastAxisZooms.get(t.id);return n&&e.min===n.min&&e.max===n.max?!1:(this.lastAxisZooms.set(t.id,e),!0)}getAxisWindow(t,e){var n,r;let l=(r=(n=t.scale).getDomain)==null?void 0:r.call(n);if(!e||!l||l.length===0||isNaN(Number(l[0])))return;let c=Number(l[1])-Number(l[0]),h=new Date(Number(l[0])+c*e.min),p=new Date(Number(l[0])+c*e.max);return{min:h,max:p}}},gwe=class{constructor(t,e,n,r,l){this.chartLike=t,this.overlays=e,this.dataService=n,this.layoutService=r,this.animationManager=l,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",c=>this.onLayoutComplete(c)))}destroy(){this.destroyFns.forEach(t=>t())}onLayoutComplete({series:{rect:t}}){let e=this.dataService.isLoading(),n=this.chartLike.series.some(l=>l.hasData),r=this.chartLike.series.some(l=>l.visible);this.toggleOverlay(this.overlays.loading,t,e),this.toggleOverlay(this.overlays.noData,t,!e&&!n),this.toggleOverlay(this.overlays.noVisibleSeries,t,n&&!r)}toggleOverlay(t,e,n){if(n){let r=t.getElement(this.animationManager,e);this.chartLike.element.append(r)}else t.removeElement(this.animationManager)}},tX=class extends b0{constructor(t){super(),this.updateCallback=t}update(t=0,e){this.updateCallback(t,e)}dispatchUpdateComplete(t){this.dispatch("update-complete",{type:"update-complete",minRect:t?.minRect,minVisibleRect:t?.minVisibleRect})}},Ka=Li.create(!0,"opts"),YI=class extends dn{constructor(){super(...arguments),this.padding=new Yh(0)}};B([G(Ct,{optional:!0})],YI.prototype,"clip",2);B([G(qe)],YI.prototype,"padding",2);var ps=class nX extends DY{constructor(e,n){var r,l,c;super(),this.id=lc(this),this.seriesRoot=new et({name:`${this.id}-Series-root`}),this.debug=Li.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new Yh(20),this.seriesArea=new YI,this.title=new fi,this.subtitle=new fi,this.footnote=new fi,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.highlightManager=new $L,this.modulesManager=new twe,this.syncManager=new U_e(this),this.zoomManager=new jY,this.processors=[],this.processedOptions={},this.userOptions={},this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new E_e,this.updateRequestors={},this.performUpdateTrigger=I_e(E=>ve(this,[E],function*({count:L}){this.destroyed||this.updateMutex.acquire(()=>ve(this,null,function*(){try{yield this.performUpdate(L)}catch(P){Le.error("update error",P)}})).catch(P=>Le.errorOnce(P))})),this.axes=[],this.series=[],this.pointerScheduler=L_e(()=>{if(this.lastInteractionEvent){if(this.performUpdateType<=4){this.pointerScheduler.schedule();return}this.handlePointer(this.lastInteractionEvent,!1),this.lastInteractionEvent=void 0}}),this.onSeriesNodeClick=E=>{let L=He(he({},E),{type:"seriesNodeClick"});Object.defineProperty(L,"series",{enumerable:!1,get:()=>E.series}),this.fireEvent(L)},this.onSeriesNodeDoubleClick=E=>{let L=He(he({},E),{type:"seriesNodeDoubleClick"});this.fireEvent(L)},this.seriesGroupingChanged=E=>{if(!(E instanceof $I))return;let{series:L,seriesGrouping:P,oldGrouping:R}=E;L.rootGroup.parent!=null&&this.seriesLayerManager.changeGroup({internalId:L.internalId,type:L.type,rootGroup:L.rootGroup,highlightGroup:L.highlightGroup,annotationGroup:L.annotationGroup,getGroupZIndexSubOrder:V=>L.getGroupZIndexSubOrder(V),seriesGrouping:P,oldGrouping:R})},this.dataProcessListeners=new Set,this.chartOptions=e;let h=n?.scene,p=(r=n?.element)!=null?r:Is("div"),m=n?.container,g=new et({name:"root"});g.visible=!1,g.append(this.seriesRoot),this.axisGridGroup=new et({name:"Axes-Grids",layer:!0,zIndex:1}),g.appendChild(this.axisGridGroup),this.axisGroup=new et({name:"Axes",layer:!0,zIndex:2}),g.appendChild(this.axisGroup),this.element=p,p.classList.add("ag-chart-wrapper"),p.style.position="relative",p.style.userSelect="none";let y=new O_e;this.sizeMonitor=y,y.observe(this.element,E=>this.rawResize(E));let{overrideDevicePixelRatio:_}=e.specialOverrides;this.scene=h??new VI({pixelRatio:_}),this.scene.setRoot(g).setContainer(p),this.autoSize=!0,this.chartEventManager=new NY,this.contextMenuRegistry=new BY,this.cursorManager=new VY(p),this.highlightManager=new $L,this.interactionManager=new PY(p),this.regionManager=new W_e(this.interactionManager),this.toolbarManager=new HY,this.gestureDetector=new zY(p),this.layoutService=new GY,this.updateService=new tX((E=0,L)=>this.update(E,L)),this.seriesStateManager=new pwe,this.seriesLayerManager=new dwe(this.seriesRoot),this.callbackCache=new M_e,this.animationManager=new FY(this.interactionManager,this.updateMutex),this.animationManager.skip(),this.animationManager.play(),this.dataService=new sD(this.animationManager),this.overlays=new oD,(c=(l=this.overlays.loading).renderer)!=null||(l.renderer=()=>iwe(this.overlays.loading.getText(),this.animationManager.defaultDuration)),this.processors=[new fwe(this,this.layoutService),new mwe(this,this.dataService,this.updateService,this.zoomManager),new gwe(this,this.overlays,this.dataService,this.layoutService,this.animationManager)],this.tooltip=new dc,this.tooltipManager=new YL(this.scene.canvas.element,this.tooltip),this.highlight=new TY,this.container=m;let{All:C}=Nk,S=this.getModuleContext(),A=this.regionManager.addRegion("series",this.seriesRoot,this.axisGroup);this.regionManager.addRegion("root",g),this._destroyFns.push(this.dataService.addListener("data-load",E=>{this.data=E.data}),this.scene.attachNode(this.title.node),this.scene.attachNode(this.subtitle.node),this.scene.attachNode(this.footnote.node),this.title.registerInteraction(S),this.subtitle.registerInteraction(S),this.footnote.registerInteraction(S),this.interactionManager.addListener("click",E=>this.onClick(E)),this.interactionManager.addListener("dblclick",E=>this.onDoubleClick(E)),A.addListener("hover",E=>this.onMouseMove(E)),A.addListener("leave",E=>this.onLeave(E)),this.interactionManager.addListener("page-left",()=>this.destroy()),this.interactionManager.addListener("contextmenu",E=>this.onContextMenu(E),C),this.animationManager.addListener("animation-frame",()=>{this.update(6)}),this.highlightManager.addListener("highlight-change",E=>this.changeHighlightDatum(E)),this.zoomManager.addListener("zoom-pan-start",()=>this.resetPointer()),this.zoomManager.addListener("zoom-change",()=>{this.resetPointer(),this.series.map(L=>L.animationState.transition("updateData"));let E=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:E})}))}static getInstance(e){return nX.chartsInstances.get(e)}onAutoSizeChange(e){let{style:n}=this.element;if(e){if(n.display="block",n.width="100%",n.height="100%",!this._lastAutoSize)return;this.resize(void 0,void 0,"autoSize option")}else n.display="inline-block",n.width="auto",n.height="auto"}download(e,n){this.scene.download(e,n)}getOptions(){var e;return(e=this.queuedUserOptions.at(-1))!=null?e:this.userOptions}getModuleContext(){return{scene:this.scene,animationManager:this.animationManager,chartEventManager:this.chartEventManager,contextMenuRegistry:this.contextMenuRegistry,cursorManager:this.cursorManager,highlightManager:this.highlightManager,interactionManager:this.interactionManager,regionManager:this.regionManager,tooltipManager:this.tooltipManager,toolbarManager:this.toolbarManager,syncManager:this.syncManager,zoomManager:this.zoomManager,gestureDetector:this.gestureDetector,chartService:this,dataService:this.dataService,layoutService:this.layoutService,updateService:this.updateService,seriesStateManager:this.seriesStateManager,callbackCache:this.callbackCache}}resetAnimations(){this.chartAnimationPhase="initial";for(let e of this.series)e.resetAnimation(this.chartAnimationPhase);for(let e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.animationManager.reset()}skipAnimations(){this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(e){if(this.destroyed)return;let n=e?.keepTransferableResources,r;return this.performUpdateType=7,this._destroyFns.forEach(l=>l()),this.processors.forEach(l=>l.destroy()),this.tooltipManager.destroy(),this.tooltip.destroy(),this.overlays.destroy(),this.sizeMonitor.unobserve(this.element),this.modulesManager.destroy(),this.regionManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.zoomManager.destroy(),n?(this.scene.strip(),r={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(l=>l.destroy()),this.axes=[],this.callbackCache.invalidateCache(),this.animationRect=void 0,this.animationManager.reset(),this.syncManager.destroy(),this.destroyed=!0,Object.freeze(this),r}resetPointer(e=!1){e||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent=void 0}requestFactoryUpdate(e){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>ve(this,null,function*(){this.destroyed||(yield e(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)})).catch(n=>Le.errorOnce(n)))}update(e=0,n){var r,l;let{forceNodeDataRefresh:c=!1,skipAnimations:h,seriesToUpdate:p=this.series,newAnimationBatch:m}=n??{};c&&this.series.forEach(g=>g.markNodeDataDirty());for(let g of p)this.seriesToUpdate.add(g);if(h&&(this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),m&&this.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=(r=n?.skipSync)!=null?r:!1,this.debug.check()){let g=(l=new Error().stack)!=null?l:"<unknown>";g=g.replace(/\([^)]*/g,""),this.updateRequestors[g]=e}e<this.performUpdateType&&(this.performUpdateType=e,this.performUpdateTrigger.schedule(n?.backOffMs))}performUpdate(e){return ve(this,null,function*(){let{performUpdateType:n,extraDebugStats:r}=this,l=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.updateShortcutCount===0&&n<6&&(this.animationManager.startBatch(this._performUpdateSkipAnimations),this.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",Kx[n]);let c={start:performance.now()},h=!1;switch(n){case 0:case 1:yield this.updateData(),c["\u2B07\uFE0F"]=performance.now();case 2:yield this.processData(),this.resetPointer(!0),c["\u{1F3ED}"]=performance.now();case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(l)){h=!0;break}yield this.processLayout(),c["\u2316"]=performance.now();case 4:if(this.checkUpdateShortcut(4))break;let{seriesRect:m}=this;yield Promise.all(l.map(y=>y.update({seriesRect:m}))),c["\u{1F914}"]=performance.now();case 5:if(this.checkUpdateShortcut(5))break;let g=this.tooltipManager.getTooltipMeta(this.id);n<=4&&g?.lastPointerEvent!=null&&this.handlePointer(g.lastPointerEvent,!0),c["\u2196"]=performance.now();case 6:if(this.checkUpdateShortcut(6))break;this.animationManager.endBatch(),r.updateShortcutCount=this.updateShortcutCount,yield this.scene.render({debugSplitTimes:c,extraDebugStats:r}),this.extraDebugStats={};case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,this.animationManager.endBatch()}h||this.updateService.dispatchUpdateComplete(this.getMinRects());let p=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((p-c.start)*100)/100,count:e,performUpdateType:Kx[n]})})}checkUpdateShortcut(e){return this.updateShortcutCount>3?(Le.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=e?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(e){if(this.autoSize&&!this._lastAutoSize){let n=this._performUpdateNoRenderCount++,r=Gt(n+1,2)*40;if(n<8)return this.update(3,{seriesToUpdate:e,backOffMs:r}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",r),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onSeriesChange(e,n){var r,l;let c=(r=n?.filter(h=>!e.includes(h)))!=null?r:[];this.destroySeries(c),(l=this.seriesLayerManager)==null||l.setSeriesCount(e.length);for(let h of e){if(n?.includes(h))continue;h.rootGroup.parent==null&&this.seriesLayerManager.requestGroup(h);let p=this;h.chart={get mode(){return p.mode},get isMiniChart(){return!1},get seriesRect(){return p.seriesRect},placeLabels(){return p.placeLabels()}},h.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(h),h.addChartEventListeners()}}destroySeries(e){e?.forEach(n=>{n.removeEventListener("nodeClick",this.onSeriesNodeClick),n.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),n.removeEventListener("groupingChanged",this.seriesGroupingChanged),n.destroy(),this.seriesLayerManager.releaseGroup(n),n.chart=void 0})}addSeriesListeners(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach(e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(e)})}assignSeriesToAxes(){this.axes.forEach(e=>{e.boundSeries=this.series.filter(n=>n.axes[e.direction]===e)})}assignAxesToSeries(){let e=dI(this.axes,n=>n.direction);this.series.forEach(n=>{n.directions.forEach(r=>{let l=e[r];if(!l){Le.warnOnce(`no available axis for direction [${r}]; check series and axes configuration.`);return}let c=n.getKeys(r),h=l.find(p=>!p.keys.length||c.some(m=>p.keys.includes(m)));if(!h){Le.warnOnce(`no matching axis for direction [${r}] and keys [${c}]; check series and axes configuration.`);return}n.axes[r]=h})})}rawResize(e){var n;let{width:r,height:l}=e;if(r=Math.floor(r),l=Math.floor(l),!this.autoSize||r===0&&l===0)return;let[c=0,h=0]=(n=this._lastAutoSize)!=null?n:[];c===r&&h===l||(this._lastAutoSize=[r,l],this.resize(void 0,void 0,"SizeMonitor"))}resize(e,n,r){var l,c,h,p;if(e??(e=(c=this.width)!=null?c:this.autoSize?(l=this._lastAutoSize)==null?void 0:l[0]:this.scene.canvas.width),n??(n=(p=this.height)!=null?p:this.autoSize?(h=this._lastAutoSize)==null?void 0:h[1]:this.scene.canvas.height),this.debug(`Chart.resize() from ${r}`,{width:e,height:n,stack:new Error().stack}),!(!e||!n||!Bn(e)||!Bn(n))&&this.scene.resize(e,n)){this.resetPointer(),this.animationManager.reset();let m=!0;this.autoSize&&this._firstAutoSize&&(m=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:m})}}updateData(){return ve(this,null,function*(){this.series.forEach(n=>n.setChartData(this.data));let e=this.modulesManager.mapModules(n=>{var r;return(r=n.updateData)==null?void 0:r.call(n,{data:this.data})});yield Promise.all(e)})}processData(){return ve(this,null,function*(){if(this.series.some(l=>l.canHaveAxes)){this.assignAxesToSeries();let l=this.modulesManager.getModule("sync");l?.enabled?l.syncAxes(this._skipSync):this.assignSeriesToAxes()}let e=new IY(this.mode),n=this.series.map(l=>l.processData(e)),r=this.modulesManager.mapModules(l=>{var c;return(c=l.processData)==null?void 0:c.call(l,{dataController:e})});e.execute(),yield Promise.all([...n,...r]);for(let{legendType:l,legend:c}of this.modulesManager.legends())c.data=this.getLegendData(l,this.mode!=="integrated");this.dataProcessListeners.forEach(l=>l()),this.dataProcessListeners.clear()})}placeLabels(){let e=[],n=[];for(let g of this.series){if(!g.visible)continue;let y=g.getLabelData();i_e(y?.[0])&&(n.push(y),e.push(g))}let{seriesRect:r}=this,{top:l,right:c,bottom:h,left:p}=this.seriesArea.padding,m=r&&n.length>0?s_e(n,{x:-p,y:-l,width:r.width+p+c,height:r.height+l+h}):[];return new Map(m.map((g,y)=>[e[y],g]))}getLegendData(e,n){var r,l,c;let h=this.series.filter(m=>m.properties.showInLegend).flatMap(m=>m.getLegendData(e));if(n&&(m=>m.every(g=>g.legendType==="category"))(h)){let m={},g=new Map(this.series.map(y=>[y.id,y.type]));for(let{seriesId:y,marker:_,label:C}of h){if(_.fill==null)continue;let S=g.get(y),A=(r=m[S])!=null?r:m[S]={};(c=A[l=C.text])!=null||(A[l]=_.fill),A[C.text]!==_.fill&&Le.warnOnce(`legend item '${C.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}return h}processLayout(){return ve(this,null,function*(){var e;let n=this.animationRect;yield this.performLayout(),n&&!((e=this.animationRect)!=null&&e.equals(n))&&this.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}performLayout(){return ve(this,null,function*(){let{width:e,height:n}=this.scene,r={shrinkRect:new yt(0,0,e,n)};r=this.layoutService.dispatchPerformLayout("start-layout",r),r=this.layoutService.dispatchPerformLayout("before-series",r);let l=this.modulesManager.mapModules(c=>ve(this,null,function*(){c.performLayout!=null&&(r=yield c.performLayout(r))}));return yield Promise.all(l),r.shrinkRect})}pickSeriesNode(e,n,r){var l,c;let h=performance.now(),p=n?[0]:void 0,m=[...this.series].reverse(),g;for(let y of m){if(!y.visible||!y.rootGroup.visible)continue;let{match:_,distance:C}=(l=y.pickNode(e,p))!=null?l:{};if(!(!_||C==null)&&((!g||g.distance>C)&&C<=(r??1/0)&&(g={series:y,distance:C,datum:_}),C===0))break}return this.extraDebugStats.pickSeriesNode=Math.round(((c=this.extraDebugStats.pickSeriesNode)!=null?c:0)+(performance.now()-h)),g}onMouseMove(e){this.lastInteractionEvent=e,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=e.offsetX,this.extraDebugStats.mouseY=e.offsetY,this.update(6)}onLeave(e){this.tooltip.pointerLeftOntoTooltip(e)||(this.resetPointer(),this.update(6),this.cursorManager.updateCursor("chart"))}onContextMenu(e){this.tooltipManager.removeTooltip(this.id);let{Default:n,ContextMenu:r}=Nk;this.interactionManager.getState()&(n|r)&&this.checkSeriesNodeRange(e,()=>{this.highlightManager.updateHighlight(this.id)})}handlePointer(e,n){if(this.interactionManager.getState()!==8)return;let{lastPick:r,hoverRect:l}=this,{offsetX:c,offsetY:h}=e,p=(m=!1)=>{r&&this.resetPointer(m)};if(n?this.animationManager.isActive():!l?.containsPoint(c,h)){p();return}this.handlePointerTooltip(e,p),this.handlePointerNode(e)}handlePointerTooltip(e,n){let{lastPick:r,tooltip:l}=this,{range:c}=l,{offsetX:h,offsetY:p}=e,m;Bn(c)&&(m=c);let g=this.pickSeriesNode({x:h,y:p},c==="exact",m);if(!g){this.tooltipManager.removeTooltip(this.id),this.highlight.range==="tooltip"&&n(!0);return}let y=this.highlight.range==="node"||!r||r!==g.datum,_;y&&(_=g.series.getTooltipHtml(g.datum),this.highlight.range==="tooltip"&&this.highlightManager.updateHighlight(this.id,g.datum));let C=m!=null,S=this.tooltip.enabled&&g.series.tooltipEnabled,A=c==="exact"&&g.distance===0,L=S&&(c==="nearest"||C||A)&&(!y||_!==void 0),P=YL.makeTooltipMeta(e,g.datum);L&&this.tooltipManager.updateTooltip(this.id,P,_)}handlePointerNode(e){this.checkSeriesNodeRange(e,(r,l)=>{(r.hasEventListener("nodeClick")||r.hasEventListener("nodeDoubleClick"))&&this.cursorManager.updateCursor("chart","pointer"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id,l)})||(this.cursorManager.updateCursor("chart"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id))}onClick(e){if(this.checkSeriesNodeClick(e)){this.update(4);return}this.fireEvent({type:"click",event:e.sourceEvent})}onDoubleClick(e){if(this.checkSeriesNodeDoubleClick(e)){this.update(4);return}this.fireEvent({type:"doubleClick",event:e.sourceEvent})}checkSeriesNodeClick(e){return this.checkSeriesNodeRange(e,(n,r)=>n.fireNodeClickEvent(e.sourceEvent,r))}checkSeriesNodeDoubleClick(e){return this.checkSeriesNodeRange(e,(n,r)=>n.fireNodeDoubleClickEvent(e.sourceEvent,r))}checkSeriesNodeRange(e,n){var r;let l=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!1),c=l?.datum,h=c?.series.properties.nodeClickRange,p;Bn(h)&&(p=h);let m=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!0);if(m?this.highlightManager.updatePicked(this.id,m.datum):this.highlightManager.updatePicked(this.id),c&&h==="nearest")return n(c.series,c),!0;if(h!=="exact"&&(m=this.pickSeriesNode({x:e.offsetX,y:e.offsetY},!1,p)),!m)return!1;let g=p!=null,y=h==="exact"&&m.distance===0;return(g||y)&&(e.pointerHistory===void 0||((r=e.pointerHistory)==null?void 0:r.every(C=>{let S={x:C.offsetX,y:C.offsetY},A=this.pickSeriesNode(S,!1,p);return A?.datum===m?.datum})))?(n(m.series,m.datum),!0):!1}changeHighlightDatum(e){var n,r;let l=new Set,{series:c=void 0,datum:h}=(n=e.currentHighlight)!=null?n:{},{series:p=void 0,datum:m}=(r=e.previousHighlight)!=null?r:{};p&&l.add(p),c&&l.add(c),p?.properties.cursor&&m&&this.cursorManager.updateCursor(p.id),c?.properties.cursor&&h&&this.cursorManager.updateCursor(c.id,c.properties.cursor),this.lastPick=e.currentHighlight,c==null||p==null?this.update(4):this.update(4,{seriesToUpdate:l})}waitForUpdate(e=1e4,n=!1){return ve(this,null,function*(){let r=performance.now();for(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue());this.performUpdateType!==7;){if(performance.now()-r>e){let l=`Chart.waitForUpdate() timeout of ${e} reached - first chart update taking too long.`;if(n)throw new Error(l);Le.warnOnce(l)}yield A_e(50)}yield this.updateMutex.waitForClearAcquireQueue()})}waitForDataProcess(e){return new Promise(n=>{this.dataProcessListeners.add(n),Vo(e)&&setTimeout(()=>{this.dataProcessListeners.has(n)&&(this.dataProcessListeners.delete(n),n())},e)})}getMinRects(){let{width:e,height:n}=this.scene,r=this.series.map(y=>y.getMinRects(e,n)).filter(Ak);if(r.length===0)return;let l=0,c=0,h=0,p=0;for(let{minRect:y,minVisibleRect:_}of r)l=Math.max(l,y.width),c=Math.max(c,y.height),h=Math.max(h,_.width),p=Math.max(p,_.height);let m=new yt(0,0,l,c),g=m.clone();return h>0&&p>0&&(g=new yt(0,0,h,p)),{minRect:m,minVisibleRect:g}}filterMiniChartSeries(e){return e?.filter(n=>n.showInMiniChart!==!1)}applyOptions(e){var n,r,l,c,h;let p=this.processedOptions,m=e.diffOptions(p),g=e.userOptions;if(m==null)return;Ka("AgChartV2.updateDelta() - applying delta",m);let y=nn(m,p),_=this.applyModules(y),C=["type","data","series","listeners","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","axes","topology"];m.listeners&&this.registerListeners(this,m.listeners),Cu(this,m,{skip:C});let S=!1,A="no-op";(n=m.series)!=null&&n.length&&(A=this.applySeries(this,m.series,p?.series),S=!0),A==="replaced"&&this.resetAnimations(),this.applyAxes(this,y,p,A)&&(S=!0),m.data&&(this.data=m.data),(r=m.legend)!=null&&r.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,m.legend.listeners),m.listeners&&this.updateAllSeriesListeners(),this.chartOptions=e,this.processedOptions=y,this.userOptions=nn(g,this.userOptions);let E=this.modulesManager.getModule("navigator"),L=this.modulesManager.getModule("zoom");!E?.enabled&&!L?.enabled&&this.zoomManager.updateZoom("chart");let P=E?.miniChart,R=(h=(c=(l=y.navigator)==null?void 0:l.miniChart)==null?void 0:c.series)!=null?h:y.series;P?.enabled===!0&&R!=null?this.applyMiniChartOptions(P,R,y,p):P?.enabled===!1&&(P.series=[],P.axes=[]),S||(S=this.shouldForceNodeDataRefresh(m,A));let z=S||_?1:3;this.maybeResetAnimations(A),Ka("AgChartV2.applyChartOptions() - update type",Kx[z],{seriesStatus:A,forceNodeDataRefresh:S}),this.update(z,{forceNodeDataRefresh:S,newAnimationBatch:!0})}maybeResetAnimations(e){if(this.mode==="standalone")switch(e){case"series-grouping-change":case"replaced":this.resetAnimations();break;default:}}shouldForceNodeDataRefresh(e,n){let r=!!e.data||n==="data-change"||n==="replaced",l=aI.getKeys(),c=Object.values(l).some(p=>e[p]!=null),h=e.title!=null&&e.subtitle!=null;return r||c||h}applyMiniChartOptions(e,n,r,l){var c,h,p,m,g;let y=(p=(h=(c=l?.navigator)==null?void 0:c.miniChart)==null?void 0:h.series)!=null?p:l?.series,_=this.applySeries(e,this.filterMiniChartSeries(n),this.filterMiniChartSeries(y));this.applyAxes(e,r,l,_,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);let C=e.axes,S=C.find(A=>A.direction==="x");for(let A of C)A.gridLine.enabled=!1,A.label.enabled=A===S,A.tick.enabled=!1,A.interactionEnabled=!1;if(S!=null){let A=(m=r.navigator)==null?void 0:m.miniChart,E=A?.label,L=(g=A?.label)==null?void 0:g.interval;S.line.enabled=!1,S.label.set(AL(E,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),S.tick.set(AL(L,["enabled","width","size","color","interval","step"]));let P=L?.step;P!=null&&(S.tick.interval=P)}}applyModules(e){var n;let{type:r}=this.constructor,l=!1;for(let c of Fh.byType("root","legend")){let p=e[c.optionsKey]!=null&&c.chartTypes.includes(r);p!==this.modulesManager.isEnabled(c)&&(p?(this.modulesManager.addModule(c,m=>new m.instanceConstructor(this.getModuleContext())),c.type==="legend"&&((n=this.modulesManager.getModule(c))==null||n.attachLegend(this.scene)),this[c.optionsKey]=this.modulesManager.getModule(c)):(this.modulesManager.removeModule(c),delete this[c.optionsKey]),l=!0)}return l}applySeries(e,n,r){var l;if(!n)return"no-change";let c=ewe(e.series,n,r);if(c.status==="no-overlap")return Ka(`AgChartV2.applySeries() - creating new series instances, status: ${c.status}`,c),e.series=n.map(y=>this.createSeries(y)),"replaced";Ka("AgChartV2.applySeries() - matchResult",c);let h=[],p=!1,m=!1,g=!1;for(let y of c.changes)switch(m||(m=y.status==="series-grouping"),p||(p=((l=y.diff)==null?void 0:l.data)!=null),g||(g=y.status!=="no-op"),y.status){case"add":let _=this.createSeries(y.opts);h.push(_),Ka("AgChartV2.applySeries() - created new series",_);break;case"remove":Ka(`AgChartV2.applySeries() - removing series at previous idx ${y.idx}`,y.series);break;case"no-op":h.push(y.series),Ka(`AgChartV2.applySeries() - no change to series at previous idx ${y.idx}`,y.series);break;case"series-grouping":case"update":default:let{series:C,diff:S,idx:A}=y;Ka(`AgChartV2.applySeries() - applying series diff previous idx ${A}`,S,C),this.applySeriesValues(C,S),C.markNodeDataDirty(),h.push(C)}for(let y=0;y<h.length;y++)h[y]._declarationOrder=y;return Ka("AgChartV2.applySeries() - final series instances",h),e.series=h,m?"series-grouping-change":p?"data-change":g?"updated":"no-op"}applyAxes(e,n,r,l,c=[]){if(!("axes"in n)||!n.axes)return!1;c=["axes[].type",...c];let{axes:h}=n;return!(l==="replaced")&&e.axes.length===h.length&&e.axes.every((g,y)=>g.type===h[y].type)&&Jg(r)?(e.axes.forEach((g,y)=>{var _,C;let S=(C=(_=r.axes)==null?void 0:_[y])!=null?C:{},A=ba(S,h[y]);Ka(`AgChartV2.applyAxes() - applying axis diff idx ${y}`,A);let E=`axes[${y}]`;Cu(g,A,He(he({},FL),{path:E,skip:c}))}),!0):(Ka(`AgChartV2.applyAxes() - creating new axes instances; seriesStatus: ${l}`),e.axes=this.createAxis(h,c),!0)}createSeries(e){let n=No.create(e.type,this.getModuleContext());return this.applySeriesOptionModules(n,e),this.applySeriesValues(n,e),n}applySeriesOptionModules(e,n){let r=e.createModuleContext(),l=e.getModuleMap();for(let c of Fh.byType("series-option"))c.optionsKey in n&&c.seriesTypes.includes(e.type)&&l.addModule(c,h=>new h.instanceConstructor(r))}applySeriesValues(e,n){let r=e.getModuleMap(),l=n,{type:c,data:h,listeners:p,seriesGrouping:m,showInMiniChart:g}=l,y=er(l,["type","data","listeners","seriesGrouping","showInMiniChart"]);for(let _ of h0)if(_.type==="series-option"&&_.optionsKey in y){let C=r.getModule(_.optionsKey),S=y[_.optionsKey];delete y[_.optionsKey],C.properties.set(S)}e.properties.set(y),"data"in n&&e.setOptionsData(h),p&&this.registerListeners(e,p),"seriesGrouping"in n&&(m==null?e.seriesGrouping=void 0:e.seriesGrouping=he(he({},e.seriesGrouping),m))}createAxis(e,n){let r=new Q_e,l=this.getModuleContext();for(let c=0;c<e.length;c++){let h=e[c],p=Vh.create(h.type,l);this.applyAxisModules(p,h),Cu(p,h,He(he({},FL),{path:`axes[${c}]`,skip:n})),r.push(p,h)}return r.guessInvalidPositions()}applyAxisModules(e,n){let r=e.createModuleContext(),l=e.getModuleMap();for(let c of Fh.byType("axis-option")){let h=n[c.optionsKey]!=null;h!==l.isEnabled(c)&&(h?(l.addModule(c,p=>new p.instanceConstructor(r)),e[c.optionsKey]=l.getModule(c)):(l.removeModule(c),delete e[c.optionsKey]))}}registerListeners(e,n){e.clearEventListeners();for(let[r,l]of Object.entries(n))rf(l)&&e.addEventListener(r,l)}};ps.chartsInstances=new WeakMap;B([no({newValue(t){this.destroyed||(t.setAttribute("data-ag-charts",""),t.appendChild(this.element),ps.chartsInstances.set(t,this))},oldValue(t){t.removeAttribute("data-ag-charts"),t.removeChild(this.element),ps.chartsInstances.delete(t)}})],ps.prototype,"container",2);B([no({newValue(t){this.resize(t,void 0,"width option")}})],ps.prototype,"width",2);B([no({newValue(t){this.resize(void 0,t,"height option")}})],ps.prototype,"height",2);B([no({newValue(t){this.onAutoSizeChange(t)}}),G(Ct)],ps.prototype,"autoSize",2);B([G(qe)],ps.prototype,"padding",2);B([G(qe)],ps.prototype,"seriesArea",2);B([G(qe)],ps.prototype,"title",2);B([G(qe)],ps.prototype,"subtitle",2);B([G(qe)],ps.prototype,"footnote",2);B([G(Ui(["standalone","integrated"],"a chart mode"))],ps.prototype,"mode",2);B([no({changeValue(t,e=[]){for(let n of e)t.includes(n)||(n.detachAxis(this.axisGroup,this.axisGridGroup),n.destroy());for(let n of t)e?.includes(n)||n.attachAxis(this.axisGroup,this.axisGridGroup);this.zoomManager.updateAxes(t)}})],ps.prototype,"axes",2);B([no({changeValue(t,e){this.onSeriesChange(t,e)}})],ps.prototype,"series",2);var R1=ps;function vwe(t,e){let n=-e/t;return t!==0&&n>=0&&n<=1?[n]:[]}function ywe(t,e,n){if(t===0)return vwe(e,n);let r=e*e-4*t*n,l=[];if(r===0){let c=-e/(2*t);c>=0&&c<=1&&l.push(c)}else if(r>0){let c=Math.sqrt(r),h=(-e-c)/(2*t),p=(-e+c)/(2*t);h>=0&&h<=1&&l.push(h),p>=0&&p<=1&&l.push(p)}return l}function xwe(t,e,n,r){if(t===0)return ywe(e,n,r);let l=e/t,c=n/t,h=r/t,p=(3*c-l*l)/9,m=(9*l*c-27*h-2*l*l*l)/54,g=p*p*p+m*m,y=1/3,_=[];if(g>=0){let C=Math.sqrt(g),S=Math.sign(m+C)*Math.pow(Math.abs(m+C),y),A=Math.sign(m-C)*Math.pow(Math.abs(m-C),y),E=Math.abs(Math.sqrt(3)*(S-A)/2),L=-y*l+(S+A);if(L>=0&&L<=1&&_.push(L),E===0){let P=-y*l-(S+A)/2;P>=0&&P<=1&&_.push(P)}}else{let C=Math.acos(m/Math.sqrt(-p*p*p)),S=y*l,A=2*Math.sqrt(-p),E=A*Math.cos(y*C)-S,L=A*Math.cos(y*(C+2*Math.PI))-S,P=A*Math.cos(y*(C+4*Math.PI))-S;E>=0&&E<=1&&_.push(E),L>=0&&L<=1&&_.push(L),P>=0&&P<=1&&_.push(P)}return _}function Xg(t,e,n,r,l,c,h,p){let m=(n-t)*(p-c)-(r-e)*(h-l);if(m===0)return 0;let g=((h-l)*(e-c)-(t-l)*(p-c))/m,y=((n-t)*(e-c)-(r-e)*(t-l))/m;return g>=0&&g<=1&&y>=0&&y<=1?1:0}function bwe(t,e,n,r,l,c,h,p,m,g,y,_){let C=0,S=g-_,A=y-m,E=m*(_-g)-g*(y-m),L=lU(t,n,l,h),P=lU(e,r,c,p),R=S*L[0]+A*P[0],V=S*L[1]+A*P[1],z=S*L[2]+A*P[2],H=S*L[3]+A*P[3]+E,U=xwe(R,V,z,H);for(let X of U){let Q=X*X,Z=X*Q,ie=L[0]*Z+L[1]*Q+L[2]*X+L[3],ne=P[0]*Z+P[1]*Q+P[2]*X+P[3],de;m===y?de=(ne-g)/(_-g):de=(ie-m)/(y-m),de>=0&&de<=1&&C++}return C}function lU(t,e,n,r){return[-t+3*e-3*n+r,3*t-6*e+3*n,-3*t+3*e,t]}function iX(t,e,n,r,l,c,h,p,m,g){if(isNaN(t)||isNaN(e))return 0;c&&([l,r]=[r,l]);let y=(g-p)/(m-h),_=p-y*h,C=Math.pow(y,2)+1,S=2*(y*(_-e)-t),A=Math.pow(t,2)+Math.pow(_-e,2)-Math.pow(n,2),E=Math.pow(S,2)-4*C*A;if(E<0)return 0;let L=(-S+Math.sqrt(E))/2/C,P=(-S-Math.sqrt(E))/2/C,R=0;return[L,P].forEach(V=>{if(!(V>=Math.min(h,m)&&V<=Math.max(h,m)))return;let H=y*V+_,U=V-t,X=H-e,Q=Math.atan2(X,U);S$(Q,r,l)&&R++}),R}var c0=class{constructor(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}isDirty(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(let t=0;t<this.commands.length;t++)if(this.commands[t]!==this.previousCommands[t])return!0;for(let t=0;t<this.params.length;t++)if(this.params[t]!==this.previousParams[t])return!0;return!1}draw(t){let e=this.commands,n=this.params,r=0;t.beginPath();for(let l of e)switch(l){case 0:t.moveTo(n[r++],n[r++]);break;case 1:t.lineTo(n[r++],n[r++]);break;case 3:t.bezierCurveTo(n[r++],n[r++],n[r++],n[r++],n[r++],n[r++]);break;case 2:t.arc(n[r++],n[r++],n[r++],n[r++],n[r++],n[r++]===1);break;case 4:t.closePath();break}e.length===0&&t.closePath()}moveTo(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push(0),this.params.push(t,e)}lineTo(t,e){this.xy?(this.commands.push(1),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)}rect(t,e,n,r){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.closePath()}roundRect(t,e,n,r,l){l=Math.min(l,n/2,r/2),this.moveTo(t,e+l),this.arc(t+l,e+l,l,Math.PI,3*Math.PI/2),this.lineTo(t+l,e),this.lineTo(t+n-l,e),this.arc(t+n-l,e+l,l,3*Math.PI/2,2*Math.PI),this.lineTo(t+n,e+l),this.lineTo(t+n,e+r-l),this.arc(t+n-l,e+r-l,l,0,Math.PI/2),this.lineTo(t+n-l,e+r),this.lineTo(t+l,e+r),this.arc(t+ +l,e+r-l,l,Math.PI/2,Math.PI),this.lineTo(t,e+r-l),this.closePath()}arc(t,e,n,r,l,c=!1){let h=t+n*Math.cos(l),p=e+n*Math.sin(l);this.xy?(this.xy[0]=h,this.xy[1]=p):this.xy=[h,p],this.commands.push(2),this.params.push(t,e,n,r,l,c?1:0)}cubicCurveTo(t,e,n,r,l,c){this.xy||this.moveTo(t,e),this.commands.push(3),this.params.push(t,e,n,r,l,c),this.xy&&(this.xy[0]=l,this.xy[1]=c)}get closedPath(){return this._closedPath}closePath(){this.xy&&(this.xy=void 0,this.commands.push(4),this._closedPath=!0)}clear({trackChanges:t}={trackChanges:!1}){t?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1}isPointInPath(t,e){let n=this.commands,r=this.params,l=n.length,c=-1e4,h=-1e4,p=NaN,m=NaN,g=0,y=0,_=0;for(let C=0,S=0;C<l;C++)switch(n[C]){case 0:_+=Xg(p,m,g,y,c,h,t,e),g=r[S++],p=g,y=r[S++],m=y;break;case 1:_+=Xg(g,y,r[S++],r[S++],c,h,t,e),g=r[S-2],y=r[S-1];break;case 3:_+=bwe(g,y,r[S++],r[S++],r[S++],r[S++],r[S++],r[S++],c,h,t,e),g=r[S-2],y=r[S-1];break;case 2:let A=r[S++],E=r[S++],L=r[S++],P=r[S++],R=r[S++],V=!!r[S++];if(_+=iX(A,E,L,P,R,V,c,h,t,e),!isNaN(p)){let z=A+Math.cos(P)*L,H=E+Math.sin(P)*L;_+=Xg(g,y,z,H,c,h,t,e)}g=A+Math.cos(R)*L,y=E+Math.sin(R)*L;break;case 4:_+=Xg(p,m,g,y,c,h,t,e);break}return _%2===1}getPoints(){let{commands:t,params:e}=this,n=[],r=0;for(let l=0;l<t.length;l++)switch(t[l]){case 0:case 1:n.push({x:e[r++],y:e[r++]});break;case 3:r+=4,n.push({x:e[r++],y:e[r++]});break;case 2:n.push({x:e[r++],y:e[r++]}),r+=4;break;case 4:break}return n}};function Vt(t){let{redraw:e=3,changeCb:n,convertor:r}=t??{};return je({redraw:e,type:"path",convertor:r,changeCb:n})}var Wo=class extends wa{constructor(){super(...arguments),this.path=new c0,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(t){this._clipX=t,this.dirtyPath=!0}set clipY(t){this._clipY=t,this.dirtyPath=!0}set dirtyPath(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var t,e,n,r;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||((e=(t=this.fillShadow)==null?void 0:t.isDirty())!=null?e:!1)||((r=(n=this._clipPath)==null?void 0:n.isDirty())!=null?r:!1))}isPointInPath(t,e){let n=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)}isDirtyPath(){return!1}updatePath(){}render(t){var e,n,r,l,c;let{ctx:h,forceRender:p,stats:m}=t;if(this.dirty===0&&!p){m&&(m.nodesSkipped+=this.nodeCount.count);return}if(this.computeTransformMatrix(),this.matrix.toContext(h),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),!isNaN(this._clipX)&&!isNaN(this._clipY)&&this.clipMode!=null){h.save();let g=this.strokeWidth/2;if((e=this._clipPath)!=null||(this._clipPath=new c0),this._clipPath.clear(),this._clipPath.rect(-g,-g,this._clipX+g,this._clipY+g+g),this.clipMode==="normal"&&((n=this._clipPath)==null||n.draw(h),h.clip()),this._clipX>0&&this._clipY>0&&this.drawPath(h),this.clipMode==="punch-out"){(r=this._clipPath)==null||r.draw(h),h.clip();let{x:y=-1e4,y:_=-1e4,width:C=2e4,height:S=2e4}=(l=this.computeBBox())!=null?l:{};h.clearRect(y,_,C,S)}h.restore()}else this.drawPath(h);(c=this.fillShadow)==null||c.markClean(),super.render(t)}drawPath(t){this.path.draw(t),this.fillStroke(t)}};Wo.className="Path";B([Vt()],Wo.prototype,"clipMode",2);B([Vt()],Wo.prototype,"clipX",1);B([Vt()],Wo.prototype,"clipY",1);var fs=class extends Wo{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){let{x:t,y:e,size:n}=this,{center:r}=this.constructor;return new yt(t-n*r.x,e-n*r.y,n,n)}applyPath(t,e){let{path:n}=this,{x:r,y:l}=this;n.clear();for(let{x:c,y:h,t:p}of e)r+=c*t,l+=h*t,p==="move"?n.moveTo(r,l):n.lineTo(r,l);n.closePath()}};fs.center={x:.5,y:.5};B([Vt()],fs.prototype,"x",2);B([Vt()],fs.prototype,"y",2);B([Vt({convertor:Math.abs})],fs.prototype,"size",2);var ic=class extends fs{updatePath(){let{x:t,y:e,path:n,size:r}=this,l=r/2;n.clear(),n.arc(t,e,l,0,Math.PI*2),n.closePath()}};ic.className="Circle";var XI=class rX extends fs{updatePath(){let e=this.size/4.2;super.applyPath(e,rX.moves)}};XI.className="Cross";XI.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var _we=XI,qI=class sX extends fs{updatePath(){let e=this.size/2;super.applyPath(e,sX.moves)}};qI.className="Diamond";qI.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var oX=qI,aX=class extends fs{rad(t){return t/180*Math.PI}updatePath(){let{x:t,path:e,size:n,rad:r}=this,l=n/4,c=this.y+l/2;e.clear(),e.arc(t-l,c-l,l,r(130),r(330)),e.arc(t+l,c-l,l,r(220),r(50)),e.lineTo(t,c+l),e.closePath()}};aX.className="Heart";var KI=class extends fs{updatePath(){let{path:t,x:e,y:n}=this,r=this.size,l=.5,c=1;t.clear(),t.moveTo(e+(.15625-l)*r,n+(.34375-c)*r),t.cubicCurveTo(e+(.15625-l)*r,n+(.151491-c)*r,e+(.307741-l)*r,n+(0-c)*r,e+(.5-l)*r,n+(0-c)*r),t.cubicCurveTo(e+(.692259-l)*r,n+(0-c)*r,e+(.84375-l)*r,n+(.151491-c)*r,e+(.84375-l)*r,n+(.34375-c)*r),t.cubicCurveTo(e+(.84375-l)*r,n+(.493824-c)*r,e+(.784625-l)*r,n+(.600181-c)*r,e+(.716461-l)*r,n+(.695393-c)*r),t.cubicCurveTo(e+(.699009-l)*r,n+(.719769-c)*r,e+(.681271-l)*r,n+(.743104-c)*r,e+(.663785-l)*r,n+(.766105-c)*r),t.cubicCurveTo(e+(.611893-l)*r,n+(.834367-c)*r,e+(.562228-l)*r,n+(.899699-c)*r,e+(.528896-l)*r,n+(.980648-c)*r),t.cubicCurveTo(e+(.524075-l)*r,n+(.992358-c)*r,e+(.512663-l)*r,n+(1-c)*r,e+(.5-l)*r,n+(1-c)*r),t.cubicCurveTo(e+(.487337-l)*r,n+(1-c)*r,e+(.475925-l)*r,n+(.992358-c)*r,e+(.471104-l)*r,n+(.980648-c)*r),t.cubicCurveTo(e+(.487337-l)*r,n+(1-c)*r,e+(.475925-l)*r,n+(.992358-c)*r,e+(.471104-l)*r,n+(.980648-c)*r),t.cubicCurveTo(e+(.437772-l)*r,n+(.899699-c)*r,e+(.388107-l)*r,n+(.834367-c)*r,e+(.336215-l)*r,n+(.766105-c)*r),t.cubicCurveTo(e+(.318729-l)*r,n+(.743104-c)*r,e+(.300991-l)*r,n+(.719769-c)*r,e+(.283539-l)*r,n+(.695393-c)*r),t.cubicCurveTo(e+(.215375-l)*r,n+(.600181-c)*r,e+(.15625-l)*r,n+(.493824-c)*r,e+(.15625-l)*r,n+(.34375-c)*r),t.closePath()}};KI.className="MapPin";KI.center={x:.5,y:1};var ZI=class lX extends fs{updatePath(){let e=this.size/3;super.applyPath(e,lX.moves)}};ZI.className="Plus";ZI.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var wwe=ZI,u0=class extends fs{updatePath(){let{path:t,x:e,y:n}=this,r=this.size/2;t.clear(),t.moveTo(this.align(e-r),this.align(n-r)),t.lineTo(this.align(e+r),this.align(n-r)),t.lineTo(this.align(e+r),this.align(n+r)),t.lineTo(this.align(e-r),this.align(n+r)),t.closePath()}};u0.className="Square";var cX=class extends fs{updatePath(){let{x:t,y:e,path:n,size:r}=this,l=5,c=r/2,h=Math.PI/2;n.clear();for(let p=0;p<l*2;p++){let m=p%2===0?r:c,g=p*Math.PI/l-h,y=t+Math.cos(g)*m,_=e+Math.sin(g)*m;n.lineTo(y,_)}n.closePath()}};cX.className="Star";var QI=class uX extends fs{updatePath(){let e=this.size*1.1;super.applyPath(e,uX.moves)}};QI.className="Triangle";QI.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var r0=QI,hX={circle:ic,cross:_we,diamond:oX,heart:aX,pin:KI,plus:wwe,square:u0,star:cX,triangle:r0},Cwe=Object.keys(hX);function dX(t){return typeof t=="string"&&Cwe.includes(t)}function oc(t=u0){return dX(t)?hX[t]:typeof t=="function"?t:u0}var JI=class extends w0{isContinuous(){var t,e;let n=(t=this.axes.x)==null?void 0:t.scale,r=(e=this.axes.y)==null?void 0:e.scale,l=Ln.is(n)||zo.is(n),c=Ln.is(r)||zo.is(r);return{isContinuousX:l,isContinuousY:c}}getModulePropertyDefinitions(){return this.moduleMap.mapModules(t=>t.getPropertyDefinitions(this.isContinuous())).flat()}requestDataModel(t,e,n){return ve(this,null,function*(){n.props.push(...this.getModulePropertyDefinitions());let{dataModel:r,processedData:l}=yield t.request(this.id,e??[],n);return this.dataModel=r,this.processedData=l,this.dispatch("data-processed",{dataModel:r,processedData:l}),{dataModel:r,processedData:l}})}isProcessedDataAnimatable(){var t,e;let n=(e=(t=this.processedData)==null?void 0:t.reduced)==null?void 0:e.animationValidation;if(!n)return!0;let{orderedKeys:r,uniqueKeys:l}=n;return r&&l}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}},Ou=class extends dn{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};B([G(Dn,{optional:!0})],Ou.prototype,"fill",2);B([G(In,{optional:!0})],Ou.prototype,"fillOpacity",2);B([G(Dn,{optional:!0})],Ou.prototype,"stroke",2);B([G(Ae,{optional:!0})],Ou.prototype,"strokeWidth",2);B([G(In,{optional:!0})],Ou.prototype,"strokeOpacity",2);B([G(Lu,{optional:!0})],Ou.prototype,"lineDash",2);B([G(Ae,{optional:!0})],Ou.prototype,"lineDashOffset",2);var aD=class extends dn{};B([G(Ae,{optional:!0})],aD.prototype,"strokeWidth",2);B([G(In,{optional:!0})],aD.prototype,"dimOpacity",2);B([G(Ct,{optional:!0})],aD.prototype,"enabled",2);var pX=class extends dn{constructor(){super(...arguments),this.color="black"}};B([G(Dn,{optional:!0})],pX.prototype,"color",2);var P1=class extends dn{constructor(){super(...arguments),this.item=new Ou,this.series=new aD,this.text=new pX}};B([G(qe)],P1.prototype,"item",2);B([G(qe)],P1.prototype,"series",2);B([G(qe)],P1.prototype,"text",2);var ll=class extends dn{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlightStyle=new P1}};B([G(Re,{optional:!0})],ll.prototype,"id",2);B([G(Ct)],ll.prototype,"visible",2);B([G(Ct)],ll.prototype,"showInLegend",2);B([G(Re)],ll.prototype,"cursor",2);B([G(kI)],ll.prototype,"nodeClickRange",2);B([G(qe)],ll.prototype,"highlightStyle",2);var uf={x:["xKey"],y:["yKey"]},hf={x:["xName"],y:["yName"]},eO=class extends O1{constructor(t,e,n,r){super(t,e,n,r),this.xKey=r.properties.xKey,this.yKey=r.properties.yKey}},qh=class extends ll{};B([G(Re,{optional:!0})],qh.prototype,"legendItemName",2);var Kh=class extends JI{constructor(t){var e=t,{pathsPerSeries:n=1,hasMarkers:r=!1,hasHighlightedLabels:l=!1,pathsZIndexSubOrderOffset:c=[],datumSelectionGarbageCollection:h=!0,markerSelectionGarbageCollection:p=!0,animationAlwaysUpdateSelections:m=!1,animationResetFns:g,directionKeys:y,directionNames:_}=e,C=er(e,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns","directionKeys","directionNames"]);if(super(he({directionKeys:y,directionNames:_,canHaveAxes:!0},C)),this._contextNodeData=[],this.NodeEvent=eO,this.highlightSelection=Ti.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=Ti.select(this.highlightLabel,an),this.annotationSelections=new Set,this.subGroups=[],this.subGroupId=0,this.minRectsCache={dirtyNodeData:!0},this.debug=Li.create(),!y||!_)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:n,hasMarkers:r,hasHighlightedLabels:l,pathsZIndexSubOrderOffset:c,directionKeys:y,directionNames:_,animationResetFns:g,animationAlwaysUpdateSelections:m,datumSelectionGarbageCollection:h,markerSelectionGarbageCollection:p},this.animationState=new M1("empty",{empty:{update:{target:"ready",action:S=>this.animateEmptyUpdateReady(S)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:S=>this.animateReadyHighlight(S),highlightMarkers:S=>this.animateReadyHighlightMarkers(S),resize:S=>this.animateReadyResize(S),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:S=>this.animateWaitingUpdateReady(S)},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:S=>this.resetAllAnimation(S),reset:"empty"},clearing:{update:{target:"empty",action:S=>this.animateClearingUpdateEmpty(S)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData.slice()}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"?this.animationState.transition("skip"):t==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",t=>this.onLegendItemClick(t)),this.ctx.chartEventManager.addListener("legend-item-double-click",t=>this.onLegendItemDoubleClick(t)))}destroy(){super.destroy(),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)}update(t){return ve(this,arguments,function*({seriesRect:e}){var n,r;let{visible:l,_contextNodeData:c}=this,p=((r=(n=this.ctx.highlightManager)==null?void 0:n.getActiveHighlight())==null?void 0:r.series)===this,m=this.checkResize(e),g=yield this.updateHighlightSelection(p);yield this.updateSelections(l),yield this.updateNodes(g,p,l);let y=this.getAnimationData(e,c);m&&this.animationState.transition("resize",y),this.animationState.transition("update",y)})}updateSelections(t){return ve(this,null,function*(){let e=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!t&&e)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this._contextNodeData=yield this.createNodeData();let n=this.isProcessedDataAnimatable();this._contextNodeData.forEach(c=>{var h;(h=c.animationValid)!=null||(c.animationValid=n)}),this.minRectsCache.dirtyNodeData=!0,yield this.updateSeriesGroups();let{dataModel:r,processedData:l}=this;r!==void 0&&l!==void 0&&this.dispatch("data-update",{dataModel:r,processedData:l})}yield Promise.all(this.subGroups.map((n,r)=>this.updateSeriesGroupSelections(n,r)))}})}updateSeriesGroupSelections(t,e,n){return ve(this,null,function*(){let{datumSelection:r,labelSelection:l,markerSelection:c,paths:h}=t,p=this._contextNodeData[e],{nodeData:m,labelData:g,itemId:y}=p;yield this.updatePaths({seriesHighlighted:n,itemId:y,contextData:p,paths:h,seriesIdx:e}),t.datumSelection=yield this.updateDatumSelection({nodeData:m,datumSelection:r,seriesIdx:e}),t.labelSelection=yield this.updateLabelSelection({labelData:g,labelSelection:l,seriesIdx:e}),c&&(t.markerSelection=yield this.updateMarkerSelection({nodeData:m,markerSelection:c,seriesIdx:e}))})}markerFactory(){let t=oc();return new t}updateSeriesGroups(){return ve(this,null,function*(){let{_contextNodeData:t,contentGroup:e,subGroups:n,opts:{pathsPerSeries:r,hasMarkers:l,datumSelectionGarbageCollection:c,markerSelectionGarbageCollection:h}}=this;if(t.length===n.length)return;t.length<n.length&&n.splice(t.length).forEach(({dataNodeGroup:m,markerGroup:g,labelGroup:y,paths:_})=>{e.removeChild(m),g&&e.removeChild(g),y&&e.removeChild(y);for(let C of _)e.removeChild(C)});let p=t.length;for(;p>n.length;){let g=this.subGroupId++,y=new et({name:`${this.id}-series-sub${g}-dataNodes`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data",g)}),_=l?new et({name:`${this.id}-series-sub${this.subGroupId++}-markers`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker",g)}):void 0,C=new et({name:`${this.id}-series-sub${this.subGroupId++}-labels`,layer:!1,zIndex:7,zIndexSubOrder:this.getGroupZIndexSubOrder("labels",g)});e.appendChild(y),e.appendChild(C),_&&e.appendChild(_);let S=[];for(let A=0;A<r;A++)S[A]=new Wo,S[A].zIndex=4,S[A].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",A),e.appendChild(S[A]);n.push({paths:S,dataNodeGroup:y,markerGroup:_,labelGroup:C,labelSelection:Ti.select(C,an),datumSelection:Ti.select(y,()=>this.nodeFactory(),c),markerSelection:_?Ti.select(_,()=>this.markerFactory(),h):void 0})}})}getGroupZIndexSubOrder(t,e=0){var n;let r=super.getGroupZIndexSubOrder(t,e);if(t==="paths"){let[l]=r,c=(n=this.opts.pathsZIndexSubOrderOffset[e])!=null?n:0;r[0]=rf(l)?()=>Number(l())+c:Number(l)+c}return r}updateNodes(t,e,n){return ve(this,null,function*(){var r;let{highlightSelection:l,highlightLabelSelection:c,opts:{hasMarkers:h,hasHighlightedLabels:p}}=this,m=!this.ctx.animationManager.isSkipped(),g=this.visible&&((r=this._contextNodeData)==null?void 0:r.length)>0&&n;this.rootGroup.visible=m||g,this.contentGroup.visible=m||g,this.highlightGroup.visible=(m||g)&&e;let y=this.getOpacity();h?(yield this.updateMarkerNodes({markerSelection:l,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlightMarkers",l)):(yield this.updateDatumNodes({datumSelection:l,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlight",l)),p&&(yield this.updateLabelNodes({labelSelection:c,seriesIdx:-1})),yield Promise.all(this.subGroups.map((_,C)=>ve(this,null,function*(){let{dataNodeGroup:S,markerGroup:A,datumSelection:E,labelSelection:L,markerSelection:P,paths:R,labelGroup:V}=_,{itemId:z}=this.contextNodeData[C],H=g;S.opacity=y,S.visible=m||H,V.visible=H,A&&(A.opacity=y,A.zIndex=S.zIndex>=4?S.zIndex:S.zIndex+1,A.visible=H),V&&(V.opacity=y),yield this.updatePathNodes({seriesHighlighted:e,itemId:z,paths:R,seriesIdx:C,opacity:y,visible:H,animationEnabled:m}),S.visible&&(yield this.updateDatumNodes({datumSelection:E,highlightedItems:t,isHighlight:!1,seriesIdx:C}),yield this.updateLabelNodes({labelSelection:L,seriesIdx:C}),h&&P&&(yield this.updateMarkerNodes({markerSelection:P,isHighlight:!1,seriesIdx:C})))})))})}getHighlightLabelData(t,e){let n=t.filter(r=>r.datum===e.datum&&r.itemId===e.itemId);return n.length===0?void 0:n}getHighlightData(t,e){return e?[e]:void 0}updateHighlightSelection(t){return ve(this,null,function*(){var e;let{highlightSelection:n,highlightLabelSelection:r,_contextNodeData:l}=this,c=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight(),h=t&&c?.datum?c:void 0,p,m;if(h!=null){let g=this.isLabelEnabled();for(let{labelData:y,nodeData:_}of l)if(m=this.getHighlightData(_,h),p=g?this.getHighlightLabelData(y,h):void 0,(!g||p!=null)&&m!=null)break}return this.highlightSelection=yield this.updateHighlightSelectionItem({items:m,highlightSelection:n}),this.highlightLabelSelection=yield this.updateHighlightSelectionLabel({items:p,highlightLabelSelection:r}),m})}pickNodeExactShape(t){var e;let n=super.pickNodeExactShape(t);if(n)return n;let{x:r,y:l}=t,{opts:{hasMarkers:c}}=this,h;for(let{dataNodeGroup:p,markerGroup:m}of this.subGroups)if(h=p.pickNode(r,l),!h&&c&&(h=m?.pickNode(r,l)),h)break;if(h)return{datum:h.datum,distance:0};for(let p of this.moduleMap.modules()){let{datum:m}=(e=p.pickNodeExact(t))!=null?e:{};if(m!==void 0)return{datum:m,distance:0}}}pickNodeClosestDatum(t){var e,n;let{x:r,y:l}=t,{axes:c,rootGroup:h,_contextNodeData:p}=this,m=c.x,g=c.y,y=h.transformPoint(r,l),_=1/0,C;for(let S of p)for(let A of S.nodeData){let{point:{x:E=NaN,y:L=NaN}={}}=A;if(isNaN(E)||isNaN(L)||!(m?.inRange(E)&&g?.inRange(L)))continue;let R=Math.max(Gt(y.x-E,2)+Gt(y.y-L,2),0);R<_&&(_=R,C=A)}for(let S of this.moduleMap.modules()){let A=S.pickNodeNearest(t);if(A!==void 0&&A.distanceSquared<_){_=A.distanceSquared,C=A.datum;break}}if(C){let S=Math.max(Math.sqrt(_)-((n=(e=C.point)==null?void 0:e.size)!=null?n:0),0);return{datum:C,distance:S}}}pickNodeMainAxisFirst(t,e){var n,r;let{x:l,y:c}=t,{axes:h,rootGroup:p,_contextNodeData:m}=this,g=h.x,y=h.y,_=[g,y].filter(P=>P instanceof $h).map(P=>P.direction);if(e&&_.length===0)return;let[C="x"]=_,S=p.transformPoint(l,c),A=C==="x"?[S.x,S.y]:[S.y,S.x],E=[1/0,1/0],L;for(let P of m)for(let R of P.nodeData){let{point:{x:V=NaN,y:z=NaN}={}}=R;if(isNaN(V)||isNaN(z)||!(g?.inRange(V)&&y?.inRange(z)))continue;let U=C==="x"?[V,z]:[z,V],X=!0;for(let Q=0;Q<U.length;Q++){let Z=Math.abs(U[Q]-A[Q]);if(Z>E[Q]){X=!1;break}Z<E[Q]&&(E[Q]=Z,E.fill(1/0,Q+1,E.length))}X&&(L=R)}if(L){let P=Math.max(Gt(E[0],2)+Gt(E[1],2)-((r=(n=L.point)==null?void 0:n.size)!=null?r:0),0);for(let R of this.moduleMap.modules()){let V=R.pickNodeMainAxisFirst(t);if(V!==void 0&&V.distanceSquared<P){L=V.datum,P=V.distanceSquared;break}}return{datum:L,distance:Math.sqrt(P)}}}onLegendItemClick(t){let{legendItemName:e}=this.properties,{enabled:n,itemId:r,series:l}=t,c=e!=null&&e===t.legendItemName;(l.id===this.id||c)&&this.toggleSeriesItem(r,n)}onLegendItemDoubleClick(t){let{enabled:e,itemId:n,series:r,numVisibleItems:l}=t,{legendItemName:c}=this.properties,h=c!=null&&c===t.legendItemName;r.id===this.id||h?this.toggleSeriesItem(n,!0):e&&l===1?this.toggleSeriesItem(n,!0):this.toggleSeriesItem(n,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(t,e){let{dirtyNodeData:n,sizeCache:r,minRect:l,minVisibleRect:c}=this.minRectsCache,h=JSON.stringify({width:t,height:e});if(!(h!==r)&&!n&&l&&c)return{minRect:l,minVisibleRect:c};let m=this.computeMinRects(t,e);return this.minRectsCache={dirtyNodeData:!1,sizeCache:h,minRect:m?.minRect,minVisibleRect:m?.minVisibleRect},m}computeMinRects(t,e){var n,r;let[l]=this._contextNodeData;if(!l?.nodeData.length)return;let{nodeData:c}=l,h=Array(c.length),p=Array(c.length);for(let[z,{midPoint:H}]of c.entries())h[z]=(n=H?.x)!=null?n:0,p[z]=(r=H?.y)!=null?r:0;h.sort((z,H)=>z-H),p.sort((z,H)=>z-H);let m,g,y,_,C=0,S=0;for(let z=1;z<c.length;z++)h[z]>=0&&(m??(m=z)),h[z]>t&&(g??(g=z)),p[z]>=0&&(y??(y=z)),p[z]>e&&(_??(_=z)),C=Math.max(C,h[z]-h[z-1]),S=Math.max(S,p[z]-p[z-1]);g??(g=c.length),_??(_=c.length);let A=m!=null&&g!=null?h.slice(m,g):[],E=y!=null&&_!=null?p.slice(y,_):[],L=0,P=0;for(let z=1;z<Math.max(A.length,E.length);z++){let H=A[z],U=A[z-1],X=E[z],Q=E[z-1];H!=null&&U!=null&&(L=Math.max(L,H-U)),X!=null&&Q!=null&&(P=Math.max(P,X-Q))}let R=new yt(0,0,C,S),V=new yt(0,0,L,P);return{minRect:R,minVisibleRect:V}}updateHighlightSelectionItem(t){let{opts:{hasMarkers:e}}=this,{items:n,highlightSelection:r}=t,l=n??[];if(e){let c=r;return this.updateMarkerSelection({nodeData:l,markerSelection:c,seriesIdx:-1})}else return this.updateDatumSelection({nodeData:l,datumSelection:r,seriesIdx:-1})}updateHighlightSelectionLabel(t){var e;return this.updateLabelSelection({labelData:(e=t.items)!=null?e:[],labelSelection:t.highlightLabelSelection,seriesIdx:-1})}updateDatumSelection(t){return ve(this,null,function*(){return t.datumSelection})}updateDatumNodes(t){return ve(this,null,function*(){})}updateMarkerSelection(t){return ve(this,null,function*(){return t.markerSelection})}updateMarkerNodes(t){return ve(this,null,function*(){})}updatePaths(t){return ve(this,null,function*(){t.paths.forEach(e=>e.visible=!1)})}updatePathNodes(t){return ve(this,null,function*(){let{paths:e,opacity:n,visible:r}=t;for(let l of e)l.opacity=n,l.visible=r})}resetAllAnimation(t){var e,n;let{path:r,datum:l,label:c,marker:h}=(n=(e=this.opts)==null?void 0:e.animationResetFns)!=null?n:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),r&&t.paths.forEach(p=>{kr(p,r)}),l&&kr(t.datumSelections,l),c&&kr(t.labelSelections,c),h&&kr(t.markerSelections,h),t.contextData.some(p=>p.animationValid===!1)&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){var e,n;let{datum:r}=(n=(e=this.opts)==null?void 0:e.animationResetFns)!=null?n:{};r&&kr([t],r)}animateReadyHighlightMarkers(t){var e,n;let{marker:r}=(n=(e=this.opts)==null?void 0:e.animationResetFns)!=null?n:{};r&&kr([t],r)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(t,e){return{datumSelections:this.subGroups.map(({datumSelection:r})=>r),markerSelections:this.subGroups.filter(({markerSelection:r})=>r!==void 0).map(({markerSelection:r})=>r),labelSelections:this.subGroups.map(({labelSelection:r})=>r),annotationSelections:[...this.annotationSelections],contextData:this._contextNodeData,previousContextData:e,paths:this.subGroups.map(({paths:r})=>r),seriesRect:t}}calculateScaling(){let t={},e=n=>{let r=this.axes[n];if(r){if(r.scale instanceof RI){let{range:l,domain:c}=r.scale;t[n]={type:"log",convert:h=>r.scale.convert(h),domain:[c[0],c[1]],range:[l[0],l[1]]}}else if(r.scale instanceof Ln){let{range:l}=r.scale,c=r.scale.getDomain();t[n]={type:"continuous",domain:[c[0],c[1]],range:[l[0],l[1]]}}else if(r.scale){let{domain:l}=r.scale;t[n]={type:"category",domain:l,range:l.map(c=>r.scale.convert(c))}}}};return e("x"),e("y"),t}},kwe=["top","right","bottom","left"],tO=class fX extends R1{constructor(e,n){super(e,n),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisWidths={top:0,bottom:0,left:0,right:0},this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}destroySeries(e){super.destroySeries(e),this.firstSeriesTranslation=!0}performLayout(){return ve(this,null,function*(){let e=yield Ja(fX.prototype,this,"performLayout").call(this),{firstSeriesTranslation:n,seriesRoot:r}=this,{animationRect:l,seriesRect:c,visibility:h,clipSeries:p}=this.updateAxes(e);this.seriesRoot.visible=h.series,this.seriesRect=c,this.animationRect=l;let{x:m,y:g}=c;if(n)r.translationX=Math.floor(m),r.translationY=Math.floor(g),this.firstSeriesTranslation=!1;else{let{translationX:C,translationY:S}=r;cc(this.id,"seriesRect",this.animationManager,[this.seriesRoot],{translationX:C,translationY:S},{translationX:Math.floor(m),translationY:Math.floor(g)},{phase:"update"})}let y=c.clone().grow(this.seriesArea.padding);this.hoverRect=y,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:p,series:{rect:c,paddedRect:y,visible:h.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map(C=>he({id:C.id},C.getLayoutState()))});let _=this.modulesManager.mapModules(C=>{var S;return(S=C.performCartesianLayout)==null?void 0:S.call(C,{seriesRect:c})});return yield Promise.all(_),e})}updateAxes(e){var n;let r=this.axes.flatMap(R=>{var V;return(V=R.crossLines)!=null?V:[]}).map(R=>R.id),l=this._lastCrossLineIds!=null&&this._lastCrossLineIds.length===r.length&&this._lastCrossLineIds.every((R,V)=>r[V]===R),c,h,p;l?(c=he({},this._lastAxisWidths),h=this._lastClipSeries,p=he({},this._lastVisibility)):(c={top:0,bottom:0,left:0,right:0},h=!1,p={crossLines:!0,series:!0},this._lastCrossLineIds=r);let m=new Set(this.axes.map(R=>R.position));for(let R of Object.keys(c))m.has(R)||delete c[R];let g=(R,V,z)=>Object.keys(R).some(H=>c[H]==null)?!1:p.crossLines===z.crossLines&&p.series===z.series&&Object.entries(c).every(([H,U])=>{let X=R[H];return U!=null||X!=null?U===X:!0})&&h===V,y=R=>Wk(R,V=>V&&Math.abs(V)===1/0?0:V!=null?Math.ceil(V):V),_={},C={},S=!1,A=(n=this.seriesRect)==null?void 0:n.clone(),E=0,L={};do{Object.assign(c,_),h=S,Object.assign(p,C);let R=this.updateAxesPass(c,e.clone(),A);if(_=y(R.axisWidths),C=R.visibility,S=R.clipSeries,A=R.seriesRect,L=R.primaryTickCounts,E++>10){Le.warn("unable to find stable axis layout.");break}}while(!g(_,S,C));this.axes.forEach(R=>{R.update(L[R.direction])});let P=5;return this.axes.forEach(R=>{if(R.setCrossLinesVisible(p.crossLines),!!A)switch(R.clipGrid(A.x,A.y,A.width+P,A.height+P),R.position){case"left":case"right":R.clipTickLines(e.x,A.y,e.width+P,A.height+P);break;case"top":case"bottom":R.clipTickLines(A.x,e.y,A.width+P,e.height+P);break}}),this._lastAxisWidths=c,this._lastVisibility=p,{seriesRect:A,animationRect:e,visibility:p,clipSeries:h}}updateAxesPass(e,n,r){let l={},c={},h={series:!0,crossLines:!0},p=!1,m={},g=this.applySeriesPadding(n),y=r?this.buildCrossLinePadding(e):{},_=this.buildAxisBound(g,e,y,h),C=this.buildSeriesRect(_,e);return this.axes.forEach(S=>{var A,E;let{position:L="left"}=S,{clipSeries:P,axisThickness:R,axisOffset:V}=this.calculateAxisDimensions({axis:S,seriesRect:C,paddedBounds:g,axisWidths:e,newAxisWidths:c,primaryTickCounts:m,clipSeries:p,addInterAxisPadding:((A=l[L])!=null?A:0)>0});l[L]=((E=l[L])!=null?E:0)+1,p=p||P,this.positionAxis({axis:S,axisBound:_,axisOffset:V,axisThickness:R,axisWidths:e,primaryTickCounts:m,seriesRect:C})}),{clipSeries:p,seriesRect:C,axisWidths:c,visibility:h,primaryTickCounts:m}}buildCrossLinePadding(e){var n;let r={};this.axes.forEach(l=>{l.crossLines&&l.crossLines.forEach(c=>{var h;(h=c.calculatePadding)==null||h.call(c,r)})});for(let[l,c=0]of Object.entries(r))r[l]=Math.max(c-((n=e[l])!=null?n:0),0);return r}applySeriesPadding(e){let n=e.clone(),r=this.axes.slice().reverse();return kwe.forEach(l=>{let c=this.seriesArea.padding[l],h=r.find(p=>p.position===l);h?h.seriesAreaPadding=c:n.shrink(c,l)}),n}buildAxisBound(e,n,r,l){var c,h,p,m;let g=e.clone(),{top:y=0,right:_=0,bottom:C=0,left:S=0}=r,A=S+_,E=y+C,L=((c=n.left)!=null?c:0)+((h=n.right)!=null?h:0)+A,P=((p=n.top)!=null?p:0)+((m=n.bottom)!=null?m:0)+E;return g.width<=L||g.height<=P?(l.crossLines=!1,l.series=!1,g):(g.x+=S,g.y+=y,g.width-=A,g.height-=E,g)}buildSeriesRect(e,n){let r=e.clone(),{top:l,bottom:c,left:h,right:p}=n;return r.x+=h??0,r.y+=l??0,r.width-=(h??0)+(p??0),r.height-=(l??0)+(c??0),r.width=Math.max(0,r.width),r.height=Math.max(0,r.height),r}clampToOutsideSeriesRect(e,n,r,l){let{x:c,y:h,width:p,height:m}=e,y=[c,h,c+p,h+m][(r==="x"?0:1)+(l===1?0:2)];return(l===1?Math.min:Math.max)(n,y)}calculateAxisDimensions(e){var n,r,l,c;let{axis:h,seriesRect:p,paddedBounds:m,axisWidths:g,newAxisWidths:y,primaryTickCounts:_,addInterAxisPadding:C}=e,{clipSeries:S}=e,{position:A="left",direction:E}=h,L=h instanceof $h||h instanceof zh,P=A==="left"||A==="right",R=(n=y[A])!=null?n:0,{min:V,max:z}=this.zoomManager.getAxisZoom(h.id);P?(L?(h.range=[0,p.height],h.visibleRange=[1-z,1-V]):(h.range=[p.height,0],h.visibleRange=[V,z]),h.gridLength=p.width):(h.range=[0,p.width],h.visibleRange=[V,z],h.gridLength=p.height);let H=h.nice?_[E]:void 0,U=E==="y",X=.3;h.thickness?h.maxThickness=h.thickness:h.maxThickness=(U?m.width:m.height)*X;let Q=h.calculateLayout(H);H=Q.primaryTickCount,(r=_[E])!=null||(_[E]=H),S||(S=h.dataDomain.clipped||h.visibleRange[0]>0||h.visibleRange[1]<1);let Z;if(h.thickness!=null&&h.thickness>0)Z=h.thickness;else{let{bbox:ne}=Q;Z=U?ne.width:ne.height}return C&&(Z+=15),Z=Math.ceil(Z),y[A]=((l=y[A])!=null?l:0)+Z,h.gridPadding=((c=g[A])!=null?c:0)-y[A],{clipSeries:S,axisThickness:Z,axisOffset:R,primaryTickCount:H}}positionAxis(e){var n,r,l,c;let{axis:h,axisBound:p,axisWidths:m,seriesRect:g,axisOffset:y,axisThickness:_}=e,{position:C}=h;switch(C){case"top":h.translation.x=p.x+((n=m.left)!=null?n:0),h.translation.y=this.clampToOutsideSeriesRect(g,p.y+1+y+_,"y",1);break;case"bottom":h.translation.x=p.x+((r=m.left)!=null?r:0),h.translation.y=this.clampToOutsideSeriesRect(g,p.y+p.height+1-_-y,"y",-1);break;case"left":h.translation.y=p.y+((l=m.top)!=null?l:0),h.translation.x=this.clampToOutsideSeriesRect(g,p.x+y+_,"x",1);break;case"right":h.translation.y=p.y+((c=m.top)!=null?c:0),h.translation.x=this.clampToOutsideSeriesRect(g,p.x+p.width-_-y,"x",-1);break}h.updatePosition({rotation:ds(h.rotation),sideFlag:h.label.getSideFlag()})}shouldFlipXY(){return!this.series.some(e=>!(e instanceof Kh&&e.shouldFlipXY()))}};tO.className="CartesianChart";tO.type="cartesian";var Dwe=tO,Zx=class mX{static isInstance(e){var n;return e instanceof mX||((n=e.constructor)==null?void 0:n.name)==="AgChartInstanceProxy"&&e.chart!=null?!0:e.chart!=null&&this.validateImplementation(e)}static validateImplementation(e){var n;let r=["getOptions","destroy"],l=Object.keys((n=Object.getPrototypeOf(e))!=null?n:{});return r.every(c=>l.includes(c))}constructor(e){this.chart=e}getOptions(){return hs(this.chart.getOptions())}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.destroy()}};Zx.chartInstances=new WeakMap;B([no({oldValue(t){Zx.chartInstances.delete(t)},newValue(t){Zx.chartInstances.set(t,this)}})],Zx.prototype,"chart",2);var qg=Zx,rc=class extends Ln{constructor(){super([0,1],[0,1]),this.type="linear"}toDomain(t){return t}ticks(){var t;let e=(t=this.tickCount)!=null?t:Ln.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||this.domain.some(c=>!isFinite(c)))return[];this.refresh();let[n,r]=this.getDomain(),{interval:l}=this;if(l){let c=Math.abs(l),h=this.getPixelRange();if(!l1({start:n,stop:r,interval:c,availableRange:h}))return a1(n,r,c)}return tD(n,r,e,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(t,e){var n,r;let l=(n=this.tickCount)!=null?n:Ln.defaultTickCount;return(r=this.interval)!=null?r:a0(t,e,l,this.minTickCount,this.maxTickCount)}updateNiceDomain(){var t;let e=(t=this.tickCount)!=null?t:Ln.defaultTickCount;if(e<1){this.niceDomain=[...this.domain];return}let[n,r]=this.domain;if(e===1)[n,r]=Ibe(n,r);else{let l=n>r?Math.ceil:Math.floor,c=r<n?Math.floor:Math.ceil,h=4;for(let p=0;p<h;p++){let m=n,g=r,y=this.getTickStep(n,r),[_,C]=this.domain;if(y>=1)n=l(_/y)*y,r=c(C/y)*y;else{let S=1/y;n=l(_*S)/S,r=c(C*S)/S}if(n===m&&r===g)break}}this.niceDomain=[n,r]}tickFormat({ticks:t,specifier:e}){return rY(t??this.ticks(),e)}};function Swe(t,e,n){let[r,l]=Qa(t);r=Twe(Math.floor(r),l,e);let c=Mwe(r,l,e),h=e-1;l=r+h*c;let p=n?[l,r]:[r,l],m=Awe(r,c,e);return[p,m]}function Twe(t,e,n){let r=Math.abs(e-t)/(n-1),l=Math.floor(Math.log10(r)),c=Math.pow(10,l);return Math.floor(t/c)*c}function Awe(t,e,n){let r=Math.floor(Math.log10(e)),l=e>0&&e<1?Math.abs(r):0,c=Math.pow(10,l),h=o1(l);for(let p=0;p<n;p++){let m=t+e*p;h[p]=Math.round(m*c)/c}return h}function Mwe(t,e,n){let r=n-1,l=(e-t)/r;return Ewe(l)}function Ewe(t){let e=Math.floor(Math.log10(t)),n=Math.pow(10,e),r=t/n*10;return r>0&&r<=1?n/10:r>1&&r<=2?2*n/10:r>1&&r<=5?5*n/10:r>5&&r<=10?10*n/10:r>10&&r<=20?20*n/10:r>20&&r<=40?40*n/10:r>40&&r<=50?50*n/10:r>50&&r<=100?100*n/10:r}var gX=class extends ol{constructor(){super(...arguments),this.maxSpacing=NaN}};B([G(SI),Iu(NaN)],gX.prototype,"maxSpacing",2);var C0=class extends I1{constructor(t,e=new rc){super(t,e),this.min=NaN,this.max=NaN}normaliseDataDomain(t){let{min:e,max:n}=this,{extent:r,clipped:l}=C1(t,e,n);return{domain:r,clipped:l}}formatDatum(t){return typeof t=="number"?t.toFixed(2):(Le.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(t))}createTick(){return new gX}updateSecondaryAxisTicks(t){if(this.dataDomain==null)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(this.dataDomain.domain.length===0)return[];let[e,n]=Swe(this.dataDomain.domain,t??0,this.reverse);return this.scale.nice=!1,this.scale.domain=e,this.scale.update(),n}};C0.className="NumberAxis";C0.type="number";B([G(Ca(v0,y0("max"))),Iu(NaN)],C0.prototype,"min",2);B([G(Ca(v0,x0("min"))),Iu(NaN)],C0.prototype,"max",2);var vX=Zn(t=>Vo(t)&&t!==0,"a non-zero number"),df=class extends C0{constructor(t){super(t,new RI),this.min=NaN,this.max=NaN}normaliseDataDomain(t){let{min:e,max:n}=this,{extent:r,clipped:l}=C1(t,e,n),c=r[0]>r[1],h=r[0]<0&&r[1]>0,p=r[0]===0&&r[1]===0;return(c||h||p)&&(h?Le.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):p&&Le.warn("the data domain has 0 extent, no data is rendered.")),r[0]===0&&(r[0]=1),r[1]===0&&(r[1]=-1),{domain:r,clipped:l}}set base(t){this.scale.base=t}get base(){return this.scale.base}};df.className="LogAxis";df.type="log";B([G(Ca(v0,vX,y0("max"))),Iu(NaN)],df.prototype,"min",2);B([G(Ca(v0,vX,x0("min"))),Iu(NaN)],df.prototype,"max",2);var yX=class extends ol{constructor(){super(...arguments),this.maxSpacing=NaN}};B([G(SI),Iu(NaN)],yX.prototype,"maxSpacing",2);var k0=class extends I1{constructor(t){super(t,new c1),this.datumFormat="%m/%d/%y, %H:%M:%S",this.min=void 0,this.max=void 0;let{scale:e}=this;this.refreshScale(),this.datumFormatter=e.tickFormat({specifier:this.datumFormat})}normaliseDataDomain(t){var e;let{min:n,max:r}=this,l=!1;return typeof n=="number"&&(n=new Date(n)),typeof r=="number"&&(r=new Date(r)),t.length>2&&(t=((e=ac(t))!=null?e:[0,1e3]).map(c=>new Date(c))),n instanceof Date&&(l||(l=n>t[0]),t=[n,t[1]]),r instanceof Date&&(l||(l=r<t[1]),t=[t[0],r]),t[0]>t[1]&&(t=[]),{domain:t,clipped:l}}createTick(){return new yX}onLabelFormatChange(t,e){e?super.onLabelFormatChange(t,e):this.labelFormatter=this.scale.tickFormat({ticks:t})}formatDatum(t){var e;return(e=this.moduleCtx.callbackCache.call(this.datumFormatter,t))!=null?e:String(t)}calculatePadding(t,e,n){return n?[1,0]:[0,1]}};k0.className="TimeAxis";k0.type="time";B([G(Ca(_I,y0("max")),{optional:!0})],k0.prototype,"min",2);B([G(Ca(_I,x0("min")),{optional:!0})],k0.prototype,"max",2);var cU=1e-6,ok=(t,e,n,r,l)=>{let c=!1,h=!1,p=r-Math.sqrt(Math.max(Gt(l,2)-Gt(n,2),0)),m=0,g=0,y=n-Math.sqrt(Math.max(Gt(l,2)-Gt(r,2),0));return p>t?(c=!0,p=t,m=n-Math.sqrt(Math.max(Gt(l,2)-Gt(r-t,2)))):p<cU&&(p=0),y>e?(h=!0,g=r-Math.sqrt(Math.max(Gt(l,2)-Gt(n-e,2))),y=e):y<cU&&(y=0),{leading0:p,leading1:m,trailing0:g,trailing1:y,leadingClipped:c,trailingClipped:h}},ak=(t,{x0:e,y0:n,x1:r,y1:l,cx:c,cy:h},p,m)=>{if(m&&t.moveTo(e,n),e!==r||n!==l){let g=Math.atan2(n-h,e-c),y=Math.atan2(l-h,r-c);t.arc(c,h,p,g,y)}else t.lineTo(e,n)},wL=(t,e,n,r,l,c,h)=>{let{topLeft:p,topRight:m,bottomRight:g,bottomLeft:y}=c,_=Math.max(p+y,m+g),C=Math.max(p+m,y+g);if(_<=0&&C<=0){t.rect(e,n,r,l);return}else if(h==null&&p===m&&p===g&&p===y){t.roundRect(e,n,r,l,p);return}if(r<0&&(e+=r,r=Math.abs(r)),l<0&&(n+=l,l=Math.abs(l)),h!=null){let X=Math.max(e,h.x),Q=Math.min(e+r,h.x+h.width),Z=Math.max(n,h.y),ie=Math.min(n+l,h.y+h.height);e=X,n=Z,r=Q-X,l=ie-Z}if(r<=0||l<=0)return;h??(h=new yt(e,n,r,l));let S=Math.max(_/h.height,C/h.width,1);S>1&&(p/=S,m/=S,g/=S,y/=S);let A=!0,E=!0,L=!0,P=!0,R,V,z,H;if(A){let X=ok(l,r,Math.max(h.x+p-e,0),Math.max(h.y+p-n,0),p);X.leadingClipped&&(P=!1),X.trailingClipped&&(E=!1);let Q=Math.max(e+X.leading1,e),Z=Math.max(n+X.leading0,n),ie=Math.max(e+X.trailing1,e),ne=Math.max(n+X.trailing0,n),de=h.x+p,ue=h.y+p;R={x0:Q,y0:Z,x1:ie,y1:ne,cx:de,cy:ue}}if(E){let X=ok(r,l,Math.max(h.y+m-n,0),Math.max(e+r-(h.x+h.width-m),0),m);X.leadingClipped&&(A=!1),X.trailingClipped&&(L=!1);let Q=Math.min(e+r-X.leading0,e+r),Z=Math.max(n+X.leading1,n),ie=Math.min(e+r-X.trailing0,e+r),ne=Math.max(n+X.trailing1,n),de=h.x+h.width-m,ue=h.y+m;V={x0:Q,y0:Z,x1:ie,y1:ne,cx:de,cy:ue}}if(L){let X=ok(l,r,Math.max(e+r-(h.x+h.width-g),0),Math.max(n+l-(h.y+h.height-g),0),g);X.leadingClipped&&(E=!1),X.trailingClipped&&(P=!1);let Q=Math.min(e+r-X.leading1,e+r),Z=Math.min(n+l-X.leading0,n+l),ie=Math.min(e+r-X.trailing1,e+r),ne=Math.min(n+l-X.trailing0,n+l),de=h.x+h.width-g,ue=h.y+h.height-g;z={x0:Q,y0:Z,x1:ie,y1:ne,cx:de,cy:ue}}if(P){let X=ok(r,l,Math.max(n+l-(h.y+h.height-y),0),Math.max(h.x+y-e,0),y);X.leadingClipped&&(L=!1),X.trailingClipped&&(A=!1);let Q=Math.max(e+X.leading0,e),Z=Math.min(n+l-X.leading1,n+l),ie=Math.max(e+X.trailing0,e),ne=Math.min(n+l-X.trailing1,n+l),de=h.x+y,ue=h.y+h.height-y;H={x0:Q,y0:Z,x1:ie,y1:ne,cx:de,cy:ue}}let U=!1;A&&R!=null&&(ak(t,R,p,!U),U||(U=!0)),E&&V!=null&&(ak(t,V,m,!U),U||(U=!0)),L&&z!=null&&(ak(t,z,g,!U),U||(U=!0)),P&&H!=null&&(ak(t,H,y,!U),U||(U=!0)),t.closePath()},Zr=class extends Wo{constructor(){super(...arguments),this.borderPath=new c0,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.cornerRadiusBbox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=wa.defaultStyles.strokeWidth,this.effectiveStrokeWidth=wa.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.microPixelEffectOpacity=1}set cornerRadius(t){this.topLeftCornerRadius=t,this.topRightCornerRadius=t,this.bottomRightCornerRadius=t,this.bottomLeftCornerRadius=t}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth?!0:!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var t,e,n;let{path:r,borderPath:l,crisp:c,topLeftCornerRadius:h,topRightCornerRadius:p,bottomRightCornerRadius:m,bottomLeftCornerRadius:g}=this,{x:y,y:_,width:C,height:S,strokeWidth:A,cornerRadiusBbox:E}=this,P=1/((e=(t=this.layerManager)==null?void 0:t.canvas.pixelRatio)!=null?e:1),R=1;if(r.clear({trackChanges:!0}),l.clear({trackChanges:!0}),c&&(C<=P&&(R*=C/P),S<=P&&(R*=S/P),C=this.align(y,C),S=this.align(_,S),y=this.align(y),_=this.align(_),E=E!=null?new yt(this.align(E.x),this.align(E.y),this.align(E.x,E.width),this.align(E.y,E.height)):void 0),A)if(C<P){let V=y+P/2;l.moveTo(V,_),l.lineTo(V,_+S),A=P,this.borderClipPath=void 0}else if(S<P){let V=_+P/2;l.moveTo(y,V),l.lineTo(y+C,V),A=P,this.borderClipPath=void 0}else if(A<C&&A<S){let V=A/2;y+=V,_+=V,C-=A,S-=A;let z=E?.clone().shrink(V),H={topLeft:h>0?h-A:0,topRight:p>0?p-A:0,bottomRight:m>0?m-A:0,bottomLeft:g>0?g-A:0};this.borderClipPath=void 0,wL(r,y,_,C,S,H,z),wL(l,y,_,C,S,H,z)}else this.borderClipPath=(n=this.borderClipPath)!=null?n:new c0,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(y,_,C,S),l.rect(y,_,C,S);else{let V={topLeft:h,topRight:p,bottomRight:m,bottomLeft:g};this.borderClipPath=void 0,wL(r,y,_,C,S,V,E)}[h,p,m,g].every(V=>V===0)?this.hittester=(V,z)=>{let H=this.transformPoint(V,z);return this.getCachedBBox().containsPoint(H.x,H.y)}:this.hittester=super.isPointInPath,this.effectiveStrokeWidth=A,this.lastUpdatePathStrokeWidth=A,this.microPixelEffectOpacity=R}computeBBox(){let{x:t,y:e,width:n,height:r}=this;return new yt(t,e,n,r)}isPointInPath(t,e){return this.hittester(t,e)}applyFillAlpha(t){let{fillOpacity:e,microPixelEffectOpacity:n,opacity:r}=this,{globalAlpha:l}=t;t.globalAlpha=l*r*e*n}renderStroke(t){let{stroke:e,effectiveStrokeWidth:n,borderPath:r,borderClipPath:l,opacity:c,microPixelEffectOpacity:h}=this;if(!!e&&!!n){let{strokeOpacity:m,lineDash:g,lineDashOffset:y,lineCap:_,lineJoin:C}=this;l&&(l.draw(t),t.clip()),r.draw(t);let{globalAlpha:S}=t;t.strokeStyle=e,t.globalAlpha=S*c*m*h,t.lineWidth=n,g&&t.setLineDash(g),y&&(t.lineDashOffset=y),_&&(t.lineCap=_),C&&(t.lineJoin=C),t.stroke(),t.globalAlpha=S}}};Zr.className="Rect";B([Vt()],Zr.prototype,"x",2);B([Vt()],Zr.prototype,"y",2);B([Vt()],Zr.prototype,"width",2);B([Vt()],Zr.prototype,"height",2);B([Vt()],Zr.prototype,"topLeftCornerRadius",2);B([Vt()],Zr.prototype,"topRightCornerRadius",2);B([Vt()],Zr.prototype,"bottomRightCornerRadius",2);B([Vt()],Zr.prototype,"bottomLeftCornerRadius",2);B([Vt()],Zr.prototype,"cornerRadiusBbox",2);B([Vt()],Zr.prototype,"crisp",2);var F1=class extends Hk{constructor(t){super(),this.node=new et({name:"background",zIndex:0}),this.rectNode=new Zr,this.visible=!0,this.fill="white",this.node.appendChild(this.rectNode),this.destroyFns.push(t.scene.attachNode(this.node),t.layoutService.addListener("layout-complete",e=>this.onLayoutComplete(e)))}onLayoutComplete(t){let{width:e,height:n}=t.chart;this.rectNode.width=e,this.rectNode.height=n}};B([G(Ct),ii("node","visible")],F1.prototype,"visible",2);B([G(Dn,{optional:!0}),ii("rectNode","fill")],F1.prototype,"fill",2);B([G(qe,{optional:!0})],F1.prototype,"image",2);var xX={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology"],instanceConstructor:F1};function Lwe({orientation:t,bboxes:e,maxHeight:n,maxWidth:r,itemPaddingY:l=0,itemPaddingX:c=0,forceResult:h=!1}){let p=t==="horizontal",m={max:p?r:n,fn:p?C=>C.width:C=>C.height,padding:p?c:l},g={max:p?n:r,fn:p?C=>C.height:C=>C.width,padding:p?l:c},y=0,_=[];for(;y<e.length;){let C=e.slice(y),S=Iwe(C,y,m,g,h);if(!S)return;y+=S.processedBBoxCount,_.push(S.pageIndices)}return Rwe(_,t,e,l,c)}function Iwe(t,e,n,r,l){let h=Fwe(t,n);if(h<1){if(!l)return;h=1}let p=h;for(;p>=1;){let m=Owe(t,e,p,n,r,l);if(m==null&&p<=1)return;if(m==null){p--;continue}if(typeof m=="number"){if(m<=1)return;p=m<p&&m>1?m:p,p--;continue}return{processedBBoxCount:m.length*m[0].length,pageIndices:m}}}function Owe(t,e,n,r,l,c){var h;let p=[],m=0,g=0,y=[],_=[];for(let C=0;C<t.length;C++){let S=(C+n)%n;S===0&&(m+=g,g=0,y.length>0&&p.push(y),y=[]);let A=r.fn(t[C])+r.padding;_[S]=Math.max((h=_[S])!=null?h:0,A),g=Math.max(g,l.fn(t[C])+l.padding);let E=m+g,L=!c||p.length>0;if(E>l.max&&L){y=[];break}if(_.reduce((R,V)=>R+V,0)>r.max&&!c)return _.length<n?_.length:void 0;y.push(C+e)}return y.length>0&&p.push(y),p.length>0?p:void 0}function Rwe(t,e,n,r,l){let c=0,h=0;return{pages:t.map(m=>{e==="horizontal"&&(m=Pwe(m));let g=0,y=m.map(S=>{let A=S.map(P=>(g=Math.max(P,g),n[P])),E=0,L=0;return A.forEach(P=>{E+=P.height+r,L=Math.max(L,P.width+l)}),{indices:S,bboxes:A,columnHeight:Math.ceil(E),columnWidth:Math.ceil(L)}}),_=0,C=0;return y.forEach(S=>{_+=S.columnWidth,C=Math.max(C,S.columnHeight)}),c=Math.max(_,c),h=Math.max(C,h),{columns:y,startIndex:m[0][0],endIndex:g,pageWidth:_,pageHeight:C}}),maxPageWidth:c,maxPageHeight:h}}function Pwe(t){let e=[];for(let n of t[0])e.push([]);return t.forEach((n,r)=>{n.forEach((l,c)=>{e[c][r]=l})}),e}function Fwe(t,e){let n=t.length,r=0;for(let l=0;l<n;l++)if(r+=e.fn(t[l])+e.padding,r>e.max)return n/l<2?Math.ceil(n/2):l;return n}var dr=class extends et{constructor(){super({name:"markerLabelGroup"}),this.label=new an,this.line=new Dr,this._marker=new u0,this._markerSize=15,this._spacing=8;let{marker:t,label:e,line:n}=this;e.textBaseline="middle",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.y=1,this.append([n,t,e]),this.update()}set marker(t){this._marker!==t&&(this.removeChild(this._marker),this._marker=t,this.appendChild(t),this.update())}get marker(){return this._marker}set markerSize(t){this._markerSize!==t&&(this._markerSize=t,this.update())}get markerSize(){return this._markerSize}set spacing(t){this._spacing!==t&&(this._spacing=t,this.update())}get spacing(){return this._spacing}setSeriesStrokeOffset(t){let e=this.marker.size/2+t;this.line.x1=-e,this.line.x2=e,this.line.y1=0,this.line.y2=0,this.line.markDirtyTransform(),this.update()}update(){let{markerSize:t}=this,e=this.marker.constructor.center;this.marker.size=t,this.marker.x=(e.x-.5)*t,this.marker.y=(e.y-.5)*t;let n=this.line.visible?this.line.x2:-1/0,r=t/2;this.label.x=Math.max(n,r)+this.spacing}render(t){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,this.line.opacity=this.opacity,super.render(t)}};dr.className="MarkerLabel";B([ii("label")],dr.prototype,"text",2);B([ii("label")],dr.prototype,"fontStyle",2);B([ii("label")],dr.prototype,"fontWeight",2);B([ii("label")],dr.prototype,"fontSize",2);B([ii("label")],dr.prototype,"fontFamily",2);B([ii("label","fill")],dr.prototype,"color",2);B([ii("marker","fill")],dr.prototype,"markerFill",2);B([ii("marker","stroke")],dr.prototype,"markerStroke",2);B([ii("marker","strokeWidth")],dr.prototype,"markerStrokeWidth",2);B([ii("marker","fillOpacity")],dr.prototype,"markerFillOpacity",2);B([ii("marker","strokeOpacity")],dr.prototype,"markerStrokeOpacity",2);B([ii("marker","visible")],dr.prototype,"markerVisible",2);B([ii("line","stroke")],dr.prototype,"lineStroke",2);B([ii("line","strokeWidth")],dr.prototype,"lineStrokeWidth",2);B([ii("line","strokeOpacity")],dr.prototype,"lineStrokeOpacity",2);B([ii("line","lineDash")],dr.prototype,"lineLineDash",2);B([ii("line","visible")],dr.prototype,"lineVisible",2);var D0=class extends dn{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};B([G(Dn)],D0.prototype,"color",2);B([G(Gh,{optional:!0})],D0.prototype,"fontStyle",2);B([G(Wh,{optional:!0})],D0.prototype,"fontWeight",2);B([G(Ae)],D0.prototype,"fontSize",2);B([G(Re)],D0.prototype,"fontFamily",2);var ku=class extends dn{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};B([G(Ae)],ku.prototype,"size",2);B([G(Dn,{optional:!0})],ku.prototype,"fill",2);B([G(In,{optional:!0})],ku.prototype,"fillOpacity",2);B([G(Dn,{optional:!0})],ku.prototype,"stroke",2);B([G(Ae)],ku.prototype,"strokeWidth",2);B([G(In)],ku.prototype,"strokeOpacity",2);var lD=class extends dn{constructor(t){super(),this.parent=t,this.shape=r0,this.size=15,this.padding=8}};B([no({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],lD.prototype,"shape",2);B([G(Ae)],lD.prototype,"size",2);B([G(Ae)],lD.prototype,"padding",2);var pf=class extends dn{constructor(t,e,n,r){super(),this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.regionManager=n,this.cursorManager=r,this.id=lc(this),this.marker=new lD(this),this.activeStyle=new ku,this.inactiveStyle=new ku,this.highlightStyle=new ku,this.label=new D0,this.group=new et({name:"pagination"}),this.labelNode=new an,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new r0,this._previousButton=new r0,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);let l=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(l.addListener("click",c=>this.onPaginationClick(c)),l.addListener("hover",c=>this.onPaginationMouseMove(c))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(t=>t())}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(t){this._enabled=t,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(t){switch(this._orientation=t,t){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}set nextButton(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))}get nextButton(){return this._nextButton}set previousButton(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){let{size:t,padding:e}=this.marker;this.nextButton.size=t,this.previousButton.size=t,this.labelNode.x=t/2+e}updateNextButtonPosition(){let t=this.labelNode.computeBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding}updateLabel(){let{currentPage:t,totalPages:e,labelNode:n,label:{color:r,fontStyle:l,fontWeight:c,fontSize:h,fontFamily:p}}=this;n.text=`${t+1} / ${e}`,n.fill=r,n.fontStyle=l,n.fontWeight=c,n.fontSize=h,n.fontFamily=p}updateMarkers(){let{nextButton:t,previousButton:e,nextButtonDisabled:n,previousButtonDisabled:r,activeStyle:l,inactiveStyle:c,highlightStyle:h,highlightActive:p}=this,m=(g,y)=>y?c:g===p?h:l;this.updateMarker(t,m("next",n)),this.updateMarker(e,m("previous",r))}updateMarker(t,e){var n;let{size:r}=this.marker;t.size=r,t.fill=e.fill,t.fillOpacity=(n=e.fillOpacity)!=null?n:1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity}enableOrDisableButtons(){let{currentPage:t,totalPages:e}=this,n=e===0,r=t===e-1,l=t===0;this.nextButtonDisabled=r||n,this.previousButtonDisabled=l||n}nextButtonContainsPoint(t,e){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,e)}previousButtonContainsPoint(t,e){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,e)}onPaginationClick(t){let{offsetX:e,offsetY:n}=t;this.nextButtonContainsPoint(e,n)?(this.incrementPage(),this.onPaginationChanged(),t.consume()):this.previousButtonContainsPoint(e,n)&&(this.decrementPage(),this.onPaginationChanged(),t.consume())}onPaginationMouseMove(t){let{offsetX:e,offsetY:n}=t;this.nextButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){let t=oc(this.marker.shape||r0);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(t){t.append(this.group)}computeBBox(){return this.group.computeBBox()}};pf.className="Pagination";B([G(qe)],pf.prototype,"marker",2);B([G(qe)],pf.prototype,"activeStyle",2);B([G(qe)],pf.prototype,"inactiveStyle",2);B([G(qe)],pf.prototype,"highlightStyle",2);B([G(qe)],pf.prototype,"label",2);var Zh=class extends dn{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}};B([G(Ae,{optional:!0})],Zh.prototype,"maxLength",2);B([G(Dn)],Zh.prototype,"color",2);B([G(Gh,{optional:!0})],Zh.prototype,"fontStyle",2);B([G(Wh,{optional:!0})],Zh.prototype,"fontWeight",2);B([G(Ae)],Zh.prototype,"fontSize",2);B([G(Re)],Zh.prototype,"fontFamily",2);B([G(jo,{optional:!0})],Zh.prototype,"formatter",2);var S0=class extends dn{constructor(){super(...arguments),this.size=15,this.padding=8,this.enabled=!0}};B([Uh(t=>{var e;return(e=t.parent)==null?void 0:e.onMarkerShapeChange()})],S0.prototype,"shape",2);B([G(Ae)],S0.prototype,"size",2);B([G(Ae)],S0.prototype,"padding",2);B([G(Ae,{optional:!0})],S0.prototype,"strokeWidth",2);B([G(Ct)],S0.prototype,"enabled",2);var nO=class extends dn{};B([G(Ae,{optional:!0})],nO.prototype,"strokeWidth",2);B([G(Ae,{optional:!0})],nO.prototype,"length",2);var Ru=class extends dn{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0,this.showSeriesStroke=!1,this.marker=new S0,this.label=new Zh,this.line=new nO}};B([G(Ae,{optional:!0})],Ru.prototype,"maxWidth",2);B([G(Ae)],Ru.prototype,"paddingX",2);B([G(Ae)],Ru.prototype,"paddingY",2);B([G(Ct)],Ru.prototype,"toggleSeriesVisible",2);B([G(Ct)],Ru.prototype,"showSeriesStroke",2);B([G(qe)],Ru.prototype,"marker",2);B([G(qe)],Ru.prototype,"label",2);B([G(qe)],Ru.prototype,"line",2);var iO=class extends dn{};B([G(jo,{optional:!0})],iO.prototype,"legendItemClick",2);B([G(jo,{optional:!0})],iO.prototype,"legendItemDoubleClick",2);var Uo=class extends dn{constructor(t){super(),this.ctx=t,this.id=lc(this),this.group=new et({name:"legend",layer:!0,zIndex:9}),this.itemSelection=Ti.select(this.group,dr),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.item=new Ru,this.listeners=new iO,this.enabled=!0,this.position="bottom",this.spacing=20,this.characterWidths=new Map,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new pf(r=>t.updateService.update(r),r=>this.updatePageNumber(r),t.regionManager,t.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;let e=9,n=t.regionManager.addRegion("legend",this.group);this.destroyFns.push(n.addListener("click",r=>this.checkLegendClick(r),e),n.addListener("dblclick",r=>this.checkLegendDoubleClick(r),e),n.addListener("hover",r=>this.handleLegendMouseMove(r)),n.addListener("leave",r=>this.handleLegendMouseExit(r),e),n.addListener("enter",r=>this.handleLegendMouseEnter(r),e),t.layoutService.addListener("start-layout",r=>this.positionLegend(r.shrinkRect)),()=>this.detachLegend())}set data(t){this._data=t,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.destroyFns.forEach(t=>t()),this.pagination.destroy()}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}getCharacterWidths(t){let{characterWidths:e}=this;if(e.has(t))return e.get(t);let n={"...":an.getTextSize("...",t).width};return e.set(t,n),n}set visible(t){this._visible=t,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(t){t.appendChild(this.group)}detachLegend(){var t;(t=this.group.parent)==null||t.removeChild(this.group)}getItemLabel(t){let{ctx:{callbackCache:e}}=this,{formatter:n}=this.item.label;return n?e.call(n,{itemId:t.itemId,value:t.label.text,seriesId:t.seriesId}):t.label.text}calcLayout(t,e){let{paddingX:n,paddingY:r,label:l,maxWidth:c,marker:{size:h,padding:p,shape:m},label:{maxLength:g=1/0,fontStyle:y,fontWeight:_,fontSize:C,fontFamily:S},line:A,showSeriesStroke:E}=this.item,L=[...this.data];this.reverseOrder&&L.reverse(),this.itemSelection.update(L);let P=[],R=l0(l),z=c??t*.8,H=h+p+n;if(this.itemSelection.each((ue,ge)=>{var De,Ce,Pe;let Ve=oc(m??ge.marker.shape),Ie=(De=ge.marker.enabled)!=null?De:this.item.marker.enabled;ue.marker&&ue.marker instanceof Ve||(ue.marker=new Ve),ue.markerSize=h,ue.spacing=p,ue.fontStyle=y,ue.fontWeight=_,ue.fontSize=C,ue.fontFamily=S;let Ne=(Ce=ge.itemId)!=null?Ce:ge.id,Xe=this.getItemLabel(ge),Qe=(Xe??"<unknown>").replace(/\r?\n/g," ");ue.text=this.truncate(Qe,g,z,H,R,Ne),E&&ge.line!==void 0?(ue.lineVisible=!0,ue.markerVisible=Ie,ue.setSeriesStrokeOffset((Pe=A.length)!=null?Pe:5)):(ue.lineVisible=!1,ue.markerVisible=!0),P.push(ue.computeBBox())}),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return!1;let U=this.size,X=this.oldSize;U[0]=t,U[1]=e,(U[0]!==X[0]||U[1]!==X[1])&&(X[0]=U[0],X[1]=U[1]);let{pages:Q,maxPageHeight:Z,maxPageWidth:ie}=this.updatePagination(P,t,e);this.pages=Q,this.maxPageSize=[ie-n,Z-r];let ne=this.pagination.currentPage,de=this.pages[ne];if(this.pages.length<1||!de){this.visible=!1;return}this.visible=!0,this.updatePositions(ne),this.update()}truncate(t,e,n,r,l,c){let h="...",p=t.split(""),m=!1;if(t.length>e&&(t=`${t.substring(0,e)}`,m=!0),Math.floor(r+an.getTextSize(t,l).width)>n){let y="",_=this.getCharacterWidths(l),C=r+_[h];for(let S of p){if(_[S]||(_[S]=an.getTextSize(S,l).width),C+=_[S],C>n)break;y+=S}t=y,m=!0}return m?(t+=h,this.truncatedItems.add(c)):this.truncatedItems.delete(c),t}updatePagination(t,e,n){let r=this.getOrientation(),l=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=r,this.pagination.translationX=0,this.pagination.translationY=0;let{pages:c,maxPageHeight:h,maxPageWidth:p,paginationBBox:m,paginationVertical:g}=this.calculatePagination(t,e,n),y=c.findIndex(R=>R.endIndex>=l);this.pagination.currentPage=kn(0,y,c.length-1);let{paddingX:_,paddingY:C}=this.item,S=8,A=p-_,E=h-C,L=0,P=-m.y-this.item.marker.size/2;return g?P+=E+S:(L+=-m.x+A+S,P+=(E-m.height)/2),this.pagination.translationX=L,this.pagination.translationY=P,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:h,maxPageWidth:p,pages:c}}calculatePagination(t,e,n){var r,l,c;let{paddingX:h,paddingY:p}=this.item,m=this.getOrientation(),g=["left","right"].includes(this.position),y=this.pagination.computeBBox(),_=new yt(0,0,0,0),C=[],S=0,A=0,E=0,L=R=>R.width===y.width&&R.height===y.height,P=this.maxWidth!==void 0||this.maxHeight!==void 0;do{if(E++>10){Le.warn("unable to find stable legend layout.");break}y=_;let R=e-(g?0:y.width),V=n-(g?y.height:0),z=Lwe({orientation:m,bboxes:t,maxHeight:V,maxWidth:R,itemPaddingY:p,itemPaddingX:h,forceResult:P});C=(r=z?.pages)!=null?r:[],S=(l=z?.maxPageWidth)!=null?l:0,A=(c=z?.maxPageHeight)!=null?c:0;let H=C.length;if(this.pagination.visible=H>1,this.pagination.totalPages=H,this.pagination.update(),_=this.pagination.computeBBox(),!this.pagination.visible)break}while(!L(_));return{maxPageWidth:S,maxPageHeight:A,pages:C,paginationBBox:y,paginationVertical:g}}updatePositions(t=0){let{item:{paddingY:e},itemSelection:n,pages:r}=this;if(r.length<1||!r[t])return;let{columns:l,startIndex:c,endIndex:h}=r[t],p=0,m=0,g=l.length,y=l[0].indices.length,_=this.getOrientation()==="horizontal",C=l[0].bboxes[0].height+e,S=[];n.each((A,E,L)=>{var P,R;if(L<c||L>h){A.visible=!1;return}let V=L-c,z=0,H=0;_?(z=V%g,H=Math.floor(V/g)):(z=Math.floor(V/y),H=V%y),A.visible=!0;let U=l[z];U&&(m=C*H,p=(P=S[H])!=null?P:0,S[H]=((R=S[H])!=null?R:0)+U.columnWidth,A.translationX=Math.floor(p),A.translationY=Math.floor(m))})}updatePageNumber(t){let{pages:e}=this,{startIndex:n,endIndex:r}=e[t];n===0?this.paginationTrackingIndex=0:t===e.length-1?this.paginationTrackingIndex=r:this.paginationTrackingIndex=Math.floor((n+r)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.ctx.updateService.update(6)}update(){let{label:{color:t},marker:e,line:n,showSeriesStroke:r}=this.item;this.itemSelection.each((l,c)=>{var h,p;let m=c.marker;l.markerFill=m.fill,l.markerStroke=m.stroke,l.markerStrokeWidth=(h=e.strokeWidth)!=null?h:Math.min(2,m.strokeWidth),l.markerFillOpacity=m.fillOpacity,l.markerStrokeOpacity=m.strokeOpacity,l.opacity=c.enabled?1:.5,l.color=t;let{line:g}=c;r&&g!==void 0&&(l.lineStroke=g.stroke,l.lineStrokeOpacity=g.strokeOpacity,l.lineStrokeWidth=(p=n.strokeWidth)!=null?p:Math.min(2,g.strokeWidth),l.lineLineDash=g.lineDash)})}getDatumForPoint(t,e){let n=[],r={dist:1/0,datum:void 0};for(let c of this.group.children){if(!c.visible||!(c instanceof dr))continue;let h=c.computeBBox();if(h.grow(this.item.paddingX/2,"horizontal"),h.grow(this.item.paddingY/2,"vertical"),h.containsPoint(t,e))return c.datum;let p=t-h.x-this.item.paddingX/2,m=e-h.y-this.item.paddingY/2,g=Gt(p,2)+Gt(m,2);p>=0&&m>=0&&g<r.dist&&(r.dist=g,r.datum=c.datum),n.push(h)}if(yt.merge(n).containsPoint(t,e))return r.datum}computePagedBBox(){let t=this.group.computeBBox();if(this.pages.length<=1)return t;let[e,n]=this.maxPageSize;return t.height=Math.max(n,t.height),t.width=Math.max(e,t.width),t}checkLegendClick(t){let{listeners:{legendItemClick:e},ctx:{chartService:n,highlightManager:r},item:{toggleSeriesVisible:l},preventHidingAll:c}=this,h=this.getDatumForPoint(t.offsetX,t.offsetY);if(!h)return;let{id:p,itemId:m,enabled:g}=h,y=n.series.find(C=>C.id===p);if(!y)return;t.consume();let _=g;l&&(_=!g,c&&!_&&n.series.flatMap(S=>S.getLegendData("category")).filter(S=>S.enabled).length<2&&(_=!0),this.ctx.chartEventManager.legendItemClick(y,m,_,h.legendItemName)),_?r.updateHighlight(this.id,{series:y,itemId:m,datum:void 0}):r.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),e?.({type:"click",enabled:_,itemId:m,seriesId:y.id})}checkLegendDoubleClick(t){var e;let{listeners:{legendItemDoubleClick:n},ctx:{chartService:r},item:{toggleSeriesVisible:l}}=this;if(r.mode==="integrated")return;let c=this.getDatumForPoint(t.offsetX,t.offsetY);if(!c)return;let{id:h,itemId:p,seriesId:m}=c,g=r.series.find(y=>y.id===h);if(g){if(t.consume(),l){let y=r.series.flatMap(S=>S.getLegendData("category")),_=y.filter(S=>S.enabled).length,C=y.find(S=>S.itemId===p&&S.seriesId===m);this.ctx.chartEventManager.legendItemDoubleClick(g,p,(e=C?.enabled)!=null?e:!1,_,C?.legendItemName)}this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),n?.({type:"dblclick",enabled:!0,itemId:p,seriesId:g.id})}}handleLegendMouseMove(t){var e;let{enabled:n,item:{toggleSeriesVisible:r},listeners:l}=this;if(!n)return;let{offsetX:c,offsetY:h}=t;t.consume();let p=this.getDatumForPoint(c,h);if(p===void 0){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id);return}let m=p?this.ctx.chartService.series.find(g=>g.id===p?.id):void 0;p&&this.truncatedItems.has((e=p.itemId)!=null?e:p.id)?this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:c,offsetY:h,lastPointerEvent:t,showArrow:!1},h1({content:this.getItemLabel(p)})):this.ctx.tooltipManager.removeTooltip(this.id),(r||l.legendItemClick!=null||l.legendItemDoubleClick!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),p?.enabled&&m?this.ctx.highlightManager.updateHighlight(this.id,{series:m,itemId:p?.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseExit(t){this.ctx.cursorManager.updateCursor(this.id),this.ctx.tooltipManager.removeTooltip(this.id),this.ctx.interactionManager.getState()===8&&this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseEnter(t){let{enabled:e,item:{toggleSeriesVisible:n},listeners:{legendItemClick:r,legendItemDoubleClick:l}}=this,c=this.getDatumForPoint(t.offsetX,t.offsetY);e&&c!==void 0&&(n||r!=null||l!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer")}positionLegend(t){let e=t.clone();if(!this.enabled||!this.data.length)return{shrinkRect:e};let[n,r]=this.calculateLegendDimensions(t);this.group.translationX=0,this.group.translationY=0,this.calcLayout(n,r);let l=this.computePagedBBox(),c=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return t.height-l.height;case"right":default:return t.width-l.width}};if(this.visible){let h,p;switch(this.position){case"top":case"bottom":h=(t.width-l.width)/2,p=c(),e.shrink(l.height,this.position);break;case"left":case"right":default:h=c(),p=(t.height-l.height)/2,e.shrink(l.width,this.position)}this.group.translationX=Math.floor(-l.x+t.x+h),this.group.translationY=Math.floor(-l.y+t.y+p)}if(this.visible&&this.enabled&&this.data.length){let h=this.spacing;e.shrink(h,this.position);let p=l.clone();p.x+=this.group.translationX,p.y+=this.group.translationY}return{shrinkRect:e}}calculateLegendDimensions(t){let{width:e,height:n}=t,r=e/n,l=.5,c=.2,h=.25,p,m;switch(this.position){case"top":case"bottom":let g=r<1?Math.min(l,c*(1/r)):c;p=this.maxWidth?Math.min(this.maxWidth,e):e,m=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*g);break;case"left":case"right":default:let y=r>1?Math.min(l,h*r):h;p=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*y),m=this.maxHeight?Math.min(this.maxHeight,n):n}return[p,m]}};Uo.className="Legend";B([G(qe)],Uo.prototype,"pagination",2);B([G(qe)],Uo.prototype,"item",2);B([G(qe)],Uo.prototype,"listeners",2);B([Uh(t=>t.updateGroupVisibility()),G(Ct)],Uo.prototype,"enabled",2);B([G(CI)],Uo.prototype,"position",2);B([G(Ae,{optional:!0})],Uo.prototype,"maxWidth",2);B([G(Ae,{optional:!0})],Uo.prototype,"maxHeight",2);B([G(Ct,{optional:!0})],Uo.prototype,"reverseOrder",2);B([G(Ui(["horizontal","vertical"],"an orientation"),{optional:!0})],Uo.prototype,"orientation",2);B([G(Ct,{optional:!0})],Uo.prototype,"preventHidingAll",2);B([G(Ae)],Uo.prototype,"spacing",2);var Nwe={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology"],instanceConstructor:Uo,packageType:"community"},ya=class extends Wo{constructor(){super(...arguments),this.zIndex=3,this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(t){this._gripLineGap!==t&&(this._gripLineGap=t,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(t){this._gripLineLength!==t&&(this._gripLineLength=t,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)}get height(){return this._height}layout(t,e){this.centerX=t,this.centerY=e}static align(t,e,n,r,l,c,h,p){let m=t.strokeWidth/2,g=t.align(n+l*h)+m,y=g+t.align(n+l*h,l*(p-h))-2*m,_=t.align(r+c/2)+m;t.layout(g,_),e.layout(y,_)}computeBBox(){let{centerX:t,centerY:e,width:n,height:r}=this,l=t-n/2,c=e-r/2;return new yt(l,c,n,r)}isPointInPath(t,e){let n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)}updatePath(){var t,e,n;let{centerX:r,centerY:l,path:c,strokeWidth:h,gripLineGap:p,gripLineLength:m}=this,g=(n=(e=(t=this.layerManager)==null?void 0:t.canvas)==null?void 0:e.pixelRatio)!=null?n:1;c.clear();let y=Math.floor(this.width/2*g)/g,_=Math.floor(this.height/2*g)/g;c.moveTo(r-y,l-_),c.lineTo(r+y,l-_),c.lineTo(r+y,l+_),c.lineTo(r-y,l+_),c.closePath();let C=Math.floor((p+h)/2*g)/g,S=Math.floor(m/2*g)/g;c.moveTo(r-C,l-S),c.lineTo(r-C,l+S),c.moveTo(r+C,l-S),c.lineTo(r+C,l+S)}};ya.className="RangeHandle";B([G(Dn)],ya.prototype,"_fill",2);B([G(Dn)],ya.prototype,"_stroke",2);B([G(Ae)],ya.prototype,"_strokeWidth",2);B([G(M$)],ya.prototype,"_lineCap",2);B([G(Ae)],ya.prototype,"_width",2);B([G(Ae)],ya.prototype,"_gripLineGap",2);B([G(Ae)],ya.prototype,"_gripLineLength",2);B([G(Ae)],ya.prototype,"_height",2);var bX=class extends Wo{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r,this.dirtyPath=!0}update(t,e){this.min=isNaN(t)?this.min:t,this.max=isNaN(e)?this.max:e,this.dirtyPath=!0}computeBBox(){let{x:t,y:e,width:n,height:r}=this;return new yt(t,e,n,r)}computeVisibleRangeBBox(){let{x:t,y:e,width:n,height:r,min:l,max:c}=this,h=t+n*l,p=t+n*c;return new yt(h,e,p-h,r)}updatePath(){let{path:t,x:e,y:n,width:r,height:l,min:c,max:h,strokeWidth:p}=this,m=p/2;t.clear();let g=this.align(e)+m,y=this.align(n)+m,_=g+this.align(e,r)-2*m,C=y+this.align(n,l)-2*m;t.moveTo(g,y),t.lineTo(_,y),t.lineTo(_,C),t.lineTo(g,C),t.closePath();let S=this.align(e+r*c)+m,A=S+this.align(e+r*c,r*(h-c))-2*m;t.moveTo(S,y),t.lineTo(S,C),t.lineTo(A,C),t.lineTo(A,y),t.closePath()}};bX.className="RangeMask";var Bwe=class extends et{constructor(t){super({name:"rangeSelectorGroup",layer:!0,zIndex:10}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.isContainerNode=!0,this.background=new et({name:"navigator-background"}),this.background.zIndex=1,this.appendChild(this.background),this.append(t)}layout(t,e,n,r,l,c){this.x=t,this.y=e,this.width=n,this.height=r,this.lOffset=l,this.rOffset=c,this.background.translationX=t,this.background.translationY=e}updateBackground(t,e){t!=null&&this.background.removeChild(t),e!=null&&this.background.appendChild(e)}computeBBox(){let{x:t,y:e,width:n,height:r,lOffset:l,rOffset:c}=this;return new yt(t-l,e,n+(l+c),r)}},Qh=class extends Hk{constructor(t){super(),this.ctx=t,this.miniChart=void 0,this.enabled=!1,this.mask=new bX,this.minHandle=new ya,this.maxHandle=new ya,this.height=30,this.margin=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new Bwe([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;let e=t.regionManager.addRegion("navigator",this.rangeSelector),n=13;this.destroyFns.push(t.scene.attachNode(this.rangeSelector),e.addListener("hover",r=>this.onHover(r),n),e.addListener("drag-start",r=>this.onDragStart(r),n),e.addListener("drag",r=>this.onDrag(r),n),e.addListener("drag-end",()=>this.onDragEnd(),n),e.addListener("leave",r=>this.onLeave(r),n),t.zoomManager.addListener("zoom-change",r=>this.onZoomChange(r))),this.updateGroupVisibility()}updateBackground(t,e){var n;(n=this.rangeSelector)==null||n.updateBackground(t,e)}updateGroupVisibility(){let{enabled:t}=this;this.rangeSelector==null||t===this.rangeSelector.visible||(this.rangeSelector.visible=t,t?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}performLayout(t){return ve(this,arguments,function*({shrinkRect:e}){if(this.enabled){let n=this.height+this.margin;e.shrink(n,"bottom"),this.y=e.y+e.height+this.margin}else this.y=0;return{shrinkRect:e}})}performCartesianLayout(t){return ve(this,null,function*(){let{x:e,width:n}=t.seriesRect;if(this.enabled){let{y:r,height:l}=this;this.layoutNodes(e,r,n,l)}this.x=e,this.width=n})}onHover(t){if(!this.enabled)return;let{mask:e,minHandle:n,maxHandle:r}=this,{offsetX:l,offsetY:c}=t;n.containsPoint(l,c)||r.containsPoint(l,c)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):e.computeVisibleRangeBBox().containsPoint(l,c)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(t){if(!this.enabled)return;let{mask:e,minHandle:n,maxHandle:r,x:l,width:c,_min:h}=this,{offsetX:p,offsetY:m}=t;n.zIndex<r.zIndex?r.containsPoint(p,m)?this.dragging="max":n.containsPoint(p,m)&&(this.dragging="min"):n.containsPoint(p,m)?this.dragging="min":r.containsPoint(p,m)&&(this.dragging="max"),this.dragging==null&&e.computeVisibleRangeBBox().containsPoint(p,m)&&(this.dragging="pan",this.panStart=(p-l)/c-h),this.dragging!=null&&this.ctx.zoomManager.fireZoomPanStartEvent()}onDrag(t){if(!this.enabled||this.dragging==null)return;let{dragging:e,minRange:n,panStart:r,x:l,width:c}=this,{_min:h,_max:p}=this,{offsetX:m}=t,g=(m-l)/c;if(e==="min")h=kn(0,g,p-n);else if(e==="max")p=kn(h+n,g,1);else if(e==="pan"&&r!=null){let y=p-h;h=kn(0,g-r,1-y),p=h+y}this._min=h,this._max=p,this.updateZoom()}onDragEnd(){this.dragging=void 0}onLeave(t){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(t){let{x:e}=t;e&&(this._min=e.min,this._max=e.max,this.updateNodes(e.min,e.max))}layoutNodes(t,e,n,r){let{rangeSelector:l,mask:c,minHandle:h,maxHandle:p,_min:m,_max:g}=this;l.layout(t,e,n,r,h.width/2,p.width/2),c.layout(t,e,n,r),ya.align(h,p,t,e,n,r,m,g),m+(g-m)/2<.5?(h.zIndex=3,p.zIndex=4):(h.zIndex=4,p.zIndex=3)}updateNodes(t,e){this.mask.update(t,e)}updateZoom(){if(!this.enabled)return;let{_min:t,_max:e}=this,n=this.ctx.zoomManager.getZoom();if(t==null||e==null)return;let r=l=>{this.min==null&&this.max==null||Le.warnOnce(`Could not apply [navigator.min] or [navigator.max] as [${l}] has modified the initial zoom state.`)};return this.ctx.zoomManager.updateZoom("navigator",{x:{min:t,max:e},y:n?.y},!1,r)}};B([G(qe,{optional:!0})],Qh.prototype,"miniChart",2);B([G(Ct),Uh(t=>t.updateGroupVisibility())],Qh.prototype,"enabled",2);B([G(Ae)],Qh.prototype,"height",2);B([G(Ae)],Qh.prototype,"margin",2);B([no({newValue(t){this._min=t,this.updateZoom()}}),G(Ca(In,y0("max")),{optional:!0})],Qh.prototype,"min",2);B([no({newValue(t){this._max=t,this.updateZoom()}}),G(Ca(In,x0("min")),{optional:!0})],Qh.prototype,"max",2);var _X={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:Qh,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}},cD=({takeColors:t})=>{let{fills:[e],strokes:[n]}=t(1);return{fill:e,stroke:n}},T0=t=>{let{fill:e,stroke:n}=cD(t);return{marker:{fill:e,stroke:n}}};function wX(t,e,n,r,l){let{addPhaseFn:c,updatePhaseFn:h,removePhaseFn:p}=l,m=(g,y,_)=>{n.animate({id:`${t}_${e}_${y.id}_${g}`,groupId:t,from:0,to:1,ease:i1,collapsable:!1,onUpdate(C,S){S&&g!=="removed"||(y.path.clear({trackChanges:!0}),_(C,y),y.checkPathDirty())},onStop(){g==="added"&&(y.path.clear({trackChanges:!0}),_(1,y),y.checkPathDirty())},phase:Rs[g]})};for(let g of r)n.isSkipped()||(m("removed",g,p),m("updated",g,h)),m("added",g,c)}var Cx=null;function Di(t){if(t!=null)return t===""?"":(Cx??(Cx=Is("div")),Cx.textContent=String(t),Cx.innerHTML)}function Hn({id:t},e,n,r){cc(t,e,n,r,{opacity:0},{opacity:1},{phase:"trailing"})}function ef({id:t},e,n,r){cc(t,e,n,r,{opacity:1},{opacity:0},{phase:"remove"})}function Pu(t){return{opacity:1}}var rO=class extends dn{constructor(){super(...arguments),this._dirty=3}markDirty(t,e=1){this._dirty<e&&(this._dirty=e)}markClean(t){this._dirty=0}isDirty(){return this._dirty>0}},cl=class extends rO{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};B([G(Ct),je({redraw:3})],cl.prototype,"enabled",2);B([G(Dn),je({redraw:3})],cl.prototype,"color",2);B([G(mi),je({redraw:3})],cl.prototype,"xOffset",2);B([G(mi),je({redraw:3})],cl.prototype,"yOffset",2);B([G(Ae),je({redraw:3})],cl.prototype,"blur",2);var CX=Zn(t=>dX(t)||typeof fs=="function"&&Object.create(t.prototype)instanceof fs,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),io=class extends rO{constructor(){super(...arguments),this.enabled=!0,this.shape=ic,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){let{size:t,fill:e,fillOpacity:n,stroke:r,strokeWidth:l,strokeOpacity:c}=this;return{size:t,fill:e,fillOpacity:n,stroke:r,strokeWidth:l,strokeOpacity:c}}getDiameter(){return this.size+this.strokeWidth}};B([G(Ct),je({redraw:3})],io.prototype,"enabled",2);B([G(CX),je({redraw:3})],io.prototype,"shape",2);B([G(Ae),je({redraw:3})],io.prototype,"size",2);B([G(Dn,{optional:!0}),je({redraw:3})],io.prototype,"fill",2);B([G(In),je({redraw:3})],io.prototype,"fillOpacity",2);B([G(Dn,{optional:!0}),je({redraw:3})],io.prototype,"stroke",2);B([G(Ae),je({redraw:3})],io.prototype,"strokeWidth",2);B([G(In),je({redraw:3})],io.prototype,"strokeOpacity",2);B([G(jo,{optional:!0}),je({redraw:3})],io.prototype,"formatter",2);var kX=class extends dn{constructor(){super(...arguments),this.enabled=!1}};B([G(Ct)],kX.prototype,"enabled",2);var ro=class extends dn{constructor(){super(...arguments),this.enabled=!0,this.interaction=new kX,this.position=new E1}toTooltipHtml(t,e){return this.renderer?h1(this.renderer(e),t):h1(t)}};B([G(Ct)],ro.prototype,"enabled",2);B([G(Ct,{optional:!0})],ro.prototype,"showArrow",2);B([G(jo,{optional:!0})],ro.prototype,"renderer",2);B([G(qe)],ro.prototype,"interaction",2);B([G(qe)],ro.prototype,"position",2);var Nr=class extends qh{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new cl,this.marker=new io,this.label=new pr,this.tooltip=new ro,this.connectMissingData=!1}};B([G(Re)],Nr.prototype,"xKey",2);B([G(Re,{optional:!0})],Nr.prototype,"xName",2);B([G(Re)],Nr.prototype,"yKey",2);B([G(Re,{optional:!0})],Nr.prototype,"yName",2);B([G(Ae,{optional:!0})],Nr.prototype,"normalizedTo",2);B([G(Dn)],Nr.prototype,"fill",2);B([G(In)],Nr.prototype,"fillOpacity",2);B([G(Dn)],Nr.prototype,"stroke",2);B([G(Ae)],Nr.prototype,"strokeWidth",2);B([G(In)],Nr.prototype,"strokeOpacity",2);B([G(Lu)],Nr.prototype,"lineDash",2);B([G(Ae)],Nr.prototype,"lineDashOffset",2);B([G(qe)],Nr.prototype,"shadow",2);B([G(qe)],Nr.prototype,"marker",2);B([G(qe)],Nr.prototype,"label",2);B([G(qe)],Nr.prototype,"tooltip",2);B([G(Ct)],Nr.prototype,"connectMissingData",2);function p1({id:t},e,n,r){let l={phase:r?Rs[r]:"trailing"};cc(t,"markers",e,n,{opacity:0},{opacity:1},l),n.forEach(c=>c.cleanup())}function sO({id:t},e,n){cc(t,"markers",e,n,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),n.forEach(r=>r.cleanup())}function oO({id:t,nodeDataDependencies:e},n,r){let l=e.seriesRectWidth;Si(t,"markers",n,r,{fromFn:(p,m)=>{var g,y;let _=(y=(g=m.midPoint)==null?void 0:g.x)!=null?y:l,C=kn(0,w$(_/l),1);return isNaN(C)&&(C=0),{scalingX:0,scalingY:0,delay:C,duration:Ok,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function N1(t){return{opacity:1,scalingX:1,scalingY:1}}function f1(t,e){var n,r,l,c;return{translationX:(r=(n=e.point)==null?void 0:n.x)!=null?r:NaN,translationY:(c=(l=e.point)==null?void 0:l.y)!=null?c:NaN}}function aO(t,e){let n=(h,p)=>{let m=t[p][h];return Array.isArray(m)?m[0]:m},r=h=>{let{xValue:p}=h;return t.moved[p]?{point:n(p,"moved"),status:"updated"}:t.removed[p]?{point:n(p,"removed"),status:"removed"}:t.added[p]?{point:n(p,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(h,p)=>{var m,g,y,_,C,S;let{status:A,point:E}=r(p);if(A==="unknown")return{opacity:0};let L={translationX:(g=(m=E?.from)==null?void 0:m.x)!=null?g:h.translationX,translationY:(_=(y=E?.from)==null?void 0:y.y)!=null?_:h.translationY,opacity:h.opacity,phase:Rs[A]};return e==="added"?He(he({},L),{opacity:0,translationX:(C=E?.to)==null?void 0:C.x,translationY:(S=E?.to)==null?void 0:S.y,phase:Rs.added}):(A==="added"&&(L.opacity=0),L)},toFn:(h,p)=>{var m,g;let{status:y,point:_}=r(p);if(y==="unknown")return{opacity:0};let C={translationX:p.point.x,translationY:p.point.y,opacity:1,phase:Rs[y]};return y==="removed"||e==="removed"?He(he({},C),{translationX:(m=_?.to)==null?void 0:m.x,translationY:(g=_?.to)==null?void 0:g.y,opacity:0,phase:Rs.removed}):C}}}function QL(t){return t.reduce(({min:e,max:n},r)=>((e==null||e.point.x>r.point.x)&&(e=r),(n==null||n.point.x<r.point.x)&&(n=r),{min:e,max:n}),{})}function uU(t,e,n){let r=(e.y-t.y)/(e.x-t.x),l=(n-t.x)*r+t.y;return{x:n,y:l}}function hU(t,e,n,r){let l=-1,c=0,h=[];for(;c<t.length;){if(t[c].change===e){h.push(t[c]),c++;continue}if(t[c].change===n){c++;continue}h.length>0&&(r(h,l,c),h.length=0),l=c,c++}h.length>0&&r(h,l,c)}function lO(t,e){hU(t,"out","in",(n,r,l)=>{var c,h;r===-1&&t[l]?n.forEach(p=>p.to=t[l].from):l===t.length&&t[r]?n.forEach(p=>p.to=t[r].from):e==="intersect"&&((c=t[r])!=null&&c.from)&&((h=t[l])!=null&&h.from)?n.forEach(p=>p.to=uU(t[r].from,t[l].from,p.from.x)):n.forEach(p=>p.to=p.from)}),hU(t,"in","out",(n,r,l)=>{var c,h;r===-1&&t[l]?n.forEach(p=>p.from=t[l].to):l===t.length&&t[r]?n.forEach(p=>p.from=t[r].to):e==="intersect"&&((c=t[r])!=null&&c.to)&&((h=t[l])!=null&&h.to)?n.forEach(p=>p.from=uU(t[r].to,t[l].to,p.to.x)):n.forEach(p=>p.from=p.to)})}function dU(t,e,n){let r=isNaN(t.x)?e.x:t.x,l=isNaN(t.y)?e.y:t.y,c=e.x-t.x,h=e.y-t.y,p=isNaN(c)?0:c*n,m=isNaN(h)?0:h*n;return{x:r+p,y:l+m}}function cO(t,e,n){let{path:r}=n,l;for(let c of t){let{from:h,to:p}=c,m=e[c.change];if(m==null||h==null||p==null)continue;let{x:g,y}=dU(h,p,m);if(c.moveTo===!1)r.lineTo(g,y);else if(c.moveTo===!0||!l)r.moveTo(g,y);else if(l){let _=c.moveTo==="in"?m:1-m,{x:C,y:S}=dU(l,{x:g,y},_);r.lineTo(C,S),r.moveTo(g,y)}l={x:g,y}}}function uO({id:t,visible:e,nodeDataDependencies:n},r,l){let{seriesRectWidth:c,seriesRectHeight:h}=n;cc(t,"path_properties",r,l,{clipX:0},{clipX:c},{phase:"initial",start:{clipMode:"normal",clipY:h,visible:e},finish:{clipMode:void 0,visible:e}})}function Qx({id:t},e,n,r,l="add"){cc(t,e,n,r,{opacity:0},{opacity:1},{phase:l})}function Vwe({id:t},e,n,r){cc(t,e,n,r,{opacity:1},{opacity:0},{phase:"remove"})}function hO(t){return e=>({opacity:t.getOpacity(),clipScalingX:1,clipMode:void 0})}function Vk({nodeDataDependencies:t},e){let n=r=>isFinite(r)?r:0;e.clipX=n(t.seriesRectWidth),e.clipY=n(t.seriesRectHeight)}function pU(t){return t.type==="continuous"||t.type==="log"}function fU(t){return t.type==="category"}function mU(t,e){return t.domain.length===e.domain.length&&t.range.length===e.range.length&&t.domain.every((n,r)=>n===e.domain[r])&&t.range.every((n,r)=>n===e.range[r])}function gU(t,e){return t===void 0||e===void 0?t!==void 0||e!==void 0:pU(t)&&pU(e)?t.type===e.type&&mU(t,e):fU(t)&&fU(e)?mU(t,e):!1}function lk(t,e){if(!e)return NaN;if(t instanceof Date&&(t=t.getTime()),e.type==="continuous"&&typeof t=="number")return(t-e.domain[0])/(e.domain[1]-e.domain[0])*(e.range[1]-e.range[0])+e.range[0];if(e.type==="log"&&typeof t=="number")return e.convert(t);let n=e.domain.findIndex(r=>r===t);return n>=0?e.range[n]:NaN}function zwe(t,e){return!gU(t.scales.x,e.scales.x)||!gU(t.scales.y,e.scales.y)}function Hwe(t,e){let n=Number(t),r=Number(e);return!isNaN(n)&&!isNaN(r)?Math.abs(r-n)<.25:t===e}function DX(t=!1,e=!1){return t===e?!!t:t?"in":"out"}function m1(t,e,n={}){var r,l,c,h;let{backfillSplitMode:p="intersect"}=n,m=V=>{var z,H;return{x:lk((z=V.xValue)!=null?z:NaN,t.scales.x),y:lk((H=V.yValue)!=null?H:NaN,t.scales.y)}},g=V=>{var z,H;return{x:lk((z=V.xValue)!=null?z:NaN,e.scales.x),y:lk((H=V.yValue)!=null?H:NaN,e.scales.y)}},y=[],_={added:{},moved:{},removed:{}},C=(V,z,H,U="move")=>{V&&(isNaN(V.point.x)||isNaN(V.point.y))&&(V=z);let X={from:V?.point,to:z?.point,moveTo:DX(V?.point.moveTo,z?.point.moveTo),change:U};U==="move"?(_.moved[H]=X,P++,R++):U==="in"?(_.added[H]=X,R++):U==="out"&&(_.removed[H]=X,P++),y.push(X)},{min:S,max:A}=QL(e.nodeData),{min:E,max:L}=QL(t.nodeData),P=0,R=0;for(;P<e.nodeData.length||R<t.nodeData.length;){let V=e.nodeData[P],z=t.nodeData[R],H=V?m(V):void 0,U=z?g(z):void 0,X=void 0;if(H&&Hwe(H.x,z?.point.x))C(V,z,z.xValue,"move");else if(H&&H.x<((r=E?.point.x)!=null?r:-1/0))C(V,X,V.xValue,"out");else if(H&&H.x>((l=L?.point.x)!=null?l:1/0))C(V,X,V.xValue,"out");else if(U&&U.x<((c=S?.point.x)!=null?c:-1/0))C(X,z,z.xValue,"in");else if(U&&U.x>((h=A?.point.x)!=null?h:1/0))C(X,z,z.xValue,"in");else if(H&&H.x<z?.point.x)C(V,X,V.xValue,"out");else if(U&&U.x<V?.point.x)C(X,z,z.xValue,"in");else if(V)C(V,X,V.xValue,"out");else if(z)C(X,z,z.xValue,"in");else throw new Error("Unable to process points")}return lO(y,p),{result:y,resultMap:_}}function g1(t,e,n,r={}){var l,c,h;let{backfillSplitMode:p="intersect",multiDatum:m=!1}=r,g=[],y={added:{},moved:{},removed:{}},_={added:{},moved:{},removed:{}},C={in:"added",move:"moved",out:"removed"},S,A,E=(z,H)=>{var U,X;let Q=C[H.change];m?((X=(U=_[Q])[z])!=null||(U[z]=[]),_[Q][z].push(H)):y[Q][z]=H,S=H,A=t0(z)},L=0,P=0,R=!1;for(;L<e.nodeData.length||P<t.nodeData.length;){let z=e.nodeData[L],H=t.nodeData[P],U=t0(z?.xValue),X=t0(H?.xValue),Q;if(U===X)Q={change:"move",moveTo:DX((l=z.point.moveTo)!=null?l:!1,H.point.moveTo),from:z.point,to:H.point},E(z?.xValue,Q),L++,P++;else if(n?.removed.has(String(U)))Q={change:"out",moveTo:(c=z.point.moveTo)!=null?c:!1,from:z.point},E(z?.xValue,Q),L++;else if(n?.added.has(String(X)))Q={change:"in",moveTo:(h=H.point.moveTo)!=null?h:!1,to:H.point},E(H?.xValue,Q),P++;else if(m&&S&&A===U)Q=he({},S),E(z?.xValue,Q),L++;else if(m&&S&&A===X)Q=he({},S),E(H?.xValue,Q),P++;else{R=!0;break}g.push(Q)}let V=-1/0;return R||(R=g.some(z=>{let{change:H,to:{x:U=-1/0}={}}=z;if(H==="out")return;let X=U<V;return V=U,X})),R?{result:void 0,resultMap:void 0}:(lO(g,p),{result:g,resultMap:m?_:y})}function SX(t,e,n){var r,l,c,h;let p="updated",m=g=>g.visible;if(!m(e)&&m(t))p="added";else if(m(e)&&!m(t))p="removed";else for(let g=0;g<n.length&&!(n[g].change!=="move"||((r=n[g].from)==null?void 0:r.x)!==((l=n[g].to)==null?void 0:l.x)||((c=n[g].from)==null?void 0:c.y)!==((h=n[g].to)==null?void 0:h.y));g++)if(g===n.length-1)return"no-op";return p}function jwe(t,e){let n=e==="none"?"updated":t,r={fromFn:l=>{let c;return t==="removed"?c={finish:{visible:!1}}:t==="added"?c={start:{visible:!0}}:c={},he({phase:Rs[n]},c)},toFn:l=>({phase:Rs[n]})};return e==="fade"?{fromFn:l=>{let c=t==="added"?0:l.opacity;return he({opacity:c},r.fromFn(l))},toFn:l=>he({opacity:t==="removed"?0:1},r.toFn(l))}:r}function dO(t,e,n,r,l){let c=SX(t,e,n),h=(y,_)=>{l(n,{move:0,out:y},_)},p=(y,_)=>{l(n,{move:y},_)},m=(y,_)=>{l(n,{move:1,in:y},_)},g=jwe(c,r);return{status:c,path:{addPhaseFn:m,updatePhaseFn:p,removePhaseFn:h},pathProperties:g}}function TX(t,e,n){var r,l,c;let h=((r=t.scales.x)==null?void 0:r.type)==="category",p=((l=e.scales.x)==null?void 0:l.type)==="category";if(h!==p)return;let{result:m,resultMap:g}=h?g1(t,e,n):m1(t,e),y="updated";if(e.visible&&!t.visible?y="removed":!e.visible&&t.visible&&(y="added"),m===void 0||g===void 0)return;let _=((c=n?.changed)!=null?c:!0)||zwe(t,e)||y!=="updated",C=dO(t,e,m,"fade",cO),S=aO(g,y);return He(he({},C),{marker:S,hasMotion:_})}var AX=(t=>(t[t.Fill=0]="Fill",t[t.Stroke=1]="Stroke",t[t.Marker=2]="Marker",t[t.Label=3]="Label",t))(AX||{});function zk(t){let{points:e,phantomPoints:n}=t.fillData;return{top:e,bottom:n}}function Ph(t,e,n){return{scales:e.scales,nodeData:n[t],visible:e.visible}}function Gwe(t,e,n){let r=zk(e),l=zk(t),c={multiDatum:!0};return{top:g1(Ph("top",t,l),Ph("top",e,r),n,c),bottom:g1(Ph("bottom",t,l),Ph("bottom",e,r),n,c)}}function Wwe(t,e){let n=zk(e),r=zk(t);return{top:m1(Ph("top",t,r),Ph("top",e,n)),bottom:m1(Ph("bottom",t,r),Ph("bottom",e,n))}}function MX(t,e,n){var r,l;let c=((r=t.scales.x)==null?void 0:r.type)==="category",h=((l=e.scales.x)==null?void 0:l.type)==="category";if(c!==h)return;let p="updated";e.visible&&!t.visible?p="removed":!e.visible&&t.visible&&(p="added");let m=()=>c?g1(t,e,n,{backfillSplitMode:"static",multiDatum:!0}):m1(t,e,{backfillSplitMode:"static"}),g=()=>c?Gwe(t,e,n):Wwe(t,e),{resultMap:y}=m(),{top:_,bottom:C}=g();if(y===void 0||_.result===void 0||C.result===void 0)return;let S=[..._.result,...C.result.reverse()],E=(e.stackVisible?t.stackVisible:!1)?"none":"fade",L=dO(t,e,S,E,cO),P=aO(y,p);return{status:L.status,fill:L,marker:P}}var pO=class EX extends Kh{constructor(e){super({moduleCtx:e,directionKeys:uf,directionNames:hf,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:hO({getOpacity:()=>this.getOpacity()}),label:Pu,marker:(n,r)=>he(he({},N1(n)),f1(n,r))}}),this.properties=new Nr}processData(e){return ve(this,null,function*(){var n;if(this.data==null||!this.properties.isValid())return;let{data:r,visible:l,seriesGrouping:{groupIndex:c=this.id,stackCount:h=1}={}}=this,{xKey:p,yKey:m,connectMissingData:g,normalizedTo:y}=this.properties,_=!this.ctx.animationManager.isSkipped(),{isContinuousX:C,isContinuousY:S}=this.isContinuous(),A=(n=this.axes.x)==null?void 0:n.scale,E=Ln.is(A)?"range":"category",L=[`area-stack-${c}-yValues`,`area-stack-${c}-yValues-trailing`,`area-stack-${c}-yValues-prev`,`area-stack-${c}-yValues-trailing-prev`,`area-stack-${c}-yValues-marker`],P=[];Ak(y)&&(P.push(Bk(this,[L[0],L[1],L[4]],y,"range")),P.push(Bk(this,[L[2],L[3]],y,"range"))),!C&&_&&this.processedData&&P.push(cf(this.processedData)),_&&P.push(_0(this));let R={invalidValue:null};g&&h>1&&(R.invalidValue=0),l||(R.forceValue=0),yield this.requestDataModel(e,r,{props:[Kr(this,p,C,{id:"xValue",valueType:E}),Kn(this,m,S,he({id:"yValueRaw"},R)),...Rh(this,m,S,"window","current",He(he({id:"yValueEnd"},R),{groupId:L[0]})),...Rh(this,m,S,"window-trailing","current",He(he({id:"yValueStart"},R),{groupId:L[1]})),...Rh(this,m,S,"window","last",He(he({id:"yValuePreviousEnd"},R),{groupId:L[2]})),...Rh(this,m,S,"window-trailing","last",He(he({id:"yValuePreviousStart"},R),{groupId:L[3]})),...Rh(this,m,S,"normal","current",He(he({id:"yValueCumulative"},R),{groupId:L[4]})),...P],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")})}getSeriesDomain(e){let{processedData:n,dataModel:r,axes:l}=this;if(!n||!r||n.data.length===0)return[];let c=l.x,h=l.y,p=r.resolveProcessedDataDefById(this,"xValue"),m=r.getDomain(this,"xValue","key",n),g=r.getDomain(this,"yValueEnd","value",n);if(e==="x")return p?.def.type==="key"&&p.def.valueType==="category"?m:Ps(ac(m),c);if(h instanceof df||h instanceof k0)return Ps(g,h);{let y=[g[0]>0?0:g[0],g[1]<0?0:g[1]];return Ps(y,h)}}createNodeData(){return ve(this,null,function*(){var e;let{axes:n,data:r,processedData:{data:l}={},dataModel:c}=this,h=n.x,p=n.y;if(!h||!p||!r||!c||!this.properties.isValid())return[];let{yKey:m,xKey:g,marker:y,label:_,fill:C,stroke:S,connectMissingData:A}=this.properties,{scale:E}=h,{scale:L}=p,{isContinuousY:P}=this.isContinuous(),R=((e=E.bandwidth)!=null?e:0)/2,V=c.resolveProcessedDataDefsByIds(this,["yValueStart","yValueEnd","yValueRaw","yValuePreviousStart","yValuePreviousEnd","yValueCumulative"]),z=Ve=>{let Ie=Ve,{point:Ne}=Ie,Xe=er(Ie,["point"]);return He(he({},Xe),{point:He(he({},Ne),{moveTo:!0})})},H=(Ve,Ie,Ne)=>{let Xe=E.convert(Ve)+R,Qe=L.convert(Ie),Wt=L.convert(Ne);return[{point:{x:Xe,y:Wt},yValue:Ne,xValue:Ve},{point:{x:Xe,y:Qe},yValue:Ie,xValue:Ve}]},U=(Ve,Ie,Ne)=>{let Xe;return(Ak(this.properties.normalizedTo)?P&&LI(Ne):!isNaN(Ne))&&(Xe=Ie),{x:E.convert(Ve)+R,y:L.convert(Xe),size:y.size}},X=m,Q=[],Z=[],{visibleSameStackCount:ie}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),ne={itemId:X,fillData:{itemId:X,points:[],phantomPoints:[]},strokeData:{itemId:X,points:[]},labelData:Q,nodeData:Z,scales:Ja(EX.prototype,this,"calculateScaling").call(this),visible:this.visible,stackVisible:ie>0},de=ne.fillData.points,ue=ne.fillData.phantomPoints,ge=ne.strokeData.points,De=-1,Ce,Pe=-1/0;return l?.forEach(Ve=>{let{keys:Ie,keys:[Ne],datum:Xe,values:Qe}=Ve;Qe.forEach((Wt,Ut)=>{var rn,we,lt;De++;let zt=Xe[Ut],be=c.resolveProcessedDataDefsValues(V,{keys:Ie,values:Wt}),{yValueRaw:Ge,yValueCumulative:tt}=be,{yValueStart:me,yValueEnd:$t,yValuePreviousStart:At,yValuePreviousEnd:Tn}=be,Ai=Ge!=null,Je=U(Ne,+tt,Ge);if(Ai&&y&&Z.push({index:De,series:this,itemId:X,datum:zt,midPoint:{x:Je.x,y:Je.y},cumulativeValue:$t,yValue:Ge,xValue:Ne,yKey:m,xKey:g,point:Je,fill:(rn=y.fill)!=null?rn:C,stroke:(we=y.stroke)!=null?we:S,strokeWidth:(lt=y.strokeWidth)!=null?lt:this.getStrokeWidth(this.properties.strokeWidth)}),Ai&&_){let Tc=this.getLabelText(_,{value:Ge,datum:zt,xKey:g,yKey:m,xName:this.properties.xName,yName:this.properties.yName},zs=>Bn(zs)?zs.toFixed(2):String(zs));Q.push({index:De,series:this,itemId:m,datum:zt,x:Je.x,y:Je.y,label:Tc?{text:Tc,fontStyle:_.fontStyle,fontWeight:_.fontWeight,fontSize:_.fontSize,fontFamily:_.fontFamily,textAlign:"center",textBaseline:"bottom",fill:_.color}:void 0})}let sn=Ce!=null&&Ne!=null,uo=Pe!=null&&Ai;uo||(me=me??0,$t=me??0,At=At??0,Tn=At??0);let[bs,Yf]=H(Ce,At,Tn),[yd,Ma]=H(Ne,me,$t);sn&&(!A||uo)&&(de.push(bs,yd),ue.push(Yf,Ma)),uo&&De>0&&ge.push(z(bs),yd),Ce=Ne,Pe=Ge})}),ge.length>0&&(ge[0]=z(ge[0])),[ne]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){let{shape:e}=this.properties.marker,n=oc(e);return new n}updatePathNodes(e){return ve(this,null,function*(){let{opacity:n,visible:r,animationEnabled:l}=e,[c,h]=e.paths,p=this.getStrokeWidth(this.properties.strokeWidth);h.setProperties({tag:1,fill:void 0,lineJoin:h.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:p,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:n,visible:r}),c.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:n,visible:r||l,strokeWidth:p}),Vk(this,h),Vk(this,c)})}updatePaths(e){return ve(this,null,function*(){this.updateAreaPaths([e.paths],[e.contextData])})}updateAreaPaths(e,n){this.updateFillPath(e,n),this.updateStrokePath(e,n)}updateFillPath(e,n){n.forEach(({fillData:r},l)=>{let[c]=e[l],{path:h}=c;h.clear({trackChanges:!0});let p;for(let{point:m}of Sx(r.points,xxe(r.phantomPoints)))m.moveTo?h.moveTo(m.x,m.y):p?.y!==m.y&&(p&&h.lineTo(p.x,p.y),h.lineTo(m.x,m.y)),p=m;p&&h.lineTo(p.x,p.y),h.closePath(),c.checkPathDirty()})}updateStrokePath(e,n){n.forEach(({strokeData:r},l)=>{let[,c]=e[l],{path:h}=c;h.clear({trackChanges:!0});for(let{point:p}of r.points)p.moveTo?h.moveTo(p.x,p.y):h.lineTo(p.x,p.y);c.checkPathDirty()})}updateMarkerSelection(e){return ve(this,null,function*(){let{nodeData:n,markerSelection:r}=e;return this.properties.marker.isDirty()&&(r.clear(),r.cleanup()),r.update(this.properties.marker.enabled?n:[])})}updateMarkerNodes(e){return ve(this,null,function*(){let{markerSelection:n,isHighlight:r}=e,{xKey:l,yKey:c,marker:h,fill:p,stroke:m,strokeWidth:g,fillOpacity:y,strokeOpacity:_,highlightStyle:C}=this.properties,S=nn(r&&C.item,h.getStyle(),{fill:p,stroke:m,strokeWidth:g,fillOpacity:y,strokeOpacity:_});n.each((A,E)=>{this.updateMarkerStyle(A,h,{datum:E,highlighted:r,xKey:l,yKey:c},S)}),r||this.properties.marker.markClean()})}updateLabelSelection(e){return ve(this,null,function*(){let{labelData:n,labelSelection:r}=e;return r.update(n,l=>{l.tag=3})})}updateLabelNodes(e){return ve(this,null,function*(){let{labelSelection:n}=e,{enabled:r,fontStyle:l,fontWeight:c,fontSize:h,fontFamily:p,color:m}=this.properties.label;n.each((g,y)=>{let{x:_,y:C,label:S}=y;S&&r&&this.visible?(g.fontStyle=l,g.fontWeight=c,g.fontSize=h,g.fontFamily=p,g.textAlign=S.textAlign,g.textBaseline=S.textBaseline,g.text=S.text,g.x=_,g.y=C-10,g.fill=m,g.visible=!0):g.visible=!1})})}getTooltipHtml(e){let{id:n,axes:r,dataModel:l}=this,{xKey:c,xName:h,yName:p,tooltip:m,marker:g}=this.properties,{yKey:y,xValue:_,yValue:C,datum:S}=e,A=r.x,E=r.y;if(!this.properties.isValid()||!(A&&E&&Bn(C))||!l)return"";let L=A.formatDatum(_),P=E.formatDatum(C),R=Di(p),V=Di(L+": "+P),z=nn({fill:this.properties.fill},g.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:H}=this.getMarkerStyle(g,{datum:e,xKey:c,yKey:y,highlighted:!1},z);return m.toTooltipHtml({title:R,content:V,backgroundColor:H},{datum:S,xKey:c,xName:h,yKey:y,yName:p,color:H,title:R,seriesId:n})}getLegendData(e){var n,r,l,c;if(!((n=this.data)!=null&&n.length)||!this.properties.isValid()||e!=="category")return[];let{yKey:h,yName:p,fill:m,stroke:g,fillOpacity:y,strokeOpacity:_,strokeWidth:C,lineDash:S,marker:A,visible:E}=this.properties,L=!A.enabled||A.fill===void 0;return[{legendType:e,id:this.id,itemId:h,seriesId:this.id,enabled:E,label:{text:p??h},marker:{shape:A.shape,fill:L?m:A.fill,fillOpacity:L?y:A.fillOpacity,stroke:(r=A.stroke)!=null?r:g,strokeOpacity:(l=A.strokeOpacity)!=null?l:_,strokeWidth:(c=A.strokeWidth)!=null?c:0,enabled:A.enabled||C<=0},line:{stroke:g,strokeOpacity:_,strokeWidth:C,lineDash:S}}]}animateEmptyUpdateReady(e){let{markerSelections:n,labelSelections:r,contextData:l,paths:c}=e,{animationManager:h}=this.ctx;this.updateAreaPaths(c,l),uO(this,h,c.flat()),kr(n,f1),oO(this,h,n),Hn(this,"labels",h,r)}animateReadyResize(e){let{contextData:n,paths:r}=e;this.updateAreaPaths(r,n),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var n,r;let{animationManager:l}=this.ctx,{markerSelections:c,labelSelections:h,contextData:p,paths:m,previousContextData:g}=e,[[y,_]=[]]=m;if(y==null&&_==null)return;super.resetAllAnimation(e);let C=()=>{this.updateAreaPaths(m,p),this.updateStrokePath(m,p)},S=()=>{l.skipCurrentBatch(),C()};if(p.length===0||g?.length===0){C(),p1(this,l,c,"added"),Qx(this,"fill_path_properties",l,[y]),Qx(this,"stroke",l,[_],"trailing"),Hn(this,"labels",l,h);return}let[A]=p,[E]=g??[],L=MX(A,E,(r=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:r.diff);if(L===void 0){S();return}else if(L.status==="no-op")return;p1(this,l,c),Si(this.id,"fill_path_properties",l,[y],L.fill.pathProperties),wX(this.id,"fill_path_update",l,[y],L.fill.path),this.updateStrokePath(m,p),Qx(this,"stroke",l,[_],"trailing"),Hn(this,"labels",l,h)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new et}};pO.className="AreaSeries";pO.type="area";var Uwe=pO,$we={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",instanceConstructor:Uwe,stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{__extends__:Au,nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:m0,xOffset:3,yOffset:3,blur:5},marker:{__extends__:p0,enabled:!1,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Cr,color:Nn,formatter:void 0}}},paletteFactory:t=>{let{marker:e}=T0(t);return{fill:e.fill,stroke:e.stroke,marker:e}}},fO=class extends qh{constructor(){super(...arguments),this.direction="vertical"}};B([G(L$)],fO.prototype,"direction",2);var LX=class extends Kh{constructor(){super(...arguments),this.groupScale=new el,this.smallestDataInterval=void 0}getBandScalePadding(){return{inner:.2,outer:.1}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){let t=this.getBarDirection();return this.axes[t]}getCategoryAxis(){let t=this.getCategoryDirection();return this.axes[t]}updateGroupScale(t){let{groupScale:e,smallestDataInterval:n,ctx:{seriesStateManager:r}}=this,l=t.scale,c=Ln.is(l)?l.calcBandwidth(n?.x):l.bandwidth,h=[],{index:p,visibleGroupCount:m}=r.getVisiblePeerGroupIndex(this);for(let y=0;y<m;y++)h.push(String(y));return e.domain=h,e.range=[0,c??0],t instanceof $h?e.paddingInner=t.groupPaddingInner:t instanceof zh?e.padding=.1:e.padding=0,e.round=e.padding!==0,{barWidth:e.bandwidth>=1?e.bandwidth:e.rawBandwidth,groupIndex:p}}resolveKeyDirection(t){return this.getBarDirection()==="x"?t==="x"?"y":"x":t}},IX=class extends pr{constructor(){super(...arguments),this.placement="inside"}};B([G(I$)],IX.prototype,"placement",2);var Sr=class extends fO{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new cl,this.label=new IX,this.tooltip=new ro}};B([G(Re)],Sr.prototype,"xKey",2);B([G(Re,{optional:!0})],Sr.prototype,"xName",2);B([G(Re)],Sr.prototype,"yKey",2);B([G(Re,{optional:!0})],Sr.prototype,"yName",2);B([G(Re,{optional:!0})],Sr.prototype,"stackGroup",2);B([G(mi,{optional:!0})],Sr.prototype,"normalizedTo",2);B([G(Dn)],Sr.prototype,"fill",2);B([G(In)],Sr.prototype,"fillOpacity",2);B([G(Dn)],Sr.prototype,"stroke",2);B([G(Ae)],Sr.prototype,"strokeWidth",2);B([G(In)],Sr.prototype,"strokeOpacity",2);B([G(Lu)],Sr.prototype,"lineDash",2);B([G(Ae)],Sr.prototype,"lineDashOffset",2);B([G(Ae)],Sr.prototype,"cornerRadius",2);B([G(jo,{optional:!0})],Sr.prototype,"formatter",2);B([G(qe,{optional:!0})],Sr.prototype,"shadow",2);B([G(qe)],Sr.prototype,"label",2);B([G(qe)],Sr.prototype,"tooltip",2);function OX({rect:t,config:e}){let{crisp:n=!0,fill:r,stroke:l,strokeWidth:c,fillOpacity:h,strokeOpacity:p,lineDash:m,lineDashOffset:g,fillShadow:y,cornerRadius:_=0,topLeftCornerRadius:C=!0,topRightCornerRadius:S=!0,bottomRightCornerRadius:A=!0,bottomLeftCornerRadius:E=!0,visible:L=!0}=e;t.crisp=n,t.fill=r,t.stroke=l,t.strokeWidth=c,t.fillOpacity=h,t.strokeOpacity=p,t.lineDash=m,t.lineDashOffset=g,t.fillShadow=y,t.topLeftCornerRadius=C?_:0,t.topRightCornerRadius=S?_:0,t.bottomRightCornerRadius=A?_:0,t.bottomLeftCornerRadius=E?_:0,t.visible=L}function RX(t){var e=t,{datum:n,isHighlighted:r,style:l,highlightStyle:c,formatter:h,seriesId:p,ctx:{callbackCache:m}}=e,g=er(e,["datum","isHighlighted","style","highlightStyle","formatter","seriesId","ctx"]),y,_,C,S,A,E;let{fill:L,fillOpacity:P,stroke:R,strokeWidth:V}=nn(r&&c,l),{strokeOpacity:z,fillShadow:H,lineDash:U,lineDashOffset:X,cornerRadius:Q=0,topLeftCornerRadius:Z=!0,topRightCornerRadius:ie=!0,bottomRightCornerRadius:ne=!0,bottomLeftCornerRadius:de=!0}=l,ue;return h&&(ue=m.call(h,he({datum:n.datum,xKey:n.xKey,fill:L,stroke:R,strokeWidth:V,cornerRadius:Q,highlighted:r,seriesId:p},g))),{fill:(y=ue?.fill)!=null?y:L,stroke:(_=ue?.stroke)!=null?_:R,strokeWidth:(C=ue?.strokeWidth)!=null?C:V,fillOpacity:(S=ue?.fillOpacity)!=null?S:P,strokeOpacity:(A=ue?.strokeOpacity)!=null?A:z,lineDash:U,lineDashOffset:X,fillShadow:H,cornerRadius:(E=ue?.cornerRadius)!=null?E:Q,topLeftCornerRadius:Z,topRightCornerRadius:ie,bottomRightCornerRadius:ne,bottomLeftCornerRadius:de}}function PX(t=[]){let[e,n]=t;return!(e!==0||n!==1)}var CL=t=>{var e;return k1((e=t.yValue)!=null?e:0)};function v1(t,e,n){let{startingX:r,startingY:l}=Xwe(t,e);return{isVertical:t,calculate:(h,p)=>{let m=t?h.x:r,g=t?l:h.y,y=t?h.width:0,_=t?0:h.height,{opacity:C}=h;p&&(isNaN(m)||isNaN(g))&&({x:m,y:g}=p,y=t?p.width:0,_=t?0:p.height,t&&!CL(p)?g+=p.height:!t&&CL(p)&&(m+=p.width));let S;return h.cornerRadiusBbox==null?S=void 0:CL(h)?S=t?new yt(m,g-_,y,_):new yt(m-y,g,y,_):S=new yt(m,g,y,_),{x:m,y:g,width:y,height:_,cornerRadiusBbox:S,opacity:C}},mode:n}}function Ywe(t,e){return{isVertical:t,calculate:n=>({x:t?n.x:n.x+n.width/2,y:t?n.y+n.height/2:n.y,width:t?n.width:0,height:t?0:n.height,cornerRadiusBbox:n.cornerRadiusBbox,opacity:n.opacity}),mode:e}}function y1(t){let e=l=>l==null||isNaN(l.x)||isNaN(l.y);return{toFn:(l,c,h)=>{let p;return h==="removed"&&l.datum==null&&t.mode==="fade"?p=He(he({},x1(l,c)),{opacity:0}):h==="removed"||e(c)?p=t.calculate(c,l.previousDatum):p={x:c.x,y:c.y,width:c.width,height:c.height,cornerRadiusBbox:c.cornerRadiusBbox,opacity:c.opacity},p},fromFn:(l,c,h)=>{h==="updated"&&e(c)?h="removed":h==="updated"&&e(l.previousDatum)&&(h="added");let p;h==="added"&&l.previousDatum==null&&t.mode==="fade"?p=He(he({},x1(l,c)),{opacity:0}):h==="unknown"||h==="added"?p=t.calculate(c,l.previousDatum):p={x:l.x,y:l.y,width:l.width,height:l.height,cornerRadiusBbox:l.cornerRadiusBbox,opacity:l.opacity};let m=Rs[h];return He(he({},p),{phase:m})}}}function Xwe(t,e){let n=e[t?"y":"x"],r=1/0,l=0;return n?(t?l=n.scale.convert(Ln.is(n.scale)?0:Math.max(...n.range)):r=n.scale.convert(Ln.is(n.scale)?0:Math.min(...n.range)),{startingX:r,startingY:l}):{startingX:r,startingY:l}}function x1(t,{x:e,y:n,width:r,height:l,cornerRadiusBbox:c,opacity:h}){return{x:e,y:n,width:r,height:l,cornerRadiusBbox:c,opacity:h}}function FX(t,e,n){if(e.enabled&&n){let{x:r,y:l,text:c,textAlign:h,textBaseline:p}=n,{color:m,fontStyle:g,fontWeight:y,fontSize:_,fontFamily:C}=e;t.setProperties({visible:!0,x:r,y:l,text:c,fill:m,fontStyle:g,fontWeight:y,fontSize:_,fontFamily:C,textAlign:h,textBaseline:p})}else t.visible=!1}function NX({isPositive:t,isVertical:e,placement:n,padding:r=0,rect:l}){let c=l.x+l.width/2,h=l.y+l.height/2,p="center",m="middle";switch(n){case"start":{e?(h=t?l.y+l.height+r:l.y-r,m=t?"top":"bottom"):(c=t?l.x-r:l.x+l.width+r,p=t?"start":"end");break}case"outside":case"end":{e?(h=t?l.y-r:l.y+l.height+r,m=t?"bottom":"top"):(c=t?l.x+l.width+r:l.x-r,p=t?"start":"end");break}}return{x:c,y:h,textAlign:p,textBaseline:m}}var mO=class BX extends LX{constructor(e){super({moduleCtx:e,directionKeys:uf,directionNames:hf,pickModes:[0],pathsPerSeries:0,hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:x1,label:Pu}}),this.properties=new Sr}processData(e){return ve(this,null,function*(){var n,r,l,c;if(!this.properties.isValid()||!this.data)return;let{seriesGrouping:{groupIndex:h=this.id}={},data:p=[]}=this,{xKey:m,yKey:g,normalizedTo:y}=this.properties,_=!this.ctx.animationManager.isSkipped(),C=Math.abs(y??NaN),S=(n=this.getCategoryAxis())==null?void 0:n.scale,A=(r=this.getValueAxis())==null?void 0:r.scale,E=Ln.is(S)||zo.is(S),L=Ln.is(A)||zo.is(A),P=Ln.is(S)?"range":"category",R=`bar-stack-${h}-yValues`,V=`${R}-trailing`,z=C&&isFinite(C)?C:void 0,H=[];z&&H.push(Bk(this,[R,V],z,"range")),_&&this.processedData&&H.push(cf(this.processedData)),_&&H.push(_0(this));let U=this.visible?{}:{forceValue:0},{processedData:X}=yield this.requestDataModel(e,p,{props:[Kr(this,m,E,{id:"xValue",valueType:P}),Kn(this,g,L,he({id:"yValue-raw",invalidValue:null},U)),...Rh(this,g,L,"normal","current",he({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:R,separateNegative:!0},U)),...Rh(this,g,L,"trailing","current",he({id:"yValue-start",invalidValue:null,missingValue:0,groupId:V,separateNegative:!0},U)),...E?[ZL]:[],...H],groupByKeys:!0,groupByData:!1});this.smallestDataInterval={x:(c=(l=X.reduced)==null?void 0:l.smallestKeyInterval)!=null?c:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(e){var n;let{processedData:r,dataModel:l}=this;if(!r||!l||r.data.length===0)return[];let{reduced:{[ZL.property]:c}={}}=r,h=this.getCategoryAxis(),p=this.getValueAxis(),m=l.resolveProcessedDataDefById(this,"xValue"),g=l.getDomain(this,"xValue","key",r),y=l.getDomain(this,"yValue-end","value",r);if(e===this.getCategoryDirection()){if(m?.def.type==="key"&&m?.def.valueType==="category")return g;let _=c!=null&&isFinite(c)?c:0,C=(n=ac(g))!=null?n:[NaN,NaN],S=h?.isReversed();if(e==="y"){let L=C[0]+(S?0:-_),P=C[1]+(S?_:0);return Ps([L,P],h)}let A=C[0]+(S?-_:0),E=C[1]+(S?0:_);return Ps([A,E],h)}else{if(this.getValueAxis()instanceof df)return Ps(y,p);{let _=[y[0]>0?0:y[0],y[1]<0?0:y[1]];return Ps(_,p)}}}createNodeData(){return ve(this,null,function*(){let{dataModel:e}=this,n=this.getCategoryAxis(),r=this.getValueAxis();if(!(e&&n&&r&&this.properties.isValid()))return[];let l=n.scale,c=r.scale,{xKey:h,yKey:p,xName:m,yName:g,fill:y,stroke:_,strokeWidth:C,cornerRadius:S,legendItemName:A,label:E}=this.properties,L=r.isReversed(),{barWidth:P,groupIndex:R}=this.updateGroupScale(n),V=e.resolveProcessedDataIndexById(this,"xValue").index,z=e.resolveProcessedDataIndexById(this,"yValue-raw").index,H=e.resolveProcessedDataIndexById(this,"yValue-start").index,U=e.resolveProcessedDataIndexById(this,"yValue-end").index,X=e.resolveProcessedDataDefById(this,"yValue-range").index,Q=!this.ctx.animationManager.isSkipped(),Z=[],{groupScale:ie,processedData:ne}=this;return ne?.data.forEach(({keys:de,datum:ue,values:ge,aggValues:De})=>{ge.forEach((Ce,Pe)=>{var Ve,Ie;(Ve=Z[Pe])!=null||(Z[Pe]={itemId:p,nodeData:[],labelData:[],scales:Ja(BX.prototype,this,"calculateScaling").call(this),visible:this.visible||Q});let Ne=de[V],Xe=l.convert(Ne),Qe=+Ce[U],Wt=+Ce[H],Ut=Ce[z],rn=Ut>=0&&!Object.is(Ut,-0),we=rn!==L,lt=(Ie=De?.[X][rn?1:0])!=null?Ie:0,zt=Xe+ie.convert(String(R));if(isNaN(Qe))return;let be=c.convert(Qe),Ge=c.convert(Wt),tt=this.getBarDirection()==="x",me=c.convert(lt),$t=c.convert(0),At=new yt(tt?Math.min($t,me):zt,tt?zt:Math.min($t,me),tt?Math.abs($t-me):P,tt?P:Math.abs($t-me)),Tn={x:tt?Math.min(be,Ge):zt,y:tt?zt:Math.min(be,Ge),width:tt?Math.abs(Ge-be):P,height:tt?P:Math.abs(Ge-be),cornerRadiusBbox:At},{fontStyle:Ai,fontWeight:Je,fontSize:sn,fontFamily:uo,color:bs,placement:Yf}=E,yd=this.getLabelText(this.properties.label,{datum:ue[Pe],value:Ut,xKey:h,yKey:p,xName:m,yName:g,legendItemName:A},qu=>Bn(qu)?qu.toFixed(2):""),Ma=yd?he({text:yd,fill:bs,fontStyle:Ai,fontWeight:Je,fontSize:sn,fontFamily:uo},NX({isPositive:rn,isVertical:!tt,placement:Yf,rect:Tn})):void 0,Tc=this.shouldFlipXY()?Tn.height:Tn.width,zs={series:this,itemId:p,datum:ue[Pe],cumulativeValue:Qe,xValue:Ne,yValue:Ut,yKey:p,xKey:h,capDefaults:{lengthRatioMultiplier:Tc,lengthMax:Tc},x:Tn.x,y:Tn.y,width:Tn.width,height:Tn.height,midPoint:{x:Tn.x+Tn.width/2,y:Tn.y+Tn.height/2},fill:y,stroke:_,opacity:1,strokeWidth:C,cornerRadius:S,topLeftCornerRadius:tt!==we,topRightCornerRadius:we,bottomRightCornerRadius:tt===we,bottomLeftCornerRadius:!we,cornerRadiusBbox:At,label:Ma};Z[Pe].nodeData.push(zs),Z[Pe].labelData.push(zs)})}),Z})}nodeFactory(){return new Zr}updateDatumSelection(e){return ve(this,null,function*(){return e.datumSelection.update(e.nodeData,n=>{n.tag=0},n=>Hh(n.xValue))})}updateDatumNodes(e){return ve(this,null,function*(){if(!this.properties.isValid())return;let{yKey:n,stackGroup:r,fill:l,fillOpacity:c,stroke:h,strokeWidth:p,strokeOpacity:m,lineDash:g,lineDashOffset:y,formatter:_,shadow:C,highlightStyle:{item:S}}=this.properties,A=this.axes.x,E=PX(A?.visibleRange),L=this.getCategoryDirection()==="x";e.datumSelection.each((P,R)=>{let V={fill:l,stroke:h,fillOpacity:c,strokeOpacity:m,lineDash:g,lineDashOffset:y,fillShadow:C,strokeWidth:this.getStrokeWidth(p),cornerRadius:R.cornerRadius,topLeftCornerRadius:R.topLeftCornerRadius,topRightCornerRadius:R.topRightCornerRadius,bottomRightCornerRadius:R.bottomRightCornerRadius,bottomLeftCornerRadius:R.bottomLeftCornerRadius},z=L?R.width>0:R.height>0,H=RX({datum:R,ctx:this.ctx,seriesId:this.id,isHighlighted:e.isHighlight,highlightStyle:S,yKey:n,style:V,formatter:_,stackGroup:r});H.crisp=E,H.visible=z,OX({rect:P,config:H})})})}updateLabelSelection(e){return ve(this,null,function*(){let n=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(n,r=>{r.tag=1,r.pointerEvents=1})})}updateLabelNodes(e){return ve(this,null,function*(){e.labelSelection.each((n,r)=>{FX(n,this.properties.label,r.label)})})}getTooltipHtml(e){var n;let{id:r,processedData:l,ctx:{callbackCache:c}}=this,h=this.getCategoryAxis(),p=this.getValueAxis();if(!l||!this.properties.isValid()||!h||!p)return"";let{xKey:m,yKey:g,xName:y,yName:_,fill:C,stroke:S,strokeWidth:A,tooltip:E,formatter:L,stackGroup:P}=this.properties,{xValue:R,yValue:V,datum:z}=e,H=h.formatDatum(R),U=p.formatDatum(V),X=Di(_),Q=Di(H+": "+U),Z;L&&(Z=c.call(L,{seriesId:r,datum:z,xKey:m,yKey:g,stackGroup:P,fill:C,stroke:S,strokeWidth:this.getStrokeWidth(A),highlighted:!1}));let ie=(n=Z?.fill)!=null?n:C;return E.toTooltipHtml({title:X,content:Q,backgroundColor:ie},he({seriesId:r,datum:z,xKey:m,yKey:g,xName:y,yName:_,stackGroup:P,title:X,color:ie},this.getModuleTooltipParams()))}getLegendData(e){var n,r;let{showInLegend:l}=this.properties;if(e!=="category"||!((n=this.data)!=null&&n.length)||!this.properties.isValid()||!l)return[];let{yKey:c,yName:h,fill:p,stroke:m,strokeWidth:g,fillOpacity:y,strokeOpacity:_,legendItemName:C,visible:S}=this.properties;return[{legendType:"category",id:this.id,itemId:c,seriesId:this.id,enabled:S,label:{text:(r=C??h)!=null?r:c},marker:{fill:p,fillOpacity:y,stroke:m,strokeWidth:g,strokeOpacity:_},legendItemName:C}]}animateEmptyUpdateReady({datumSelections:e,labelSelections:n,annotationSelections:r}){let l=y1(v1(this.isVertical(),this.axes,"normal"));Si(this.id,"nodes",this.ctx.animationManager,e,l),Hn(this,"labels",this.ctx.animationManager,n),Hn(this,"annotations",this.ctx.animationManager,r)}animateWaitingUpdateReady(e){var n,r,l;let{datumSelections:c,labelSelections:h,annotationSelections:p,previousContextData:m}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);let g=(r=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:r.diff,y=m?.length===0?"fade":"normal",_=y1(v1(this.isVertical(),this.axes,y));Si(this.id,"nodes",this.ctx.animationManager,c,_,(S,A)=>Hh(A.xValue),g),((l=g?.changed)!=null?l:!0)&&(Hn(this,"labels",this.ctx.animationManager,h),Hn(this,"annotations",this.ctx.animationManager,p))}isLabelEnabled(){return this.properties.label.enabled}};mO.className="BarSeries";mO.type="bar";var qwe=mO,Kwe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",instanceConstructor:qwe,stackable:!0,groupable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],swapDefaultAxesCondition:t=>t?.direction==="horizontal",themeTemplate:{series:{__extends__:Au,direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:Cr,color:f0,formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:m0,xOffset:3,yOffset:3,blur:5}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:cD},vU=t=>{let e=Ql.fromString(t),[n,r,l]=Ql.RGBtoOKLCH(e.r,e.g,e.b);return{l:n,c:r,h:l,a:e.a}},Zwe=(t,e,n)=>{n=kn(0,n,1);let r,l;if(Number.isNaN(t.h)&&Number.isNaN(e.h))r=0,l=0;else if(Number.isNaN(t.h))r=e.h,l=e.c;else if(Number.isNaN(e.h))r=t.h,l=t.c;else{let p=t.h,m=e.h,g=e.h-t.h;g>180?m-=360:g<-180&&(m+=360),r=p*(1-n)+m*n,l=t.c*(1-n)+e.c*n}let c=t.l*(1-n)+e.l*n,h=t.a*(1-n)+e.a*n;return Ql.fromOKLCH(c,l,r,h)},ff=class{constructor(){this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(vU)}update(){let{domain:t,range:e}=this;t.length<2&&(Le.warnOnce("`colorDomain` should have at least 2 values."),t.length===0?t.push(0,1):t.length===1&&t.push(t[0]+1));for(let n=1;n<t.length;n++){let r=t[n-1],l=t[n];if(r>=l){Le.warnOnce("`colorDomain` values should be supplied in ascending order."),t.sort((c,h)=>c-h);break}}if(e.length<t.length)for(let n=e.length;n<t.length;n++)e.push(e.length>0?e[0]:"black");this.parsedRange=this.range.map(vU)}convert(t){this.refresh();let{domain:e,range:n,parsedRange:r}=this,l=e[0],c=e.at(-1),h=n[0],p=n[n.length-1];if(t<=l)return h;if(t>=c)return p;let m,g;if(e.length===2){let C=(t-l)/(c-l),S=1/(n.length-1);m=n.length<=2?0:Math.min(Math.floor(C*(n.length-1)),n.length-2),g=(C-m*S)/S}else{for(m=0;m<e.length-2&&!(t<e[m+1]);m++);let C=e[m],S=e[m+1];g=(t-C)/(S-C)}let y=r[m],_=r[m+1];return Zwe(y,_,g).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Le.warnOnce("Expected update to not invalidate scale"))}};B([Fr],ff.prototype,"domain",2);B([Fr],ff.prototype,"range",2);var gO=class extends io{constructor(){super(...arguments),this.maxSize=30}};B([G(Ae),je({redraw:3})],gO.prototype,"maxSize",2);B([G(Jk,{optional:!0}),je({redraw:3})],gO.prototype,"domain",2);var VX=class extends pr{constructor(){super(...arguments),this.placement="top"}};B([G(DI)],VX.prototype,"placement",2);var Qr=class extends qh{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new gO,this.label=new VX,this.tooltip=new ro}};B([G(Re)],Qr.prototype,"xKey",2);B([G(Re)],Qr.prototype,"yKey",2);B([G(Re)],Qr.prototype,"sizeKey",2);B([G(Re,{optional:!0})],Qr.prototype,"labelKey",2);B([G(Re,{optional:!0})],Qr.prototype,"colorKey",2);B([G(Re,{optional:!0})],Qr.prototype,"xName",2);B([G(Re,{optional:!0})],Qr.prototype,"yName",2);B([G(Re,{optional:!0})],Qr.prototype,"sizeName",2);B([G(Re,{optional:!0})],Qr.prototype,"labelName",2);B([G(Re,{optional:!0})],Qr.prototype,"colorName",2);B([G(Jk,{optional:!0})],Qr.prototype,"colorDomain",2);B([G(ka)],Qr.prototype,"colorRange",2);B([G(Re,{optional:!0})],Qr.prototype,"title",2);B([G(qe)],Qr.prototype,"marker",2);B([G(qe)],Qr.prototype,"label",2);B([G(qe)],Qr.prototype,"tooltip",2);var Qwe=class extends eO{constructor(t,e,n,r){super(t,e,n,r),this.sizeKey=r.properties.sizeKey}},vO=class zX extends Kh{constructor(e){super({moduleCtx:e,directionKeys:uf,directionNames:hf,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Pu,marker:N1}}),this.NodeEvent=Qwe,this.properties=new Qr,this.sizeScale=new rc,this.colorScale=new ff}processData(e){return ve(this,null,function*(){var n,r;if(!this.properties.isValid()||this.data==null)return;let{isContinuousX:l,isContinuousY:c}=this.isContinuous(),{xKey:h,yKey:p,sizeKey:m,labelKey:g,colorDomain:y,colorRange:_,colorKey:C,marker:S}=this.properties,{dataModel:A,processedData:E}=yield this.requestDataModel(e,this.data,{props:[Kr(this,h,l,{id:"xKey-raw"}),Kr(this,p,c,{id:"yKey-raw"}),...g?[Kr(this,g,!1,{id:"labelKey-raw"})]:[],Kn(this,h,l,{id:"xValue"}),Kn(this,p,c,{id:"yValue"}),Kn(this,m,!0,{id:"sizeValue"}),...C?[Kn(this,C,!0,{id:"colorValue"})]:[],...g?[Kn(this,g,!1,{id:"labelValue"})]:[]],dataVisible:this.visible}),L=A.resolveProcessedDataIndexById(this,"sizeValue").index,P=(n=E.domain.values[L])!=null?n:[];if(this.sizeScale.domain=S.domain?S.domain:P,C){let R=A.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(r=y??E.domain.values[R])!=null?r:[],this.colorScale.range=_,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(e){let{dataModel:n,processedData:r}=this;if(!r||!n)return[];let l=e==="x"?"xValue":"yValue",c=n.resolveProcessedDataDefById(this,l),h=n.getDomain(this,l,"value",r);if(c?.def.type==="value"&&c?.def.valueType==="category")return h;let p=this.axes[e];return Ps(ac(h),p)}createNodeData(){return ve(this,null,function*(){var e,n,r;let{axes:l,dataModel:c,processedData:h,colorScale:p,sizeScale:m}=this,{xKey:g,yKey:y,sizeKey:_,labelKey:C,xName:S,yName:A,sizeName:E,labelName:L,label:P,colorKey:R,marker:V,visible:z}=this.properties,H=oc(V.shape),{placement:U}=P,X=l.x,Q=l.y;if(!(c&&h&&z&&X&&Q))return[];let Z=c.resolveProcessedDataIndexById(this,"xValue").index,ie=c.resolveProcessedDataIndexById(this,"yValue").index,ne=_?c.resolveProcessedDataIndexById(this,"sizeValue").index:-1,de=R?c.resolveProcessedDataIndexById(this,"colorValue").index:-1,ue=C?c.resolveProcessedDataIndexById(this,"labelValue").index:-1,ge=X.scale,De=Q.scale,Ce=((e=ge.bandwidth)!=null?e:0)/2,Pe=((n=De.bandwidth)!=null?n:0)/2,Ve=[];m.range=[V.size,V.maxSize];let Ie=P.getFont();for(let{values:Ne,datum:Xe}of(r=h.data)!=null?r:[]){let Qe=Ne[Z],Wt=Ne[ie],Ut=ge.convert(Qe)+Ce,rn=De.convert(Wt)+Pe,we=this.getLabelText(P,{value:C?Ne[ue]:Wt,datum:Xe,xKey:g,yKey:y,sizeKey:_,labelKey:C,xName:S,yName:A,sizeName:E,labelName:L}),lt=an.getTextSize(String(we),Ie),zt=_?m.convert(Ne[ne]):V.size,be=R?p.convert(Ne[de]):void 0;Ve.push({series:this,itemId:y,yKey:y,xKey:g,datum:Xe,xValue:Qe,yValue:Wt,sizeValue:Ne[ne],point:{x:Ut,y:rn,size:zt},midPoint:{x:Ut,y:rn},fill:be,label:he({text:we},lt),marker:H,placement:U})}return[{itemId:y,nodeData:Ve,labelData:Ve,scales:Ja(zX.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return(e=this.contextNodeData)==null?void 0:e.reduce((n,r)=>n.concat(r.labelData),[])}markerFactory(){let{shape:e}=this.properties.marker,n=oc(e);return new n}updateMarkerSelection(e){return ve(this,null,function*(){let{nodeData:n,markerSelection:r}=e;this.properties.marker.isDirty()&&(r.clear(),r.cleanup());let l=this.properties.marker.enabled?n:[];return r.update(l,void 0,c=>Hh([c.xValue,c.yValue,c.label.text]))})}updateMarkerNodes(e){return ve(this,null,function*(){let{markerSelection:n,isHighlight:r}=e,{xKey:l,yKey:c,sizeKey:h,labelKey:p,marker:m}=this.properties,g=nn(r&&this.properties.highlightStyle.item,m.getStyle());this.sizeScale.range=[m.size,m.maxSize],n.each((y,_)=>{this.updateMarkerStyle(y,m,{datum:_,highlighted:r,xKey:l,yKey:c,sizeKey:h,labelKey:p},g)}),r||this.properties.marker.markClean()})}updateLabelSelection(e){return ve(this,null,function*(){var n,r;let l=this.properties.label.enabled?(r=(n=this.chart)==null?void 0:n.placeLabels().get(this))!=null?r:[]:[];return e.labelSelection.update(l.map(c=>He(he({},c.datum),{point:{x:c.x,y:c.y,size:c.datum.point.size}})))})}updateLabelNodes(e){return ve(this,null,function*(){let{label:n}=this.properties;e.labelSelection.each((r,l)=>{var c,h,p,m;r.text=l.label.text,r.fill=n.color,r.x=(h=(c=l.point)==null?void 0:c.x)!=null?h:0,r.y=(m=(p=l.point)==null?void 0:p.y)!=null?m:0,r.fontStyle=n.fontStyle,r.fontWeight=n.fontWeight,r.fontSize=n.fontSize,r.fontFamily=n.fontFamily,r.textAlign="left",r.textBaseline="top"})})}getTooltipHtml(e){var n;let r=this.axes.x,l=this.axes.y;if(!this.properties.isValid()||!r||!l)return"";let{xKey:c,yKey:h,sizeKey:p,labelKey:m,xName:g,yName:y,sizeName:_,labelName:C,marker:S,tooltip:A}=this.properties,E=(n=this.properties.title)!=null?n:y,L=nn({fill:e.fill,strokeWidth:this.getStrokeWidth(S.strokeWidth)},S.getStyle()),{fill:P="gray"}=this.getMarkerStyle(S,{datum:e,highlighted:!1,xKey:c,yKey:h,sizeKey:p,labelKey:m},L),{datum:R,xValue:V,yValue:z,sizeValue:H,label:{text:U}}=e,X=Di(r.formatDatum(V)),Q=Di(l.formatDatum(z)),Z=`<b>${Di(g??c)}</b>: ${X}<br><b>${Di(y??h)}</b>: ${Q}`;return p&&(Z+=`<br><b>${Di(_??p)}</b>: ${Di(String(H))}`),m&&(Z=`<b>${Di(C??m)}</b>: ${Di(U)}<br>`+Z),A.toTooltipHtml({title:E,content:Z,backgroundColor:P},{datum:R,xKey:c,xName:g,yKey:h,yName:y,sizeKey:p,sizeName:_,labelKey:m,labelName:C,title:E,color:P,seriesId:this.id})}getLegendData(){var e,n;if(!((e=this.data)!=null&&e.length)||!this.properties.isValid())return[];let{yKey:r,yName:l,title:c,marker:h,visible:p}=this.properties,{shape:m,fill:g,stroke:y,fillOpacity:_,strokeOpacity:C,strokeWidth:S}=h;return[{legendType:"category",id:this.id,itemId:r,seriesId:this.id,enabled:p,label:{text:(n=c??l)!=null?n:r},marker:{shape:m,fill:g??"rgba(0, 0, 0, 0)",stroke:y??"rgba(0, 0, 0, 0)",fillOpacity:_??1,strokeOpacity:C??1,strokeWidth:S??0}}]}animateEmptyUpdateReady({markerSelections:e,labelSelections:n}){sO(this,this.ctx.animationManager,e),Hn(this,"labels",this.ctx.animationManager,n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new et}};vO.className="BubbleSeries";vO.type="bubble";var Jwe=vO,e2e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",instanceConstructor:Jwe,defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{__extends__:Au,tooltip:{position:{type:"node"}},marker:{__extends__:p0,maxSize:30,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Cr,color:Nn}}},paletteFactory:T0},fr=class extends qh{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new cl,this.label=new pr,this.tooltip=new ro}};B([G(Re)],fr.prototype,"xKey",2);B([G(Re,{optional:!0})],fr.prototype,"yKey",2);B([G(Re,{optional:!0})],fr.prototype,"xName",2);B([G(Re,{optional:!0})],fr.prototype,"yName",2);B([G(Dn,{optional:!0})],fr.prototype,"fill",2);B([G(In)],fr.prototype,"fillOpacity",2);B([G(Dn,{optional:!0})],fr.prototype,"stroke",2);B([G(Ae)],fr.prototype,"strokeWidth",2);B([G(In)],fr.prototype,"strokeOpacity",2);B([G(Lu)],fr.prototype,"lineDash",2);B([G(Ae)],fr.prototype,"lineDashOffset",2);B([G(Ae)],fr.prototype,"cornerRadius",2);B([G(Ct)],fr.prototype,"areaPlot",2);B([G(D1,{optional:!0})],fr.prototype,"bins",2);B([G(Ui(["count","sum","mean"],"a histogram aggregation"))],fr.prototype,"aggregation",2);B([G(Ae,{optional:!0})],fr.prototype,"binCount",2);B([G(qe)],fr.prototype,"shadow",2);B([G(qe)],fr.prototype,"label",2);B([G(qe)],fr.prototype,"tooltip",2);var yU=10,yO=class HX extends Kh{constructor(e){super({moduleCtx:e,directionKeys:uf,directionNames:hf,pickModes:[0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:x1,label:Pu}}),this.properties=new fr,this.calculatedBins=[]}deriveBins(e){let n=tD(e[0],e[1],yU),r=a0(e[0],e[1],yU),[l]=n,c=h=>[h,h+r];return[[l-r,l],...n.map(c)]}calculateNiceBins(e,n){let r=Math.floor(e[0]),l=e[1],c=n||1,{start:h,binSize:p}=this.calculateNiceStart(r,l,c);return this.getBins(h,l,p,c)}getBins(e,n,r,l){let c=[],h=this.calculatePrecision(r);for(let p=0;p<l;p++){let m=Math.round((e+p*r)*h)/h,g=Math.round((e+(p+1)*r)*h)/h;p===l-1&&(g=Math.max(g,n)),c[p]=[m,g]}return c}calculatePrecision(e){let n=10;if(isFinite(e)&&e>0)for(;e<1;)n*=10,e*=10;return n}calculateNiceStart(e,n,r){let l=Math.abs(n-e)/r,c=Math.floor(Math.log10(l)),h=Math.pow(10,c);return{start:Math.floor(e/h)*h,binSize:l}}processData(e){return ve(this,null,function*(){var n;let{xKey:r,yKey:l,areaPlot:c,aggregation:h}=this.properties,p=[Kr(this,r,!0),KY];if(l){let g=qL(this,"groupAgg");h==="count"||(h==="sum"?g=UY(this,"groupAgg"):h==="mean"&&(g=YY(this,"groupAgg"))),c&&(g=KL(this,"groupAgg",g)),p.push(Kn(this,l,!0,{invalidValue:void 0}),g)}else{let g=qL(this,"groupAgg");c&&(g=KL(this,"groupAgg",g)),p.push(g)}let m=g=>{var y;let _=Ps(g.domain.keys[0]);if(_.length===0)return g.domain.groups=[],()=>[];let C=Vo(this.properties.binCount)?this.calculateNiceBins(_,this.properties.binCount):(y=this.properties.bins)!=null?y:this.deriveBins(_),S=C.length;return this.calculatedBins=[...C],A=>{let E=A.keys[0];for(let L=0;L<S;L++){let P=C[L];if(E>=P[0]&&E<P[1]||L===S-1&&E<=P[1])return P}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&p.push(cf(this.processedData,!1)),yield this.requestDataModel(e,(n=this.data)!=null?n:[],{props:p,dataVisible:this.visible,groupByFn:m}),this.animationState.transition("updateData")})}getSeriesDomain(e){var n,r,l,c;let{processedData:h,dataModel:p}=this;if(!h||!p||!this.calculatedBins.length)return[];let m=p.getDomain(this,"groupAgg","aggregate",h),g=(n=this.calculatedBins)==null?void 0:n[0][0],y=(c=this.calculatedBins)==null?void 0:c[((l=(r=this.calculatedBins)==null?void 0:r.length)!=null?l:0)-1][1];return Ps(e==="x"?[g,y]:m)}createNodeData(){return ve(this,null,function*(){var e;let{id:n,axes:r,processedData:l,ctx:{callbackCache:c}}=this,h=r.x,p=r.y;if(!this.visible||!h||!p||!l||l.type!=="grouped")return[];let{scale:m}=h,{scale:g}=p,{xKey:y,yKey:_,xName:C,yName:S,fill:A,stroke:E,strokeWidth:L,cornerRadius:P}=this.properties,{formatter:R=Z=>String(Z.value),fontStyle:V,fontWeight:z,fontSize:H,fontFamily:U,color:X}=this.properties.label,Q=[];return l.data.forEach(Z=>{var ie;let{aggValues:[[ne,de]]=[[0,0]],datum:ue,datum:{length:ge},keys:De,keys:[Ce,Pe]}=Z,Ve=m.convert(Ce),Ie=m.convert(Pe),Ne=ne+de,Xe=g.convert(0),Qe=g.convert(Ne),Wt=Math.abs(Ie-Ve),Ut=Math.abs(Qe-Xe),rn=Math.min(Ve,Ie),we=Math.min(Xe,Qe),lt;Ne!==0&&(lt={text:(ie=c.call(R,{value:Ne,datum:ue,seriesId:n,xKey:y,yKey:_,xName:C,yName:S}))!=null?ie:String(Ne),fontStyle:V,fontWeight:z,fontSize:H,fontFamily:U,fill:X,x:rn+Wt/2,y:we+Ut/2});let zt={x:rn+Wt/2,y:we+Ut/2},be=p.isReversed();Q.push({series:this,datum:ue,aggregatedValue:Ne,frequency:ge,domain:De,yKey:_,xKey:y,x:rn,y:we,xValue:Ve,yValue:Qe,width:Wt,height:Ut,midPoint:zt,fill:A,stroke:E,cornerRadius:P,topLeftCornerRadius:!be,topRightCornerRadius:!be,bottomRightCornerRadius:be,bottomLeftCornerRadius:be,opacity:1,strokeWidth:L,label:lt})}),[{itemId:(e=this.properties.yKey)!=null?e:this.id,nodeData:Q,labelData:Q,scales:Ja(HX.prototype,this,"calculateScaling").call(this),animationValid:!0,visible:this.visible}]})}nodeFactory(){return new Zr}updateDatumSelection(e){return ve(this,null,function*(){let{nodeData:n,datumSelection:r}=e;return r.update(n,l=>{l.tag=0,l.crisp=!0},l=>l.domain.join("_"))})}updateDatumNodes(e){return ve(this,null,function*(){let{isHighlight:n}=e,{fillOpacity:r,strokeOpacity:l,lineDash:c,lineDashOffset:h,shadow:p,highlightStyle:{item:{fill:m,fillOpacity:g=r,stroke:y,strokeWidth:_}}}=this.properties;e.datumSelection.each((C,S,A)=>{var E,L;let{cornerRadius:P,topLeftCornerRadius:R,topRightCornerRadius:V,bottomRightCornerRadius:z,bottomLeftCornerRadius:H}=S,U=n&&_!==void 0?_:S.strokeWidth,X=n?g:r;C.fill=(E=n?m:void 0)!=null?E:S.fill,C.stroke=(L=n?y:void 0)!=null?L:S.stroke,C.fillOpacity=X,C.strokeOpacity=l,C.strokeWidth=U,C.lineDash=c,C.lineDashOffset=h,C.topLeftCornerRadius=R?P:0,C.topRightCornerRadius=V?P:0,C.bottomRightCornerRadius=z?P:0,C.bottomLeftCornerRadius=H?P:0,C.fillShadow=p,C.zIndex=n?w0.highlightedZIndex:A,C.visible=S.height>0})})}updateLabelSelection(e){return ve(this,null,function*(){let{labelData:n,labelSelection:r}=e;return r.update(n,l=>{l.tag=1,l.pointerEvents=1,l.textAlign="center",l.textBaseline="middle"})})}updateLabelNodes(e){return ve(this,null,function*(){let n=this.isLabelEnabled();e.labelSelection.each((r,l)=>{let c=l.label;c&&n?(r.text=c.text,r.x=c.x,r.y=c.y,r.fontStyle=c.fontStyle,r.fontWeight=c.fontWeight,r.fontSize=c.fontSize,r.fontFamily=c.fontFamily,r.fill=c.fill,r.visible=!0):r.visible=!1})})}getTooltipHtml(e){let n=this.axes.x,r=this.axes.y;if(!this.properties.isValid()||!n||!r)return"";let{xKey:l,yKey:c,xName:h,yName:p,fill:m,aggregation:g,tooltip:y}=this.properties,{aggregatedValue:_,frequency:C,domain:[S,A]}=e,E=`${Di(h??l)}: ${n.formatDatum(S)} - ${n.formatDatum(A)}`,L=c?`<b>${Di(p??c)} (${g})</b>: ${r.formatDatum(_)}<br>`:"";L+=`<b>Frequency</b>: ${C}`;let P={title:E,backgroundColor:m,content:L};return y.toTooltipHtml(P,{datum:{data:e.datum,aggregatedValue:e.aggregatedValue,domain:e.domain,frequency:e.frequency},xKey:l,xName:h,yKey:c,yName:p,color:m,title:E,seriesId:this.id})}getLegendData(e){var n,r;if(!((n=this.data)!=null&&n.length)||e!=="category")return[];let{xKey:l,yName:c,fill:h,fillOpacity:p,stroke:m,strokeWidth:g,strokeOpacity:y,visible:_}=this.properties;return[{legendType:"category",id:this.id,itemId:l,seriesId:this.id,enabled:_,label:{text:(r=c??l)!=null?r:"Frequency"},marker:{fill:h??"rgba(0, 0, 0, 0)",stroke:m??"rgba(0, 0, 0, 0)",fillOpacity:p,strokeOpacity:y,strokeWidth:g}}]}animateEmptyUpdateReady({datumSelections:e,labelSelections:n}){let r=y1(v1(!0,this.axes,"normal"));Si(this.id,"datums",this.ctx.animationManager,e,r),Hn(this,"labels",this.ctx.animationManager,n)}animateWaitingUpdateReady(e){var n,r;let l=(r=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:r.diff,c=y1(v1(!0,this.axes,"normal"));Si(this.id,"datums",this.ctx.animationManager,e.datumSelections,c,(h,p)=>Hh(p.domain),l),Hn(this,"labels",this.ctx.animationManager,e.labelSelections)}isLabelEnabled(){return this.properties.label.enabled}};yO.className="HistogramSeries";yO.type="histogram";var t2e=yO,n2e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",instanceConstructor:t2e,defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{__extends__:Au,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Cr,color:f0,formatter:void 0},shadow:{enabled:!1,color:m0,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:t})=>{let{fills:[e],strokes:[n]}=t(1);return{fill:e,stroke:n}}},Ns=class extends qh{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.marker=new io,this.label=new pr,this.tooltip=new ro,this.connectMissingData=!1}};B([G(Re)],Ns.prototype,"xKey",2);B([G(Re)],Ns.prototype,"yKey",2);B([G(Re,{optional:!0})],Ns.prototype,"xName",2);B([G(Re,{optional:!0})],Ns.prototype,"yName",2);B([G(Re,{optional:!0})],Ns.prototype,"title",2);B([G(Dn)],Ns.prototype,"stroke",2);B([G(Ae)],Ns.prototype,"strokeWidth",2);B([G(In)],Ns.prototype,"strokeOpacity",2);B([G(Lu)],Ns.prototype,"lineDash",2);B([G(Ae)],Ns.prototype,"lineDashOffset",2);B([G(qe)],Ns.prototype,"marker",2);B([G(qe)],Ns.prototype,"label",2);B([G(qe)],Ns.prototype,"tooltip",2);B([G(Ct)],Ns.prototype,"connectMissingData",2);var xO=class jX extends Kh{constructor(e){super({moduleCtx:e,directionKeys:uf,directionNames:hf,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:hO({getOpacity:()=>this.getOpacity()}),label:Pu,marker:(n,r)=>he(he({},N1(n)),f1(n,r))}}),this.properties=new Ns}processData(e){return ve(this,null,function*(){var n;if(!this.properties.isValid()||this.data==null)return;let{xKey:r,yKey:l}=this.properties,c=!this.ctx.animationManager.isSkipped(),{isContinuousX:h,isContinuousY:p}=this.isContinuous(),m=[];h||m.push(Kr(this,r,h,{id:"xKey"})),c&&(m.push(_0(this,h?["xValue"]:void 0)),this.processedData&&m.push(cf(this.processedData)));let g=(n=this.axes.x)==null?void 0:n.scale,y=Ln.is(g)?"range":"category";m.push(Kn(this,r,h,{id:"xValue",valueType:y}),Kn(this,l,p,{id:"yValue",invalidValue:void 0})),yield this.requestDataModel(e,this.data,{props:m}),this.animationState.transition("updateData")})}getSeriesDomain(e){let{axes:n,dataModel:r,processedData:l}=this;if(!l||!r)return[];let c=n.x,h=n.y,p=r.resolveProcessedDataDefById(this,"xValue");if(e==="x"){let m=r.getDomain(this,"xValue","value",l);return p?.def.type==="value"&&p.def.valueType==="category"?m:Ps(ac(m),c)}else{let m=r.getDomain(this,"yValue","value",l);return Ps(m,h)}}createNodeData(){return ve(this,null,function*(){var e,n,r;let{processedData:l,dataModel:c,axes:h}=this,p=h.x,m=h.y;if(!l||!c||!p||!m)return[];let{xKey:g,yKey:y,xName:_,yName:C,marker:S,label:A,connectMissingData:E}=this.properties,L=p.scale,P=m.scale,R=((e=L.bandwidth)!=null?e:0)/2,V=((n=P.bandwidth)!=null?n:0)/2,z=[],H=S.enabled?S.size:0,U=c.resolveProcessedDataIndexById(this,"xValue").index,X=c.resolveProcessedDataIndexById(this,"yValue").index,Q=!0,Z;for(let ie=0;ie<l.data.length;ie++){let{datum:ne,values:de}=Z??l.data[ie],ue=de[U],ge=de[X];if(ge===void 0)Q=!E;else{let De=L.convert(ue)+R;if(isNaN(De)){Q=!E,Z=void 0;continue}Z=((r=l.data[ie+1])==null?void 0:r.values[X])===void 0?void 0:l.data[ie+1];let Ce=P.convert(ge)+V,Pe=this.getLabelText(A,{value:ge,datum:ne,xKey:g,yKey:y,xName:_,yName:C},Ve=>Bn(Ve)?Ve.toFixed(2):String(Ve));z.push({series:this,datum:ne,yKey:y,xKey:g,point:{x:De,y:Ce,moveTo:Q,size:H},midPoint:{x:De,y:Ce},yValue:ge,xValue:ue,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:Pe?{text:Pe,fontStyle:A.fontStyle,fontWeight:A.fontWeight,fontSize:A.fontSize,fontFamily:A.fontFamily,textAlign:"center",textBaseline:"bottom",fill:A.color}:void 0}),Q=!1}}return[{itemId:y,nodeData:z,labelData:z,scales:Ja(jX.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){let{shape:e}=this.properties.marker,n=oc(e);return new n}updatePathNodes(e){return ve(this,null,function*(){let{paths:[n],opacity:r,visible:l,animationEnabled:c}=e;n.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:r,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),c||(n.visible=l),Vk(this,n)})}updateMarkerSelection(e){return ve(this,null,function*(){let{nodeData:n}=e,{markerSelection:r}=e,{shape:l,enabled:c}=this.properties.marker;return n=l&&c?n:[],this.properties.marker.isDirty()&&(r.clear(),r.cleanup()),r.update(n,void 0,h=>Hh(h.xValue))})}updateMarkerNodes(e){return ve(this,null,function*(){let{markerSelection:n,isHighlight:r}=e,{xKey:l,yKey:c,stroke:h,strokeWidth:p,strokeOpacity:m,marker:g,highlightStyle:y}=this.properties,_=nn(r&&y.item,g.getStyle(),{stroke:h,strokeWidth:p,strokeOpacity:m}),C=this.ctx.animationManager.isSkipped();n.each((S,A)=>{this.updateMarkerStyle(S,g,{datum:A,highlighted:r,xKey:l,yKey:c},_,{applyTranslation:C})}),r||g.markClean()})}updateLabelSelection(e){return ve(this,null,function*(){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])})}updateLabelNodes(e){return ve(this,null,function*(){let{enabled:n,fontStyle:r,fontWeight:l,fontSize:c,fontFamily:h,color:p}=this.properties.label;e.labelSelection.each((m,g)=>{let{point:y,label:_}=g;g&&_&&n?(m.fontStyle=r,m.fontWeight=l,m.fontSize=c,m.fontFamily=h,m.textAlign=_.textAlign,m.textBaseline=_.textBaseline,m.text=_.text,m.x=y.x,m.y=y.y-10,m.fill=p,m.visible=!0):m.visible=!1})})}getTooltipHtml(e){var n;let r=this.axes.x,l=this.axes.y;if(!this.properties.isValid()||!r||!l)return"";let{xKey:c,yKey:h,xName:p,yName:m,strokeWidth:g,marker:y,tooltip:_}=this.properties,{datum:C,xValue:S,yValue:A}=e,E=r.formatDatum(S),L=l.formatDatum(A),P=Di((n=this.properties.title)!=null?n:m),R=Di(E+": "+L),V=nn({fill:y.stroke},y.getStyle(),{strokeWidth:g}),{fill:z}=this.getMarkerStyle(y,{datum:e,xKey:c,yKey:h,highlighted:!1},V);return _.toTooltipHtml({title:P,content:R,backgroundColor:z},he({datum:C,xKey:c,xName:p,yKey:h,yName:m,title:P,color:z,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(e){var n,r,l,c,h,p,m,g,y;if(!((n=this.data)!=null&&n.length&&this.properties.isValid()&&e==="category"))return[];let{yKey:_,yName:C,stroke:S,strokeOpacity:A,strokeWidth:E,lineDash:L,title:P,marker:R,visible:V}=this.properties,z="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:_,seriesId:this.id,enabled:V,label:{text:(r=P??C)!=null?r:_},marker:{shape:R.shape,fill:(l=R.fill)!=null?l:z,stroke:(h=(c=R.stroke)!=null?c:S)!=null?h:z,fillOpacity:(p=R.fillOpacity)!=null?p:1,strokeOpacity:(g=(m=R.strokeOpacity)!=null?m:A)!=null?g:1,strokeWidth:(y=R.strokeWidth)!=null?y:0,enabled:R.enabled},line:{stroke:S??z,strokeOpacity:A,strokeWidth:E,lineDash:L}}]}updatePaths(e){return ve(this,null,function*(){this.updateLinePaths([e.paths],[e.contextData])})}updateLinePaths(e,n){n.forEach(({nodeData:r},l)=>{let[c]=e[l],{path:h}=c;h.clear({trackChanges:!0});for(let p of r)p.point.moveTo?h.moveTo(p.point.x,p.point.y):h.lineTo(p.point.x,p.point.y);c.checkPathDirty()})}animateEmptyUpdateReady(e){let{markerSelections:n,labelSelections:r,annotationSelections:l,contextData:c,paths:h}=e,{animationManager:p}=this.ctx;this.updateLinePaths(h,c),uO(this,p,h.flat()),kr(n,f1),oO(this,p,n),Hn(this,"labels",p,r),Hn(this,"annotations",p,l)}animateReadyResize(e){let{contextData:n,paths:r}=e;this.updateLinePaths(r,n),super.animateReadyResize(e)}animateWaitingUpdateReady(e){var n,r;let{animationManager:l}=this.ctx,{markerSelections:c,labelSelections:h,annotationSelections:p,contextData:m,paths:g,previousContextData:y}=e,[_]=g;super.resetAllAnimation(e);let C=()=>{this.updateLinePaths(g,m)},S=()=>{l.skipCurrentBatch(),C()};if(m.length===0||y?.length===0){C(),p1(this,l,c,"added"),Qx(this,"path_properties",l,_??[]),Hn(this,"labels",l,h),Hn(this,"annotations",l,p);return}let[A]=m,[E]=y??[],L=TX(A,E,(r=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:r.diff);if(L===void 0){S();return}else if(L.status==="no-op")return;p1(this,l,c),Si(this.id,"path_properties",l,_,L.pathProperties),wX(this.id,"path_update",l,_,L.path),L.hasMotion&&(Hn(this,"labels",l,h),Hn(this,"annotations",l,p))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new et}};xO.className="LineSeries";xO.type="line";var i2e=xO,r2e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",instanceConstructor:i2e,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{__extends__:Au,tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:{__extends__:p0,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Cr,color:Nn,formatter:void 0}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:t=>{let{marker:e}=T0(t);return{stroke:e.fill,marker:e}}},GX=class extends pr{constructor(){super(...arguments),this.placement="top"}};B([G(DI)],GX.prototype,"placement",2);var Bs=class extends qh{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new io,this.label=new GX,this.tooltip=new ro}};B([G(Re)],Bs.prototype,"xKey",2);B([G(Re)],Bs.prototype,"yKey",2);B([G(Re,{optional:!0})],Bs.prototype,"labelKey",2);B([G(Re,{optional:!0})],Bs.prototype,"colorKey",2);B([G(Re,{optional:!0})],Bs.prototype,"xName",2);B([G(Re,{optional:!0})],Bs.prototype,"yName",2);B([G(Re,{optional:!0})],Bs.prototype,"labelName",2);B([G(Re,{optional:!0})],Bs.prototype,"colorName",2);B([G(Jk,{optional:!0})],Bs.prototype,"colorDomain",2);B([G(ka)],Bs.prototype,"colorRange",2);B([G(Re,{optional:!0})],Bs.prototype,"title",2);B([G(qe)],Bs.prototype,"marker",2);B([G(qe)],Bs.prototype,"label",2);B([G(qe)],Bs.prototype,"tooltip",2);var bO=class WX extends Kh{constructor(e){super({moduleCtx:e,directionKeys:uf,directionNames:hf,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:N1,label:Pu}}),this.properties=new Bs,this.colorScale=new ff}processData(e){return ve(this,null,function*(){var n;if(!this.properties.isValid()||this.data==null)return;let{isContinuousX:r,isContinuousY:l}=this.isContinuous(),{xKey:c,yKey:h,labelKey:p,colorKey:m,colorDomain:g,colorRange:y}=this.properties,{dataModel:_,processedData:C}=yield this.requestDataModel(e,this.data,{props:[Kr(this,c,r,{id:"xKey-raw"}),Kr(this,h,l,{id:"yKey-raw"}),...p?[Kr(this,p,!1,{id:"labelKey-raw"})]:[],Kn(this,c,r,{id:"xValue"}),Kn(this,h,l,{id:"yValue"}),...m?[Kn(this,m,!0,{id:"colorValue"})]:[],...p?[Kn(this,p,!1,{id:"labelValue"})]:[]],dataVisible:this.visible});if(m){let S=_.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(n=g??C.domain.values[S])!=null?n:[],this.colorScale.range=y,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(e){let{dataModel:n,processedData:r}=this;if(!r||!n)return[];let l=e==="x"?"xValue":"yValue",c=n.resolveProcessedDataDefById(this,l),h=n.getDomain(this,l,"value",r);if(c?.def.type==="value"&&c?.def.valueType==="category")return h;let p=this.axes[e];return Ps(ac(h),p)}createNodeData(){return ve(this,null,function*(){var e,n,r;let{axes:l,dataModel:c,processedData:h,colorScale:p}=this,{xKey:m,yKey:g,labelKey:y,colorKey:_,xName:C,yName:S,labelName:A,marker:E,label:L,visible:P}=this.properties,{placement:R}=L,V=oc(E.shape),z=l.x,H=l.y;if(!(c&&h&&P&&z&&H))return[];let U=c.resolveProcessedDataIndexById(this,"xValue").index,X=c.resolveProcessedDataIndexById(this,"yValue").index,Q=_?c.resolveProcessedDataIndexById(this,"colorValue").index:-1,Z=y?c.resolveProcessedDataIndexById(this,"labelValue").index:-1,ie=z.scale,ne=H.scale,de=((e=ie.bandwidth)!=null?e:0)/2,ue=((n=ne.bandwidth)!=null?n:0)/2,ge=[],De=L.getFont();for(let{values:Ce,datum:Pe}of(r=h.data)!=null?r:[]){let Ve=Ce[U],Ie=Ce[X],Ne=ie.convert(Ve)+de,Xe=ne.convert(Ie)+ue,Qe=this.getLabelText(L,{value:y?Ce[Z]:Ie,datum:Pe,xKey:m,yKey:g,labelKey:y,xName:C,yName:S,labelName:A}),Wt=an.getTextSize(Qe,De),Ut=_?p.convert(Ce[Q]):void 0;ge.push({series:this,itemId:g,yKey:g,xKey:m,datum:Pe,xValue:Ve,yValue:Ie,capDefaults:{lengthRatioMultiplier:E.getDiameter(),lengthMax:1/0},point:{x:Ne,y:Xe,size:E.size},midPoint:{x:Ne,y:Xe},fill:Ut,label:he({text:Qe},Wt),marker:V,placement:R})}return[{itemId:g,nodeData:ge,labelData:ge,scales:Ja(WX.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var e;return(e=this.contextNodeData)==null?void 0:e.reduce((n,r)=>n.concat(r.labelData),[])}markerFactory(){let{shape:e}=this.properties.marker,n=oc(e);return new n}updateMarkerSelection(e){return ve(this,null,function*(){let{nodeData:n,markerSelection:r}=e;return this.properties.marker.isDirty()&&(r.clear(),r.cleanup()),r.update(this.properties.marker.enabled?n:[])})}updateMarkerNodes(e){return ve(this,null,function*(){let{markerSelection:n,isHighlight:r}=e,{xKey:l,yKey:c,labelKey:h,marker:p,highlightStyle:m}=this.properties,g=nn(r&&m.item,p.getStyle());n.each((y,_)=>{this.updateMarkerStyle(y,p,{datum:_,highlighted:r,xKey:l,yKey:c,labelKey:h},g)}),r||p.markClean()})}updateLabelSelection(e){return ve(this,null,function*(){var n,r;let l=this.isLabelEnabled()?(r=(n=this.chart)==null?void 0:n.placeLabels().get(this))!=null?r:[]:[];return e.labelSelection.update(l.map(({datum:c,x:h,y:p})=>He(he({},c),{point:{x:h,y:p,size:c.point.size},placement:"top"})),c=>{c.pointerEvents=1})})}updateLabelNodes(e){return ve(this,null,function*(){let{label:n}=this.properties;e.labelSelection.each((r,l)=>{var c,h,p,m;r.text=l.label.text,r.fill=n.color,r.x=(h=(c=l.point)==null?void 0:c.x)!=null?h:0,r.y=(m=(p=l.point)==null?void 0:p.y)!=null?m:0,r.fontStyle=n.fontStyle,r.fontWeight=n.fontWeight,r.fontSize=n.fontSize,r.fontFamily=n.fontFamily,r.textAlign="left",r.textBaseline="top"})})}getTooltipHtml(e){let n=this.axes.x,r=this.axes.y;if(!this.properties.isValid()||!n||!r)return"";let{xKey:l,yKey:c,labelKey:h,xName:p,yName:m,labelName:g,title:y=m,marker:_,tooltip:C}=this.properties,{datum:S,xValue:A,yValue:E,label:L}=e,P=nn({fill:e.fill,strokeWidth:this.getStrokeWidth(_.strokeWidth)},_.getStyle()),{fill:R="gray"}=this.getMarkerStyle(_,{datum:e,highlighted:!1,xKey:l,yKey:c,labelKey:h},P),V=Di(n.formatDatum(A)),z=Di(r.formatDatum(E)),H=`<b>${Di(p??l)}</b>: ${V}<br><b>${Di(m??c)}</b>: ${z}`;return h&&(H=`<b>${Di(g??h)}</b>: ${Di(L.text)}<br>`+H),C.toTooltipHtml({title:y,content:H,backgroundColor:R},he({datum:S,xKey:l,xName:p,yKey:c,yName:m,labelKey:h,labelName:g,title:y,color:R,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(e){var n,r,l,c,h,p;let{yKey:m,yName:g,title:y,marker:_,visible:C}=this.properties,{fill:S,stroke:A,fillOpacity:E,strokeOpacity:L,strokeWidth:P}=_;return!((n=this.data)!=null&&n.length)||!this.properties.isValid()||e!=="category"?[]:[{legendType:"category",id:this.id,itemId:m,seriesId:this.id,enabled:C,label:{text:(r=y??g)!=null?r:m},marker:{shape:_.shape,fill:(c=(l=_.fill)!=null?l:S)!=null?c:"rgba(0, 0, 0, 0)",stroke:(p=(h=_.stroke)!=null?h:A)!=null?p:"rgba(0, 0, 0, 0)",fillOpacity:E??1,strokeOpacity:L??1,strokeWidth:P??0}}]}animateEmptyUpdateReady(e){let{markerSelections:n,labelSelections:r,annotationSelections:l}=e;sO(this,this.ctx.animationManager,n),Hn(this,"labels",this.ctx.animationManager,r),Hn(this,"annotations",this.ctx.animationManager,l)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new et}};bO.className="ScatterSeries";bO.type="scatter";var s2e=bO,o2e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",instanceConstructor:s2e,defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{__extends__:Au,tooltip:{position:{type:"node"}},marker:{__extends__:p0,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Cr,color:Nn}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:T0};function _O(t,e,n){let r=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),{innerRadius:l,outerRadius:c}=n;if(n.startAngle===n.endAngle||r<Math.min(l,c)||r>Math.max(l,c))return!1;let h=s1(n.startAngle),p=s1(n.endAngle),m=Math.atan2(e,t);return h<p?m<=p&&m>=h:m<=p&&m>=-Math.PI||m>=h&&m<=Math.PI}function xU(t,e){let{startAngle:n,endAngle:r,innerRadius:l,outerRadius:c}=e,h={x:c*Math.cos(n),y:c*Math.sin(n)},p={x:c*Math.cos(r),y:c*Math.sin(r)},m=l===0?{x:0,y:0}:{x:l*Math.cos(n),y:l*Math.sin(n)},g=l===0?{x:0,y:0}:{x:l*Math.cos(r),y:l*Math.sin(r)};return Xg(t.start.x,t.start.y,t.end.x,t.end.y,h.x,h.y,m.x,m.y)||Xg(t.start.x,t.start.y,t.end.x,t.end.y,p.x,p.y,g.x,g.y)||iX(0,0,c,n,r,!0,t.start.x,t.start.y,t.end.x,t.end.y)}function UX(t,e){let n={x:t.x,y:t.y},r={x:t.x+t.width,y:t.y},l={x:t.x,y:t.y+t.height},c={x:t.x+t.width,y:t.y+t.height};return xU({start:n,end:r},e)||xU({start:l,end:c},e)}var Sa=class extends Wo{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.angleOffset=0,this.inset=0}computeBBox(){let t=this.outerRadius;return new yt(this.centerX-t,this.centerY-t,t*2,t*2)}updatePath(){let t=this.path,{angleOffset:e,inset:n}=this,r=this.startAngle+e,l=this.endAngle+e,c=r<=l?l-r:Math.PI*2-(r-l),h=Math.max(Math.min(this.innerRadius,this.outerRadius)+n,0),p=Math.max(Math.max(this.innerRadius,this.outerRadius)-n,0),m=c>=2*Math.PI,g=this.centerX,y=this.centerY;if(t.clear(),m)t.arc(g,y,p,r,l),h>n&&(t.moveTo(g+h*Math.cos(l),y+h*Math.sin(l)),t.arc(g,y,h,l,r,!0));else{let _=h>0?n/h:0,C=p>0?n/p:0;if(c<2*C)return;let A=h<=n||c<2*_;if(A){let E=c<Math.PI*.5?n*(1+Math.cos(c))/Math.sin(c):NaN,L;E>0&&E<p?L=Math.max(Math.hypot(n,E),h):L=h;let P=r+c*.5;t.moveTo(g+L*Math.cos(P),y+L*Math.sin(P))}else t.moveTo(g+h*Math.cos(r+_),y+h*Math.sin(r+_));t.arc(g,y,p,r+C,l-C),A||(h>0?t.arc(g,y,h,l-_,r+_,!0):t.lineTo(g,y))}t.closePath(),this.dirtyPath=!1}isPointInPath(t,e){let{angleOffset:n}=this,r=this.startAngle+n,l=this.endAngle+n,c=Math.min(this.innerRadius,this.outerRadius),h=Math.max(this.innerRadius,this.outerRadius),p=this.transformPoint(t,e);return _O(p.x,p.y,{startAngle:r,endAngle:l,innerRadius:c,outerRadius:h})}};Sa.className="Sector";B([Vt()],Sa.prototype,"centerX",2);B([Vt()],Sa.prototype,"centerY",2);B([Vt()],Sa.prototype,"innerRadius",2);B([Vt()],Sa.prototype,"outerRadius",2);B([Vt()],Sa.prototype,"startAngle",2);B([Vt()],Sa.prototype,"endAngle",2);B([Vt()],Sa.prototype,"angleOffset",2);B([Vt()],Sa.prototype,"inset",2);var $X=class extends fi{constructor(){super(...arguments),this.showInLegend=!1}};B([G(Ct)],$X.prototype,"showInLegend",2);var wO=class extends pr{constructor(){super(...arguments),this.margin=2}set(t,e){return super.set(t)}};B([G(Re)],wO.prototype,"text",2);B([G(mi)],wO.prototype,"margin",2);var CO=class extends dn{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};B([G(Dn)],CO.prototype,"fill",2);B([G(In)],CO.prototype,"fillOpacity",2);var A0=class extends pr{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};B([G(Ae)],A0.prototype,"offset",2);B([G(jh)],A0.prototype,"minAngle",2);B([G(Ae)],A0.prototype,"minSpacing",2);B([G(Ae)],A0.prototype,"maxCollisionOffset",2);B([G(Ct)],A0.prototype,"avoidCollisions",2);var kO=class extends pr{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};B([G(mi)],kO.prototype,"positionOffset",2);B([G(In)],kO.prototype,"positionRatio",2);var uD=class extends dn{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};B([G(ka,{optional:!0})],uD.prototype,"colors",2);B([G(Ae)],uD.prototype,"length",2);B([G(Ae)],uD.prototype,"strokeWidth",2);var mn=class extends ll{constructor(){super(...arguments),this.fills=Object.values(Zl),this.strokes=Object.values(Qp),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new _1(wO),this.title=new $X,this.innerCircle=new CO,this.shadow=new cl,this.calloutLabel=new A0,this.sectorLabel=new kO,this.calloutLine=new uD,this.tooltip=new ro,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}isValid(){let t=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(Le.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):t}};B([G(Re)],mn.prototype,"angleKey",2);B([G(Re,{optional:!0})],mn.prototype,"angleName",2);B([G(Re,{optional:!0})],mn.prototype,"radiusKey",2);B([G(Re,{optional:!0})],mn.prototype,"radiusName",2);B([G(Ae,{optional:!0})],mn.prototype,"radiusMin",2);B([G(Ae,{optional:!0})],mn.prototype,"radiusMax",2);B([G(Re,{optional:!0})],mn.prototype,"calloutLabelKey",2);B([G(Re,{optional:!0})],mn.prototype,"calloutLabelName",2);B([G(Re,{optional:!0})],mn.prototype,"sectorLabelKey",2);B([G(Re,{optional:!0})],mn.prototype,"sectorLabelName",2);B([G(Re,{optional:!0})],mn.prototype,"legendItemKey",2);B([G(ka)],mn.prototype,"fills",2);B([G(ka)],mn.prototype,"strokes",2);B([G(In)],mn.prototype,"fillOpacity",2);B([G(In)],mn.prototype,"strokeOpacity",2);B([G(Lu)],mn.prototype,"lineDash",2);B([G(Ae)],mn.prototype,"lineDashOffset",2);B([G(jo,{optional:!0})],mn.prototype,"formatter",2);B([G(jh)],mn.prototype,"rotation",2);B([G(mi)],mn.prototype,"outerRadiusOffset",2);B([G(In)],mn.prototype,"outerRadiusRatio",2);B([G(mi,{optional:!0})],mn.prototype,"innerRadiusOffset",2);B([G(In,{optional:!0})],mn.prototype,"innerRadiusRatio",2);B([G(Ae)],mn.prototype,"strokeWidth",2);B([G(Ae,{optional:!0})],mn.prototype,"sectorSpacing",2);B([G(wI)],mn.prototype,"innerLabels",2);B([G(qe)],mn.prototype,"title",2);B([G(qe)],mn.prototype,"innerCircle",2);B([G(qe)],mn.prototype,"shadow",2);B([G(qe)],mn.prototype,"calloutLabel",2);B([G(qe)],mn.prototype,"sectorLabel",2);B([G(qe)],mn.prototype,"calloutLine",2);B([G(qe)],mn.prototype,"tooltip",2);B([G(Re,{optional:!0})],mn.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);function s0(t,e,n,r){let l=[n.convert(0),n.convert(1)],c=[r.convert(0),r.convert(1)],h=Math.PI/-2+ds(e),p=({radius:S})=>({innerRadius:l[0],outerRadius:l[0]+(l[1]-l[0])*S}),m=({radius:S})=>({innerRadius:c[0],outerRadius:c[0]+(c[1]-c[0])*S});return{nodes:{toFn:(S,A,E,{prevLive:L})=>{var P,R;let{startAngle:V,endAngle:z,innerRadius:H,outerRadius:U}=A,{stroke:X,fill:Q}=A.sectorFormat;if(E==="removed"&&L?(V=(P=L.datum)==null?void 0:P.endAngle,z=(R=L.datum)==null?void 0:R.endAngle):E==="removed"&&!L&&(V=h,z=h),E==="removed"){let Z=p(A);H=Z.innerRadius,U=Z.outerRadius}return{startAngle:V,endAngle:z,outerRadius:U,innerRadius:H,stroke:X,fill:Q}},fromFn:(S,A,E,{prevFromProps:L})=>{var P,R,V,z,H,U;let{startAngle:X,endAngle:Q,innerRadius:Z,outerRadius:ie}=S,{fill:ne,stroke:de}=A.sectorFormat;if(E==="unknown"||E==="added"&&!L?(X=h,Q=h,Z=A.innerRadius,ie=A.outerRadius):E==="added"&&L&&(X=(P=L.endAngle)!=null?P:h,Q=(R=L.endAngle)!=null?R:h,Z=(V=L.innerRadius)!=null?V:A.innerRadius,ie=(z=L.outerRadius)!=null?z:A.outerRadius),E==="added"&&!t){let ue=m(A);Z=ue.innerRadius,ie=ue.outerRadius}return E==="updated"&&(ne=(H=S.fill)!=null?H:ne,de=(U=S.stroke)!=null?U:de),{startAngle:X,endAngle:Q,innerRadius:Z,outerRadius:ie,fill:ne,stroke:de,phase:"initial"}}},innerCircle:{fromFn:(S,A)=>{var E,L,P;return{size:(P=(L=(E=S.previousDatum)==null?void 0:E.radius)!=null?L:S.size)!=null?P:0,phase:"initial"}},toFn:(S,A)=>{var E;return{size:(E=A.radius)!=null?E:0}}}}}function YX(t,e){return{startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,fill:e.sectorFormat.fill,stroke:e.sectorFormat.stroke}}var hD=class extends JI{constructor(t){var e=t,{useLabelLayer:n=!1,pickModes:r=[0],canHaveAxes:l=!1,animationResetFns:c}=e,h=er(e,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(He(he({},h),{useLabelLayer:n,pickModes:r,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:l})),this.itemGroup=this.contentGroup.appendChild(new et),this.itemSelection=Ti.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=Ti.select(this.labelGroup,an,!1),this.highlightSelection=Ti.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=c,this.animationState=new M1("empty",{empty:{update:{target:"ready",action:p=>this.animateEmptyUpdateReady(p)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:p=>this.animateReadyHighlight(p),highlightMarkers:p=>this.animateReadyHighlightMarkers(p),resize:p=>this.animateReadyResize(p),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:p=>this.animateWaitingUpdateReady(p)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:p=>this.animateClearingUpdateEmpty(p)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}getLabelData(){return[]}computeLabelsBBox(t,e){return null}resetAllAnimation(){var t;let{item:e,label:n}=(t=this.animationResetFns)!=null?t:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&kr([this.itemSelection,this.highlightSelection],e),n&&kr([this.labelSelection],n),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(t){var e;let{item:n}=(e=this.animationResetFns)!=null?e:{};n&&kr([this.highlightSelection],n)}animateReadyHighlightMarkers(t){}animateReadyResize(t){this.resetAllAnimation()}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(t){return{seriesRect:t}}},a2e=class extends O1{constructor(t,e,n,r){super(t,e,n,r),this.angleKey=r.properties.angleKey,this.radiusKey=r.properties.radiusKey,this.calloutLabelKey=r.properties.calloutLabelKey,this.sectorLabelKey=r.properties.sectorLabelKey}},dD=class extends hD{constructor(t){super({moduleCtx:t,useLabelLayer:!0,animationResetFns:{item:YX,label:Pu}}),this.properties=new mn,this.previousRadiusScale=new rc,this.radiusScale=new rc,this.backgroundGroup=this.rootGroup.appendChild(new et({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new et({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ic),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new ic),this.innerCircleGroup=this.backgroundGroup.appendChild(new et({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=a2e,this.angleScale=new rc,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(l=>l+Math.PI/2);let e=new et({name:"pieCalloutLabels"}),n=new et({name:"pieSectorLabels"}),r=new et({name:"innerLabels"});this.labelGroup.append(e),this.labelGroup.append(n),this.labelGroup.append(r),this.calloutLabelSelection=Ti.select(e,et),this.sectorLabelSelection=Ti.select(n,an),this.innerLabelsSelection=Ti.select(r,an),this.innerCircleSelection=Ti.select(this.innerCircleGroup,ic)}addChartEventListeners(){var t;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.some(t=>t))}nodeFactory(){return new Sa}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}processData(t){return ve(this,null,function*(){var e,n,r,l,c;if(this.data==null||!this.properties.isValid())return;let{data:h}=this,{visible:p,seriesItemEnabled:m}=this,{angleKey:g,radiusKey:y,calloutLabelKey:_,sectorLabelKey:C,legendItemKey:S}=this.properties,A=!this.ctx.animationManager.isSkipped(),E=[],L=[];S?E.push(Kr(this,S,!1,{id:"legendItemKey"})):_?E.push(Kr(this,_,!1,{id:"calloutLabelKey"})):C&&E.push(Kr(this,C,!1,{id:"sectorLabelKey"})),y&&L.push(WI(this,y,{id:"radiusValue",min:(e=this.properties.radiusMin)!=null?e:0,max:this.properties.radiusMax}),Kn(this,y,!0,{id:"radiusRaw"}),d1(this,{id:"radiusValue"},[0,1],1,(n=this.properties.radiusMin)!=null?n:0,this.properties.radiusMax)),_&&L.push(Kn(this,_,!1,{id:"calloutLabelValue"})),C&&L.push(Kn(this,C,!1,{id:"sectorLabelValue"})),S&&L.push(Kn(this,S,!1,{id:"legendItemValue"})),A&&this.processedData&&E.length>0&&L.push(cf(this.processedData)),L.push(_0(this)),h=h.map((P,R)=>p&&m[R]?P:He(he({},P),{[g]:0})),yield this.requestDataModel(t,h,{props:[...E,UI(this,g,!0,{id:"angleValue",onlyPositive:!0}),Kn(this,g,!0,{id:"angleRaw"}),d1(this,{id:"angleValue"},[0,1],0,0),...L]});for(let P of(c=(l=(r=this.processedData)==null?void 0:r.defs)==null?void 0:l.values)!=null?c:[]){let{id:R,missing:V,property:z}=P,H=zI(this,V);R!=="angleRaw"&&H>0&&Le.warnOnce(`no value was found for the key '${String(z)}' on ${H} data element${H>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return ve(this,null,function*(){if(!this.nodeDataRefresh)return;let[{nodeData:t=[]}={}]=yield this.createNodeData();this.nodeData=t,this.nodeDataRefresh=!1})}getProcessedDataIndexes(t){let e=t.resolveProcessedDataIndexById(this,"angleValue").index,n=this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue").index:-1,r=this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,l=this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,c=this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue").index:-1;return{angleIdx:e,radiusIdx:n,calloutLabelIdx:r,sectorLabelIdx:l,legendItemIdx:c}}createNodeData(){return ve(this,null,function*(){let{id:t,processedData:e,dataModel:n,angleScale:r}=this,{rotation:l,innerRadiusRatio:c}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,[{itemId:t,nodeData:[],labelData:[]}];if(!e||!n||e.type!=="ungrouped")return[];let{angleIdx:h,radiusIdx:p,calloutLabelIdx:m,sectorLabelIdx:g,legendItemIdx:y}=this.getProcessedDataIndexes(n),_=0,C=0,S=e.data.map((A,E)=>{var L;let{datum:P,values:R}=A,V=R[h],z=r.convert(_)+ds(l);_=V,C+=V;let H=r.convert(_)+ds(l),U=Math.abs(H-z),X=z+U/2,Q=R[h+1],Z=p>=0&&(L=R[p])!=null?L:1,ie=p>=0?R[p+1]:void 0,ne=y>=0?R[y]:void 0,de=this.getLabels(P,X,U,!0,R[m],R[g],ne),ue=this.getSectorFormat(P,E,!1);return he({itemId:E,series:this,datum:P,index:E,angleValue:Q,midAngle:X,midCos:Math.cos(X),midSin:Math.sin(X),startAngle:z,endAngle:H,sectorFormat:ue,radiusValue:ie,radius:Z,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(Z),0),legendItemValue:ne},de)});return this.zerosumOuterRing.visible=C===0,this.zerosumInnerRing.visible=C===0&&c!=null&&c!==1&&c>0,[{itemId:t,nodeData:S,labelData:S}]})}getLabels(t,e,n,r,l,c,h){let{calloutLabel:p,sectorLabel:m,legendItemKey:g}=this.properties,y=!r||p.enabled?this.properties.calloutLabelKey:void 0,_=!r||m.enabled?this.properties.sectorLabelKey:void 0;if(!y&&!_&&!g)return{};let C={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},S={};return y&&n>ds(p.minAngle)&&(S.calloutLabel=He(he({},this.getTextAlignment(e)),{text:this.getLabelText(p,He(he({},C),{value:l})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),_&&(S.sectorLabel={text:this.getLabelText(m,He(he({},C),{value:c}))}),g!=null&&h!=null&&(S.legendItem={key:g,text:h}),S}getTextAlignment(t){let e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=s1(t),r=-3*Math.PI/4,l=n-r,c=Math.floor(l/(Math.PI/2)),h=Kk(c,e.length);return e[h]}getSectorFormat(t,e,n){var r,l,c,h,p;let{callbackCache:m,highlightManager:g}=this.ctx,{angleKey:y,radiusKey:_,fills:C,strokes:S,formatter:A,sectorSpacing:E,__BACKGROUND_COLOR_DO_NOT_USE:L}=this.properties,P=g.getActiveHighlight(),R=n&&P?.series===this&&e===P.itemId,V=S[e%S.length];E==null&&V==null&&(V=L);let{fill:z,fillOpacity:H,stroke:U,strokeWidth:X,strokeOpacity:Q}=nn(R&&this.properties.highlightStyle.item,{fill:C.length>0?C[e%C.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:V,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()}),Z;return A&&(Z=m.call(A,{datum:t,angleKey:y,radiusKey:_,fill:z,stroke:U,fills:C,strokes:S,strokeWidth:X,highlighted:R,seriesId:this.id})),{fill:(r=Z?.fill)!=null?r:z,fillOpacity:(l=Z?.fillOpacity)!=null?l:H,stroke:(c=Z?.stroke)!=null?c:U,strokeWidth:(h=Z?.strokeWidth)!=null?h:X,strokeOpacity:(p=Z?.strokeOpacity)!=null?p:Q}}getInnerRadius(){let{radius:t}=this,{innerRadiusRatio:e=1,innerRadiusOffset:n=0}=this.properties,r=t*e+n;return r===t||r<0?0:r}getOuterRadius(){let{outerRadiusRatio:t,outerRadiusOffset:e}=this.properties;return Math.max(this.radius*t+e,0)}updateRadiusScale(t){let e=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e),this.nodeData=this.nodeData.map(n=>{var r=n,{radius:l}=r,c=er(r,["radius"]);return He(he({},c),{radius:l,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(l),0)})})}getTitleTranslationY(){var t,e;let n=Math.max(0,this.radiusScale.range[1]);if(n===0)return NaN;let l=2+((e=(t=this.properties.title)==null?void 0:t.spacing)!=null?e:0),c=Math.max(0,-n);return-n-l-c}update(t){return ve(this,arguments,function*({seriesRect:e}){let{title:n}=this.properties,r={seriesRectWidth:e?.width,seriesRectHeight:e?.height},l=ba(this.nodeDataDependencies,r)!=null;if(l&&(this._nodeDataDependencies=r),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(l),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),n){let c=this.getTitleTranslationY(),h=n.node.computeBBox();n.node.visible=n.enabled&&isFinite(c)&&!this.bboxIntersectsSurroundingSeries(h,0,c),n.node.translationY=isFinite(c)?c:0}for(let c of[this.zerosumInnerRing,this.zerosumOuterRing])c.fillOpacity=0,c.stroke=this.properties.calloutLabel.color,c.strokeWidth=1,c.strokeOpacity=1;this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(e)})}updateTitleNodes(){var t,e;let{oldTitle:n}=this,{title:r}=this.properties;n!==r&&(n&&((t=this.labelGroup)==null||t.removeChild(n.node)),r&&(r.node.textBaseline="bottom",(e=this.labelGroup)==null||e.appendChild(r.node)),this.oldTitle=r)}updateNodeMidPoint(){this.nodeData.forEach(t=>{let e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,e),y:t.midSin*Math.max(0,e)}})}updateSelections(){return ve(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return ve(this,null,function*(){let{itemSelection:t,highlightSelection:e,calloutLabelSelection:n,sectorLabelSelection:r,innerLabelsSelection:l}=this,c=(h,p)=>{let m=this.nodeData;p&&(m=m.map(g=>He(he({},g),{sectorFormat:he({},g.sectorFormat)}))),h.update(m,void 0,g=>this.getDatumId(g)),this.ctx.animationManager.isSkipped()&&h.cleanup()};c(t,!1),c(e,!0),n.update(this.nodeData,h=>{let p=new Dr;p.tag=0,p.pointerEvents=1,h.appendChild(p);let m=new an;m.tag=1,m.pointerEvents=1,h.appendChild(m)}),r.update(this.nodeData,h=>{h.pointerEvents=1}),l.update(this.properties.innerLabels,h=>{h.pointerEvents=1})})}updateInnerCircleSelection(){let{innerCircle:t}=this.properties,e=0,n=this.getInnerRadius();if(n>0){let l=Math.min(n,this.getOuterRadius());e=Math.ceil(l*2+1)}let r=t?[{radius:e}]:[];this.innerCircleSelection.update(r)}updateNodes(t){return ve(this,null,function*(){let e=this.ctx.highlightManager.getActiveHighlight(),n=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&e?.series===this,this.labelGroup&&(this.labelGroup.visible=n),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((l,{radius:c})=>{var h,p;l.setProperties({fill:(h=this.properties.innerCircle)==null?void 0:h.fill,opacity:(p=this.properties.innerCircle)==null?void 0:p.fillOpacity,size:c})});let r=(l,c,h,p)=>{let m=this.getSectorFormat(c.datum,c.itemId,p);c.sectorFormat.fill=m.fill,c.sectorFormat.stroke=m.stroke;let g=this.ctx.animationManager.isSkipped();g&&(l.startAngle=c.startAngle,l.endAngle=c.endAngle,l.innerRadius=c.innerRadius,l.outerRadius=c.outerRadius),(p||g)&&(l.fill=m.fill,l.stroke=m.stroke),l.strokeWidth=m.strokeWidth,l.fillOpacity=m.fillOpacity,l.strokeOpacity=this.properties.strokeOpacity,l.lineDash=this.properties.lineDash,l.lineDashOffset=this.properties.lineDashOffset,l.fillShadow=this.properties.shadow,l.inset=this.properties.sectorSpacing!=null?(this.properties.sectorSpacing+(m.stroke!=null?m.strokeWidth:0))/2:0,l.lineJoin=this.properties.sectorSpacing!=null?"miter":"round"};this.itemSelection.each((l,c,h)=>r(l,c,h,!1)),this.highlightSelection.each((l,c,h)=>{let p=e?.series===this&&l.datum.itemId===e.itemId;r(l,c,h,!0),l.visible=p}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var t;let{calloutLine:e}=this.properties,n=e.length,r=e.strokeWidth,l=(t=e.colors)!=null?t:this.properties.strokes,{offset:c}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((h,p)=>{var m;let g=h.datum,{calloutLabel:y,outerRadius:_}=g;if(y?.text&&!y.hidden&&_!==0){h.visible=!0,h.strokeWidth=r,h.stroke=l[p%l.length],h.fill=void 0;let C=g.midCos*_,S=g.midSin*_,A=g.midCos*(_+n),E=g.midSin*(_+n);if(((m=y.collisionTextAlign)!=null?m:y.collisionOffsetY!==0)&&y.box!=null){let P=y.box,R=A,V=E;A<P.x?R=P.x:A>P.x+P.width&&(R=P.x+P.width),E<P.y?V=P.y:E>P.y+P.height&&(V=P.y+P.height);let z=R-A,H=V-E,U=Math.sqrt(Math.pow(z,2)+Math.pow(H,2)),X=U-c;X>0&&(A=A+z*X/U,E=E+H*X/U)}h.x1=C,h.y1=S,h.x2=A,h.y2=E}else h.visible=!1})}getLabelOverflow(t,e,n){let r=n.x-this.centerX,l=n.x+n.width-this.centerX,c=n.y-this.centerY,h=n.y+n.height-this.centerY,p=1,m=1;e.x+p<r?m=(e.x+e.width-r)/e.width:e.x+e.width-p>l&&(m=(l-e.x)/e.width);let g=e.y+p<c||e.y+e.height-p>h,y=m===1?t.length:Math.floor(t.length*m)-1,_=this.bboxIntersectsSurroundingSeries(e);return{textLength:y,hasVerticalOverflow:g,hasSurroundingSeriesOverflow:_}}bboxIntersectsSurroundingSeries(t,e=0,n=0){let{surroundingRadius:r}=this;if(r==null)return!1;let l=[{x:t.x+e,y:t.y+n},{x:t.x+t.width+e,y:t.y+n},{x:t.x+t.width+e,y:t.y+t.height+n},{x:t.x+e,y:t.y+t.height+n}],c=Gt(r,2);return l.some(h=>Gt(h.x,2)+Gt(h.y,2)>c)}computeCalloutLabelCollisionOffsets(){let{radiusScale:t}=this,{calloutLabel:e,calloutLine:n}=this.properties,{offset:r,minSpacing:l}=e,c=t.convert(0),h=R=>!R.calloutLabel||R.outerRadius===0,p=this.nodeData,m=this.nodeData.filter(R=>!h(R));if(m.forEach(R=>{let V=R.calloutLabel;V!=null&&(V.hidden=!1,V.collisionTextAlign=void 0,V.collisionOffsetY=0)}),m.length<=1)return;let g=m.filter(R=>R.midCos<0).sort((R,V)=>R.midSin-V.midSin),y=m.filter(R=>R.midCos>=0).sort((R,V)=>R.midSin-V.midSin),_=m.filter(R=>{var V;return R.midSin<0&&((V=R.calloutLabel)==null?void 0:V.textAlign)==="center"}).sort((R,V)=>R.midCos-V.midCos),C=m.filter(R=>{var V;return R.midSin>=0&&((V=R.calloutLabel)==null?void 0:V.textAlign)==="center"}).sort((R,V)=>R.midCos-V.midCos),S=new an,A=R=>{var V;let z=R.calloutLabel;if(z==null)return new yt(0,0,0,0);let H=R.outerRadius+n.length+r,U=R.midCos*H,X=R.midSin*H+z.collisionOffsetY;return S.text=z.text,S.x=U,S.y=X,S.setFont(this.properties.calloutLabel),S.setAlign({textAlign:(V=z.collisionTextAlign)!=null?V:z.textAlign,textBaseline:z.textBaseline}),S.computeBBox()},E=(R,V,z)=>{let H=A(R).grow(l/2),U=A(V).grow(l/2);if(H.x<U.x+U.width&&H.x+H.width>U.x&&(z==="to-top"?H.y<U.y+U.height:H.y+H.height>U.y)){let Q=z==="to-top"?H.y-U.y-U.height:H.y+H.height-U.y;V.calloutLabel.collisionOffsetY=Q}},L=R=>{let V=R.slice().sort((H,U)=>Math.abs(H.midSin)-Math.abs(U.midSin))[0],z=R.indexOf(V);for(let H=z-1;H>=0;H--){let U=R[H+1],X=R[H];E(U,X,"to-top")}for(let H=z+1;H<R.length;H++){let U=R[H-1],X=R[H];E(U,X,"to-bottom")}},P=R=>{let V=m.some(Z=>Z.calloutLabel.collisionOffsetY!==0),z=R.map(Z=>A(Z)),H=z.map(Z=>Z.clone().grow(l/2)),U=!1;for(let Z=0;Z<H.length&&!U;Z++){let ie=H[Z];for(let ne=Z+1;ne<R.length;ne++){let de=H[ne];if(ie.collidesBBox(de)){U=!0;break}}}let X=p.map(Z=>{let{startAngle:ie,endAngle:ne,outerRadius:de}=Z;return{startAngle:ie,endAngle:ne,innerRadius:c,outerRadius:de}}),Q=z.some(Z=>X.some(ie=>UX(Z,ie)));!U&&!V&&!Q||R.filter(Z=>Z.calloutLabel.textAlign==="center").forEach(Z=>{let ie=Z.calloutLabel;Z.midCos<0?ie.collisionTextAlign="right":Z.midCos>0?ie.collisionTextAlign="left":ie.collisionTextAlign="center"})};L(g),L(y),P(_),P(C)}updateCalloutLabelNodes(t){let{radiusScale:e}=this,{calloutLabel:n,calloutLine:r}=this.properties,l=r.length,{offset:c,color:h}=n,p=new an;this.calloutLabelSelection.selectByTag(1).forEach(m=>{var g;let{datum:y}=m,_=y.calloutLabel,C=e.convert(y.radius),S=Math.max(0,C);if(!_?.text||S===0||_.hidden){m.visible=!1;return}let A=S+l+c,E=y.midCos*A,L=y.midSin*A+_.collisionOffsetY,P={textAlign:(g=_.collisionTextAlign)!=null?g:_.textAlign,textBaseline:_.textBaseline};p.text=_.text,p.x=E,p.y=L,p.setFont(this.properties.calloutLabel),p.setAlign(P);let R=p.computeBBox(),V=_.text,z=!0;if(n.avoidCollisions){let{textLength:H,hasVerticalOverflow:U}=this.getLabelOverflow(_.text,R,t);V=_.text.length===H?_.text:`${_.text.substring(0,H)}\u2026`,z=!U}m.text=V,m.x=E,m.y=L,m.setFont(this.properties.calloutLabel),m.setAlign(P),m.fill=h,m.visible=z})}computeLabelsBBox(t,e){return ve(this,null,function*(){let{calloutLabel:n,calloutLine:r}=this.properties,l=r.length,{offset:c,maxCollisionOffset:h,minSpacing:p}=n;if(!n.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let m=[],g=new an,y,{title:_}=this.properties;if(_?.text&&_.enabled){let C=this.getTitleTranslationY();isFinite(C)&&(g.text=_.text,g.x=0,g.y=C,g.setFont(_),g.setAlign({textBaseline:"bottom",textAlign:"center"}),y=g.computeBBox(),m.push(y))}return this.nodeData.forEach(C=>{var S;let A=C.calloutLabel;if(!A||C.outerRadius===0)return null;let E=C.outerRadius+l+c,L=C.midCos*E,P=C.midSin*E+A.collisionOffsetY;g.text=A.text,g.x=L,g.y=P,g.setFont(this.properties.calloutLabel),g.setAlign({textAlign:(S=A.collisionTextAlign)!=null?S:A.textAlign,textBaseline:A.textBaseline});let R=g.computeBBox();if(A.box=R,Math.abs(A.collisionOffsetY)>h){A.hidden=!0;return}if(y){let V=e.y-this.centerY,z=new yt(y.x-p,V,y.width+2*p,y.y+y.height+p-V);if(R.collidesBBox(z)){A.hidden=!0;return}}if(t.hideWhenNecessary){let{textLength:V,hasVerticalOverflow:z,hasSurroundingSeriesOverflow:H}=this.getLabelOverflow(A.text,R,e),U=A.text.length>2&&V<2;if(z||U||H){A.hidden=!0;return}}A.hidden=!1,m.push(R)}),m.length===0?null:yt.merge(m)})}updateSectorLabelNodes(){let{radiusScale:t}=this,e=t.convert(0),{fontSize:n,fontStyle:r,fontWeight:l,fontFamily:c,positionOffset:h,positionRatio:p,color:m}=this.properties.sectorLabel;this.sectorLabelSelection.each((g,y)=>{let{sectorLabel:_,outerRadius:C}=y,S=!1;if(_&&C!==0){let A=e*(1-p)+C*p+h;g.fill=m,g.fontStyle=r,g.fontWeight=l,g.fontSize=n,g.fontFamily=c,g.text=_.text,g.x=y.midCos*A,g.y=y.midSin*A,g.textAlign="center",g.textBaseline="middle";let E=g.computeBBox(),L=[[E.x,E.y],[E.x+E.width,E.y],[E.x+E.width,E.y+E.height],[E.x,E.y+E.height]],{startAngle:P,endAngle:R}=y,V={startAngle:P,endAngle:R,innerRadius:e,outerRadius:C};L.every(([z,H])=>_O(z,H,V))&&(S=!0)}g.visible=S})}updateInnerLabelNodes(){let t=[],e=[];this.innerLabelsSelection.each((y,_)=>{let{fontStyle:C,fontWeight:S,fontSize:A,fontFamily:E,color:L}=_;y.fontStyle=C,y.fontWeight=S,y.fontSize=A,y.fontFamily=E,y.text=_.text,y.x=0,y.y=0,y.fill=L,y.textAlign="center",y.textBaseline="alphabetic",t.push(y.computeBBox()),e.push(_.margin)});let n=y=>y===0?0:e[y],r=y=>y===e.length-1?0:e[y],l=t.reduce((y,_,C)=>y+_.height+n(C)+r(C),0),c=Math.max(...t.map(y=>y.width)),h=this.getInnerRadius(),m=Math.sqrt(Math.pow(c/2,2)+Math.pow(l/2,2))<=(h>0?h:this.getOuterRadius()),g=[];for(let y=0,_=-l/2;y<t.length;y++){let S=t[y].height+_+n(y);g.push(S),_=S+r(y)}this.innerLabelsSelection.each((y,_,C)=>{y.y=g[C],y.visible=m})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(t){let{angleKey:e,calloutLabelKey:n,sectorLabelKey:r,legendItemKey:l}=this.properties,{sectorLabel:c,calloutLabel:h,legendItem:p}=t;if(l&&p!==void 0)return p.text;if(n&&n!==e&&h?.text!==void 0)return h.text;if(r&&r!==e&&c?.text!==void 0)return c.text}getTooltipHtml(t){var e;if(!this.properties.isValid())return"";let{datum:n,angleValue:r,sectorFormat:{fill:l}}=t,c=Di((e=this.properties.title)==null?void 0:e.text),h=Bn(r)?qk(r):String(r),p=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:c??p,content:c&&p?`${p}: ${h}`:h,backgroundColor:l},{datum:n,title:c,color:l,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(t){var e,n,r,l,c;let{visible:h,processedData:p,dataModel:m}=this;if(!m||!p?.data.length||!this.properties.isValid()||t!=="category")return[];let{angleKey:g,calloutLabelKey:y,sectorLabelKey:_,legendItemKey:C}=this.properties;if(!C&&(!y||y===g)&&(!_||_===g))return[];let{calloutLabelIdx:S,sectorLabelIdx:A,legendItemIdx:E}=this.getProcessedDataIndexes(m),L=((e=this.properties.title)==null?void 0:e.showInLegend)&&this.properties.title.text,P=[];for(let R=0;R<p.data.length;R++){let{datum:V,values:z}=p.data[R],H=[];L&&H.push(L);let U=this.getLabels(V,2*Math.PI,2*Math.PI,!1,z[S],z[A],z[E]);if(C&&U.legendItem!==void 0?H.push(U.legendItem.text):y&&y!==g&&((n=U.calloutLabel)==null?void 0:n.text)!==void 0?H.push((r=U.calloutLabel)==null?void 0:r.text):_&&_!==g&&((l=U.sectorLabel)==null?void 0:l.text)!==void 0&&H.push((c=U.sectorLabel)==null?void 0:c.text),H.length===0)continue;let X=this.getSectorFormat(V,R,!1);P.push({legendType:"category",id:this.id,itemId:R,seriesId:this.id,enabled:h&&this.seriesItemEnabled[R],label:{text:H.join(" - ")},marker:{fill:X.fill,stroke:X.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:C!=null?V[C]:void 0})}return P}onLegendItemClick(t){let{enabled:e,itemId:n,series:r,legendItemName:l}=t;r.id===this.id?this.toggleSeriesItem(n,e):l!=null&&this.toggleOtherSeriesItems(l,e)}toggleSeriesItem(t,e){this.seriesItemEnabled[t]=e,this.nodeDataRefresh=!0}toggleOtherSeriesItems(t,e){var n;if(!this.properties.legendItemKey||!this.dataModel)return;let r=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;(n=this.processedData)==null||n.data.forEach(({values:l},c)=>{l[r]===t&&this.toggleSeriesItem(c,e)})}animateEmptyUpdateReady(t){let{animationManager:e}=this.ctx,n=s0(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Si(this.id,"nodes",e,[this.itemSelection,this.highlightSelection],n.nodes),Si(this.id,"innerCircle",e,[this.innerCircleSelection],n.innerCircle),Hn(this,"callout",e,[this.calloutLabelSelection]),Hn(this,"sector",e,[this.sectorLabelSelection]),Hn(this,"inner",e,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var t,e,n,r,l,c;let{itemSelection:h,highlightSelection:p,processedData:m,radiusScale:g,previousRadiusScale:y}=this,{animationManager:_}=this.ctx,C=(t=m?.reduced)==null?void 0:t.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);let S=((e=C?.moved.size)!=null?e:0)===0,A=((n=m?.defs.keys.length)!=null?n:0)>0,E=(c=(l=(r=m?.reduced)==null?void 0:r.animationValidation)==null?void 0:l.uniqueKeys)!=null?c:!0;(!S||!A||!E)&&this.ctx.animationManager.skipCurrentBatch();let L=s0(!1,this.properties.rotation,g,y);Si(this.id,"nodes",_,[h,p],L.nodes,(P,R)=>this.getDatumId(R),C),Si(this.id,"innerCircle",_,[this.innerCircleSelection],L.innerCircle),Hn(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Hn(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Hn(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:t,highlightSelection:e,radiusScale:n,previousRadiusScale:r}=this,{animationManager:l}=this.ctx,c=s0(!1,this.properties.rotation,n,r);Si(this.id,"nodes",l,[t,e],c.nodes),Si(this.id,"innerCircle",l,[this.innerCircleSelection],c.innerCircle),ef(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),ef(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),ef(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){var e,n,r;let{calloutLabelKey:l,sectorLabelKey:c,legendItemKey:h}=this.properties;if((r=(n=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:n.animationValidation)!=null&&r.uniqueKeys){if(h)return t[h];if(l)return t[l];if(c)return t[c]}}getDatumId(t){let{index:e}=t,n=this.getDatumIdFromData(t.datum);return n!=null?String(n):`${e}`}onDataChange(){var t;let{data:e,seriesItemEnabled:n}=this;this.seriesItemEnabled=(t=e?.map((r,l)=>{var c;return(c=n[l])!=null?c:!0}))!=null?t:[]}};dD.className="DonutSeries";dD.type="donut";var XX={series:{__extends__:Au,title:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:14,fontFamily:Cr,color:e0,spacing:5},calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Cr,color:Nn,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:Cr,color:f0,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,shadow:{enabled:!1,color:m0,xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:Cr,color:Nn,margin:2},__BACKGROUND_COLOR_DO_NOT_USE:e1}},qX=({takeColors:t,colorsCount:e,userPalette:n})=>{let{fills:r,strokes:l}=t(e);return{fills:r,strokes:n?l:[],calloutLine:{colors:l}}},l2e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",instanceConstructor:dD,themeTemplate:XX,paletteFactory:qX},KX=class extends fi{constructor(){super(...arguments),this.showInLegend=!1}};B([G(Ct)],KX.prototype,"showInLegend",2);var DO=class extends pr{set(t,e){return super.set(t)}};B([of("Use a Donut Series instead"),G(Re,{optional:!0})],DO.prototype,"text",2);B([of("Use a Donut Series instead"),G(mi,{optional:!0})],DO.prototype,"margin",2);var SO=class extends dn{};B([of("Use a Donut Series instead"),G(Dn,{optional:!0})],SO.prototype,"fill",2);B([of("Use a Donut Series instead"),G(In,{optional:!0})],SO.prototype,"fillOpacity",2);var M0=class extends pr{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};B([G(Ae)],M0.prototype,"offset",2);B([G(jh)],M0.prototype,"minAngle",2);B([G(Ae)],M0.prototype,"minSpacing",2);B([G(Ae)],M0.prototype,"maxCollisionOffset",2);B([G(Ct)],M0.prototype,"avoidCollisions",2);var TO=class extends pr{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};B([G(mi)],TO.prototype,"positionOffset",2);B([G(In)],TO.prototype,"positionRatio",2);var pD=class extends dn{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};B([G(ka,{optional:!0})],pD.prototype,"colors",2);B([G(Ae)],pD.prototype,"length",2);B([G(Ae)],pD.prototype,"strokeWidth",2);var gn=class extends ll{constructor(){super(...arguments),this.fills=Object.values(Zl),this.strokes=Object.values(Qp),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new _1(DO),this.title=new KX,this.innerCircle=new SO,this.shadow=new cl,this.calloutLabel=new M0,this.sectorLabel=new TO,this.calloutLine=new pD,this.tooltip=new ro,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}};B([G(Re)],gn.prototype,"angleKey",2);B([G(Re,{optional:!0})],gn.prototype,"angleName",2);B([G(Re,{optional:!0})],gn.prototype,"radiusKey",2);B([G(Re,{optional:!0})],gn.prototype,"radiusName",2);B([G(Ae,{optional:!0})],gn.prototype,"radiusMin",2);B([G(Ae,{optional:!0})],gn.prototype,"radiusMax",2);B([G(Re,{optional:!0})],gn.prototype,"calloutLabelKey",2);B([G(Re,{optional:!0})],gn.prototype,"calloutLabelName",2);B([G(Re,{optional:!0})],gn.prototype,"sectorLabelKey",2);B([G(Re,{optional:!0})],gn.prototype,"sectorLabelName",2);B([G(Re,{optional:!0})],gn.prototype,"legendItemKey",2);B([G(ka)],gn.prototype,"fills",2);B([G(ka)],gn.prototype,"strokes",2);B([G(In)],gn.prototype,"fillOpacity",2);B([G(In)],gn.prototype,"strokeOpacity",2);B([G(Lu)],gn.prototype,"lineDash",2);B([G(Ae)],gn.prototype,"lineDashOffset",2);B([G(jo,{optional:!0})],gn.prototype,"formatter",2);B([G(jh)],gn.prototype,"rotation",2);B([G(mi)],gn.prototype,"outerRadiusOffset",2);B([G(In)],gn.prototype,"outerRadiusRatio",2);B([of("Use a Donut Series instead"),G(mi,{optional:!0})],gn.prototype,"innerRadiusOffset",2);B([of("Use a Donut Series instead"),G(In,{optional:!0})],gn.prototype,"innerRadiusRatio",2);B([G(Ae)],gn.prototype,"strokeWidth",2);B([G(Ae,{optional:!0})],gn.prototype,"sectorSpacing",2);B([G(wI)],gn.prototype,"innerLabels",2);B([G(qe)],gn.prototype,"title",2);B([G(qe)],gn.prototype,"innerCircle",2);B([G(qe)],gn.prototype,"shadow",2);B([G(qe)],gn.prototype,"calloutLabel",2);B([G(qe)],gn.prototype,"sectorLabel",2);B([G(qe)],gn.prototype,"calloutLine",2);B([G(qe)],gn.prototype,"tooltip",2);B([G(Re,{optional:!0})],gn.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);var c2e=class extends O1{constructor(t,e,n,r){super(t,e,n,r),this.angleKey=r.properties.angleKey,this.radiusKey=r.properties.radiusKey,this.calloutLabelKey=r.properties.calloutLabelKey,this.sectorLabelKey=r.properties.sectorLabelKey}},fD=class extends hD{constructor(t){super({moduleCtx:t,useLabelLayer:!0,animationResetFns:{item:YX,label:Pu}}),this.properties=new gn,this.previousRadiusScale=new rc,this.radiusScale=new rc,this.backgroundGroup=this.rootGroup.appendChild(new et({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new et({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ic),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new ic),this.innerCircleGroup=this.backgroundGroup.appendChild(new et({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=c2e,this.angleScale=new rc,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(l=>l+Math.PI/2);let e=new et({name:"pieCalloutLabels"}),n=new et({name:"pieSectorLabels"}),r=new et({name:"innerLabels"});this.labelGroup.append(e),this.labelGroup.append(n),this.labelGroup.append(r),this.calloutLabelSelection=Ti.select(e,et),this.sectorLabelSelection=Ti.select(n,an),this.innerLabelsSelection=Ti.select(r,an),this.innerCircleSelection=Ti.select(this.innerCircleGroup,ic)}addChartEventListeners(){var t;this.destroyFns.push((t=this.ctx.chartEventManager)==null?void 0:t.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.some(t=>t))}nodeFactory(){return new Sa}getSeriesDomain(t){return t==="x"?this.angleScale.domain:this.radiusScale.domain}processData(t){return ve(this,null,function*(){var e,n,r,l,c;if(this.data==null||!this.properties.isValid())return;let{data:h}=this,{visible:p,seriesItemEnabled:m}=this,{angleKey:g,radiusKey:y,calloutLabelKey:_,sectorLabelKey:C,legendItemKey:S}=this.properties,A=!this.ctx.animationManager.isSkipped(),E=[],L=[];S?E.push(Kr(this,S,!1,{id:"legendItemKey"})):_?E.push(Kr(this,_,!1,{id:"calloutLabelKey"})):C&&E.push(Kr(this,C,!1,{id:"sectorLabelKey"})),y&&L.push(WI(this,y,{id:"radiusValue",min:(e=this.properties.radiusMin)!=null?e:0,max:this.properties.radiusMax}),Kn(this,y,!0,{id:"radiusRaw"}),d1(this,{id:"radiusValue"},[0,1],1,(n=this.properties.radiusMin)!=null?n:0,this.properties.radiusMax)),_&&L.push(Kn(this,_,!1,{id:"calloutLabelValue"})),C&&L.push(Kn(this,C,!1,{id:"sectorLabelValue"})),S&&L.push(Kn(this,S,!1,{id:"legendItemValue"})),A&&this.processedData&&E.length>0&&L.push(cf(this.processedData)),L.push(_0(this)),h=h.map((P,R)=>p&&m[R]?P:He(he({},P),{[g]:0})),yield this.requestDataModel(t,h,{props:[...E,UI(this,g,!0,{id:"angleValue",onlyPositive:!0}),Kn(this,g,!0,{id:"angleRaw"}),d1(this,{id:"angleValue"},[0,1],0,0),...L]});for(let P of(c=(l=(r=this.processedData)==null?void 0:r.defs)==null?void 0:l.values)!=null?c:[]){let{id:R,missing:V,property:z}=P,H=zI(this,V);R!=="angleRaw"&&H>0&&Le.warnOnce(`no value was found for the key '${String(z)}' on ${H} data element${H>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return ve(this,null,function*(){if(!this.nodeDataRefresh)return;let[{nodeData:t=[]}={}]=yield this.createNodeData();this.nodeData=t,this.nodeDataRefresh=!1})}getProcessedDataIndexes(t){let e=t.resolveProcessedDataIndexById(this,"angleValue").index,n=this.properties.radiusKey?t.resolveProcessedDataIndexById(this,"radiusValue").index:-1,r=this.properties.calloutLabelKey?t.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,l=this.properties.sectorLabelKey?t.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,c=this.properties.legendItemKey?t.resolveProcessedDataIndexById(this,"legendItemValue").index:-1;return{angleIdx:e,radiusIdx:n,calloutLabelIdx:r,sectorLabelIdx:l,legendItemIdx:c}}createNodeData(){return ve(this,null,function*(){let{id:t,processedData:e,dataModel:n,angleScale:r}=this,{rotation:l}=this.properties;if(!e||!n||e.type!=="ungrouped")return[];let{angleIdx:c,radiusIdx:h,calloutLabelIdx:p,sectorLabelIdx:m,legendItemIdx:g}=this.getProcessedDataIndexes(n),y=0,_=0,C=e.data.map((A,E)=>{var L;let{datum:P,values:R}=A,V=R[c],z=r.convert(y)+ds(l);y=V,_+=V;let H=r.convert(y)+ds(l),U=Math.abs(H-z),X=z+U/2,Q=R[c+1],Z=h>=0&&(L=R[h])!=null?L:1,ie=h>=0?R[h+1]:void 0,ne=g>=0?R[g]:void 0,de=this.getLabels(P,X,U,!0,R[p],R[m],ne),ue=this.getSectorFormat(P,E,!1);return he({itemId:E,series:this,datum:P,index:E,angleValue:Q,midAngle:X,midCos:Math.cos(X),midSin:Math.sin(X),startAngle:z,endAngle:H,sectorFormat:ue,radiusValue:ie,radius:Z,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(Z),0),legendItemValue:ne},de)});this.zerosumOuterRing.visible=_===0;let{innerRadiusRatio:S=1}=this.properties;return this.zerosumInnerRing.visible=_===0&&S!==1&&S>0,[{itemId:t,nodeData:C,labelData:C}]})}getLabels(t,e,n,r,l,c,h){let{calloutLabel:p,sectorLabel:m,legendItemKey:g}=this.properties,y=!r||p.enabled?this.properties.calloutLabelKey:void 0,_=!r||m.enabled?this.properties.sectorLabelKey:void 0;if(!y&&!_&&!g)return{};let C={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},S={};return y&&n>ds(p.minAngle)&&(S.calloutLabel=He(he({},this.getTextAlignment(e)),{text:this.getLabelText(p,He(he({},C),{value:l})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),_&&(S.sectorLabel={text:this.getLabelText(m,He(he({},C),{value:c}))}),g!=null&&h!=null&&(S.legendItem={key:g,text:h}),S}getTextAlignment(t){let e=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=s1(t),r=-3*Math.PI/4,l=n-r,c=Math.floor(l/(Math.PI/2)),h=Kk(c,e.length);return e[h]}getSectorFormat(t,e,n){var r,l,c,h,p;let{callbackCache:m,highlightManager:g}=this.ctx,{angleKey:y,radiusKey:_,fills:C,strokes:S,formatter:A,sectorSpacing:E,__BACKGROUND_COLOR_DO_NOT_USE:L}=this.properties,P=g.getActiveHighlight(),R=n&&P?.series===this&&e===P.itemId,V=S[e%S.length];E!=null&&(V??(V=L));let{fill:z,fillOpacity:H,stroke:U,strokeWidth:X,strokeOpacity:Q}=nn(R&&this.properties.highlightStyle.item,{fill:C.length>0?C[e%C.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:V,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()}),Z;return A&&(Z=m.call(A,{datum:t,angleKey:y,radiusKey:_,fill:z,stroke:U,fills:C,strokes:S,strokeWidth:X,highlighted:R,seriesId:this.id})),{fill:(r=Z?.fill)!=null?r:z,fillOpacity:(l=Z?.fillOpacity)!=null?l:H,stroke:(c=Z?.stroke)!=null?c:U,strokeWidth:(h=Z?.strokeWidth)!=null?h:X,strokeOpacity:(p=Z?.strokeOpacity)!=null?p:Q}}getInnerRadius(){let{radius:t}=this,{innerRadiusRatio:e=1,innerRadiusOffset:n=0}=this.properties,r=t*e+n;return r===t||r<0?0:r}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(t){let e=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=e,t&&(this.previousRadiusScale.range=e),this.nodeData=this.nodeData.map(n=>{var r=n,{radius:l}=r,c=er(r,["radius"]);return He(he({},c),{radius:l,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(l),0)})})}getTitleTranslationY(){var t,e;let n=Math.max(0,this.radiusScale.range[1]);if(n===0)return NaN;let l=2+((e=(t=this.properties.title)==null?void 0:t.spacing)!=null?e:0),c=Math.max(0,-n);return-n-l-c}update(t){return ve(this,arguments,function*({seriesRect:e}){let{title:n}=this.properties,r={seriesRectWidth:e?.width,seriesRectHeight:e?.height},l=ba(this.nodeDataDependencies,r)!=null;if(l&&(this._nodeDataDependencies=r),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(l),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),n){let c=this.getTitleTranslationY(),h=n.node.computeBBox();n.node.visible=n.enabled&&isFinite(c)&&!this.bboxIntersectsSurroundingSeries(h,0,c),n.node.translationY=isFinite(c)?c:0}for(let c of[this.zerosumInnerRing,this.zerosumOuterRing])c.fillOpacity=0,c.stroke=this.properties.calloutLabel.color,c.strokeWidth=1,c.strokeOpacity=1;this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(e)})}updateTitleNodes(){var t,e;let{oldTitle:n}=this,{title:r}=this.properties;n!==r&&(n&&((t=this.labelGroup)==null||t.removeChild(n.node)),r&&(r.node.textBaseline="bottom",(e=this.labelGroup)==null||e.appendChild(r.node)),this.oldTitle=r)}updateNodeMidPoint(){this.nodeData.forEach(t=>{let e=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,e),y:t.midSin*Math.max(0,e)}})}updateSelections(){return ve(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return ve(this,null,function*(){let{itemSelection:t,highlightSelection:e,calloutLabelSelection:n,sectorLabelSelection:r,innerLabelsSelection:l}=this,c=(h,p)=>{let m=this.nodeData;p&&(m=m.map(g=>He(he({},g),{sectorFormat:he({},g.sectorFormat)}))),h.update(m,void 0,g=>this.getDatumId(g)),this.ctx.animationManager.isSkipped()&&h.cleanup()};c(t,!1),c(e,!0),n.update(this.nodeData,h=>{let p=new Dr;p.tag=0,p.pointerEvents=1,h.appendChild(p);let m=new an;m.tag=1,m.pointerEvents=1,h.appendChild(m)}),r.update(this.nodeData,h=>{h.pointerEvents=1}),l.update(this.properties.innerLabels,h=>{h.pointerEvents=1})})}updateInnerCircleSelection(){let{innerCircle:t}=this.properties,e=0,n=this.getInnerRadius();if(n>0){let l=Math.min(n,this.getOuterRadius());e=Math.ceil(l*2+1)}let r=t?[{radius:e}]:[];this.innerCircleSelection.update(r)}updateNodes(t){return ve(this,null,function*(){let e=this.ctx.highlightManager.getActiveHighlight(),n=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&e?.series===this,this.labelGroup&&(this.labelGroup.visible=n),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((l,{radius:c})=>{var h,p;l.setProperties({fill:(h=this.properties.innerCircle)==null?void 0:h.fill,opacity:(p=this.properties.innerCircle)==null?void 0:p.fillOpacity,size:c})});let r=(l,c,h,p)=>{let m=this.getSectorFormat(c.datum,c.itemId,p);c.sectorFormat.fill=m.fill,c.sectorFormat.stroke=m.stroke;let g=this.ctx.animationManager.isSkipped();g&&(l.startAngle=c.startAngle,l.endAngle=c.endAngle,l.innerRadius=c.innerRadius,l.outerRadius=c.outerRadius),(p||g)&&(l.fill=m.fill,l.stroke=m.stroke),l.strokeWidth=m.strokeWidth,l.fillOpacity=m.fillOpacity,l.strokeOpacity=this.properties.strokeOpacity,l.lineDash=this.properties.lineDash,l.lineDashOffset=this.properties.lineDashOffset,l.fillShadow=this.properties.shadow,l.inset=this.properties.sectorSpacing!=null?(this.properties.sectorSpacing+(m.stroke!=null?m.strokeWidth:0))/2:0,l.lineJoin=this.properties.sectorSpacing!=null?"miter":"round"};this.itemSelection.each((l,c,h)=>r(l,c,h,!1)),this.highlightSelection.each((l,c,h)=>{let p=e?.series===this&&l.datum.itemId===e.itemId;r(l,c,h,!0),l.visible=p}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(t),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var t;let{calloutLine:e}=this.properties,n=e.length,r=e.strokeWidth,l=(t=e.colors)!=null?t:this.properties.strokes,{offset:c}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((h,p)=>{var m;let g=h.datum,{calloutLabel:y,outerRadius:_}=g;if(y?.text&&!y.hidden&&_!==0){h.visible=!0,h.strokeWidth=r,h.stroke=l[p%l.length],h.fill=void 0;let C=g.midCos*_,S=g.midSin*_,A=g.midCos*(_+n),E=g.midSin*(_+n);if(((m=y.collisionTextAlign)!=null?m:y.collisionOffsetY!==0)&&y.box!=null){let P=y.box,R=A,V=E;A<P.x?R=P.x:A>P.x+P.width&&(R=P.x+P.width),E<P.y?V=P.y:E>P.y+P.height&&(V=P.y+P.height);let z=R-A,H=V-E,U=Math.sqrt(Math.pow(z,2)+Math.pow(H,2)),X=U-c;X>0&&(A=A+z*X/U,E=E+H*X/U)}h.x1=C,h.y1=S,h.x2=A,h.y2=E}else h.visible=!1})}getLabelOverflow(t,e,n){let r=n.x-this.centerX,l=n.x+n.width-this.centerX,c=n.y-this.centerY,h=n.y+n.height-this.centerY,p=1,m=1;e.x+p<r?m=(e.x+e.width-r)/e.width:e.x+e.width-p>l&&(m=(l-e.x)/e.width);let g=e.y+p<c||e.y+e.height-p>h,y=m===1?t.length:Math.floor(t.length*m)-1,_=this.bboxIntersectsSurroundingSeries(e);return{textLength:y,hasVerticalOverflow:g,hasSurroundingSeriesOverflow:_}}bboxIntersectsSurroundingSeries(t,e=0,n=0){let{surroundingRadius:r}=this;if(r==null)return!1;let l=[{x:t.x+e,y:t.y+n},{x:t.x+t.width+e,y:t.y+n},{x:t.x+t.width+e,y:t.y+t.height+n},{x:t.x+e,y:t.y+t.height+n}],c=Gt(r,2);return l.some(h=>Gt(h.x,2)+Gt(h.y,2)>c)}computeCalloutLabelCollisionOffsets(){let{radiusScale:t}=this,{calloutLabel:e,calloutLine:n}=this.properties,{offset:r,minSpacing:l}=e,c=t.convert(0),h=R=>!R.calloutLabel||R.outerRadius===0,p=this.nodeData,m=this.nodeData.filter(R=>!h(R));if(m.forEach(R=>{let V=R.calloutLabel;V!=null&&(V.hidden=!1,V.collisionTextAlign=void 0,V.collisionOffsetY=0)}),m.length<=1)return;let g=m.filter(R=>R.midCos<0).sort((R,V)=>R.midSin-V.midSin),y=m.filter(R=>R.midCos>=0).sort((R,V)=>R.midSin-V.midSin),_=m.filter(R=>{var V;return R.midSin<0&&((V=R.calloutLabel)==null?void 0:V.textAlign)==="center"}).sort((R,V)=>R.midCos-V.midCos),C=m.filter(R=>{var V;return R.midSin>=0&&((V=R.calloutLabel)==null?void 0:V.textAlign)==="center"}).sort((R,V)=>R.midCos-V.midCos),S=new an,A=R=>{var V;let z=R.calloutLabel;if(z==null)return new yt(0,0,0,0);let H=R.outerRadius+n.length+r,U=R.midCos*H,X=R.midSin*H+z.collisionOffsetY;return S.text=z.text,S.x=U,S.y=X,S.setFont(this.properties.calloutLabel),S.setAlign({textAlign:(V=z.collisionTextAlign)!=null?V:z.textAlign,textBaseline:z.textBaseline}),S.computeBBox()},E=(R,V,z)=>{let H=A(R).grow(l/2),U=A(V).grow(l/2);if(H.x<U.x+U.width&&H.x+H.width>U.x&&(z==="to-top"?H.y<U.y+U.height:H.y+H.height>U.y)){let Q=z==="to-top"?H.y-U.y-U.height:H.y+H.height-U.y;V.calloutLabel.collisionOffsetY=Q}},L=R=>{let V=R.slice().sort((H,U)=>Math.abs(H.midSin)-Math.abs(U.midSin))[0],z=R.indexOf(V);for(let H=z-1;H>=0;H--){let U=R[H+1],X=R[H];E(U,X,"to-top")}for(let H=z+1;H<R.length;H++){let U=R[H-1],X=R[H];E(U,X,"to-bottom")}},P=R=>{let V=m.some(Z=>Z.calloutLabel.collisionOffsetY!==0),z=R.map(Z=>A(Z)),H=z.map(Z=>Z.clone().grow(l/2)),U=!1;for(let Z=0;Z<H.length&&!U;Z++){let ie=H[Z];for(let ne=Z+1;ne<R.length;ne++){let de=H[ne];if(ie.collidesBBox(de)){U=!0;break}}}let X=p.map(Z=>{let{startAngle:ie,endAngle:ne,outerRadius:de}=Z;return{startAngle:ie,endAngle:ne,innerRadius:c,outerRadius:de}}),Q=z.some(Z=>X.some(ie=>UX(Z,ie)));!U&&!V&&!Q||R.filter(Z=>Z.calloutLabel.textAlign==="center").forEach(Z=>{let ie=Z.calloutLabel;Z.midCos<0?ie.collisionTextAlign="right":Z.midCos>0?ie.collisionTextAlign="left":ie.collisionTextAlign="center"})};L(g),L(y),P(_),P(C)}updateCalloutLabelNodes(t){let{radiusScale:e}=this,{calloutLabel:n,calloutLine:r}=this.properties,l=r.length,{offset:c,color:h}=n,p=new an;this.calloutLabelSelection.selectByTag(1).forEach(m=>{var g;let{datum:y}=m,_=y.calloutLabel,C=e.convert(y.radius),S=Math.max(0,C);if(!_?.text||S===0||_.hidden){m.visible=!1;return}let A=S+l+c,E=y.midCos*A,L=y.midSin*A+_.collisionOffsetY,P={textAlign:(g=_.collisionTextAlign)!=null?g:_.textAlign,textBaseline:_.textBaseline};p.text=_.text,p.x=E,p.y=L,p.setFont(this.properties.calloutLabel),p.setAlign(P);let R=p.computeBBox(),V=_.text,z=!0;if(n.avoidCollisions){let{textLength:H,hasVerticalOverflow:U}=this.getLabelOverflow(_.text,R,t);V=_.text.length===H?_.text:`${_.text.substring(0,H)}\u2026`,z=!U}m.text=V,m.x=E,m.y=L,m.setFont(this.properties.calloutLabel),m.setAlign(P),m.fill=h,m.visible=z})}computeLabelsBBox(t,e){return ve(this,null,function*(){let{calloutLabel:n,calloutLine:r}=this.properties,l=r.length,{offset:c,maxCollisionOffset:h,minSpacing:p}=n;if(!n.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let m=[],g=new an,y,{title:_}=this.properties;if(_?.text&&_.enabled){let C=this.getTitleTranslationY();isFinite(C)&&(g.text=_.text,g.x=0,g.y=C,g.setFont(_),g.setAlign({textBaseline:"bottom",textAlign:"center"}),y=g.computeBBox(),m.push(y))}return this.nodeData.forEach(C=>{var S;let A=C.calloutLabel;if(!A||C.outerRadius===0)return null;let E=C.outerRadius+l+c,L=C.midCos*E,P=C.midSin*E+A.collisionOffsetY;g.text=A.text,g.x=L,g.y=P,g.setFont(this.properties.calloutLabel),g.setAlign({textAlign:(S=A.collisionTextAlign)!=null?S:A.textAlign,textBaseline:A.textBaseline});let R=g.computeBBox();if(A.box=R,Math.abs(A.collisionOffsetY)>h){A.hidden=!0;return}if(y){let V=e.y-this.centerY,z=new yt(y.x-p,V,y.width+2*p,y.y+y.height+p-V);if(R.collidesBBox(z)){A.hidden=!0;return}}if(t.hideWhenNecessary){let{textLength:V,hasVerticalOverflow:z,hasSurroundingSeriesOverflow:H}=this.getLabelOverflow(A.text,R,e),U=A.text.length>2&&V<2;if(z||U||H){A.hidden=!0;return}}A.hidden=!1,m.push(R)}),m.length===0?null:yt.merge(m)})}updateSectorLabelNodes(){let{radiusScale:t}=this,e=t.convert(0),{fontSize:n,fontStyle:r,fontWeight:l,fontFamily:c,positionOffset:h,positionRatio:p,color:m}=this.properties.sectorLabel,g=e>0,y=this.seriesItemEnabled.filter(Boolean).length===1;this.sectorLabelSelection.each((_,C)=>{let{sectorLabel:S,outerRadius:A}=C,E=!1;if(S&&A!==0){let L=e*(1-p)+A*p+h;_.fill=m,_.fontStyle=r,_.fontWeight=l,_.fontSize=n,_.fontFamily=c,_.text=S.text,!g&&y?(_.x=0,_.y=0):(_.x=C.midCos*L,_.y=C.midSin*L),_.textAlign="center",_.textBaseline="middle";let R=_.computeBBox(),V=[[R.x,R.y],[R.x+R.width,R.y],[R.x+R.width,R.y+R.height],[R.x,R.y+R.height]],{startAngle:z,endAngle:H}=C,U={startAngle:z,endAngle:H,innerRadius:e,outerRadius:A};V.every(([X,Q])=>_O(X,Q,U))&&(E=!0)}_.visible=E})}updateInnerLabelNodes(){let t=[],e=[];this.innerLabelsSelection.each((y,_)=>{let{fontStyle:C,fontWeight:S,fontSize:A,fontFamily:E,color:L,margin:P=2}=_;y.fontStyle=C,y.fontWeight=S,y.fontSize=A,y.fontFamily=E,y.text=_.text,y.x=0,y.y=0,y.fill=L,y.textAlign="center",y.textBaseline="alphabetic",t.push(y.computeBBox()),e.push(P)});let n=y=>y===0?0:e[y],r=y=>y===e.length-1?0:e[y],l=t.reduce((y,_,C)=>y+_.height+n(C)+r(C),0),c=Math.max(...t.map(y=>y.width)),h=this.getInnerRadius(),m=Math.sqrt(Math.pow(c/2,2)+Math.pow(l/2,2))<=(h>0?h:this.getOuterRadius()),g=[];for(let y=0,_=-l/2;y<t.length;y++){let S=t[y].height+_+n(y);g.push(S),_=S+r(y)}this.innerLabelsSelection.each((y,_,C)=>{y.y=g[C],y.visible=m})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(t){let{angleKey:e,calloutLabelKey:n,sectorLabelKey:r,legendItemKey:l}=this.properties,{sectorLabel:c,calloutLabel:h,legendItem:p}=t;if(l&&p!==void 0)return p.text;if(n&&n!==e&&h?.text!==void 0)return h.text;if(r&&r!==e&&c?.text!==void 0)return c.text}getTooltipHtml(t){var e;if(!this.properties.isValid())return"";let{datum:n,angleValue:r,sectorFormat:{fill:l}}=t,c=Di((e=this.properties.title)==null?void 0:e.text),h=Bn(r)?qk(r):String(r),p=this.getDatumLegendName(t);return this.properties.tooltip.toTooltipHtml({title:c??p,content:c&&p?`${p}: ${h}`:h,backgroundColor:l},{datum:n,title:c,color:l,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(t){var e,n,r,l,c;let{visible:h,processedData:p,dataModel:m}=this;if(!m||!p?.data.length||t!=="category")return[];let{angleKey:g,calloutLabelKey:y,sectorLabelKey:_,legendItemKey:C}=this.properties;if(!C&&(!y||y===g)&&(!_||_===g))return[];let{calloutLabelIdx:S,sectorLabelIdx:A,legendItemIdx:E}=this.getProcessedDataIndexes(m),L=((e=this.properties.title)==null?void 0:e.showInLegend)&&this.properties.title.text,P=[];for(let R=0;R<p.data.length;R++){let{datum:V,values:z}=p.data[R],H=[];L&&H.push(L);let U=this.getLabels(V,2*Math.PI,2*Math.PI,!1,z[S],z[A],z[E]);if(C&&U.legendItem!==void 0?H.push(U.legendItem.text):y&&y!==g&&((n=U.calloutLabel)==null?void 0:n.text)!==void 0?H.push((r=U.calloutLabel)==null?void 0:r.text):_&&_!==g&&((l=U.sectorLabel)==null?void 0:l.text)!==void 0&&H.push((c=U.sectorLabel)==null?void 0:c.text),H.length===0)continue;let X=this.getSectorFormat(V,R,!1);P.push({legendType:"category",id:this.id,itemId:R,seriesId:this.id,enabled:h&&this.seriesItemEnabled[R],label:{text:H.join(" - ")},marker:{fill:X.fill,stroke:X.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:C!=null?V[C]:void 0})}return P}onLegendItemClick(t){let{enabled:e,itemId:n,series:r,legendItemName:l}=t;r.id===this.id?this.toggleSeriesItem(n,e):l!=null&&this.toggleOtherSeriesItems(l,e)}toggleSeriesItem(t,e){this.seriesItemEnabled[t]=e,this.nodeDataRefresh=!0}toggleOtherSeriesItems(t,e){var n;if(!this.properties.legendItemKey||!this.dataModel)return;let r=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;(n=this.processedData)==null||n.data.forEach(({values:l},c)=>{l[r]===t&&this.toggleSeriesItem(c,e)})}animateEmptyUpdateReady(t){let{animationManager:e}=this.ctx,n=s0(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Si(this.id,"nodes",e,[this.itemSelection,this.highlightSelection],n.nodes),Si(this.id,"innerCircle",e,[this.innerCircleSelection],n.innerCircle),Hn(this,"callout",e,[this.calloutLabelSelection]),Hn(this,"sector",e,[this.sectorLabelSelection]),Hn(this,"inner",e,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var t,e,n,r,l,c;let{itemSelection:h,highlightSelection:p,processedData:m,radiusScale:g,previousRadiusScale:y}=this,{animationManager:_}=this.ctx,C=(t=m?.reduced)==null?void 0:t.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);let S=((e=C?.moved.size)!=null?e:0)===0,A=((n=m?.defs.keys.length)!=null?n:0)>0,E=(c=(l=(r=m?.reduced)==null?void 0:r.animationValidation)==null?void 0:l.uniqueKeys)!=null?c:!0;(!S||!A||!E)&&this.ctx.animationManager.skipCurrentBatch();let L=s0(!1,this.properties.rotation,g,y);Si(this.id,"nodes",_,[h,p],L.nodes,(P,R)=>this.getDatumId(R),C),Si(this.id,"innerCircle",_,[this.innerCircleSelection],L.innerCircle),Hn(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Hn(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Hn(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:t,highlightSelection:e,radiusScale:n,previousRadiusScale:r}=this,{animationManager:l}=this.ctx,c=s0(!1,this.properties.rotation,n,r);Si(this.id,"nodes",l,[t,e],c.nodes),Si(this.id,"innerCircle",l,[this.innerCircleSelection],c.innerCircle),ef(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),ef(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),ef(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(t){var e,n,r;let{calloutLabelKey:l,sectorLabelKey:c,legendItemKey:h}=this.properties;if((r=(n=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:n.animationValidation)!=null&&r.uniqueKeys){if(h)return t[h];if(l)return t[l];if(c)return t[c]}}getDatumId(t){let{index:e}=t,n=this.getDatumIdFromData(t.datum);return n!=null?String(n):`${e}`}onDataChange(){var t;let{data:e,seriesItemEnabled:n}=this;this.seriesItemEnabled=(t=e?.map((r,l)=>{var c;return(c=n[l])!=null?c:!0}))!=null?t:[]}};fD.className="PieSeries";fD.type="pie";var u2e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",instanceConstructor:fD,themeTemplate:XX,paletteFactory:qX},h2e=class extends et{constructor(t){super({name:"ToolbarButton"}),this.button=new Zr,this.label=new an;let{button:e,label:n}=this;n.text=t.label,n.textAlign="center",n.textBaseline="middle",n.fontSize=12,e.width=t.width,e.height=t.height,n.x=t.width/2,n.y=t.height/2,e.fill="#eee",this.append([e,n])}containsPoint(t,e){return this.button.containsPoint(t,e)}},d2e=class extends et{constructor(){super({name:"Toolbar"})}},p2e=class extends Hk{constructor(t){super(),this.ctx=t,this.enabled=!0,this.y=0,this.height=30,this.margin=10,this.buttonNodes=new Map,this.buttonOffsetX=0,this.buttonSpacingX=10,this.container=new d2e,this.container.visible=!1;let e=t.regionManager.addRegion("toolbar",this.container);this.destroyFns.push(t.scene.attachNode(this.container),e.addListener("hover",this.onHover.bind(this)),e.addListener("leave",this.onHover.bind(this)),e.addListener("click",this.onClick.bind(this)),t.toolbarManager.addListener("visibility",this.onVisibility.bind(this)),t.toolbarManager.addListener("button-added",this.onButtonAdded.bind(this)),t.toolbarManager.addListener("button-removed",this.onButtonRemoved.bind(this)))}performLayout(t){return ve(this,arguments,function*({shrinkRect:e}){if(this.container.visible){let n=this.height+this.margin;e.shrink(n,"top"),this.y=e.y-this.height-this.margin}else this.y=0;return{shrinkRect:e}})}performCartesianLayout(t){return ve(this,null,function*(){let{x:e,width:n}=t.seriesRect;if(this.container.visible){let{y:r,height:l}=this;this.layoutNodes(e,r,n,l)}})}onHover({offsetX:t,offsetY:e}){if(this.activeButton=void 0,!!this.container.visible){for(let n of this.container.children)if(n.containsPoint(t,e)){this.activeButton=this.buttonNodes.get(n.id);break}this.activeButton==null?this.ctx.cursorManager.updateCursor("rangeButtons"):this.ctx.cursorManager.updateCursor("rangeButtons","pointer")}}onClick(){!this.container.visible||this.activeButton==null||this.ctx.toolbarManager.pressButton(this.activeButton)}onVisibility({visible:t}){this.container.visible=t}onButtonAdded({id:t,options:e}){let n=new h2e({label:e.label,width:32,height:20});n.translationX=this.buttonOffsetX,this.buttonOffsetX+=n.computeBBox().width+this.buttonSpacingX,this.buttonNodes.set(n.id,t),this.container.append(n)}onButtonRemoved({id:t}){let e=this.container.children.find(n=>this.buttonNodes.get(n.id)===t);e&&(this.buttonOffsetX-=e.getCachedBBox().width+this.buttonSpacingX,this.container.removeChild(e))}layoutNodes(t,e,n,r){this.container.translationX=t,this.container.translationY=e}},f2e={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],instanceConstructor:p2e,themeTemplate:{toolbar:{enabled:!0}}};function m2e(){Fh.register(xX,Nwe,_X,f2e,$we,Kwe,e2e,r2e,o2e,l2e,u2e,n2e);for(let t of[C0,$h,k0,zh,df])Vh.register(t.type,{instanceConstructor:t,hidden:t===zh})}function g2e(){for(let t of Fh.modules){if(t.packageType==="enterprise"&&!v1e(t)&&Le.errorOnce("Unexpected enterprise module registered: "+t.identifier),t.type==="root"&&t.themeTemplate)for(let e of t.chartTypes)ML.set(e,t.themeTemplate);if(t.type==="series"){if(t.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${t.identifier}`);No.register(t.identifier,t)}if(t.type==="series-option"&&t.themeTemplate)for(let e of t.seriesTypes)No.setThemeTemplate(e,t.themeTemplate);if(t.type==="axis-option"&&t.themeTemplate)for(let e of t.axisTypes){let n=t.themeTemplate[e],r=he(he({},t.themeTemplate),n);for(let l of t.axisTypes)delete r[l];Vh.setThemeTemplate(e,r)}t.type==="axis"&&Vh.register(t.identifier,t),t.type==="legend"&&aI.register(t.identifier,t)}if(Fh.hasEnterpriseModules()){let t=y1e();t.length>0&&Le.errorOnce("Enterprise modules expected but not registered: ",t)}}var AO=class ZX extends R1{constructor(e,n){super(e,n)}performLayout(){return ve(this,null,function*(){let e=yield Ja(ZX.prototype,this,"performLayout").call(this),{seriesArea:{padding:n},seriesRoot:r}=this,l=e.clone();return e.shrink(n.left,"left"),e.shrink(n.top,"top"),e.shrink(n.right,"right"),e.shrink(n.bottom,"bottom"),this.seriesRect=e,this.animationRect=e,this.hoverRect=e,r.translationX=Math.floor(e.x),r.translationY=Math.floor(e.y),yield Promise.all(this.series.map(c=>ve(this,null,function*(){yield c.update({seriesRect:e})}))),r.visible=this.series[0].visible,r.setClipRectInGroupCoordinateSpace(new yt(e.x,e.y,e.width,e.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:l,paddedRect:e,visible:!0},axes:[]}),e})}};AO.className="HierarchyChart";AO.type="hierarchy";var v2e=AO,o0=class extends PI{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(t,e){return null}};B([G(Ui(["polygon","circle"],"a polar axis shape"))],o0.prototype,"shape",2);B([G(In)],o0.prototype,"innerRadiusRatio",2);var MO=class QX extends R1{constructor(e,n){super(e,n),this.padding=new Yh(40),this.axisGroup.zIndex=5}performLayout(){return ve(this,null,function*(){let e=yield Ja(QX.prototype,this,"performLayout").call(this),n=e.clone();return this.computeSeriesRect(e),yield this.computeCircle(e),this.axes.forEach(r=>r.update()),this.hoverRect=e,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:n,paddedRect:e,visible:!0},axes:[]}),e})}updateAxes(e,n,r){var l,c;let h=this.axes.find(_=>_.direction==="x"),p=this.axes.find(_=>_.direction==="y");if(!(h instanceof o0)||!(p instanceof o0))return;let m=h.scale,g=(l=m.ticks)==null?void 0:l.call(m).map(_=>m.convert(_)),y=p.innerRadiusRatio;h.innerRadiusRatio=y,(c=h.computeRange)==null||c.call(h),h.gridLength=r,p.gridAngles=g,p.gridRange=h.range,p.range=[r,r*y],[h,p].forEach(_=>{_.translation.x=e,_.translation.y=n,_.calculateLayout()})}computeSeriesRect(e){let{seriesArea:{padding:n}}=this;e.shrink(n.left,"left"),e.shrink(n.top,"top"),e.shrink(n.right,"right"),e.shrink(n.bottom,"bottom"),this.seriesRect=e,this.animationRect=e}computeCircle(e){return ve(this,null,function*(){let n=this.series.filter(y=>y instanceof hD),r=this.axes.filter(y=>y instanceof o0),l=(y,_,C)=>{this.updateAxes(y,_,C),n.forEach(A=>{A.centerX=y,A.centerY=_,A.radius=C});let S=n.filter(A=>A instanceof fD||A instanceof dD);if(S.length>1){let A=S.map(E=>{let L=E.getInnerRadius();return{series:E,innerRadius:L}}).sort((E,L)=>E.innerRadius-L.innerRadius);A.at(-1).series.surroundingRadius=void 0;for(let E=0;E<A.length-1;E++)A[E].series.surroundingRadius=A[E+1].innerRadius}},c=e.x+e.width/2,h=e.y+e.height/2,p=Math.max(0,Math.min(e.width,e.height)/2),m=p;l(c,h,m);let g=(...y)=>ve(this,[...y],function*({hideWhenNecessary:_=!1}={}){let C=[];for(let E of[...r,...n]){let L=yield E.computeLabelsBBox({hideWhenNecessary:_},e);L&&C.push(L)}if(C.length===0){l(c,h,p);return}let S=yt.merge(C),A=this.refineCircle(S,m,e);l(A.centerX,A.centerY,A.radius),A.radius!==m&&(m=A.radius)});return yield g(),yield g(),yield g(),yield g({hideWhenNecessary:!0}),yield g({hideWhenNecessary:!0}),{radius:m,centerX:c,centerY:h}})}refineCircle(e,n,r){let c=-n,h=-n,p=n,m=n,g=Math.max(0,c-e.x),y=Math.max(0,h-e.y),_=Math.max(0,e.x+e.width-p),C=Math.max(0,e.y+e.height-m);g=_=Math.max(g,_),y=C=Math.max(y,C);let S=r.width-g-_,A=r.height-y-C,E=Math.min(S,A)/2,L=.5*r.width/2,P=.5*r.height/2,R=Math.min(L,P);if(E<R){E=R;let H=g+_,U=y+C;if(2*E+U>r.height){let X=r.height-2*E;Math.min(y,C)*2>X?(y=X/2,C=X/2):y>C?y=X-C:C=X-y}if(2*E+H>r.width){let X=r.width-2*E;Math.min(g,_)*2>X?(g=X/2,_=X/2):g>_?g=X-_:_=X-g}}let V=g+2*E+_,z=y+2*E+C;return{centerX:r.x+(r.width-V)/2+g+E,centerY:r.y+(r.height-z)/2+y+E,radius:E}}};MO.className="PolarChart";MO.type="polar";var y2e=MO,JX=Math.PI/180,kx=t=>t*JX,Dx=t=>-Math.log(Math.tan(Math.PI*.25+t*JX*.5)),eq=class tq{constructor(e,n){this.domain=e,this.range=n;let[[r,l],[c,h]]=e,[[p,m],[g,y]]=n,_=g-p,C=y-m,S=Math.abs(kx(c)-kx(r)),A=Math.abs(Dx(h)-Dx(l)),E=Math.min(_/S,C/A),L=S*E,P=A*E,R=L-Math.max(kx(r),kx(c))*E,V=P-Math.max(Dx(l),Dx(h))*E;this.scale=E,this.originX=-(p+R+(_-L)/2),this.originY=-(m+V+(C-P)/2)}static fixedScale(e=1){let n=Object.create(tq.prototype);return n.scale=e,n.originX=0,n.originY=0,n}convert([e,n]){let{scale:r,originX:l,originY:c}=this;return[kx(e)*r-l,Dx(n)*r-c]}};function bU(t){return t.type==="map-shape"||t.type==="map-line"||t.type==="map-marker"||t.type==="map-shape-background"||t.type==="map-line-background"}var EO=class JL extends R1{constructor(e,n){super(e,n),this.firstSeriesTranslation=!0}updateData(){return ve(this,null,function*(){yield Ja(JL.prototype,this,"updateData").call(this);let{topology:e}=this.getOptions();this.series.forEach(n=>{bU(n)&&n.setChartTopology(e)})})}performLayout(){return ve(this,null,function*(){let e=yield Ja(JL.prototype,this,"performLayout").call(this),{seriesArea:{padding:n},seriesRoot:r}=this,l=e.clone();e.shrink(n.left,"left"),e.shrink(n.top,"top"),e.shrink(n.right,"right"),e.shrink(n.bottom,"bottom"),this.seriesRect=e,this.animationRect=e,this.hoverRect=e;let c=this.series.filter(bU),h=c.reduce((g,y)=>{if(!y.visible)return g;let _=y.topologyBounds;return _==null?g:g==null?_:(g.merge(_),g)},void 0),p;if(h!=null){let{lon0:g,lat0:y,lon1:_,lat1:C}=h,{width:S,height:A}=e;p=new eq([[g,y],[_,C]],[[0,0],[S,A]])}c.forEach(g=>{g.scale=p});let m=this.series.some(g=>g.visible);return r.visible=m,this.firstSeriesTranslation&&(r.translationX=Math.floor(e.x),r.translationY=Math.floor(e.y),r.setClipRectInGroupCoordinateSpace(new yt(e.x,e.y,e.width,e.height)),this.firstSeriesTranslation=!1),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:l,paddedRect:e,visible:m},axes:[]}),e})}};EO.className="TopologyChart";EO.type="topology";var x2e=EO,ck=Li.create(!0,"opts");function _U(t){if(Jg(t))return"cartesian";if($k(t))return"polar";if(sI(t))return"hierarchy";if(oI(t))return"topology";throw new Error(`AG Chart - unknown type of chart for options with type: ${t.type}`)}var mD=class Wx{static licenseCheck(e){var n,r,l,c;this.licenseChecked||(this.licenseManager=(r=(n=Kg).licenseManager)==null?void 0:r.call(n,e),(l=this.licenseManager)==null||l.setLicenseKey(this.licenseKey,this.gridContext),(c=this.licenseManager)==null||c.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(e){this.licenseKey=e}static setGridContext(e){this.gridContext=e}static getLicenseDetails(e){var n,r;return(r=(n=Kg).licenseManager)==null?void 0:r.call(n,{}).getLicenseDetails(e)}static getInstance(e){return Wg.getInstance(e)}static create(e){var n,r,l;this.licenseCheck(e);let c=Wg.createOrUpdate(e);return(n=this.licenseManager)!=null&&n.isDisplayWatermark()&&((l=(r=Kg).injectWatermark)==null||l.call(r,c.chart.element,this.licenseManager.getWatermarkMessage())),c}static update(e,n){if(!qg.isInstance(e))throw new Error(Wx.INVALID_CHART_REF_MESSAGE);Wg.createOrUpdate(n,e)}static updateDelta(e,n){if(!qg.isInstance(e))throw new Error(Wx.INVALID_CHART_REF_MESSAGE);Wg.updateUserDelta(e,n)}static download(e,n){if(!(e instanceof qg))throw new Error(Wx.INVALID_CHART_REF_MESSAGE);Wg.download(e,n).catch(r=>Le.errorOnce(r))}static getImageDataURL(e,n){if(!(e instanceof qg))throw new Error(Wx.INVALID_CHART_REF_MESSAGE);return Wg.getImageDataURL(e,n)}};mD.INVALID_CHART_REF_MESSAGE="AG Charts - invalid chart reference passed";mD.licenseChecked=!1;mD.gridContext=!1;var LO=mD;var nq=class Kl{static getInstance(e){let n=R1.getInstance(e);return n?qg.chartInstances.get(n):void 0}static initialiseModules(){Kl.initialised||(m2e(),g2e(),Kl.initialised=!0)}static createOrUpdate(e,n){var r;Kl.initialiseModules(),ck(">>> AgChartV2.createOrUpdate() user options",e);let l=e,{overrideDevicePixelRatio:c,document:h,window:p}=l,m=er(l,["overrideDevicePixelRatio","document","window"]),g=new m$(m,{overrideDevicePixelRatio:c,document:h,window:p}),y=n?.chart;return(y==null||_U(m)!==_U(y.processedOptions))&&(y=Kl.createChartInstance(g,y)),n==null?n=new qg(y):n.chart=y,ck.check()&&typeof window<"u"&&((r=window.agChartInstances)!=null||(window.agChartInstances={}),window.agChartInstances[y.id]=y),y.queuedUserOptions.push(m),y.requestFactoryUpdate(_=>{_.applyOptions(g),_.queuedUserOptions.splice(0,_.queuedUserOptions.indexOf(m))}),n}static updateUserDelta(e,n){n=hs(n,{shallow:["data"]}),ec(n,h=>{if(typeof h=="object")for(let[p,m]of Object.entries(h))typeof m>"u"&&Object.assign(h,{[p]:Symbol("UNSET")})},{skip:["data"]});let{chart:r}=e,l=r.getOptions(),c=nn(n,l);ck(">>> AgChartV2.updateUserDelta() user delta",n),ck("AgChartV2.updateUserDelta() - base options",l),Kl.createOrUpdate(c,e)}static download(e,n){return ve(this,null,function*(){try{let r=yield Kl.prepareResizedChart(e,n);r.chart.scene.download(n?.fileName,n?.fileFormat),r.destroy()}catch(r){Le.errorOnce(r)}})}static getImageDataURL(e,n){return ve(this,null,function*(){let r=yield Kl.prepareResizedChart(e,n),l=r.chart.scene.getDataURL(n?.fileFormat);return r.destroy(),l})}static prepareResizedChart(e){return ve(this,arguments,function*({chart:n},r={}){var l,c,h,p;let m=(c=(l=r.width)!=null?l:n.width)!=null?c:n.scene.canvas.width,g=(p=(h=r.height)!=null?h:n.height)!=null?p:n.scene.canvas.height,y=nn({container:document.createElement("div"),overrideDevicePixelRatio:1,autoSize:!1,width:m,height:g},Fh.hasEnterpriseModules()&&{animation:{enabled:!1}},n.userOptions),_=Kl.createOrUpdate(y);return _.chart.zoomManager.updateZoom("agChartV2",n.zoomManager.getZoom()),n.series.forEach((C,S)=>{C.visible||(_.chart.series[S].visible=!1)}),n.update(0,{forceNodeDataRefresh:!0}),yield _.chart.waitForUpdate(),_})}static createChartInstance(e,n){let r=n?.destroy({keepTransferableResources:!0}),l=Kl.getChartByOptions(e.processedOptions);return new l(e,r)}static getChartByOptions(e){if(Jg(e))return Dwe;if(sI(e))return v2e;if($k(e))return y2e;if(oI(e))return x2e;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};nq.initialised=!1;var Wg=nq;var b2e={};Tu(b2e,{Arc:()=>pc,BBox:()=>yt,BandScale:()=>el,Caption:()=>fi,ChangeDetectableProperties:()=>rO,Circle:()=>ic,ContinuousScale:()=>Ln,Diamond:()=>oX,DropShadow:()=>cl,Group:()=>et,HdpiCanvas:()=>rD,Image:()=>E0,Label:()=>pr,Line:()=>Dr,LinearGradientFill:()=>gD,LinearScale:()=>rc,Marker:()=>fs,Node:()=>g0,OrdinalTimeScale:()=>zo,Path:()=>Wo,Path2D:()=>c0,PointerEvents:()=>x$,RadialColumnShape:()=>ul,Rect:()=>Zr,RedrawType:()=>Nh,Scene:()=>VI,SceneChangeDetection:()=>je,ScenePathChangeDetection:()=>Vt,Sector:()=>Sa,Selection:()=>Ti,Shape:()=>wa,Square:()=>u0,Text:()=>an,Tooltip:()=>dc,Triangle:()=>r0,easing:()=>yI,getFont:()=>l0,getMarker:()=>oc,getRadialColumnWidth:()=>_2e,motion:()=>w2e,nearestSquared:()=>y$,nearestSquaredInContainer:()=>ibe,toRadians:()=>ds,toTooltipHtml:()=>h1});var pc=class extends Wo{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return Jp(cr(this.startAngle),cr(this.endAngle))}updatePath(){let t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?t.closePath():this.type===2&&!this.fullPie&&(t.lineTo(this.centerX,this.centerY),t.closePath())}computeBBox(){return new yt(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(t,e){let n=this.transformPoint(t,e),r=this.computeBBox();return this.type!==0&&r.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)}};pc.className="Arc";pc.defaultStyles=Object.assign({},wa.defaultStyles,{lineWidth:1,fillStyle:null});B([Vt()],pc.prototype,"centerX",2);B([Vt()],pc.prototype,"centerY",2);B([Vt()],pc.prototype,"radius",2);B([Vt()],pc.prototype,"startAngle",2);B([Vt()],pc.prototype,"endAngle",2);B([Vt()],pc.prototype,"counterClockwise",2);B([Vt()],pc.prototype,"type",2);var gD=class extends wa{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(t){this._mask!=null&&this.removeChild(this._mask),t!=null&&this.appendChild(t),this._mask=t}isPointInPath(t,e){var n,r;return(r=(n=this.mask)==null?void 0:n.isPointInPath(t,e))!=null?r:!1}computeBBox(){var t;return(t=this.mask)==null?void 0:t.computeBBox()}render(t){let{mask:e,stops:n}=this,{ctx:r,devicePixelRatio:l}=t,c=1/l,h=e?.computeTransformedBBox();if(e==null||n==null||h==null)return;e.dirtyPath&&(e.updatePath(),e.dirtyPath=!1),r.save(),r.beginPath(),e.path.draw(r),r.clip(),r.setTransform(l,0,0,l,0,0);let p=Math.floor(h.x),m=Math.ceil(h.x+h.width),g=Math.floor(h.y),y=Math.ceil(h.y+h.height),_=new ff,[C,S]=this.direction==="to-right"?[p,m]:[g,y];if(_.domain=n.map((A,E)=>C+(S-C)*E/(n.length-1)),_.range=n,_.update(),this.direction==="to-right"){let A=y-g;for(let E=p;E<=m;E+=c)r.fillStyle=_.convert(E),r.fillRect(E,g,c,A)}else{let A=m-p;for(let E=g;E<=y;E+=c)r.fillStyle=_.convert(E),r.fillRect(p,E,A,c)}r.restore()}};B([je({redraw:3})],gD.prototype,"direction",2);B([je({redraw:3})],gD.prototype,"stops",2);B([je({redraw:3})],gD.prototype,"_mask",2);function wU(t,e,n){let r=Math.sqrt(Gt(t,2)+Gt(e,2)),c=Math.atan2(e,t)+n;return{x:Math.cos(c)*r,y:Math.sin(c)*r}}var ul=class extends Wo{constructor(){super(...arguments),this.borderPath=new c0,this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}getRotation(){let{startAngle:t,endAngle:e}=this,n=xI(t,e);return cr(t+n/2+Math.PI/2)}updatePath(){let{isBeveled:t}=this;t?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){let{columnWidth:t,innerRadius:e,outerRadius:n,path:r}=this,l=-t/2,c=t/2,h=-n,p=-e,m=this.getRotation(),g=[[l,p],[l,h],[c,h],[c,p],[l,p]].map(([y,_])=>wU(y,_,m));r.clear({trackChanges:!0}),r.moveTo(g[0].x,g[0].y),r.lineTo(g[1].x,g[1].y),r.lineTo(g[2].x,g[2].y),r.lineTo(g[3].x,g[3].y),r.lineTo(g[0].x,g[0].y),r.closePath()}updateBeveledPath(){let{columnWidth:t,path:e,outerRadius:n,innerRadius:r,axisInnerRadius:l,axisOuterRadius:c,isRadiusAxisReversed:h}=this,p=Jp(r,l),m=Math.asin(t/2/r),g=this.getRotation(),y=(Q,Z)=>wU(Q,Z,g),_=(Q,Z)=>Math.sqrt(Gt(Q,2)+Gt(Z,2)),C=(Q,Z)=>Z>Q?0:Math.sqrt(Gt(Q,2)-Gt(Z,2)),S=(Q,Z,ie)=>ie?Q<Z:Q>Z,A=p&&!isNaN(m)&&m<Math.PI/6,E=-t/2,L=t/2,P=-n,R=-r*(A?Math.cos(m):1),V=S(c,_(r,t/2),!h);if(V){let Q=C(c,r);E=-Q,L=Q}e.clear({trackChanges:!0});let z=y(E,R);e.moveTo(z.x,z.y);let H=Jp(r,n),U=S(c,_(n,t/2),!h);if(H&&A)e.arc(0,0,r,cr(-m-Math.PI/2)+g,cr(m-Math.PI/2)+g,!1);else if(U){let Q=-C(c,t/2),Z=C(c,n);if(!V){let ie=y(E,Q);e.lineTo(ie.x,ie.y)}if(e.arc(0,0,c,Math.atan2(Q,E)+g,Math.atan2(P,-Z)+g,!1),!Jp(Z,0)){let ie=y(Z,P);e.lineTo(ie.x,ie.y)}e.arc(0,0,c,Math.atan2(P,Z)+g,Math.atan2(Q,L)+g,!1)}else{let Q=y(E,P),Z=y(L,P);e.lineTo(Q.x,Q.y),e.lineTo(Z.x,Z.y)}let X=y(L,R);if(e.lineTo(X.x,X.y),A)e.arc(0,0,r,cr(m-Math.PI/2)+g,cr(-m-Math.PI/2)+g,!0);else{let Q=y(E,R);e.lineTo(Q.x,Q.y)}e.closePath()}};ul.className="RadialColumnShape";B([Vt()],ul.prototype,"isBeveled",2);B([Vt()],ul.prototype,"columnWidth",2);B([Vt()],ul.prototype,"startAngle",2);B([Vt()],ul.prototype,"endAngle",2);B([Vt()],ul.prototype,"outerRadius",2);B([Vt()],ul.prototype,"innerRadius",2);B([Vt()],ul.prototype,"axisInnerRadius",2);B([Vt()],ul.prototype,"axisOuterRadius",2);B([Vt()],ul.prototype,"isRadiusAxisReversed",2);function _2e(t,e,n,r,l){let c=xI(t,e),h=c*(1-r)/2;if(t+=h,e-=h,c<.001)return 2*n*l;if(c>=2*Math.PI){let S=t+c/2;t=S-Math.PI,e=S+Math.PI}let p=n*Math.cos(t),m=n*Math.sin(t),g=n*Math.cos(e),y=n*Math.sin(e),_=Math.floor(Math.sqrt(Gt(p-g,2)+Gt(m-y,2))),C=2*n*l;return Math.max(1,Math.min(C,_))}var E0=class extends g0{constructor(t){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=t}render(t){let{ctx:e,forceRender:n,stats:r}=t;if(this.dirty===0&&!n){r&&r.nodesSkipped++;return}this.computeTransformMatrix(),this.matrix.toContext(e);let l=this.sourceImage;e.globalAlpha=this.opacity,e.drawImage(l,0,0,l.width,l.height,this.x,this.y,this.width,this.height),super.render(t)}};B([je({redraw:3})],E0.prototype,"x",2);B([je({redraw:3})],E0.prototype,"y",2);B([je({redraw:3})],E0.prototype,"width",2);B([je({redraw:3})],E0.prototype,"height",2);B([je({redraw:3})],E0.prototype,"opacity",2);var w2e=he(he({},g$),Q$),C2e={};Tu(C2e,{CARTESIAN_AXIS_TYPE:()=>qU,ChartTheme:()=>Mu,DEFAULT_AXIS_GRID_COLOUR:()=>Ek,DEFAULT_AXIS_LINE_COLOUR:()=>dk,DEFAULT_BACKGROUND_COLOUR:()=>e1,DEFAULT_CROSS_LINES_COLOUR:()=>$x,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>sl,DEFAULT_FONT_FAMILY:()=>Cr,DEFAULT_HIERARCHY_FILLS:()=>cI,DEFAULT_HIERARCHY_STROKES:()=>uI,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>f0,DEFAULT_INVERTED_LABEL_COLOUR:()=>l$,DEFAULT_LABEL_COLOUR:()=>Nn,DEFAULT_MUTED_LABEL_COLOUR:()=>e0,DEFAULT_POLAR_SERIES_STROKE:()=>lI,DEFAULT_SHADOW_COLOUR:()=>m0,DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE:()=>rl,DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS:()=>nl,DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS:()=>tl,DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS:()=>il,EXTENDS_AXES_DEFAULTS:()=>n$,EXTENDS_AXES_GRID_LINE_DEFAULTS:()=>o$,EXTENDS_AXES_LABEL_DEFAULTS:()=>i$,EXTENDS_AXES_LINE_DEFAULTS:()=>r$,EXTENDS_AXES_TICK_DEFAULTS:()=>s$,EXTENDS_CARTESIAN_MARKER_DEFAULTS:()=>p0,EXTENDS_CHART_DEFAULTS:()=>QU,EXTENDS_LEGEND_DEFAULTS:()=>JU,EXTENDS_LEGEND_ITEM_DEFAULTS:()=>e$,EXTENDS_LEGEND_ITEM_MARKER_DEFAULTS:()=>t$,EXTENDS_SERIES_DEFAULTS:()=>Au,FONT_SIZE:()=>$U,FONT_WEIGHT:()=>YU,IS_DARK_THEME:()=>qp,OVERRIDE_SERIES_LABEL_DEFAULTS:()=>a$,POLAR_AXIS_SHAPE:()=>ZU,POLAR_AXIS_TYPE:()=>KU,POSITION:()=>XU,getChartTheme:()=>hI,markerPaletteFactory:()=>T0,singleSeriesPaletteFactory:()=>cD,themes:()=>k2e});var k2e=Wk(c$,t=>t?.()),D2e={};Tu(D2e,{BandScale:()=>el,ColorScale:()=>ff,ContinuousScale:()=>Ln,Invalidating:()=>Fr,LinearScale:()=>rc,OrdinalTimeScale:()=>zo,TimeScale:()=>c1});var S2e={};Tu(S2e,{Color:()=>Ql,Logger:()=>Le,Padding:()=>Yh,angleBetween:()=>xI,areArrayItemsStrictlyEqual:()=>aY,areArrayNumbersEqual:()=>lY,bifurcate:()=>h$,checkDatum:()=>u1,clamp:()=>kn,clampArray:()=>Ik,countFractionDigits:()=>gI,createId:()=>lc,deepClone:()=>hs,extent:()=>ac,findMinMax:()=>Qa,findRangeExtent:()=>t1,isBetweenAngles:()=>S$,isContinuous:()=>LI,isDate:()=>b1,isDenseInterval:()=>l1,isEqual:()=>Jp,isNegative:()=>k1,isNumber:()=>Bn,isNumberEqual:()=>Jp,isString:()=>qr,isStringObject:()=>EI,jsonApply:()=>Cu,jsonDiff:()=>ba,jsonWalk:()=>ec,mod:()=>Kk,normalisedExtent:()=>u$,normalisedExtentWithMetadata:()=>C1,normalizeAngle180:()=>s1,normalizeAngle360:()=>cr,normalizeAngle360Inclusive:()=>D$,range:()=>a1,resetIds:()=>v$,round:()=>mI,sanitizeHtml:()=>Di,shallowClone:()=>Mk,tickFormat:()=>rY,tickStep:()=>a0,ticks:()=>tD,toDegrees:()=>vbe,toFixed:()=>qk,toRadians:()=>ds,transformIntegratedCategoryValue:()=>t0,zipObject:()=>T2e});function T2e(t,e){let n={};if(Array.isArray(e))for(let r=0;r<t.length;r++)n[`${t[r]}`]=e[r];else for(let r=0;r<t.length;r++)n[`${t[r]}`]=e;return n}var A2e={};Tu(A2e,{AGG_VALUES_EXTENT:()=>swe,AND:()=>Ca,ARRAY:()=>D1,ARRAY_OF:()=>Eu,AbstractBarSeries:()=>LX,AbstractBarSeriesProperties:()=>fO,ActionOnSet:()=>no,Animation:()=>k$,AnimationManager:()=>FY,AreaSeriesTag:()=>AX,Axis:()=>PI,AxisLabel:()=>tr,AxisTick:()=>ol,BOOLEAN:()=>Ct,BOOLEAN_ARRAY:()=>xbe,Background:()=>F1,BackgroundModule:()=>xX,BaseModuleInstance:()=>Hk,BaseProperties:()=>dn,COLOR_STRING:()=>Dn,COLOR_STRING_ARRAY:()=>ka,CartesianAxis:()=>I1,CartesianSeries:()=>Kh,CartesianSeriesNodeEvent:()=>eO,CartesianSeriesProperties:()=>qh,CategoryAxis:()=>$h,ChartAxisDirection:()=>P$,ChartEventManager:()=>NY,ChartOptions:()=>m$,ChartUpdateType:()=>Kx,ContextMenuRegistry:()=>BY,CursorManager:()=>VY,DATE:()=>bI,DATE_ARRAY:()=>bbe,DATE_OR_DATETIME_MS:()=>_I,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>uf,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>hf,DEGREE:()=>jh,DIRECTION:()=>L$,DataController:()=>IY,DataModel:()=>EY,DataModelSeries:()=>JI,DataService:()=>sD,Default:()=>Iu,DefaultTimeFormats:()=>V$,Deprecated:()=>of,DeprecatedAndRenamedTo:()=>nbe,FONT_STYLE:()=>Gh,FONT_WEIGHT:()=>Wh,FUNCTION:()=>jo,GREATER_THAN:()=>x0,GestureDetector:()=>zY,GroupedCategoryAxis:()=>zh,HierarchyNode:()=>kk,HierarchySeries:()=>L2e,HierarchySeriesProperties:()=>Jh,HighlightManager:()=>$L,HighlightStyle:()=>P1,INTERACTION_RANGE:()=>kI,INTERACTION_TYPES:()=>OY,InteractionManager:()=>PY,InteractionState:()=>Nk,LABEL_PLACEMENT:()=>DI,LESS_THAN:()=>y0,LINE_CAP:()=>M$,LINE_DASH:()=>Lu,LINE_JOIN:()=>_be,Layers:()=>K$,LayoutService:()=>GY,LonLatBBox:()=>I2e,MARKER_SHAPE:()=>CX,MATCHING_CROSSLINE_TYPE:()=>II,MAX_SPACING:()=>SI,MIN_SPACING:()=>O$,MercatorScale:()=>eq,Motion:()=>yI,NAN:()=>Qk,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>Rs,NUMBER:()=>mi,NUMBER_ARRAY:()=>Jk,NUMBER_OR_NAN:()=>v0,Navigator:()=>Qh,NavigatorModule:()=>_X,OBJECT:()=>qe,OBJECT_ARRAY:()=>wI,OR:()=>af,OVERFLOW_STRATEGY:()=>Cbe,ObserveChanges:()=>Uh,PHASE_METADATA:()=>r1,PHASE_ORDER:()=>$g,PLACEMENT:()=>I$,PLAIN_OBJECT:()=>ybe,POSITION:()=>CI,POSITIVE_NUMBER:()=>Ae,PolarAxis:()=>o0,PolarSeries:()=>hD,PropertiesArray:()=>_1,ProxyOnWrite:()=>l_e,ProxyProperty:()=>a_e,ProxyPropertyOnWrite:()=>ii,QUICK_TRANSITION:()=>Ok,RATIO:()=>In,RepeatType:()=>C$,SMALLEST_KEY_INTERVAL:()=>ZL,SORT_DOMAIN_GROUPS:()=>KY,STRING:()=>Re,STRING_ARRAY:()=>A$,Series:()=>w0,SeriesGroupingChangedEvent:()=>$I,SeriesItemHighlightStyle:()=>Ou,SeriesMarker:()=>io,SeriesNodeEvent:()=>O1,SeriesNodePickMode:()=>QY,SeriesProperties:()=>ll,SeriesTooltip:()=>ro,StateMachine:()=>M1,TEXT_ALIGN:()=>E$,TEXT_WRAP:()=>eD,TIME_FORMAT_STRINGS:()=>Oh,ToolbarManager:()=>HY,TooltipManager:()=>YL,UNION:()=>Ui,UpdateService:()=>tX,VERTICAL_ALIGN:()=>wbe,Validate:()=>G,ZoomManager:()=>jY,__FORCE_MODULE_DETECTION:()=>O2e,accumulateGroup:()=>ZY,accumulatedValue:()=>XY,accumulativeValueProperty:()=>UI,adjustLabelPlacement:()=>NX,animationValidation:()=>_0,area:()=>KL,arraysEqual:()=>Xx,assignJsonApplyConstructedArray:()=>F$,backfillPathPointData:()=>lO,bifurcate:()=>h$,buildFormatter:()=>T1,buildResetPathFn:()=>hO,calculateDefaultTimeTickFormat:()=>z$,calculatePlacement:()=>cY,checkCrisp:()=>PX,circularSliceArray:()=>OL,clamp:()=>kn,clampArray:()=>Ik,collapsedStartingBarPosition:()=>v1,convertValuesToScaleByDefs:()=>E2e,countFractionDigits:()=>gI,createDatumId:()=>Hh,createDeprecationWarning:()=>pI,createElement:()=>Is,dateToNumber:()=>Pr,deconstructSelectionsOrNodes:()=>Zk,deepClone:()=>hs,deepMerge:()=>c1e,defaultTimeTickFormat:()=>AI,determinePathStatus:()=>SX,diff:()=>cf,downloadUrl:()=>d$,enterpriseModule:()=>Kg,extent:()=>ac,extractDecoratedProperties:()=>s1e,findMinMax:()=>Qa,findRangeExtent:()=>t1,fixNumericExtent:()=>Ps,formatStringBuilder:()=>j$,fromToMotion:()=>Si,getDocument:()=>sf,getLowestGranularityFormat:()=>H$,getMissCount:()=>zI,getPath:()=>iI,getRectConfig:()=>RX,getWindow:()=>_a,groupAccumulativeValueProperty:()=>Rh,groupAverage:()=>YY,groupBy:()=>dI,groupCount:()=>qL,groupSum:()=>UY,injectStyle:()=>Xk,invertShapeDirection:()=>M2e,isArray:()=>ur,isBoolean:()=>BU,isDate:()=>Gk,isDecoratedObject:()=>jk,isDefined:()=>Ak,isEnumKey:()=>l1e,isEnumValue:()=>HU,isEqual:()=>Jp,isFiniteNumber:()=>Bn,isFunction:()=>rf,isHtmlElement:()=>zU,isNegative:()=>k1,isNumber:()=>Vo,isObject:()=>Za,isObjectLike:()=>a1e,isPlainObject:()=>xa,isProperties:()=>sc,isRegExp:()=>VU,isString:()=>qr,isSymbol:()=>jU,isValidDate:()=>b1,jsonApply:()=>Cu,jsonDiff:()=>ba,jsonWalk:()=>ec,keyProperty:()=>Kr,listDecoratedProperties:()=>Qg,mapValues:()=>Wk,markerFadeInAnimation:()=>p1,markerPaletteFactory:()=>T0,markerScaleInAnimation:()=>sO,markerSwipeScaleInAnimation:()=>oO,mergeArrayDefaults:()=>TL,mergeDefaults:()=>nn,midpointStartingBarPosition:()=>Ywe,minMax:()=>QL,mod:()=>Kk,moduleRegistry:()=>Fh,normaliseGroupTo:()=>Bk,normalisePropertyTo:()=>d1,normalisedExtent:()=>u$,normalisedExtentWithMetadata:()=>C1,pairCategoryData:()=>g1,pairContinuousData:()=>m1,partialAssign:()=>Zp,pathFadeInAnimation:()=>Qx,pathFadeOutAnimation:()=>Vwe,pathSwipeInAnimation:()=>uO,predicateWithMessage:()=>Zn,prepareAreaPathAnimation:()=>MX,prepareAxisAnimationContext:()=>jL,prepareAxisAnimationFunctions:()=>uY,prepareBarAnimationFunctions:()=>y1,prepareLinePathAnimation:()=>TX,prepareLinePathAnimationFns:()=>dO,prepareMarkerAnimation:()=>aO,range:()=>$Y,rangedValueProperty:()=>WI,renderPartialPath:()=>cO,resetAxisGroupFn:()=>hY,resetAxisLabelSelectionFn:()=>pY,resetAxisLineSelectionFn:()=>fY,resetAxisSelectionFn:()=>dY,resetBarSelectionsFn:()=>x1,resetIds:()=>v$,resetLabelFn:()=>Pu,resetMarkerFn:()=>N1,resetMarkerPositionFn:()=>f1,resetMotion:()=>kr,round:()=>mI,seriesLabelFadeInAnimation:()=>Hn,seriesLabelFadeOutAnimation:()=>ef,setDocument:()=>p$,setPath:()=>rI,setWindow:()=>f$,shallowClone:()=>Mk,singleSeriesPaletteFactory:()=>cD,staticFromToMotion:()=>cc,stringify:()=>qx,sum:()=>rwe,toArray:()=>Lk,toFixed:()=>qk,trailingAccumulatedValue:()=>qY,trailingAccumulatedValueProperty:()=>hwe,trailingValue:()=>eX,trailingValueProperty:()=>uwe,unique:()=>Yk,updateClipPath:()=>Vk,updateLabelNode:()=>FX,updateRect:()=>OX,validateCrossLineValues:()=>Z$,valueProperty:()=>Kn,without:()=>AL});function M2e(...t){for(let e of t)if(e instanceof Zr){let{x:n,y:r,width:l,height:c}=e;e.setProperties({x:r,y:n,width:c,height:l})}else if(e instanceof Dr){let{x1:n,y1:r,x2:l,y2:c}=e;e.setProperties({x1:r,y1:n,x2:c,y2:l})}}function E2e({defs:t,values:e,xAxis:n,yAxis:r}){if(!(n&&r))throw new Error("Axes must be defined");let l={};for(let[c,[{def:h}]]of t)if(Object.hasOwn(e,c)){let{scale:p}=h.type==="key"?n:r;l[c]=Math.round(p.convert(e[c]))}return l}var iq=class Ck{constructor(e,n,r,l,c,h,p,m,g,y,_){this.series=e,this.index=n,this.datum=r,this.size=l,this.colorValue=c,this.fill=h,this.stroke=p,this.sumSize=m,this.depth=g,this.parent=y,this.children=_,this.midPoint={x:0,y:0}}contains(e){let n=e;for(;n!=null&&n.index>=this.index;){if(n===this)return!0;n=n.parent}return!1}walk(e,n=Ck.Walk.PreOrder){n===Ck.Walk.PreOrder&&e(this),this.children.forEach(r=>{r.walk(e,n)}),n===Ck.Walk.PostOrder&&e(this)}*[Symbol.iterator](){yield this;for(let e of this.children)yield*r2(tI(e))}};iq.Walk={PreOrder:0,PostOrder:1};var kk=iq,L2e=class extends w0{constructor(t){super({moduleCtx:t,pickModes:[0],contentGroupVirtual:!1}),this.rootNode=new kk(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.animationState=new M1("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(t){t==="initial"?this.animationState.transition("reset"):t==="ready"&&this.animationState.transition("skip")}processData(){return ve(this,null,function*(){var t,e;let{childrenKey:n,sizeKey:r,colorKey:l,fills:c,strokes:h,colorRange:p}=this.properties,m=0,g=()=>(m+=1,m),y=0,_=1/0,C=-1/0,S=new Array(((e=(t=this.data)==null?void 0:t.length)!=null?e:0)+1).fill(void 0),A=(V,z)=>{let H=g(),U=z.depth!=null?z.depth+1:0,X=n!=null?V[n]:void 0,Q=X==null||X.length===0,Z=r!=null?V[r]:void 0;Number.isFinite(Z)?Z=Math.max(Z,0):Z=Q?1:0;let ie=Z;y=Math.max(y,U);let ne=l!=null?V[l]:void 0;return typeof ne=="number"&&(S[H]=ne,_=Math.min(_,ne),C=Math.max(C,ne)),E(new kk(this,H,V,Z,ne,void 0,void 0,ie,U,z,[]),X)},E=(V,z)=>(z?.forEach(H=>{let U=A(H,V);V.children.push(U),V.sumSize+=U.sumSize}),V),L=E(new kk(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),P=[_,C],R;p!=null&&Number.isFinite(_)&&Number.isFinite(C)&&(R=new ff,R.domain=P,R.range=p,R.update()),L.children.forEach((V,z)=>{V.walk(H=>{let U,X=S[H.index];X!=null&&(U=R?.convert(X)),U??(U=c?.[z%c.length]),H.fill=U,H.stroke=R==null?h?.[z%h.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=L,this.maxDepth=y,this.colorDomain=P})}update(t){return ve(this,arguments,function*({seriesRect:e}){yield this.updateSelections(),yield this.updateNodes();let n=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",n),this.animationState.transition("update",n)})}resetAllAnimation(t){var e;let n=(e=this.animationResetFns)==null?void 0:e.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),n!=null&&kr(t.datumSelections,n)}animateEmptyUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateWaitingUpdateReady(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animateReadyHighlight(t){var e;let n=(e=this.animationResetFns)==null?void 0:e.datum;n!=null&&kr([t],n)}animateReadyResize(t){this.resetAllAnimation(t)}animateClearingUpdateEmpty(t){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(t)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(t){let{colorKey:e,colorName:n,colorRange:r,visible:l}=this.properties;return t==="gradient"&&e!=null&&r!=null?[{legendType:"gradient",enabled:l,seriesId:this.id,colorName:n,colorRange:r,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(t){return`${t.index}`}getDatumId(t){return this.getDatumIdFromData(t)}},Jh=class extends ll{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(Zl),this.strokes=Object.values(Qp)}};B([G(Re)],Jh.prototype,"childrenKey",2);B([G(Re,{optional:!0})],Jh.prototype,"sizeKey",2);B([G(Re,{optional:!0})],Jh.prototype,"colorKey",2);B([G(Re,{optional:!0})],Jh.prototype,"colorName",2);B([G(ka)],Jh.prototype,"fills",2);B([G(ka)],Jh.prototype,"strokes",2);B([G(ka,{optional:!0})],Jh.prototype,"colorRange",2);var I2e=class{constructor(t,e,n,r){this.lon0=t,this.lat0=e,this.lon1=n,this.lat1=r}merge(t){this.lon0=Math.min(this.lon0,t.lon0),this.lat0=Math.min(this.lat0,t.lat0),this.lon1=Math.max(this.lon1,t.lon1),this.lat1=Math.max(this.lat1,t.lat1)}},O2e=0;var rq=(()=>{class t{constructor(n,r){this.ngZone=r,this._initialised=!1,this.options={},this.onChartReady=new Tt,this._nativeElement=n.nativeElement}ngAfterViewInit(){let n=this.patchChartOptions(this.options);this.chart=this.runOutsideAngular(()=>LO.create(n)),this._initialised=!0,this.chart.chart.waitForUpdate().then(()=>{this.onChartReady.emit(this.chart)})}ngOnChanges(n){this.runOutsideAngular(()=>{!this._initialised||!this.chart||LO.update(this.chart,this.patchChartOptions(this.options))})}ngOnDestroy(){this._initialised&&this.chart&&(this.chart.destroy(),this.chart=void 0,this._initialised=!1)}patchChartOptions(n){let r=l=>{let c=l??{};for(let[h,p]of Object.entries(c))!p||typeof p!="function"||(c[h]=(...m)=>{this.runInsideAngular(()=>p(...m))})};return r(n?.legend?.listeners),r(n?.listeners),n.series?.forEach(l=>{r(l.listeners)}),n.container?n:ti(Ue({},n),{container:this._nativeElement})}runOutsideAngular(n){return this.ngZone?this.ngZone.runOutsideAngular(n):n()}runInsideAngular(n){return this.ngZone?this.ngZone.run(n):n()}}return t.\u0275fac=function(n){return new(n||t)(dt(_r),dt(ui))},t.\u0275cmp=Nt({type:t,selectors:[["ag-charts-angular"]],inputs:{options:"options"},outputs:{onChartReady:"onChartReady"},standalone:!0,features:[ki,ar],decls:0,vars:0,template:function(n,r){},encapsulation:2}),t})();var ed=class{static measurementToAgChartsDataPoints(e){let n=[];for(let r=0;r<e.wavenumber.length;r++)n.push({dark:e.dark[r],nm:e.nm[r],spectrum:e.spectrum[r],spectrumDark:e.spectrumDark[r],wavenumber:e.wavenumber[r]});return n}static toNgxChartMultiSeries(e){let n=[],r=[],l=[],c=[];for(let p=0;p<e.wavenumber.length;p++)n.push({name:e.nm[p],value:e.dark[p]}),r.push({name:e.nm[p],value:e.spectrum[p]}),l.push({name:e.nm[p],value:e.spectrumDark[p]}),c.push({name:e.nm[p],value:e.wavenumber[p]});return[{name:"Dark",series:n},{name:"spectrumDark",series:l},{name:"spectrum",series:r}]}static toJsChartsHeatMap(e){let n=e[0].nm[0],r=[];for(let l=0;l<e.length;l++)for(let c=0;c<e[l].nm.length;c++)r.push({y:l,x:e[l].nm[c],z:e[l].spectrum[c]});return r}};var sq=[{dark:339,nm:265.76594693302314,spectrum:789,spectrumDark:450,wavenumber:2601.501973622486},{dark:351,nm:266.0872843474403,spectrum:895,spectrumDark:544,wavenumber:2646.9419231657885},{dark:334,nm:266.4086217408125,spectrum:1156,spectrumDark:822,wavenumber:2692.27225200105},{dark:339,nm:266.7299590920949,spectrum:1440,spectrumDark:1101,wavenumber:2737.4933533708027},{dark:324,nm:267.05129638024255,spectrum:2072,spectrumDark:1748,wavenumber:2782.605618639034},{dark:328,nm:267.37263358421046,spectrum:3012,spectrumDark:2684,wavenumber:2827.6094373023225},{dark:359,nm:267.6939706829538,spectrum:4065,spectrumDark:3706,wavenumber:2872.5051970010973},{dark:352,nm:268.0153076554276,spectrum:5332,spectrumDark:4980,wavenumber:2917.293283530533},{dark:349,nm:268.336644480587,spectrum:6701,spectrumDark:6352,wavenumber:2961.974080851658},{dark:333,nm:268.65798113738686,spectrum:7611,spectrumDark:7278,wavenumber:3006.5479711020816},{dark:340,nm:268.9793176047825,spectrum:8642,spectrumDark:8302,wavenumber:3051.015334606993},{dark:345,nm:269.30065386172896,spectrum:9115,spectrumDark:8770,wavenumber:3095.376549889712},{dark:327,nm:269.62198988718114,spectrum:9058,spectrumDark:8731,wavenumber:3139.631993682451},{dark:354,nm:269.9433256600943,spectrum:8631,spectrumDark:8277,wavenumber:3183.782040936887},{dark:344,nm:270.2646611594233,spectrum:7824,spectrumDark:7480,wavenumber:3227.827064834637},{dark:334,nm:270.5859963641234,spectrum:6687,spectrumDark:6353,wavenumber:3271.767436797709},{dark:347,nm:270.90733125314944,spectrum:5569,spectrumDark:5222,wavenumber:3315.603526498846},{dark:331,nm:271.22866580545667,spectrum:4332,spectrumDark:4001,wavenumber:3359.3357018718525},{dark:340,nm:271.54999999999995,spectrum:3315,spectrumDark:2975,wavenumber:3402.964329121729},{dark:327,nm:271.8713338157345,spectrum:2468,spectrumDark:2141,wavenumber:3446.489772734909},{dark:316,nm:272.19266723161525,spectrum:1968,spectrumDark:1652,wavenumber:3489.912395489242},{dark:342,nm:272.5140002265972,spectrum:1604,spectrumDark:1262,wavenumber:3533.232558464042},{dark:347,nm:272.83533277963556,spectrum:1508,spectrumDark:1161,wavenumber:3576.450621050033},{dark:326,nm:273.1566648696851,spectrum:1384,spectrumDark:1058,wavenumber:3619.566940959099},{dark:348,nm:273.47799647570105,spectrum:1432,spectrumDark:1084,wavenumber:3662.581874234267},{dark:347,nm:273.79932757663823,spectrum:1438,spectrumDark:1091,wavenumber:3705.4957752592018},{dark:334,nm:274.1206581514517,spectrum:1428,spectrumDark:1094,wavenumber:3748.30899676805},{dark:345,nm:274.4419881790966,spectrum:1403,spectrumDark:1058,wavenumber:3791.0218898549283},{dark:327,nm:274.76331763852784,spectrum:1509,spectrumDark:1182,wavenumber:3833.634803983463},{dark:329,nm:275.0846465087003,spectrum:1467,spectrumDark:1138,wavenumber:3876.148086996225},{dark:350,nm:275.4059747685691,spectrum:1544,spectrumDark:1194,wavenumber:3918.5620851241692},{dark:343,nm:275.72730239708903,spectrum:1647,spectrumDark:1304,wavenumber:3960.877142995909},{dark:342,nm:276.04862937321525,spectrum:1584,spectrumDark:1242,wavenumber:4003.093603647001},{dark:328,nm:276.3699556759026,spectrum:1622,spectrumDark:1294,wavenumber:4045.211808529115},{dark:325,nm:276.691281284106,spectrum:1699,spectrumDark:1374,wavenumber:4087.232097519176},{dark:333,nm:277.01260617678054,spectrum:1757,spectrumDark:1424,wavenumber:4129.154808928462},{dark:342,nm:277.333930332881,spectrum:1762,spectrumDark:1420,wavenumber:4170.980279511539},{dark:325,nm:277.65525373136234,spectrum:1854,spectrumDark:1529,wavenumber:4212.7088444752735},{dark:332,nm:277.97657635117946,spectrum:1857,spectrumDark:1525,wavenumber:4254.340837487667},{dark:333,nm:278.29789817128733,spectrum:1909,spectrumDark:1576,wavenumber:4295.876590686705},{dark:348,nm:278.6192191706407,spectrum:1898,spectrumDark:1550,wavenumber:4337.316434689084},{dark:336,nm:278.9405393281945,spectrum:1935,spectrumDark:1599,wavenumber:4378.6606985989565},{dark:341,nm:279.2618586229038,spectrum:2022,spectrumDark:1681,wavenumber:4419.909710016545},{dark:339,nm:279.58317703372313,spectrum:2050,spectrumDark:1711,wavenumber:4461.063795046677},{dark:328,nm:279.90449453960764,spectrum:2088,spectrumDark:1760,wavenumber:4502.123278307416},{dark:354,nm:280.22581111951195,spectrum:2121,spectrumDark:1767,wavenumber:4543.088482938401},{dark:338,nm:280.547126752391,spectrum:2149,spectrumDark:1811,wavenumber:4583.9597306093565},{dark:324,nm:280.8684414171995,spectrum:2119,spectrumDark:1795,wavenumber:4624.7373415283655},{dark:339,nm:281.1897550928925,spectrum:2114,spectrumDark:1775,wavenumber:4665.421634450227},{dark:321,nm:281.5110677584245,spectrum:2214,spectrumDark:1893,wavenumber:4706.012926684605},{dark:336,nm:281.83237939275034,spectrum:2334,spectrumDark:1998,wavenumber:4746.511534104298},{dark:334,nm:282.15368997482494,spectrum:2293,spectrumDark:1959,wavenumber:4786.917771153319},{dark:347,nm:282.4749994836029,spectrum:2330,spectrumDark:1983,wavenumber:4827.231950854955},{dark:344,nm:282.7963078980391,spectrum:2360,spectrumDark:2016,wavenumber:4867.454384819808},{dark:344,nm:283.11761519708807,spectrum:2473,spectrumDark:2129,wavenumber:4907.585383253725},{dark:342,nm:283.43892135970475,spectrum:2461,spectrumDark:2119,wavenumber:4947.625254965744},{dark:348,nm:283.7602263648437,spectrum:2508,spectrumDark:2160,wavenumber:4987.5743073759},{dark:317,nm:284.0815301914597,spectrum:2574,spectrumDark:2257,wavenumber:5027.4328465230865},{dark:333,nm:284.40283281850725,spectrum:2700,spectrumDark:2367,wavenumber:5067.201177072697},{dark:334,nm:284.72413422494117,spectrum:2692,spectrumDark:2358,wavenumber:5106.879602324458},{dark:331,nm:285.0454343897161,spectrum:2712,spectrumDark:2381,wavenumber:5146.468424219973},{dark:332,nm:285.36673329178655,spectrum:2769,spectrumDark:2437,wavenumber:5185.967943350341},{dark:332,nm:285.6880309101073,spectrum:2829,spectrumDark:2497,wavenumber:5225.378458963707},{dark:332,nm:286.0093272236328,spectrum:2938,spectrumDark:2606,wavenumber:5264.70026897276},{dark:342,nm:286.33062221131763,spectrum:2983,spectrumDark:2641,wavenumber:5303.933669962134},{dark:323,nm:286.6519158521164,spectrum:3048,spectrumDark:2725,wavenumber:5343.078957195845},{dark:335,nm:286.9732081249838,spectrum:3174,spectrumDark:2839,wavenumber:5382.136424624638},{dark:336,nm:287.29449900887414,spectrum:3218,spectrumDark:2882,wavenumber:5421.10636489321},{dark:331,nm:287.615788482742,spectrum:3269,spectrumDark:2938,wavenumber:5459.9890693475245},{dark:332,nm:287.9370765255419,spectrum:3385,spectrumDark:3053,wavenumber:5498.784828041986},{dark:333,nm:288.25836311622834,spectrum:3324,spectrumDark:2991,wavenumber:5537.49392974659},{dark:330,nm:288.57964823375573,spectrum:3303,spectrumDark:2973,wavenumber:5576.116661954016},{dark:339,nm:288.9009318570786,spectrum:3385,spectrumDark:3046,wavenumber:5614.653310886686},{dark:337,nm:289.22221396515135,spectrum:3541,spectrumDark:3204,wavenumber:5653.104161503783},{dark:320,nm:289.5434945369284,spectrum:3494,spectrumDark:3174,wavenumber:5691.46949750818},{dark:336,nm:289.864773551364,spectrum:3568,spectrumDark:3232,wavenumber:5729.749601353389},{dark:340,nm:290.1860509874126,spectrum:3587,spectrumDark:3247,wavenumber:5767.944754250413},{dark:344,nm:290.5073268240287,spectrum:3683,spectrumDark:3339,wavenumber:5806.055236174609},{dark:339,nm:290.8286010401665,spectrum:3827,spectrumDark:3488,wavenumber:5844.081325872372},{dark:331,nm:291.1498736147803,spectrum:3705,spectrumDark:3374,wavenumber:5882.023300867972},{dark:329,nm:291.47114452682433,spectrum:3813,spectrumDark:3484,wavenumber:5919.881437470191},{dark:328,nm:291.79241375525305,spectrum:3796,spectrumDark:3468,wavenumber:5957.656010778992},{dark:345,nm:292.1136812790206,spectrum:3964,spectrumDark:3619,wavenumber:5995.347294692103},{dark:323,nm:292.43494707708123,spectrum:3986,spectrumDark:3663,wavenumber:6032.955561911571},{dark:353,nm:292.75621112838917,spectrum:4087,spectrumDark:3734,wavenumber:6070.481083950326},{dark:329,nm:293.0774734118985,spectrum:4071,spectrumDark:3742,wavenumber:6107.924131138578},{dark:344,nm:293.3987339065636,spectrum:4136,spectrumDark:3792,wavenumber:6145.284972630354},{dark:338,nm:293.7199925913384,spectrum:4145,spectrumDark:3807,wavenumber:6182.563876409753},{dark:338,nm:294.0412494451772,spectrum:4242,spectrumDark:3904,wavenumber:6219.761109297433},{dark:345,nm:294.36250444703387,spectrum:4216,spectrumDark:3871,wavenumber:6256.876936956804},{dark:330,nm:294.6837575758627,spectrum:4234,spectrumDark:3904,wavenumber:6293.911623900378},{dark:338,nm:295.0050088106178,spectrum:4287,spectrumDark:3949,wavenumber:6330.865433495957},{dark:338,nm:295.326258130253,spectrum:4353,spectrumDark:4015,wavenumber:6367.738627972787},{dark:338,nm:295.6475055137224,spectrum:4368,spectrumDark:4030,wavenumber:6404.531468427784},{dark:337,nm:295.96875093998005,spectrum:4369,spectrumDark:4032,wavenumber:6441.244214831553},{dark:340,nm:296.28999438797985,spectrum:4374,spectrumDark:4034,wavenumber:6477.877126034517},{dark:327,nm:296.61123583667563,spectrum:4404,spectrumDark:4077,wavenumber:6514.4304597728915},{dark:333,nm:296.9324752650215,spectrum:4407,spectrumDark:4074,wavenumber:6550.904472674745},{dark:338,nm:297.2537126519712,spectrum:4452,spectrumDark:4114,wavenumber:6587.299420265874},{dark:340,nm:297.5749479764788,spectrum:4565,spectrumDark:4225,wavenumber:6623.615556975747},{dark:346,nm:297.8961812174979,spectrum:4592,spectrumDark:4246,wavenumber:6659.853136143349},{dark:321,nm:298.21741235398247,spectrum:4468,spectrumDark:4147,wavenumber:6696.012410023104},{dark:347,nm:298.5386413648862,spectrum:4633,spectrumDark:4286,wavenumber:6732.09362979055},{dark:350,nm:298.859868229163,spectrum:4728,spectrumDark:4378,wavenumber:6768.097045548209},{dark:321,nm:299.1810929257665,spectrum:4738,spectrumDark:4417,wavenumber:6804.022906331207},{dark:337,nm:299.5023154336503,spectrum:4683,spectrumDark:4346,wavenumber:6839.871460113041},{dark:329,nm:299.8235357317684,spectrum:4815,spectrumDark:4486,wavenumber:6875.6429538112425},{dark:347,nm:300.1447537990741,spectrum:4825,spectrumDark:4478,wavenumber:6911.337633292875},{dark:317,nm:300.4659696145213,spectrum:4882,spectrumDark:4565,wavenumber:6946.9557433802765},{dark:347,nm:300.7871831570635,spectrum:4839,spectrumDark:4492,wavenumber:6982.49752785646},{dark:345,nm:301.1083944056544,spectrum:5001,spectrumDark:4656,wavenumber:7017.963229470712},{dark:350,nm:301.42960333924725,spectrum:4977,spectrumDark:4627,wavenumber:7053.353089943994},{dark:342,nm:301.7508099367958,spectrum:5061,spectrumDark:4719,wavenumber:7088.667349974472},{dark:324,nm:302.07201417725355,spectrum:5252,spectrumDark:4928,wavenumber:7123.906249242849},{dark:336,nm:302.393216039574,spectrum:5370,spectrumDark:5034,wavenumber:7159.07002641775},{dark:335,nm:302.7144155027104,spectrum:5336,spectrumDark:5001,wavenumber:7194.158919161055},{dark:349,nm:303.03561254561623,spectrum:5556,spectrumDark:5207,wavenumber:7229.17316413323},{dark:345,nm:303.3568071472449,spectrum:5556,spectrumDark:5211,wavenumber:7264.112996998556},{dark:326,nm:303.6779992865497,spectrum:5747,spectrumDark:5421,wavenumber:7298.9786524304},{dark:347,nm:303.9991889424841,spectrum:5794,spectrumDark:5447,wavenumber:7333.770364116397},{dark:334,nm:304.3203760940013,spectrum:5917,spectrumDark:5583,wavenumber:7368.488364763616},{dark:330,nm:304.6415607200545,spectrum:5992,spectrumDark:5662,wavenumber:7403.132886103704},{dark:321,nm:304.962742799597,spectrum:6178,spectrumDark:5857,wavenumber:7437.704158897999},{dark:335,nm:305.2839223115818,spectrum:6238,spectrumDark:5903,wavenumber:7472.202412942577},{dark:345,nm:305.6050992349624,spectrum:6354,spectrumDark:6009,wavenumber:7506.627877073352},{dark:336,nm:305.9262735486917,spectrum:6389,spectrumDark:6053,wavenumber:7540.980779171001},{dark:325,nm:306.24744523172296,spectrum:6497,spectrumDark:6172,wavenumber:7575.261346166011},{dark:341,nm:306.56861426300907,spectrum:6628,spectrumDark:6287,wavenumber:7609.469804043583},{dark:333,nm:306.88978062150306,spectrum:6702,spectrumDark:6369,wavenumber:7643.6063778485695},{dark:347,nm:307.2109442861581,spectrum:6836,spectrumDark:6489,wavenumber:7677.671291690385},{dark:331,nm:307.53210523592713,spectrum:7012,spectrumDark:6681,wavenumber:7711.664768747807},{dark:331,nm:307.85326344976295,spectrum:7158,spectrumDark:6827,wavenumber:7745.587031273812},{dark:327,nm:308.1744189066186,spectrum:7126,spectrumDark:6799,wavenumber:7779.438300600425},{dark:329,nm:308.495571585447,spectrum:7145,spectrumDark:6816,wavenumber:7813.218797143425},{dark:335,nm:308.81672146520077,spectrum:7230,spectrumDark:6895,wavenumber:7846.928740407075},{dark:317,nm:309.1378685248329,spectrum:7356,spectrumDark:7039,wavenumber:7880.568348988902},{dark:328,nm:309.45901274329606,spectrum:7595,spectrumDark:7267,wavenumber:7914.137840584288},{dark:350,nm:309.7801540995431,spectrum:7456,spectrumDark:7106,wavenumber:7947.637431991185},{dark:338,nm:310.10129257252663,spectrum:7611,spectrumDark:7273,wavenumber:7981.067339114677},{dark:339,nm:310.42242814119925,spectrum:7686,spectrumDark:7347,wavenumber:8014.42777697161},{dark:334,nm:310.74356078451376,spectrum:7727,spectrumDark:7393,wavenumber:8047.718959695165},{dark:344,nm:311.06469048142264,spectrum:7840,spectrumDark:7496,wavenumber:8080.941100539345},{dark:341,nm:311.3858172108785,spectrum:7897,spectrumDark:7556,wavenumber:8114.094411883514},{dark:347,nm:311.7069409518339,spectrum:7867,spectrumDark:7520,wavenumber:8147.179105236886},{dark:336,nm:312.02806168324116,spectrum:8021,spectrumDark:7685,wavenumber:8180.195391242934},{dark:340,nm:312.34917938405295,spectrum:8027,spectrumDark:7687,wavenumber:8213.143479683873},{dark:326,nm:312.67029403322147,spectrum:8200,spectrumDark:7874,wavenumber:8246.02357948499},{dark:350,nm:312.9914056096993,spectrum:8240,spectrumDark:7890,wavenumber:8278.835898719095},{dark:332,nm:313.3125140924386,spectrum:8326,spectrumDark:7994,wavenumber:8311.580644610767},{dark:344,nm:313.63361946039186,spectrum:8409,spectrumDark:8065,wavenumber:8344.25802354077},{dark:341,nm:313.95472169251116,spectrum:8450,spectrumDark:8109,wavenumber:8376.868241050262},{dark:342,nm:314.27582076774877,spectrum:8320,spectrumDark:7978,wavenumber:8409.411501845108},{dark:326,nm:314.59691666505705,spectrum:8578,spectrumDark:8252,wavenumber:8441.888009800128},{dark:335,nm:314.9180093633879,spectrum:8547,spectrumDark:8212,wavenumber:8474.29796796323},{dark:326,nm:315.2390988416936,spectrum:8643,spectrumDark:8317,wavenumber:8506.64157855971},{dark:330,nm:315.5601850789261,spectrum:8585,spectrumDark:8255,wavenumber:8538.91904299632},{dark:351,nm:315.8812680540376,spectrum:8678,spectrumDark:8327,wavenumber:8571.130561865473},{dark:350,nm:316.20234774597986,spectrum:8574,spectrumDark:8224,wavenumber:8603.276334949282},{dark:328,nm:316.52342413370513,spectrum:8783,spectrumDark:8455,wavenumber:8635.35656122374},{dark:335,nm:316.844497196165,spectrum:8751,spectrumDark:8416,wavenumber:8667.371438862665},{dark:336,nm:317.16556691231153,spectrum:8801,spectrumDark:8465,wavenumber:8699.321165241869},{dark:343,nm:317.4866332610966,spectrum:8883,spectrumDark:8540,wavenumber:8731.20593694306},{dark:326,nm:317.8076962214718,spectrum:8920,spectrumDark:8594,wavenumber:8763.025949757885},{dark:345,nm:318.1287557723891,spectrum:8821,spectrumDark:8476,wavenumber:8794.781398691892},{dark:343,nm:318.4498118928001,spectrum:9182,spectrumDark:8839,wavenumber:8826.472477968444},{dark:335,nm:318.7708645616565,spectrum:9064,spectrumDark:8729,wavenumber:8858.099381032684},{dark:334,nm:319.0919137579099,spectrum:9026,spectrumDark:8692,wavenumber:8889.66230055537},{dark:341,nm:319.41295946051173,spectrum:9144,spectrumDark:8803,wavenumber:8921.161428436782},{dark:343,nm:319.7340016484138,spectrum:9120,spectrumDark:8777,wavenumber:8952.59695581059},{dark:337,nm:320.0550403005675,spectrum:9160,spectrumDark:8823,wavenumber:8983.969073047614},{dark:322,nm:320.3760753959242,spectrum:9164,spectrumDark:8842,wavenumber:9015.27796975967},{dark:342,nm:320.6971069134355,spectrum:9251,spectrumDark:8909,wavenumber:9046.523834803367},{dark:332,nm:321.0181348320526,spectrum:9395,spectrumDark:9063,wavenumber:9077.7068562838},{dark:325,nm:321.3391591307269,spectrum:9321,spectrumDark:8996,wavenumber:9108.827221558331},{dark:329,nm:321.66017978840955,spectrum:9321,spectrumDark:8992,wavenumber:9139.88511724029},{dark:354,nm:321.98119678405203,spectrum:9582,spectrumDark:9228,wavenumber:9170.880729202687},{dark:336,nm:322.30221009660534,spectrum:9410,spectrumDark:9074,wavenumber:9201.814242581815},{dark:328,nm:322.6232197050206,spectrum:9584,spectrumDark:9256,wavenumber:9232.685841780945},{dark:354,nm:322.9442255882491,spectrum:9470,spectrumDark:9116,wavenumber:9263.49571047398},{dark:325,nm:323.26522772524174,spectrum:9730,spectrumDark:9405,wavenumber:9294.244031608967},{dark:337,nm:323.58622609494955,spectrum:9670,spectrumDark:9333,wavenumber:9324.930987411753},{dark:342,nm:323.9072206763236,spectrum:9655,spectrumDark:9313,wavenumber:9355.556759389528},{dark:336,nm:324.2282114483147,spectrum:9699,spectrumDark:9363,wavenumber:9386.12152833434},{dark:330,nm:324.5491983898738,spectrum:9630,spectrumDark:9300,wavenumber:9416.625474326647},{dark:330,nm:324.8701814799516,spectrum:9703,spectrumDark:9373,wavenumber:9447.068776738775},{dark:335,nm:325.1911606974991,spectrum:9805,spectrumDark:9470,wavenumber:9477.45161423845},{dark:330,nm:325.51213602146686,spectrum:9886,spectrumDark:9556,wavenumber:9507.774164792194},{dark:339,nm:325.8331074308055,spectrum:9856,spectrumDark:9517,wavenumber:9538.036605668785},{dark:341,nm:326.1540749044658,spectrum:9947,spectrumDark:9606,wavenumber:9568.239113442702},{dark:334,nm:326.4750384213984,spectrum:9915,spectrumDark:9581,wavenumber:9598.381863997478},{dark:319,nm:326.7959979605537,spectrum:9935,spectrumDark:9616,wavenumber:9628.465032529093},{dark:344,nm:327.11695350088223,spectrum:9918,spectrumDark:9574,wavenumber:9658.488793549328},{dark:332,nm:327.4379050213345,spectrum:10044,spectrumDark:9712,wavenumber:9688.453320889104},{dark:339,nm:327.7588525008608,spectrum:9992,spectrumDark:9653,wavenumber:9718.358787701804},{dark:326,nm:328.0797959184116,spectrum:9985,spectrumDark:9659,wavenumber:9748.205366466551},{dark:333,nm:328.4007352529371,spectrum:9951,spectrumDark:9618,wavenumber:9777.993228991509},{dark:350,nm:328.7216704833876,spectrum:9984,spectrumDark:9634,wavenumber:9807.722546417124},{dark:333,nm:329.0426015887133,spectrum:10069,spectrumDark:9736,wavenumber:9837.393489219387},{dark:355,nm:329.36352854786423,spectrum:10133,spectrumDark:9778,wavenumber:9867.006227213009},{dark:352,nm:329.6844513397907,spectrum:10114,spectrumDark:9762,wavenumber:9896.560929554704},{dark:344,nm:330.0053699434426,spectrum:10020,spectrumDark:9676,wavenumber:9926.05776474627},{dark:324,nm:330.32628433777006,spectrum:10048,spectrumDark:9724,wavenumber:9955.496900637856},{dark:331,nm:330.6471945017229,spectrum:10085,spectrumDark:9754,wavenumber:9984.878504431024},{dark:337,nm:330.968100414251,spectrum:10121,spectrumDark:9784,wavenumber:10014.202742681933},{dark:342,nm:331.2890020543043,spectrum:10145,spectrumDark:9803,wavenumber:10043.469781304437},{dark:337,nm:331.60989940083255,spectrum:10012,spectrumDark:9675,wavenumber:10072.679785573157},{dark:320,nm:331.93079243278544,spectrum:10185,spectrumDark:9865,wavenumber:10101.83292012658},{dark:333,nm:332.25168112911274,spectrum:9925,spectrumDark:9592,wavenumber:10130.92934897012},{dark:336,nm:332.5725654687641,spectrum:10177,spectrumDark:9841,wavenumber:10159.969235479133},{dark:337,nm:332.893445430689,spectrum:10033,spectrumDark:9696,wavenumber:10188.95274240195},{dark:329,nm:333.21432099383696,spectrum:10055,spectrumDark:9726,wavenumber:10217.880031862886},{dark:333,nm:333.53519213715765,spectrum:10020,spectrumDark:9687,wavenumber:10246.751265365237},{dark:353,nm:333.8560588396002,spectrum:9990,spectrumDark:9637,wavenumber:10275.566603794217},{dark:335,nm:334.1769210801142,spectrum:9855,spectrumDark:9520,wavenumber:10304.326207419952},{dark:328,nm:334.49777883764887,spectrum:10008,spectrumDark:9680,wavenumber:10333.03023590039},{dark:333,nm:334.8186320911535,spectrum:10038,spectrumDark:9705,wavenumber:10361.678848284231},{dark:332,nm:335.13948081957733,spectrum:10038,spectrumDark:9706,wavenumber:10390.272203013828},{dark:319,nm:335.4603250018695,spectrum:10019,spectrumDark:9700,wavenumber:10418.810457928063},{dark:333,nm:335.7811646169789,spectrum:9941,spectrumDark:9608,wavenumber:10447.293770265227},{dark:341,nm:336.1019996438548,spectrum:9968,spectrumDark:9627,wavenumber:10475.722296665885},{dark:337,nm:336.4228300614461,spectrum:9835,spectrumDark:9498,wavenumber:10504.096193175694},{dark:340,nm:336.7436558487018,spectrum:9882,spectrumDark:9542,wavenumber:10532.415615248228},{dark:327,nm:337.06447698457066,spectrum:9838,spectrumDark:9511,wavenumber:10560.68071774779},{dark:329,nm:337.38529344800156,spectrum:9837,spectrumDark:9508,wavenumber:10588.891654952196},{dark:335,nm:337.7061052179432,spectrum:9979,spectrumDark:9644,wavenumber:10617.04858055555},{dark:336,nm:338.02691227334435,spectrum:9757,spectrumDark:9421,wavenumber:10645.151647670995},{dark:326,nm:338.34771459315357,spectrum:10046,spectrumDark:9720,wavenumber:10673.201008833472},{dark:339,nm:338.6685121563195,spectrum:10045,spectrumDark:9706,wavenumber:10701.196816002423},{dark:342,nm:338.9893049417907,spectrum:9899,spectrumDark:9557,wavenumber:10729.139220564532},{dark:339,nm:339.3100929285156,spectrum:9824,spectrumDark:9485,wavenumber:10757.028373336383},{dark:341,nm:339.63087609544255,spectrum:9814,spectrumDark:9473,wavenumber:10784.864424567171},{dark:329,nm:339.95165442151995,spectrum:9793,spectrumDark:9464,wavenumber:10812.647523941356},{dark:321,nm:340.2724278856962,spectrum:9742,spectrumDark:9421,wavenumber:10840.377820581318},{dark:322,nm:340.5931964669194,spectrum:9760,spectrumDark:9438,wavenumber:10868.055463049986},{dark:323,nm:340.9139601441377,spectrum:9915,spectrumDark:9592,wavenumber:10895.680599353454},{dark:347,nm:341.23471889629934,spectrum:9710,spectrumDark:9363,wavenumber:10923.253376943609},{dark:336,nm:341.5554727023523,spectrum:9771,spectrumDark:9435,wavenumber:10950.77394272069},{dark:345,nm:341.8762215412445,spectrum:9794,spectrumDark:9449,wavenumber:10978.242443035895},{dark:327,nm:342.196965391924,spectrum:9622,spectrumDark:9295,wavenumber:11005.659023693937},{dark:343,nm:342.5177042333387,spectrum:9612,spectrumDark:9269,wavenumber:11033.023829955579},{dark:339,nm:342.8384380444363,spectrum:9591,spectrumDark:9252,wavenumber:11060.337006540165},{dark:352,nm:343.15916680416456,spectrum:9539,spectrumDark:9187,wavenumber:11087.598697628157},{dark:339,nm:343.4798904914712,spectrum:9476,spectrumDark:9137,wavenumber:11114.80904686364},{dark:337,nm:343.800609085304,spectrum:9573,spectrumDark:9236,wavenumber:11141.968197356808},{dark:342,nm:344.1213225646103,spectrum:9520,spectrumDark:9178,wavenumber:11169.076291686415},{dark:333,nm:344.44203090833764,spectrum:9500,spectrumDark:9167,wavenumber:11196.133471902293},{dark:338,nm:344.76273409543353,spectrum:9456,spectrumDark:9118,wavenumber:11223.13987952776},{dark:326,nm:345.08343210484543,spectrum:9361,spectrumDark:9035,wavenumber:11250.095655562083},{dark:343,nm:345.40412491552047,spectrum:9246,spectrumDark:8903,wavenumber:11277.000940482867},{dark:338,nm:345.724812506406,spectrum:9292,spectrumDark:8954,wavenumber:11303.8558742485},{dark:333,nm:346.0454948564492,spectrum:9167,spectrumDark:8834,wavenumber:11330.660596300531},{dark:350,nm:346.3661719445972,spectrum:9195,spectrumDark:8845,wavenumber:11357.41524556607},{dark:334,nm:346.68684374979705,spectrum:9258,spectrumDark:8924,wavenumber:11384.119960460117},{dark:336,nm:347.0075102509958,spectrum:9199,spectrumDark:8863,wavenumber:11410.774878887984},{dark:334,nm:347.3281714271403,spectrum:9236,spectrumDark:8902,wavenumber:11437.380138247576},{dark:340,nm:347.6488272571776,spectrum:9039,spectrumDark:8699,wavenumber:11463.935875431755},{dark:350,nm:347.9694777200542,spectrum:9029,spectrumDark:8679,wavenumber:11490.442226830644},{dark:344,nm:348.29012279471704,spectrum:9109,spectrumDark:8765,wavenumber:11516.899328333948},{dark:333,nm:348.6107624601128,spectrum:9044,spectrumDark:8711,wavenumber:11543.307315333252},{dark:338,nm:348.93139669518814,spectrum:9109,spectrumDark:8771,wavenumber:11569.666322724257},{dark:324,nm:349.2520254788893,spectrum:9056,spectrumDark:8732,wavenumber:11595.976484909086},{dark:346,nm:349.57264879016316,spectrum:9e3,spectrumDark:8654,wavenumber:11622.237935798552},{dark:328,nm:349.89326660795587,spectrum:8856,spectrumDark:8528,wavenumber:11648.450808814352},{dark:332,nm:350.2138789112138,spectrum:8929,spectrumDark:8597,wavenumber:11674.615236891339},{dark:338,nm:350.53448567888324,spectrum:8915,spectrumDark:8577,wavenumber:11700.731352479725},{dark:340,nm:350.85508688991047,spectrum:8888,spectrumDark:8548,wavenumber:11726.799287547288},{dark:327,nm:351.1756825232417,spectrum:8793,spectrumDark:8466,wavenumber:11752.81917358157},{dark:334,nm:351.49627255782264,spectrum:8808,spectrumDark:8474,wavenumber:11778.791141592028},{dark:326,nm:351.8168569725997,spectrum:8830,spectrumDark:8504,wavenumber:11804.715322112283},{dark:334,nm:352.1374357465186,spectrum:8942,spectrumDark:8608,wavenumber:11830.59184520218},{dark:332,nm:352.4580088585253,spectrum:8879,spectrumDark:8547,wavenumber:11856.42084045001},{dark:347,nm:352.77857628756556,spectrum:8841,spectrumDark:8494,wavenumber:11882.202436974603},{dark:339,nm:353.09913801258506,spectrum:8752,spectrumDark:8413,wavenumber:11907.936763427464},{dark:328,nm:353.4196940125296,spectrum:8802,spectrumDark:8474,wavenumber:11933.623947994907},{dark:334,nm:353.7402442663446,spectrum:8914,spectrumDark:8580,wavenumber:11959.264118400104},{dark:329,nm:354.06078875297567,spectrum:8900,spectrumDark:8571,wavenumber:11984.857401905232},{dark:333,nm:354.3813274513683,spectrum:8662,spectrumDark:8329,wavenumber:12010.403925313512},{dark:327,nm:354.70186034046776,spectrum:8807,spectrumDark:8480,wavenumber:12035.903814971283},{dark:338,nm:355.0223873992195,spectrum:8820,spectrumDark:8482,wavenumber:12061.357196770077},{dark:336,nm:355.3429086065686,spectrum:8733,spectrumDark:8397,wavenumber:12086.764196148622},{dark:328,nm:355.66342394146034,spectrum:8815,spectrumDark:8487,wavenumber:12112.124938094938},{dark:335,nm:355.98393338283984,spectrum:8782,spectrumDark:8447,wavenumber:12137.439547148297},{dark:351,nm:356.30443690965205,spectrum:8759,spectrumDark:8408,wavenumber:12162.708147401263},{dark:346,nm:356.62493450084185,spectrum:8732,spectrumDark:8386,wavenumber:12187.930862501686},{dark:330,nm:356.9454261353543,spectrum:8640,spectrumDark:8310,wavenumber:12213.107815654723},{dark:324,nm:357.26591179213415,spectrum:8648,spectrumDark:8324,wavenumber:12238.239129624766},{dark:335,nm:357.58639145012603,spectrum:8715,spectrumDark:8380,wavenumber:12263.32492673743},{dark:329,nm:357.9068650882747,spectrum:8791,spectrumDark:8462,wavenumber:12288.36532888154},{dark:331,nm:358.22733268552474,spectrum:8634,spectrumDark:8303,wavenumber:12313.360457511044},{dark:318,nm:358.5477942208207,spectrum:8687,spectrumDark:8369,wavenumber:12338.310433646955},{dark:342,nm:358.8682496731069,spectrum:8692,spectrumDark:8350,wavenumber:12363.215377879282},{dark:343,nm:359.1886990213278,spectrum:8720,spectrumDark:8377,wavenumber:12388.075410368965},{dark:331,nm:359.5091422444277,spectrum:8644,spectrumDark:8313,wavenumber:12412.890650849757},{dark:335,nm:359.8295793213508,spectrum:8677,spectrumDark:8342,wavenumber:12437.66121863012},{dark:342,nm:360.1500102310413,spectrum:8701,spectrumDark:8359,wavenumber:12462.387232595134},{dark:336,nm:360.47043495244316,spectrum:8664,spectrumDark:8328,wavenumber:12487.068811208348},{dark:335,nm:360.7908534645004,spectrum:8771,spectrumDark:8436,wavenumber:12511.706072513662},{dark:338,nm:361.11126574615696,spectrum:8802,spectrumDark:8464,wavenumber:12536.29913413717},{dark:331,nm:361.4316717763568,spectrum:8733,spectrumDark:8402,wavenumber:12560.848113289037},{dark:330,nm:361.75207153404347,spectrum:8626,spectrumDark:8296,wavenumber:12585.35312676528},{dark:332,nm:362.07246499816074,spectrum:8573,spectrumDark:8241,wavenumber:12609.814290949653},{dark:337,nm:362.3928521476523,spectrum:8840,spectrumDark:8503,wavenumber:12634.231721815431},{dark:330,nm:362.7132329614616,spectrum:8786,spectrumDark:8456,wavenumber:12658.605534927221},{dark:337,nm:363.03360741853214,spectrum:8702,spectrumDark:8365,wavenumber:12682.935845442782},{dark:346,nm:363.35397549780737,spectrum:8738,spectrumDark:8392,wavenumber:12707.222768114782},{dark:309,nm:363.67433717823053,spectrum:8678,spectrumDark:8369,wavenumber:12731.466417292588},{dark:341,nm:363.9946924387448,spectrum:8731,spectrumDark:8390,wavenumber:12755.666906924049},{dark:350,nm:364.3150412582934,spectrum:8718,spectrumDark:8368,wavenumber:12779.82435055725},{dark:344,nm:364.63538361581925,spectrum:8797,spectrumDark:8453,wavenumber:12803.938861342242},{dark:312,nm:364.95571949026555,spectrum:8792,spectrumDark:8480,wavenumber:12828.010552032829},{dark:341,nm:365.2760488605752,spectrum:8637,spectrumDark:8296,wavenumber:12852.03953498826},{dark:316,nm:365.5963717056909,spectrum:8601,spectrumDark:8285,wavenumber:12876.025922174958},{dark:334,nm:365.91668800455545,spectrum:8804,spectrumDark:8470,wavenumber:12899.969825168257},{dark:329,nm:366.23699773611156,spectrum:8692,spectrumDark:8363,wavenumber:12923.871355154097},{dark:345,nm:366.5573008793018,spectrum:8753,spectrumDark:8408,wavenumber:12947.730622930703},{dark:347,nm:366.87759741306866,spectrum:8679,spectrumDark:8332,wavenumber:12971.547738910307},{dark:349,nm:367.1978873163547,spectrum:8635,spectrumDark:8286,wavenumber:12995.322813120798},{dark:325,nm:367.51817056810205,spectrum:8634,spectrumDark:8309,wavenumber:13019.055955207401},{dark:335,nm:367.8384471472532,spectrum:8737,spectrumDark:8402,wavenumber:13042.74727443435},{dark:336,nm:368.15871703275025,spectrum:8709,spectrumDark:8373,wavenumber:13066.39687968653},{dark:330,nm:368.47898020353534,spectrum:8801,spectrumDark:8471,wavenumber:13090.004879471122},{dark:339,nm:368.7992366385504,spectrum:8541,spectrumDark:8202,wavenumber:13113.571381919228},{dark:317,nm:369.1194863167375,spectrum:8732,spectrumDark:8415,wavenumber:13137.096494787533},{dark:350,nm:369.43972921703846,spectrum:8587,spectrumDark:8237,wavenumber:13160.580325459894},{dark:330,nm:369.7599653183951,spectrum:8700,spectrumDark:8370,wavenumber:13184.022980948954},{dark:326,nm:370.080194599749,spectrum:8686,spectrumDark:8360,wavenumber:13207.42456789775},{dark:344,nm:370.40041704004193,spectrum:8752,spectrumDark:8408,wavenumber:13230.785192581308},{dark:343,nm:370.7206326182153,spectrum:8657,spectrumDark:8314,wavenumber:13254.104960908226},{dark:332,nm:371.04084131321065,spectrum:8687,spectrumDark:8355,wavenumber:13277.383978422258},{dark:321,nm:371.3610431039692,spectrum:8757,spectrumDark:8436,wavenumber:13300.62235030386},{dark:321,nm:371.68123796943246,spectrum:8596,spectrumDark:8275,wavenumber:13323.820181371793},{dark:334,nm:372.00142588854146,spectrum:8587,spectrumDark:8253,wavenumber:13346.977576084639},{dark:324,nm:372.32160684023734,spectrum:8568,spectrumDark:8244,wavenumber:13370.094638542352},{dark:338,nm:372.6417808034612,spectrum:8574,spectrumDark:8236,wavenumber:13393.171472487826},{dark:337,nm:372.9619477571539,spectrum:8656,spectrumDark:8319,wavenumber:13416.208181308375},{dark:322,nm:373.2821076802562,spectrum:8634,spectrumDark:8312,wavenumber:13439.20486803729},{dark:321,nm:373.60226055170915,spectrum:8600,spectrumDark:8279,wavenumber:13462.161635355362},{dark:336,nm:373.92240635045323,spectrum:8603,spectrumDark:8267,wavenumber:13485.078585592339},{dark:332,nm:374.2425450554291,spectrum:8649,spectrumDark:8317,wavenumber:13507.955820728475},{dark:335,nm:374.5626766455772,spectrum:8682,spectrumDark:8347,wavenumber:13530.793442395996},{dark:336,nm:374.88280109983816,spectrum:8663,spectrumDark:8327,wavenumber:13553.591551880592},{dark:326,nm:375.2029183971521,spectrum:8693,spectrumDark:8367,wavenumber:13576.350250122869},{dark:333,nm:375.52302851645925,spectrum:8663,spectrumDark:8330,wavenumber:13599.069637719851},{dark:328,nm:375.8431314367,spectrum:8561,spectrumDark:8233,wavenumber:13621.749814926436},{dark:321,nm:376.1632271368144,spectrum:8547,spectrumDark:8226,wavenumber:13644.390881656826},{dark:336,nm:376.48331559574217,spectrum:8701,spectrumDark:8365,wavenumber:13666.992937485964},{dark:328,nm:376.80339679242354,spectrum:8603,spectrumDark:8275,wavenumber:13689.556081651037},{dark:343,nm:377.123470705798,spectrum:8624,spectrumDark:8281,wavenumber:13712.080413052812},{dark:325,nm:377.44353731480567,spectrum:8589,spectrumDark:8264,wavenumber:13734.56603025717},{dark:329,nm:377.7635965983858,spectrum:8584,spectrumDark:8255,wavenumber:13757.0130314964},{dark:330,nm:378.0836485354781,spectrum:8605,spectrumDark:8275,wavenumber:13779.421514670714},{dark:330,nm:378.40369310502217,spectrum:8458,spectrumDark:8128,wavenumber:13801.791577349602},{dark:321,nm:378.7237302859571,spectrum:8626,spectrumDark:8305,wavenumber:13824.123316773206},{dark:341,nm:379.04376005722236,spectrum:8609,spectrumDark:8268,wavenumber:13846.416829853755},{dark:328,nm:379.36378239775706,spectrum:8676,spectrumDark:8348,wavenumber:13868.67221317692},{dark:315,nm:379.6837972865004,spectrum:8733,spectrumDark:8418,wavenumber:13890.889563003195},{dark:320,nm:380.0038047023912,spectrum:8633,spectrumDark:8313,wavenumber:13913.068975269245},{dark:331,nm:380.32380462436856,spectrum:8603,spectrumDark:8272,wavenumber:13935.2105455893},{dark:322,nm:380.64379703137115,spectrum:8704,spectrumDark:8382,wavenumber:13957.314369256477},{dark:334,nm:380.9637819023378,spectrum:8666,spectrumDark:8332,wavenumber:13979.380541244154},{dark:330,nm:381.28375921620716,spectrum:8542,spectrumDark:8212,wavenumber:14001.409156207283},{dark:344,nm:381.6037289519177,spectrum:8739,spectrumDark:8395,wavenumber:14023.400308483739},{dark:329,nm:381.92369108840796,spectrum:8554,spectrumDark:8225,wavenumber:14045.354092095651},{dark:333,nm:382.2436456046163,spectrum:8712,spectrumDark:8379,wavenumber:14067.2706007507},{dark:328,nm:382.5635924794809,spectrum:8554,spectrumDark:8226,wavenumber:14089.14992784345},{dark:338,nm:382.88353169194,spectrum:8498,spectrumDark:8160,wavenumber:14110.99216645665},{dark:328,nm:383.20346322093167,spectrum:8610,spectrumDark:8282,wavenumber:14132.797409362538},{dark:338,nm:383.52338704539386,spectrum:8654,spectrumDark:8316,wavenumber:14154.565749024121},{dark:353,nm:383.8433031442646,spectrum:8616,spectrumDark:8263,wavenumber:14176.297277596488},{dark:330,nm:384.1632114964815,spectrum:8790,spectrumDark:8460,wavenumber:14197.992086928047},{dark:325,nm:384.48311208098244,spectrum:8744,spectrumDark:8419,wavenumber:14219.650268561854},{dark:342,nm:384.803004876705,spectrum:8604,spectrumDark:8262,wavenumber:14241.27191373684},{dark:322,nm:385.1228898625866,spectrum:8737,spectrumDark:8415,wavenumber:14262.85711338907},{dark:351,nm:385.44276701756485,spectrum:8574,spectrumDark:8223,wavenumber:14284.405958153046},{dark:332,nm:385.7626363205768,spectrum:8507,spectrumDark:8175,wavenumber:14305.918538362886},{dark:343,nm:386.0824977505599,spectrum:8607,spectrumDark:8264,wavenumber:14327.394944053634},{dark:334,nm:386.40235128645133,spectrum:8599,spectrumDark:8265,wavenumber:14348.835264962454},{dark:326,nm:386.72219690718794,spectrum:8750,spectrumDark:8424,wavenumber:14370.239590529869},{dark:329,nm:387.04203459170674,spectrum:8537,spectrumDark:8208,wavenumber:14391.608009900992},{dark:333,nm:387.36186431894464,spectrum:8696,spectrumDark:8363,wavenumber:14412.940611926755},{dark:330,nm:387.6816860678383,spectrum:8592,spectrumDark:8262,wavenumber:14434.237485165086},{dark:318,nm:388.00149981732443,spectrum:8675,spectrumDark:8357,wavenumber:14455.498717882147},{dark:333,nm:388.32130554633966,spectrum:8756,spectrumDark:8423,wavenumber:14476.724398053539},{dark:327,nm:388.6411032338202,spectrum:8615,spectrumDark:8288,wavenumber:14497.914613365447},{dark:339,nm:388.9608928587028,spectrum:8834,spectrumDark:8495,wavenumber:14519.06945121591},{dark:324,nm:389.2806743999233,spectrum:8613,spectrumDark:8289,wavenumber:14540.188998715908},{dark:340,nm:389.6004478364182,spectrum:8859,spectrumDark:8519,wavenumber:14561.273342690627},{dark:345,nm:389.92021314712326,spectrum:8683,spectrumDark:8338,wavenumber:14582.322569680568},{dark:326,nm:390.23997031097474,spectrum:8630,spectrumDark:8304,wavenumber:14603.33676594275},{dark:343,nm:390.5597193069083,spectrum:8726,spectrumDark:8383,wavenumber:14624.316017451845},{dark:348,nm:390.87946011385986,spectrum:8650,spectrumDark:8302,wavenumber:14645.260409901352},{dark:329,nm:391.19919271076503,spectrum:8623,spectrumDark:8294,wavenumber:14666.170028704724},{dark:338,nm:391.5189170765592,spectrum:8651,spectrumDark:8313,wavenumber:14687.044958996521},{dark:338,nm:391.83863319017814,spectrum:8653,spectrumDark:8315,wavenumber:14707.885285633565},{dark:340,nm:392.15834103055704,spectrum:8686,spectrumDark:8346,wavenumber:14728.691093196041},{dark:332,nm:392.4780405766311,spectrum:8720,spectrumDark:8388,wavenumber:14749.462465988629},{dark:335,nm:392.7977318073356,spectrum:8746,spectrumDark:8411,wavenumber:14770.19948804165},{dark:329,nm:393.11741470160564,spectrum:8792,spectrumDark:8463,wavenumber:14790.90224311216},{dark:328,nm:393.4370892383761,spectrum:8537,spectrumDark:8209,wavenumber:14811.570814685048},{dark:344,nm:393.75675539658175,spectrum:8698,spectrumDark:8354,wavenumber:14832.205285974163},{dark:317,nm:394.0764131551575,spectrum:8824,spectrumDark:8507,wavenumber:14852.805739923413},{dark:337,nm:394.396062493038,spectrum:8641,spectrumDark:8304,wavenumber:14873.372259207837},{dark:341,nm:394.71570338915774,spectrum:8707,spectrumDark:8366,wavenumber:14893.904926234714},{dark:339,nm:395.0353358224512,spectrum:8766,spectrumDark:8427,wavenumber:14914.403823144632},{dark:323,nm:395.3549597718527,spectrum:8578,spectrumDark:8255,wavenumber:14934.869031812577},{dark:344,nm:395.6745752162965,spectrum:8816,spectrumDark:8472,wavenumber:14955.300633848998},{dark:330,nm:395.99418213471665,spectrum:8646,spectrumDark:8316,wavenumber:14975.698710600871},{dark:333,nm:396.31378050604735,spectrum:8617,spectrumDark:8284,wavenumber:14996.063343152775},{dark:316,nm:396.6333703092223,spectrum:8644,spectrumDark:8328,wavenumber:15016.394612327931},{dark:322,nm:396.95295152317567,spectrum:8635,spectrumDark:8313,wavenumber:15036.692598689282},{dark:334,nm:397.27252412684084,spectrum:8691,spectrumDark:8357,wavenumber:15056.957382540491},{dark:343,nm:397.5920880991515,spectrum:8760,spectrumDark:8417,wavenumber:15077.189043927028},{dark:332,nm:397.9116434190414,spectrum:8659,spectrumDark:8327,wavenumber:15097.387662637211},{dark:335,nm:398.2311900654437,spectrum:8598,spectrumDark:8263,wavenumber:15117.553318203176},{dark:319,nm:398.5507280172917,spectrum:8705,spectrumDark:8386,wavenumber:15137.68608990197},{dark:331,nm:398.87025725351873,spectrum:8514,spectrumDark:8183,wavenumber:15157.786056756555},{dark:329,nm:399.1897777530578,spectrum:8598,spectrumDark:8269,wavenumber:15177.853297536803},{dark:346,nm:399.5092894948418,spectrum:8541,spectrumDark:8195,wavenumber:15197.887890760521},{dark:338,nm:399.82879245780384,spectrum:8500,spectrumDark:8162,wavenumber:15217.889914694482},{dark:326,nm:400.14828662087655,spectrum:8507,spectrumDark:8181,wavenumber:15237.859447355382},{dark:345,nm:400.4677719629924,spectrum:8566,spectrumDark:8221,wavenumber:15257.79656651086},{dark:334,nm:400.7872484630843,spectrum:8389,spectrumDark:8055,wavenumber:15277.701349680523},{dark:336,nm:401.10671610008444,spectrum:8516,spectrumDark:8180,wavenumber:15297.573874136862},{dark:326,nm:401.4261748529252,spectrum:8532,spectrumDark:8206,wavenumber:15317.414216906302},{dark:345,nm:401.7456247005389,spectrum:8456,spectrumDark:8111,wavenumber:15337.222454770148},{dark:326,nm:402.06506562185757,spectrum:8619,spectrumDark:8293,wavenumber:15356.998664265571},{dark:352,nm:402.3844975958133,spectrum:8518,spectrumDark:8166,wavenumber:15376.742921686557},{dark:319,nm:402.7039206013379,spectrum:8440,spectrumDark:8121,wavenumber:15396.455303084902},{dark:330,nm:403.02333461736316,spectrum:8382,spectrumDark:8052,wavenumber:15416.135884271138},{dark:344,nm:403.3427396228208,spectrum:8435,spectrumDark:8091,wavenumber:15435.784740815528},{dark:336,nm:403.66213559664243,spectrum:8367,spectrumDark:8031,wavenumber:15455.401948048991},{dark:327,nm:403.98152251775946,spectrum:8399,spectrumDark:8072,wavenumber:15474.987581064044},{dark:342,nm:404.3009003651032,spectrum:8277,spectrumDark:7935,wavenumber:15494.541714715753},{dark:335,nm:404.62026911760495,spectrum:8488,spectrumDark:8153,wavenumber:15514.064423622687},{dark:342,nm:404.93962875419584,spectrum:8271,spectrumDark:7929,wavenumber:15533.555782167823},{dark:323,nm:405.25897925380684,spectrum:8353,spectrumDark:8030,wavenumber:15553.015864499484},{dark:347,nm:405.57832059536895,spectrum:8307,spectrumDark:7960,wavenumber:15572.444744532273},{dark:341,nm:405.8976527578129,spectrum:8231,spectrumDark:7890,wavenumber:15591.842495947989},{dark:323,nm:406.2169757200693,spectrum:8316,spectrumDark:7993,wavenumber:15611.209192196518},{dark:343,nm:406.5362894610689,spectrum:8377,spectrumDark:8034,wavenumber:15630.544906496805},{dark:329,nm:406.855593959742,spectrum:8154,spectrumDark:7825,wavenumber:15649.84971183768},{dark:333,nm:407.174889195019,spectrum:8329,spectrumDark:7996,wavenumber:15669.123680978824},{dark:338,nm:407.49417514583,spectrum:8367,spectrumDark:8029,wavenumber:15688.366886451644},{dark:320,nm:407.8134517911054,spectrum:8373,spectrumDark:8053,wavenumber:15707.579400560175},{dark:336,nm:408.13271910977505,spectrum:8229,spectrumDark:7893,wavenumber:15726.761295381948},{dark:320,nm:408.45197708076876,spectrum:8178,spectrumDark:7858,wavenumber:15745.912642768897},{dark:349,nm:408.7712256830164,spectrum:8179,spectrumDark:7830,wavenumber:15765.033514348244},{dark:331,nm:409.09046489544767,spectrum:8198,spectrumDark:7867,wavenumber:15784.123981523368},{dark:329,nm:409.409694696992,spectrum:8221,spectrumDark:7892,wavenumber:15803.184115474665},{dark:335,nm:409.7289150665789,spectrum:8136,spectrumDark:7801,wavenumber:15822.213987160441},{dark:322,nm:410.04812598313765,spectrum:8150,spectrumDark:7828,wavenumber:15841.213667317767},{dark:326,nm:410.3673274255975,spectrum:8128,spectrumDark:7802,wavenumber:15860.183226463341},{dark:327,nm:410.68651937288746,spectrum:8123,spectrumDark:7796,wavenumber:15879.12273489434},{dark:331,nm:411.0057018039365,spectrum:8083,spectrumDark:7752,wavenumber:15898.032262689274},{dark:345,nm:411.32487469767364,spectrum:8080,spectrumDark:7735,wavenumber:15916.91187970886},{dark:344,nm:411.6440380330275,spectrum:8183,spectrumDark:7839,wavenumber:15935.761655596827},{dark:307,nm:411.9631917889267,spectrum:8011,spectrumDark:7704,wavenumber:15954.581659780775},{dark:324,nm:412.2823359442997,spectrum:8050,spectrumDark:7726,wavenumber:15973.371961473029},{dark:336,nm:412.60147047807493,spectrum:8040,spectrumDark:7704,wavenumber:15992.132629671443},{dark:326,nm:412.92059536918066,spectrum:8043,spectrumDark:7717,wavenumber:16010.863733160255},{dark:344,nm:413.239710596545,spectrum:8036,spectrumDark:7692,wavenumber:16029.565340510897},{dark:328,nm:413.55881613909605,spectrum:8028,spectrumDark:7700,wavenumber:16048.237520082825},{dark:328,nm:413.87791197576166,spectrum:7991,spectrumDark:7663,wavenumber:16066.880340024334},{dark:332,nm:414.1969980854698,spectrum:7963,spectrumDark:7631,wavenumber:16085.493868273377},{dark:348,nm:414.51607444714796,spectrum:8062,spectrumDark:7714,wavenumber:16104.078172558366},{dark:334,nm:414.83514103972357,spectrum:7910,spectrumDark:7576,wavenumber:16122.633320398967},{dark:342,nm:415.1541978421244,spectrum:7985,spectrumDark:7643,wavenumber:16141.159379106968},{dark:329,nm:415.4732448332776,spectrum:7926,spectrumDark:7597,wavenumber:16159.656415786987},{dark:321,nm:415.79228199211036,spectrum:8076,spectrumDark:7755,wavenumber:16178.124497337329},{dark:333,nm:416.11130929754984,spectrum:8027,spectrumDark:7694,wavenumber:16196.563690450763},{dark:334,nm:416.4303267285229,spectrum:7799,spectrumDark:7465,wavenumber:16214.974061615307},{dark:339,nm:416.7493342639565,spectrum:7904,spectrumDark:7565,wavenumber:16233.355677115007},{dark:337,nm:417.0683318827772,spectrum:7814,spectrumDark:7477,wavenumber:16251.708603030733},{dark:328,nm:417.38731956391166,spectrum:7721,spectrumDark:7393,wavenumber:16270.03290524095},{dark:343,nm:417.7062972862864,spectrum:7895,spectrumDark:7552,wavenumber:16288.328649422485},{dark:332,nm:418.0252650288278,spectrum:7795,spectrumDark:7463,wavenumber:16306.595901051322},{dark:341,nm:418.3442227704619,spectrum:7714,spectrumDark:7373,wavenumber:16324.834725403314},{dark:327,nm:418.663170490115,spectrum:7767,spectrumDark:7440,wavenumber:16343.045187555028},{dark:332,nm:418.98210816671303,spectrum:7739,spectrumDark:7407,wavenumber:16361.227352384423},{dark:339,nm:419.3010357791819,spectrum:7625,spectrumDark:7286,wavenumber:16379.381284571678},{dark:324,nm:419.6199533064473,spectrum:7711,spectrumDark:7387,wavenumber:16397.50704859988},{dark:336,nm:419.93886072743476,spectrum:7851,spectrumDark:7515,wavenumber:16415.604708755814},{dark:344,nm:420.25775802107,spectrum:7688,spectrumDark:7344,wavenumber:16433.67432913072},{dark:339,nm:420.5766451662781,spectrum:7756,spectrumDark:7417,wavenumber:16451.715973620987},{dark:349,nm:420.89552214198454,spectrum:7615,spectrumDark:7266,wavenumber:16469.729705928934},{dark:343,nm:421.21438892711444,spectrum:7471,spectrumDark:7128,wavenumber:16487.715589563544},{dark:324,nm:421.53324550059267,spectrum:7643,spectrumDark:7319,wavenumber:16505.67368784116},{dark:346,nm:421.8520918413441,spectrum:7647,spectrumDark:7301,wavenumber:16523.60406388626},{dark:340,nm:422.1709279282935,spectrum:7543,spectrumDark:7203,wavenumber:16541.50678063216},{dark:327,nm:422.4897537403656,spectrum:7646,spectrumDark:7319,wavenumber:16559.38190082174},{dark:331,nm:422.8085692564848,spectrum:7602,spectrumDark:7271,wavenumber:16577.229487008164},{dark:341,nm:423.1273744555755,spectrum:7613,spectrumDark:7272,wavenumber:16595.049601555587},{dark:337,nm:423.44616931656196,spectrum:7619,spectrumDark:7282,wavenumber:16612.84230663989},{dark:329,nm:423.7649538183682,spectrum:7553,spectrumDark:7224,wavenumber:16630.607664249368},{dark:343,nm:424.0837279399183,spectrum:7545,spectrumDark:7202,wavenumber:16648.34573618544},{dark:320,nm:424.4024916601361,spectrum:7571,spectrumDark:7251,wavenumber:16666.056584063383},{dark:329,nm:424.7212449579454,spectrum:7678,spectrumDark:7349,wavenumber:16683.740269312977},{dark:329,nm:425.0399878122697,spectrum:7596,spectrumDark:7267,wavenumber:16701.39685317925},{dark:327,nm:425.3587202020325,spectrum:7533,spectrumDark:7206,wavenumber:16719.026396723137},{dark:325,nm:425.6774421061573,spectrum:7526,spectrumDark:7201,wavenumber:16736.62896082221},{dark:346,nm:425.99615350356714,spectrum:7496,spectrumDark:7150,wavenumber:16754.20460617133},{dark:329,nm:426.3148543731851,spectrum:7420,spectrumDark:7091,wavenumber:16771.753393283336},{dark:345,nm:426.63354469393437,spectrum:7382,spectrumDark:7037,wavenumber:16789.275382489763},{dark:325,nm:426.95222444473757,spectrum:7480,spectrumDark:7155,wavenumber:16806.770633941458},{dark:329,nm:427.2708936045176,spectrum:7474,spectrumDark:7145,wavenumber:16824.239207609324},{dark:326,nm:427.5895521521969,spectrum:7470,spectrumDark:7144,wavenumber:16841.681163284928},{dark:338,nm:427.908200066698,spectrum:7480,spectrumDark:7142,wavenumber:16859.096560581223},{dark:334,nm:428.22683732694315,spectrum:7453,spectrumDark:7119,wavenumber:16876.48545893318},{dark:330,nm:428.54546391185454,spectrum:7401,spectrumDark:7071,wavenumber:16893.847917598465},{dark:332,nm:428.86407980035426,spectrum:7448,spectrumDark:7116,wavenumber:16911.183995658106},{dark:326,nm:429.1826849713642,spectrum:7437,spectrumDark:7111,wavenumber:16928.493752017133},{dark:345,nm:429.5012794038063,spectrum:7333,spectrumDark:6988,wavenumber:16945.77724540525},{dark:333,nm:429.81986307660213,spectrum:7432,spectrumDark:7099,wavenumber:16963.034534377475},{dark:341,nm:430.1384359686732,spectrum:7289,spectrumDark:6948,wavenumber:16980.26567731479},{dark:325,nm:430.4569980589408,spectrum:7320,spectrumDark:6995,wavenumber:16997.47073242478},{dark:337,nm:430.77554932632654,spectrum:7217,spectrumDark:6880,wavenumber:17014.649757742314},{dark:355,nm:431.0940897497512,spectrum:7279,spectrumDark:6924,wavenumber:17031.80281113013},{dark:339,nm:431.41261930813596,spectrum:7276,spectrumDark:6937,wavenumber:17048.929950279497},{dark:347,nm:431.73113798040174,spectrum:7263,spectrumDark:6916,wavenumber:17066.03123271088},{dark:335,nm:432.0496457454692,spectrum:7265,spectrumDark:6930,wavenumber:17083.10671577451},{dark:328,nm:432.3681425822589,spectrum:7152,spectrumDark:6824,wavenumber:17100.156456651057},{dark:345,nm:432.6866284696914,spectrum:7166,spectrumDark:6821,wavenumber:17117.180512352254},{dark:337,nm:433.005103386687,spectrum:7250,spectrumDark:6913,wavenumber:17134.17893972149},{dark:328,nm:433.3235673121659,spectrum:7294,spectrumDark:6966,wavenumber:17151.15179543447},{dark:343,nm:433.6420202250482,spectrum:7155,spectrumDark:6812,wavenumber:17168.099135999808},{dark:336,nm:433.9604621042538,spectrum:7105,spectrumDark:6769,wavenumber:17185.02101775964},{dark:346,nm:434.2788929287026,spectrum:7209,spectrumDark:6863,wavenumber:17201.91749689025},{dark:333,nm:434.597312677314,spectrum:7142,spectrumDark:6809,wavenumber:17218.788629402672},{dark:334,nm:434.91572132900785,spectrum:7182,spectrumDark:6848,wavenumber:17235.634471143312},{dark:324,nm:435.2341188627033,spectrum:7148,spectrumDark:6824,wavenumber:17252.455077794515},{dark:336,nm:435.5525052573198,spectrum:7103,spectrumDark:6767,wavenumber:17269.250504875203},{dark:327,nm:435.87088049177635,spectrum:7049,spectrumDark:6722,wavenumber:17286.020807741465},{dark:337,nm:436.189244544992,spectrum:7038,spectrumDark:6701,wavenumber:17302.76604158714},{dark:333,nm:436.50759739588545,spectrum:6941,spectrumDark:6608,wavenumber:17319.486261444425},{dark:320,nm:436.82593902337567,spectrum:7026,spectrumDark:6706,wavenumber:17336.18152218447},{dark:344,nm:437.144269406381,spectrum:6980,spectrumDark:6636,wavenumber:17352.851878517937},{dark:335,nm:437.4625885238198,spectrum:6751,spectrumDark:6416,wavenumber:17369.49738499562},{dark:346,nm:437.7808963546107,spectrum:6849,spectrumDark:6503,wavenumber:17386.11809600902},{dark:314,nm:438.0991928776717,spectrum:6954,spectrumDark:6640,wavenumber:17402.714065790915},{dark:337,nm:438.41747807192075,spectrum:6892,spectrumDark:6555,wavenumber:17419.28534841594},{dark:328,nm:438.7357519162757,spectrum:6891,spectrumDark:6563,wavenumber:17435.831997801164},{dark:342,nm:439.0540143896545,spectrum:6826,spectrumDark:6484,wavenumber:17452.354067706692},{dark:341,nm:439.3722654709745,spectrum:6767,spectrumDark:6426,wavenumber:17468.851611736165},{dark:332,nm:439.6905051391534,spectrum:6719,spectrumDark:6387,wavenumber:17485.324683337418},{dark:346,nm:440.0087333731084,spectrum:6752,spectrumDark:6406,wavenumber:17501.773335802976},{dark:334,nm:440.3269501517567,spectrum:6736,spectrumDark:6402,wavenumber:17518.197622270643},{dark:342,nm:440.64515545401525,spectrum:6802,spectrumDark:6460,wavenumber:17534.597595724066},{dark:336,nm:440.96334925880114,spectrum:6701,spectrumDark:6365,wavenumber:17550.973308993292},{dark:321,nm:441.28153154503093,spectrum:6633,spectrumDark:6312,wavenumber:17567.324814755313},{dark:318,nm:441.5997022916215,spectrum:6558,spectrumDark:6240,wavenumber:17583.652165534644},{dark:339,nm:441.91786147748905,spectrum:6627,spectrumDark:6288,wavenumber:17599.955413703832},{dark:336,nm:442.23600908155004,spectrum:6623,spectrumDark:6287,wavenumber:17616.23461148405},{dark:348,nm:442.55414508272065,spectrum:6507,spectrumDark:6159,wavenumber:17632.489810945626},{dark:326,nm:442.8722694599171,spectrum:6618,spectrumDark:6292,wavenumber:17648.72106400858},{dark:351,nm:443.19038219205504,spectrum:6532,spectrumDark:6181,wavenumber:17664.928422443154},{dark:327,nm:443.5084832580503,spectrum:6567,spectrumDark:6240,wavenumber:17681.111937870395},{dark:342,nm:443.8265726368187,spectrum:6536,spectrumDark:6194,wavenumber:17697.271661762654},{dark:333,nm:444.14465030727547,spectrum:6429,spectrumDark:6096,wavenumber:17713.407645444127},{dark:349,nm:444.46271624833605,spectrum:6373,spectrumDark:6024,wavenumber:17729.519940091395},{dark:325,nm:444.78077043891574,spectrum:6401,spectrumDark:6076,wavenumber:17745.60859673396},{dark:342,nm:445.0988128579294,spectrum:6394,spectrumDark:6052,wavenumber:17761.67366625475},{dark:329,nm:445.41684348429214,spectrum:6261,spectrumDark:5932,wavenumber:17777.715199390674},{dark:336,nm:445.73486229691855,spectrum:6415,spectrumDark:6079,wavenumber:17793.73324673311},{dark:343,nm:446.0528692747232,spectrum:6231,spectrumDark:5888,wavenumber:17809.727858728456},{dark:327,nm:446.37086439662085,spectrum:6218,spectrumDark:5891,wavenumber:17825.699085678654},{dark:327,nm:446.6888476415255,spectrum:6351,spectrumDark:6024,wavenumber:17841.646977741664},{dark:326,nm:447.0068189883516,spectrum:6146,spectrumDark:5820,wavenumber:17857.571584932026},{dark:333,nm:447.32477841601303,spectrum:6186,spectrumDark:5853,wavenumber:17873.47295712134},{dark:328,nm:447.64272590342375,spectrum:6083,spectrumDark:5755,wavenumber:17889.351144038796},{dark:335,nm:447.96066142949735,spectrum:5985,spectrumDark:5650,wavenumber:17905.206195271658},{dark:328,nm:448.27858497314764,spectrum:5977,spectrumDark:5649,wavenumber:17921.038160265813},{dark:333,nm:448.596496513288,spectrum:6046,spectrumDark:5713,wavenumber:17936.84708832622},{dark:348,nm:448.9143960288317,spectrum:5955,spectrumDark:5607,wavenumber:17952.633028617453},{dark:334,nm:449.2322834986919,spectrum:5903,spectrumDark:5569,wavenumber:17968.396030164175},{dark:316,nm:449.5501589017815,spectrum:5879,spectrumDark:5563,wavenumber:17984.136141851646},{dark:336,nm:449.8680222170136,spectrum:6019,spectrumDark:5683,wavenumber:17999.85341242623},{dark:325,nm:450.1858734233008,spectrum:5855,spectrumDark:5530,wavenumber:18015.54789049586},{dark:331,nm:450.5037124995556,spectrum:5835,spectrumDark:5504,wavenumber:18031.21962453055},{dark:333,nm:450.8215394246904,spectrum:5734,spectrumDark:5401,wavenumber:18046.86866286287},{dark:333,nm:451.13935417761763,spectrum:5800,spectrumDark:5467,wavenumber:18062.495053688457},{dark:351,nm:451.4571567372492,spectrum:5699,spectrumDark:5348,wavenumber:18078.09884506645},{dark:332,nm:451.7749470824972,spectrum:5745,spectrumDark:5413,wavenumber:18093.680084920044},{dark:327,nm:452.0927251922734,spectrum:5646,spectrumDark:5319,wavenumber:18109.238821036903},{dark:329,nm:452.4104910454896,spectrum:5601,spectrumDark:5272,wavenumber:18124.775101069677},{dark:334,nm:452.7282446210571,spectrum:5655,spectrumDark:5321,wavenumber:18140.288972536455},{dark:326,nm:453.04598589788736,spectrum:5575,spectrumDark:5249,wavenumber:18155.78048282127},{dark:331,nm:453.36371485489167,spectrum:5591,spectrumDark:5260,wavenumber:18171.249679174543},{dark:349,nm:453.681431470981,spectrum:5503,spectrumDark:5154,wavenumber:18186.696608713566},{dark:334,nm:453.99913572506637,spectrum:5615,spectrumDark:5281,wavenumber:18202.121318422964},{dark:331,nm:454.31682759605826,spectrum:5414,spectrumDark:5083,wavenumber:18217.52385515516},{dark:333,nm:454.63450706286767,spectrum:5319,spectrumDark:4986,wavenumber:18232.904265630863},{dark:347,nm:454.9521741044048,spectrum:5386,spectrumDark:5039,wavenumber:18248.262596439497},{dark:337,nm:455.26982869958,spectrum:5435,spectrumDark:5098,wavenumber:18263.598894039675},{dark:330,nm:455.5874708273034,spectrum:5311,spectrumDark:4981,wavenumber:18278.913204759665},{dark:347,nm:455.905100466485,spectrum:5324,spectrumDark:4977,wavenumber:18294.205574797837},{dark:350,nm:456.22271759603484,spectrum:5333,spectrumDark:4983,wavenumber:18309.476050223133},{dark:324,nm:456.54032219486226,spectrum:5230,spectrumDark:4906,wavenumber:18324.724676975482},{dark:324,nm:456.8579142418771,spectrum:5180,spectrumDark:4856,wavenumber:18339.951500866304},{dark:343,nm:457.17549371598864,spectrum:5165,spectrumDark:4822,wavenumber:18355.156567578913},{dark:339,nm:457.49306059610603,spectrum:5062,spectrumDark:4723,wavenumber:18370.33992266899},{dark:331,nm:457.81061486113845,spectrum:5052,spectrumDark:4721,wavenumber:18385.50161156502},{dark:333,nm:458.1281564899948,spectrum:5049,spectrumDark:4716,wavenumber:18400.641679568744},{dark:347,nm:458.4456854615838,spectrum:5038,spectrumDark:4691,wavenumber:18415.760171855578},{dark:325,nm:458.7632017548141,spectrum:5053,spectrumDark:4728,wavenumber:18430.857133475078},{dark:347,nm:459.08070534859417,spectrum:5018,spectrumDark:4671,wavenumber:18445.932609351366},{dark:331,nm:459.3981962218322,spectrum:4946,spectrumDark:4615,wavenumber:18460.986644283563},{dark:350,nm:459.7156743534364,spectrum:4923,spectrumDark:4573,wavenumber:18476.01928294623},{dark:331,nm:460.0331397223148,spectrum:4795,spectrumDark:4464,wavenumber:18491.030569889805},{dark:333,nm:460.3505923073752,spectrum:4780,spectrumDark:4447,wavenumber:18506.02054954102},{dark:343,nm:460.66803208752526,spectrum:4819,spectrumDark:4476,wavenumber:18520.989266203334},{dark:334,nm:460.98545904167247,spectrum:4759,spectrumDark:4425,wavenumber:18535.936764057362},{dark:317,nm:461.3028731487242,spectrum:4748,spectrumDark:4431,wavenumber:18550.863087161313},{dark:317,nm:461.62027438758776,spectrum:4759,spectrumDark:4442,wavenumber:18565.76827945139},{dark:331,nm:461.93766273716994,spectrum:4679,spectrumDark:4348,wavenumber:18580.652384742214},{dark:349,nm:462.255038176378,spectrum:4765,spectrumDark:4416,wavenumber:18595.515446727284},{dark:319,nm:462.5724006841182,spectrum:4631,spectrumDark:4312,wavenumber:18610.357508979323},{dark:347,nm:462.8897502392974,spectrum:4602,spectrumDark:4255,wavenumber:18625.178614950775},{dark:343,nm:463.2070868208219,spectrum:4701,spectrumDark:4358,wavenumber:18639.978807974145},{dark:318,nm:463.5244104075981,spectrum:4563,spectrumDark:4245,wavenumber:18654.75813126248},{dark:327,nm:463.84172097853195,spectrum:4509,spectrumDark:4182,wavenumber:18669.516627909725},{dark:338,nm:464.1590185125294,spectrum:4515,spectrumDark:4177,wavenumber:18684.254340891162},{dark:333,nm:464.4763029884963,spectrum:4534,spectrumDark:4201,wavenumber:18698.971313063816},{dark:332,nm:464.79357438533805,spectrum:4538,spectrumDark:4206,wavenumber:18713.667587166845},{dark:334,nm:465.11083268196023,spectrum:4365,spectrumDark:4031,wavenumber:18728.34320582197},{dark:333,nm:465.42807785726814,spectrum:4335,spectrumDark:4002,wavenumber:18742.998211533857},{dark:332,nm:465.74530989016694,spectrum:4305,spectrumDark:3973,wavenumber:18757.63264669053},{dark:340,nm:466.0625287595615,spectrum:4411,spectrumDark:4071,wavenumber:18772.246553563757},{dark:333,nm:466.3797344443566,spectrum:4370,spectrumDark:4037,wavenumber:18786.839974309467},{dark:342,nm:466.696926923457,spectrum:4343,spectrumDark:4001,wavenumber:18801.412950968133},{dark:328,nm:467.0141061757671,spectrum:4306,spectrumDark:3978,wavenumber:18815.96552546517},{dark:329,nm:467.33127218019115,spectrum:4275,spectrumDark:3946,wavenumber:18830.49773961132},{dark:359,nm:467.6484249156334,spectrum:4311,spectrumDark:3952,wavenumber:18845.009635103073},{dark:332,nm:467.965564360998,spectrum:4202,spectrumDark:3870,wavenumber:18859.50125352302},{dark:335,nm:468.2826904951884,spectrum:4156,spectrumDark:3821,wavenumber:18873.97263634025},{dark:335,nm:468.59980329710845,spectrum:4111,spectrumDark:3776,wavenumber:18888.423824910766},{dark:349,nm:468.9169027456617,spectrum:4238,spectrumDark:3889,wavenumber:18902.85486047783},{dark:333,nm:469.2339888197513,spectrum:4179,spectrumDark:3846,wavenumber:18917.265784172367},{dark:337,nm:469.55106149828066,spectrum:4187,spectrumDark:3850,wavenumber:18931.656637013355},{dark:325,nm:469.8681207601526,spectrum:3986,spectrumDark:3661,wavenumber:18946.027459908182},{dark:343,nm:470.18516658427006,spectrum:4113,spectrumDark:3770,wavenumber:18960.378293653048},{dark:329,nm:470.5021989495357,spectrum:3987,spectrumDark:3658,wavenumber:18974.709178933328},{dark:333,nm:470.8192178348519,spectrum:4023,spectrumDark:3690,wavenumber:18989.020156323946},{dark:331,nm:471.1362232191211,spectrum:3967,spectrumDark:3636,wavenumber:19003.311266289766},{dark:336,nm:471.4532150812456,spectrum:3923,spectrumDark:3587,wavenumber:19017.58254918595},{dark:341,nm:471.77019340012725,spectrum:3865,spectrumDark:3524,wavenumber:19031.83404525833},{dark:338,nm:472.0871581546679,spectrum:3827,spectrumDark:3489,wavenumber:19046.065794643782},{dark:338,nm:472.4041093237694,spectrum:3846,spectrumDark:3508,wavenumber:19060.277837370606},{dark:330,nm:472.72104688633294,spectrum:3864,spectrumDark:3534,wavenumber:19074.470213358854},{dark:331,nm:473.03797082126005,spectrum:3789,spectrumDark:3458,wavenumber:19088.64296242074},{dark:336,nm:473.354881107452,spectrum:3770,spectrumDark:3434,wavenumber:19102.796124260993},{dark:325,nm:473.67177772380967,spectrum:3798,spectrumDark:3473,wavenumber:19116.92973847719},{dark:348,nm:473.9886606492339,spectrum:3781,spectrumDark:3433,wavenumber:19131.04384456015},{dark:326,nm:474.30552986262535,spectrum:3895,spectrumDark:3569,wavenumber:19145.138481894275},{dark:328,nm:474.6223853428845,spectrum:3670,spectrumDark:3342,wavenumber:19159.21368975793},{dark:327,nm:474.9392270689119,spectrum:3652,spectrumDark:3325,wavenumber:19173.26950732377},{dark:332,nm:475.2560550196074,spectrum:3663,spectrumDark:3331,wavenumber:19187.305973659106},{dark:336,nm:475.57286917387125,spectrum:3562,spectrumDark:3226,wavenumber:19201.32312772628},{dark:332,nm:475.8896695106031,spectrum:3645,spectrumDark:3313,wavenumber:19215.321008382976},{dark:340,nm:476.2064560087026,spectrum:3528,spectrumDark:3188,wavenumber:19229.299654382616},{dark:324,nm:476.52322864706946,spectrum:3558,spectrumDark:3234,wavenumber:19243.259104374676},{dark:326,nm:476.83998740460277,spectrum:3640,spectrumDark:3314,wavenumber:19257.19939690504},{dark:334,nm:477.1567322602017,spectrum:3564,spectrumDark:3230,wavenumber:19271.120570416362},{dark:330,nm:477.4734631927653,spectrum:3590,spectrumDark:3260,wavenumber:19285.022663248397},{dark:340,nm:477.7901801811922,spectrum:3513,spectrumDark:3173,wavenumber:19298.905713638345},{dark:330,nm:478.10688320438123,spectrum:3482,spectrumDark:3152,wavenumber:19312.769759721203},{dark:336,nm:478.4235722412309,spectrum:3462,spectrumDark:3126,wavenumber:19326.614839530106},{dark:346,nm:478.7402472706392,spectrum:3457,spectrumDark:3111,wavenumber:19340.44099099664},{dark:342,nm:479.0569082715044,spectrum:3410,spectrumDark:3068,wavenumber:19354.24825195122},{dark:347,nm:479.3735552227246,spectrum:3398,spectrumDark:3051,wavenumber:19368.03666012341},{dark:336,nm:479.69018810319733,spectrum:3395,spectrumDark:3059,wavenumber:19381.80625314224},{dark:347,nm:480.00680689182013,spectrum:3318,spectrumDark:2971,wavenumber:19395.557068536564},{dark:330,nm:480.32341156749067,spectrum:3315,spectrumDark:2985,wavenumber:19409.2891437354},{dark:337,nm:480.64000210910615,spectrum:3356,spectrumDark:3019,wavenumber:19423.002516068234},{dark:331,nm:480.95657849556346,spectrum:3320,spectrumDark:2989,wavenumber:19436.697222765364},{dark:341,nm:481.2731407057596,spectrum:3298,spectrumDark:2957,wavenumber:19450.37330095823},{dark:323,nm:481.58968871859133,spectrum:3265,spectrumDark:2942,wavenumber:19464.03078767975},{dark:336,nm:481.9062225129552,spectrum:3238,spectrumDark:2902,wavenumber:19477.66971986462},{dark:336,nm:482.2227420677476,spectrum:3310,spectrumDark:2974,wavenumber:19491.290134349685},{dark:324,nm:482.53924736186457,spectrum:3172,spectrumDark:2848,wavenumber:19504.892067874192},{dark:328,nm:482.85573837420225,spectrum:3153,spectrumDark:2825,wavenumber:19518.47555708019},{dark:331,nm:483.1722150836565,spectrum:3022,spectrumDark:2691,wavenumber:19532.040638512808},{dark:327,nm:483.488677469123,spectrum:3097,spectrumDark:2770,wavenumber:19545.58734862057},{dark:339,nm:483.8051255094972,spectrum:3079,spectrumDark:2740,wavenumber:19559.115723755745},{dark:352,nm:484.1215591836743,spectrum:2997,spectrumDark:2645,wavenumber:19572.625800174625},{dark:332,nm:484.43797847054975,spectrum:3084,spectrumDark:2752,wavenumber:19586.117614037885},{dark:334,nm:484.7543833490181,spectrum:3044,spectrumDark:2710,wavenumber:19599.59120141085},{dark:317,nm:485.07077379797454,spectrum:3050,spectrumDark:2733,wavenumber:19613.046598263863},{dark:325,nm:485.38714979631345,spectrum:3001,spectrumDark:2676,wavenumber:19626.483840472545},{dark:333,nm:485.70351132292933,spectrum:2942,spectrumDark:2609,wavenumber:19639.902963818135},{dark:348,nm:486.0198583567163,spectrum:2915,spectrumDark:2567,wavenumber:19653.304003987796},{dark:338,nm:486.3361908765686,spectrum:2932,spectrumDark:2594,wavenumber:19666.68699657493},{dark:340,nm:486.65250886138017,spectrum:2888,spectrumDark:2548,wavenumber:19680.051977079464},{dark:337,nm:486.9688122900445,spectrum:2782,spectrumDark:2445,wavenumber:19693.39898090818},{dark:338,nm:487.28510114145524,spectrum:2861,spectrumDark:2523,wavenumber:19706.728043375002},{dark:339,nm:487.6013753945058,spectrum:2808,spectrumDark:2469,wavenumber:19720.039199701318},{dark:337,nm:487.9176350280892,spectrum:2871,spectrumDark:2534,wavenumber:19733.332485016264},{dark:323,nm:488.2338800210987,spectrum:2785,spectrumDark:2462,wavenumber:19746.607934357045},{dark:333,nm:488.5501103524268,spectrum:2839,spectrumDark:2506,wavenumber:19759.865582669212},{dark:337,nm:488.8663260009663,spectrum:2772,spectrumDark:2435,wavenumber:19773.105464806977},{dark:345,nm:489.18252694560965,spectrum:2692,spectrumDark:2347,wavenumber:19786.327615533522},{dark:333,nm:489.4987131652492,spectrum:2709,spectrumDark:2376,wavenumber:19799.53206952127},{dark:342,nm:489.8148846387768,spectrum:2665,spectrumDark:2323,wavenumber:19812.718861352183},{dark:350,nm:490.13104134508467,spectrum:2661,spectrumDark:2311,wavenumber:19825.888025518092},{dark:334,nm:490.4471832630643,spectrum:2674,spectrumDark:2340,wavenumber:19839.039596420942},{dark:345,nm:490.7633103716073,spectrum:2691,spectrumDark:2346,wavenumber:19852.17360837312},{dark:326,nm:491.079422649605,spectrum:2616,spectrumDark:2290,wavenumber:19865.290095597717},{dark:314,nm:491.39552007594864,spectrum:2644,spectrumDark:2330,wavenumber:19878.389092228856},{dark:325,nm:491.71160262952924,spectrum:2559,spectrumDark:2234,wavenumber:19891.47063231195},{dark:349,nm:492.02767028923745,spectrum:2562,spectrumDark:2213,wavenumber:19904.53474980398},{dark:333,nm:492.3437230339641,spectrum:2551,spectrumDark:2218,wavenumber:19917.58147857384},{dark:332,nm:492.65976084259944,spectrum:2496,spectrumDark:2164,wavenumber:19930.610852402537},{dark:335,nm:492.9757836940339,spectrum:2555,spectrumDark:2220,wavenumber:19943.62290498356},{dark:335,nm:493.2917915671576,spectrum:2473,spectrumDark:2138,wavenumber:19956.617669923104},{dark:330,nm:493.6077844408602,spectrum:2533,spectrumDark:2203,wavenumber:19969.59518074037},{dark:336,nm:493.92376229403146,spectrum:2427,spectrumDark:2091,wavenumber:19982.555470867857},{dark:346,nm:494.2397251055611,spectrum:2430,spectrumDark:2084,wavenumber:19995.498573651636},{dark:333,nm:494.55567285433835,spectrum:2414,spectrumDark:2081,wavenumber:20008.424522351623},{dark:342,nm:494.87160551925217,spectrum:2446,spectrumDark:2104,wavenumber:20021.333350141846},{dark:343,nm:495.1875230791918,spectrum:2364,spectrumDark:2021,wavenumber:20034.225090110765},{dark:333,nm:495.50342551304584,spectrum:2325,spectrumDark:1992,wavenumber:20047.099775261497},{dark:336,nm:495.81931279970297,spectrum:2370,spectrumDark:2034,wavenumber:20059.957438512116},{dark:343,nm:496.13518491805155,spectrum:2326,spectrumDark:1983,wavenumber:20072.79811269593},{dark:323,nm:496.4510418469798,spectrum:2317,spectrumDark:1994,wavenumber:20085.62183056174},{dark:346,nm:496.7668835653757,spectrum:2333,spectrumDark:1987,wavenumber:20098.428624774115},{dark:337,nm:497.08271005212725,spectrum:2237,spectrumDark:1900,wavenumber:20111.218527913683},{dark:337,nm:497.3985212861219,spectrum:2279,spectrumDark:1942,wavenumber:20123.991572477356},{dark:343,nm:497.71431724624733,spectrum:2247,spectrumDark:1904,wavenumber:20136.747790878653},{dark:328,nm:498.0300979113906,spectrum:2239,spectrumDark:1911,wavenumber:20149.487215447913},{dark:348,nm:498.34586326043893,spectrum:2198,spectrumDark:1850,wavenumber:20162.209878432604},{dark:329,nm:498.66161327227917,spectrum:2183,spectrumDark:1854,wavenumber:20174.91581199757},{dark:345,nm:498.9773479257981,spectrum:2156,spectrumDark:1811,wavenumber:20187.605048225298},{dark:329,nm:499.2930671998821,spectrum:2177,spectrumDark:1848,wavenumber:20200.27761911617},{dark:351,nm:499.60877107341753,spectrum:2223,spectrumDark:1872,wavenumber:20212.93355658874},{dark:335,nm:499.9244595252907,spectrum:2169,spectrumDark:1834,wavenumber:20225.572892480006},{dark:335,nm:500.2401325343874,spectrum:2129,spectrumDark:1794,wavenumber:20238.19565854564},{dark:312,nm:500.5557900795934,spectrum:2088,spectrumDark:1776,wavenumber:20250.801886460256},{dark:331,nm:500.87143213979425,spectrum:2061,spectrumDark:1730,wavenumber:20263.391607817688},{dark:343,nm:501.18705869387543,spectrum:2139,spectrumDark:1796,wavenumber:20275.964854131234},{dark:333,nm:501.502669720722,spectrum:2114,spectrumDark:1781,wavenumber:20288.5216568339},{dark:328,nm:501.818265199219,spectrum:2089,spectrumDark:1761,wavenumber:20301.062047278672},{dark:330,nm:502.1338451082513,spectrum:1986,spectrumDark:1656,wavenumber:20313.586056738775},{dark:323,nm:502.4494094267036,spectrum:2083,spectrumDark:1760,wavenumber:20326.09371640791},{dark:361,nm:502.7649581334599,spectrum:1988,spectrumDark:1627,wavenumber:20338.5850574005},{dark:334,nm:503.08049120740475,spectrum:2041,spectrumDark:1707,wavenumber:20351.06011075198},{dark:333,nm:503.39600862742225,spectrum:2009,spectrumDark:1676,wavenumber:20363.518907419006},{dark:346,nm:503.711510372396,spectrum:1993,spectrumDark:1647,wavenumber:20375.961478279714},{dark:326,nm:504.0269964212098,spectrum:1952,spectrumDark:1626,wavenumber:20388.387854134},{dark:321,nm:504.3424667527469,spectrum:1975,spectrumDark:1654,wavenumber:20400.798065703708},{dark:331,nm:504.6579213458908,spectrum:1971,spectrumDark:1640,wavenumber:20413.192143632947},{dark:332,nm:504.97336017952443,spectrum:1930,spectrumDark:1598,wavenumber:20425.570118488275},{dark:343,nm:505.2887832325307,spectrum:2031,spectrumDark:1688,wavenumber:20437.932020758988},{dark:339,nm:505.6041904837923,spectrum:1951,spectrumDark:1612,wavenumber:20450.27788085733},{dark:351,nm:505.9195819121917,spectrum:1894,spectrumDark:1543,wavenumber:20462.60772911876},{dark:328,nm:506.23495749661095,spectrum:1922,spectrumDark:1594,wavenumber:20474.92159580218},{dark:353,nm:506.5503172159325,spectrum:1835,spectrumDark:1482,wavenumber:20487.219511090203},{dark:329,nm:506.86566104903807,spectrum:1905,spectrumDark:1576,wavenumber:20499.501505089338},{dark:342,nm:507.1809889748092,spectrum:1804,spectrumDark:1462,wavenumber:20511.767607830283},{dark:329,nm:507.49630097212764,spectrum:1787,spectrumDark:1458,wavenumber:20524.017849268148},{dark:329,nm:507.8115970198746,spectrum:1855,spectrumDark:1526,wavenumber:20536.252259282683},{dark:334,nm:508.12687709693114,spectrum:1762,spectrumDark:1428,wavenumber:20548.470867678512},{dark:322,nm:508.44214118217815,spectrum:1788,spectrumDark:1466,wavenumber:20560.67370418538},{dark:353,nm:508.7573892544964,spectrum:1805,spectrumDark:1452,wavenumber:20572.8607984584},{dark:334,nm:509.07262129276626,spectrum:1778,spectrumDark:1444,wavenumber:20585.032180078248},{dark:336,nm:509.38783727586826,spectrum:1789,spectrumDark:1453,wavenumber:20597.18787855144},{dark:342,nm:509.70303718268235,spectrum:1739,spectrumDark:1397,wavenumber:20609.32792331052},{dark:327,nm:510.01822099208846,spectrum:1731,spectrumDark:1404,wavenumber:20621.452343714336},{dark:328,nm:510.3333886829663,spectrum:1777,spectrumDark:1449,wavenumber:20633.561169048244},{dark:332,nm:510.6485402341955,spectrum:1764,spectrumDark:1432,wavenumber:20645.654428524344},{dark:354,nm:510.96367562465525,spectrum:1717,spectrumDark:1363,wavenumber:20657.732151281696},{dark:326,nm:511.27879483322465,spectrum:1739,spectrumDark:1413,wavenumber:20669.79436638657},{dark:321,nm:511.5938978387827,spectrum:1666,spectrumDark:1345,wavenumber:20681.841102832663},{dark:331,nm:511.908984620208,spectrum:1666,spectrumDark:1335,wavenumber:20693.87238954132},{dark:340,nm:512.2240551563791,spectrum:1703,spectrumDark:1363,wavenumber:20705.888255361766},{dark:345,nm:512.5391094261745,spectrum:1702,spectrumDark:1357,wavenumber:20717.888729071332},{dark:348,nm:512.854147408472,spectrum:1651,spectrumDark:1303,wavenumber:20729.87383937567},{dark:332,nm:513.1691690821498,spectrum:1615,spectrumDark:1283,wavenumber:20741.843614908983},{dark:349,nm:513.4841744260854,spectrum:1662,spectrumDark:1313,wavenumber:20753.79808423424},{dark:336,nm:513.7991634191562,spectrum:1642,spectrumDark:1306,wavenumber:20765.737275843407},{dark:335,nm:514.1141360402398,spectrum:1670,spectrumDark:1335,wavenumber:20777.66121815767},{dark:327,nm:514.4290922682133,spectrum:1614,spectrumDark:1287,wavenumber:20789.569939527635},{dark:342,nm:514.7440320819534,spectrum:1604,spectrumDark:1262,wavenumber:20801.46346823356},{dark:342,nm:515.0589554603368,spectrum:1609,spectrumDark:1267,wavenumber:20813.341832485577},{dark:317,nm:515.3738623822401,spectrum:1594,spectrumDark:1277,wavenumber:20825.205060423894},{dark:344,nm:515.6887528265395,spectrum:1544,spectrumDark:1200,wavenumber:20837.053180119034},{dark:331,nm:516.0036267721111,spectrum:1556,spectrumDark:1225,wavenumber:20848.88621957203},{dark:332,nm:516.3184841978308,spectrum:1533,spectrumDark:1201,wavenumber:20860.704206714636},{dark:346,nm:516.6333250825743,spectrum:1562,spectrumDark:1216,wavenumber:20872.50716940958},{dark:330,nm:516.948149405217,spectrum:1553,spectrumDark:1223,wavenumber:20884.295135450717},{dark:323,nm:517.2629571446342,spectrum:1531,spectrumDark:1208,wavenumber:20896.068132563298},{dark:339,nm:517.577748279701,spectrum:1530,spectrumDark:1191,wavenumber:20907.826188404142},{dark:330,nm:517.8925227892923,spectrum:1517,spectrumDark:1187,wavenumber:20919.56933056187},{dark:316,nm:518.2072806522825,spectrum:1509,spectrumDark:1193,wavenumber:20931.29758655709},{dark:344,nm:518.5220218475464,spectrum:1437,spectrumDark:1093,wavenumber:20943.01098384265},{dark:331,nm:518.8367463539579,spectrum:1503,spectrumDark:1172,wavenumber:20954.709549803792},{dark:349,nm:519.151454150391,spectrum:1497,spectrumDark:1148,wavenumber:20966.3933117584},{dark:326,nm:519.46614521572,spectrum:1436,spectrumDark:1110,wavenumber:20978.062296957196},{dark:335,nm:519.780819528818,spectrum:1438,spectrumDark:1103,wavenumber:20989.71653258393},{dark:342,nm:520.0954770685586,spectrum:1421,spectrumDark:1079,wavenumber:21001.35604575561},{dark:336,nm:520.4101178138152,spectrum:1441,spectrumDark:1105,wavenumber:21012.980863522702},{dark:340,nm:520.7247417434603,spectrum:1402,spectrumDark:1062,wavenumber:21024.5910128693},{dark:353,nm:521.0393488363671,spectrum:1413,spectrumDark:1060,wavenumber:21036.186520713385},{dark:334,nm:521.353939071408,spectrum:1396,spectrumDark:1062,wavenumber:21047.767413906982},{dark:355,nm:521.6685124274555,spectrum:1363,spectrumDark:1008,wavenumber:21059.33371923639},{dark:329,nm:521.9830688833816,spectrum:1400,spectrumDark:1071,wavenumber:21070.885463422357},{dark:330,nm:522.2976084180584,spectrum:1389,spectrumDark:1059,wavenumber:21082.42267312031},{dark:322,nm:522.6121310103575,spectrum:1360,spectrumDark:1038,wavenumber:21093.94537492052},{dark:344,nm:522.9266366391505,spectrum:1334,spectrumDark:990,wavenumber:21105.453595348336},{dark:336,nm:523.2411252833086,spectrum:1296,spectrumDark:960,wavenumber:21116.947360864353},{dark:333,nm:523.555596921703,spectrum:1323,spectrumDark:990,wavenumber:21128.426697864634},{dark:348,nm:523.8700515332047,spectrum:1305,spectrumDark:957,wavenumber:21139.891632680887},{dark:331,nm:524.1844890966842,spectrum:1290,spectrumDark:959,wavenumber:21151.342191580672},{dark:336,nm:524.4989095910119,spectrum:1306,spectrumDark:970,wavenumber:21162.778400767587},{dark:341,nm:524.8133129950584,spectrum:1307,spectrumDark:966,wavenumber:21174.20028638148},{dark:343,nm:525.1276992876934,spectrum:1322,spectrumDark:979,wavenumber:21185.60787449862},{dark:328,nm:525.442068447787,spectrum:1327,spectrumDark:999,wavenumber:21197.0011911319},{dark:336,nm:525.7564204542086,spectrum:1253,spectrumDark:917,wavenumber:21208.380262231032},{dark:328,nm:526.0707552858278,spectrum:1260,spectrumDark:932,wavenumber:21219.745113682744},{dark:323,nm:526.3850729215137,spectrum:1277,spectrumDark:954,wavenumber:21231.095771310953},{dark:340,nm:526.6993733401354,spectrum:1229,spectrumDark:889,wavenumber:21242.43226087697},{dark:342,nm:527.0136565205614,spectrum:1226,spectrumDark:884,wavenumber:21253.754608079682},{dark:322,nm:527.3279224416606,spectrum:1214,spectrumDark:892,wavenumber:21265.062838555747},{dark:340,nm:527.642171082301,spectrum:1284,spectrumDark:944,wavenumber:21276.35697787977},{dark:327,nm:527.956402421351,spectrum:1188,spectrumDark:861,wavenumber:21287.63705156451},{dark:329,nm:528.2706164376784,spectrum:1232,spectrumDark:903,wavenumber:21298.903085061054},{dark:339,nm:528.5848131101509,spectrum:1213,spectrumDark:874,wavenumber:21310.155103758996},{dark:325,nm:528.898992417636,spectrum:1202,spectrumDark:877,wavenumber:21321.39313298664},{dark:340,nm:529.2131543390011,spectrum:1143,spectrumDark:803,wavenumber:21332.617198011172},{dark:339,nm:529.527298853113,spectrum:1189,spectrumDark:850,wavenumber:21343.827324038848},{dark:335,nm:529.8414259388388,spectrum:1125,spectrumDark:790,wavenumber:21355.02353621518},{dark:333,nm:530.1555355750448,spectrum:1109,spectrumDark:776,wavenumber:21366.2058596251},{dark:322,nm:530.4696277405977,spectrum:1130,spectrumDark:808,wavenumber:21377.374319293187},{dark:344,nm:530.7837024143636,spectrum:1112,spectrumDark:768,wavenumber:21388.528940183794},{dark:326,nm:531.0977595752084,spectrum:1102,spectrumDark:776,wavenumber:21399.669747201267},{dark:348,nm:531.411799201998,spectrum:1038,spectrumDark:690,wavenumber:21410.796765190105},{dark:335,nm:531.7258212735976,spectrum:1102,spectrumDark:767,wavenumber:21421.91001893515},{dark:342,nm:532.0398257688729,spectrum:1071,spectrumDark:729,wavenumber:21433.009533161767},{dark:343,nm:532.3538126666889,spectrum:1067,spectrumDark:724,wavenumber:21444.095332536006},{dark:325,nm:532.6677819459104,spectrum:1046,spectrumDark:721,wavenumber:21455.1674416648},{dark:342,nm:532.981733585402,spectrum:1038,spectrumDark:696,wavenumber:21466.225885096126},{dark:320,nm:533.2956675640283,spectrum:1043,spectrumDark:723,wavenumber:21477.2706873192},{dark:334,nm:533.6095838606536,spectrum:1012,spectrumDark:678,wavenumber:21488.30187276463},{dark:341,nm:533.9234824541415,spectrum:1045,spectrumDark:704,wavenumber:21499.319465804594},{dark:332,nm:534.2373633233562,spectrum:985,spectrumDark:653,wavenumber:21510.323490753046},{dark:333,nm:534.5512264471612,spectrum:974,spectrumDark:641,wavenumber:21521.313971865846},{dark:340,nm:534.8650718044197,spectrum:964,spectrumDark:624,wavenumber:21532.290933340963},{dark:325,nm:535.178899373995,spectrum:964,spectrumDark:639,wavenumber:21543.25439931863},{dark:326,nm:535.4927091347497,spectrum:973,spectrumDark:647,wavenumber:21554.20439388152},{dark:340,nm:535.8065010655467,spectrum:927,spectrumDark:587,wavenumber:21565.14094105493},{dark:347,nm:536.1202751452485,spectrum:911,spectrumDark:564,wavenumber:21576.064064806946},{dark:342,nm:536.4340313527172,spectrum:971,spectrumDark:629,wavenumber:21586.973789048592},{dark:338,nm:536.747769666815,spectrum:942,spectrumDark:604,wavenumber:21597.870137634036},{dark:336,nm:537.0614900664035,spectrum:899,spectrumDark:563,wavenumber:21608.75313436072},{dark:330,nm:537.3751925303443,spectrum:881,spectrumDark:551,wavenumber:21619.622802969556},{dark:334,nm:537.6888770374989,spectrum:884,spectrumDark:550,wavenumber:21630.479167145095},{dark:326,nm:538.0025435667283,spectrum:893,spectrumDark:567,wavenumber:21641.32225051567},{dark:327,nm:538.3161920968934,spectrum:872,spectrumDark:545,wavenumber:21652.15207665358},{dark:329,nm:538.6298226068549,spectrum:875,spectrumDark:546,wavenumber:21662.968669075257},{dark:323,nm:538.9434350754732,spectrum:848,spectrumDark:525,wavenumber:21673.77205124142},{dark:344,nm:539.2570294816087,spectrum:829,spectrumDark:485,wavenumber:21684.56224655726},{dark:333,nm:539.5706058041212,spectrum:858,spectrumDark:525,wavenumber:21695.33927837257},{dark:342,nm:539.8841640218706,spectrum:812,spectrumDark:470,wavenumber:21706.10316998194},{dark:340,nm:540.1977041137164,spectrum:825,spectrumDark:485,wavenumber:21716.853944624912},{dark:327,nm:540.5112260585181,spectrum:787,spectrumDark:460,wavenumber:21727.591625486144},{dark:331,nm:540.8247298351346,spectrum:829,spectrumDark:498,wavenumber:21738.316235695544},{dark:347,nm:541.1382154224248,spectrum:797,spectrumDark:450,wavenumber:21749.027798328476},{dark:334,nm:541.4516827992474,spectrum:788,spectrumDark:454,wavenumber:21759.726336405893},{dark:329,nm:541.7651319444608,spectrum:779,spectrumDark:450,wavenumber:21770.411872894496},{dark:344,nm:542.0785628369233,spectrum:779,spectrumDark:435,wavenumber:21781.084430706916},{dark:348,nm:542.3919754554927,spectrum:785,spectrumDark:437,wavenumber:21791.744032701838},{dark:326,nm:542.7053697790269,spectrum:740,spectrumDark:414,wavenumber:21802.39070168419},{dark:342,nm:543.0187457863833,spectrum:728,spectrumDark:386,wavenumber:21813.02446040529},{dark:325,nm:543.3321034564193,spectrum:739,spectrumDark:414,wavenumber:21823.645331563},{dark:337,nm:543.645442767992,spectrum:752,spectrumDark:415,wavenumber:21834.253337801885},{dark:322,nm:543.958763699958,spectrum:740,spectrumDark:418,wavenumber:21844.84850171337},{dark:336,nm:544.2720662311741,spectrum:727,spectrumDark:391,wavenumber:21855.430845835897},{dark:340,nm:544.5853503404967,spectrum:717,spectrumDark:377,wavenumber:21866.00039265508},{dark:337,nm:544.8986160067817,spectrum:724,spectrumDark:387,wavenumber:21876.557164603844},{dark:349,nm:545.2118632088853,spectrum:713,spectrumDark:364,wavenumber:21887.10118406262},{dark:349,nm:545.5250919256631,spectrum:698,spectrumDark:349,wavenumber:21897.63247335944},{dark:332,nm:545.8383021359705,spectrum:686,spectrumDark:354,wavenumber:21908.151054770144},{dark:337,nm:546.1514938186626,spectrum:722,spectrumDark:385,wavenumber:21918.656950518496},{dark:347,nm:546.4646669525948,spectrum:678,spectrumDark:331,wavenumber:21929.150182776368},{dark:328,nm:546.7778215166215,spectrum:705,spectrumDark:377,wavenumber:21939.630773663845},{dark:342,nm:547.0909574895974,spectrum:720,spectrumDark:378,wavenumber:21950.098745249426},{dark:329,nm:547.4040748503767,spectrum:691,spectrumDark:362,wavenumber:21960.55411955014},{dark:337,nm:547.7171735778136,spectrum:710,spectrumDark:373,wavenumber:21970.996918531713},{dark:325,nm:548.0302536507618,spectrum:686,spectrumDark:361,wavenumber:21981.42716410871},{dark:321,nm:548.343315048075,spectrum:663,spectrumDark:342,wavenumber:21991.844878144686},{dark:333,nm:548.6563577486066,spectrum:692,spectrumDark:359,wavenumber:22002.25008245233},{dark:325,nm:548.9693817312096,spectrum:660,spectrumDark:335,wavenumber:22012.64279879362},{dark:344,nm:549.282386974737,spectrum:684,spectrumDark:340,wavenumber:22023.02304887996},{dark:335,nm:549.5953734580416,spectrum:664,spectrumDark:329,wavenumber:22033.39085437235},{dark:330,nm:549.9083411599757,spectrum:700,spectrumDark:370,wavenumber:22043.74623688149},{dark:335,nm:550.2212900593915,spectrum:670,spectrumDark:335,wavenumber:22054.089217967965},{dark:346,nm:550.534220135141,spectrum:655,spectrumDark:309,wavenumber:22064.419819142375},{dark:335,nm:550.8471313660759,spectrum:679,spectrumDark:344,wavenumber:22074.73806186548},{dark:325,nm:551.1600237310479,spectrum:690,spectrumDark:365,wavenumber:22085.043967548343},{dark:336,nm:551.472897208908,spectrum:684,spectrumDark:348,wavenumber:22095.337557552473},{dark:342,nm:551.7857517785073,spectrum:656,spectrumDark:314,wavenumber:22105.61885318997},{dark:334,nm:552.0985874186966,spectrum:670,spectrumDark:336,wavenumber:22115.887875723674},{dark:343,nm:552.4114041083268,spectrum:694,spectrumDark:351,wavenumber:22126.144646367295},{dark:340,nm:552.7242018262476,spectrum:663,spectrumDark:323,wavenumber:22136.389186285553},{dark:340,nm:553.0369805513096,spectrum:664,spectrumDark:324,wavenumber:22146.621516594347},{dark:317,nm:553.3497402623625,spectrum:687,spectrumDark:370,wavenumber:22156.841658360856},{dark:339,nm:553.6624809382558,spectrum:698,spectrumDark:359,wavenumber:22167.049632603703},{dark:350,nm:553.9752025578391,spectrum:673,spectrumDark:323,wavenumber:22177.245460293096},{dark:349,nm:554.2879050999613,spectrum:654,spectrumDark:305,wavenumber:22187.429162350953},{dark:336,nm:554.6005885434715,spectrum:688,spectrumDark:352,wavenumber:22197.600759651054},{dark:327,nm:554.9132528672184,spectrum:686,spectrumDark:359,wavenumber:22207.760273019172},{dark:339,nm:555.2258980500501,spectrum:650,spectrumDark:311,wavenumber:22217.90772323321},{dark:326,nm:555.538524070815,spectrum:669,spectrumDark:343,wavenumber:22228.043131023343},{dark:337,nm:555.8511309083611,spectrum:655,spectrumDark:318,wavenumber:22238.16651707216},{dark:357,nm:556.1637185415362,spectrum:682,spectrumDark:325,wavenumber:22248.27790201479},{dark:344,nm:556.4762869491876,spectrum:646,spectrumDark:302,wavenumber:22258.377306439023},{dark:315,nm:556.7888361101625,spectrum:664,spectrumDark:349,wavenumber:22268.464750885483},{dark:326,nm:557.101366003308,spectrum:669,spectrumDark:343,wavenumber:22278.540255847747},{dark:336,nm:557.4138766074708,spectrum:653,spectrumDark:317,wavenumber:22288.603841772456},{dark:334,nm:557.7263679014975,spectrum:663,spectrumDark:329,wavenumber:22298.655529059484},{dark:326,nm:558.0388398642342,spectrum:664,spectrumDark:338,wavenumber:22308.69533806205},{dark:353,nm:558.3512924745271,spectrum:649,spectrumDark:296,wavenumber:22318.723289086865},{dark:326,nm:558.6637257112219,spectrum:639,spectrumDark:313,wavenumber:22328.739402394243},{dark:328,nm:558.9761395531641,spectrum:641,spectrumDark:313,wavenumber:22338.743698198257},{dark:338,nm:559.2885339791991,spectrum:630,spectrumDark:292,wavenumber:22348.73619666686},{dark:339,nm:559.6009089681719,spectrum:624,spectrumDark:285,wavenumber:22358.716917922022},{dark:329,nm:559.9132644989273,spectrum:636,spectrumDark:307,wavenumber:22368.68588203984},{dark:322,nm:560.2256005503101,spectrum:643,spectrumDark:321,wavenumber:22378.643109050707},{dark:332,nm:560.5379171011643,spectrum:624,spectrumDark:292,wavenumber:22388.5886189394},{dark:342,nm:560.8502141303342,spectrum:639,spectrumDark:297,wavenumber:22398.522431645233},{dark:348,nm:561.1624916166636,spectrum:611,spectrumDark:263,wavenumber:22408.44456706219},{dark:324,nm:561.474749538996,spectrum:629,spectrumDark:305,wavenumber:22418.35504503904},{dark:343,nm:561.786987876175,spectrum:601,spectrumDark:258,wavenumber:22428.253885379472},{dark:334,nm:562.0992066070435,spectrum:606,spectrumDark:272,wavenumber:22438.141107842217},{dark:339,nm:562.4114057104443,spectrum:598,spectrumDark:259,wavenumber:22448.016732141183},{dark:331,nm:562.7235851652204,spectrum:584,spectrumDark:253,wavenumber:22457.880777945586},{dark:338,nm:563.0357449502137,spectrum:555,spectrumDark:217,wavenumber:22467.733264880055},{dark:338,nm:563.3478850442667,spectrum:608,spectrumDark:270,wavenumber:22477.57421252478},{dark:341,nm:563.6600054262211,spectrum:604,spectrumDark:263,wavenumber:22487.403640415632},{dark:344,nm:563.9721060749187,spectrum:590,spectrumDark:246,wavenumber:22497.221568044282},{dark:333,nm:564.2841869692006,spectrum:589,spectrumDark:256,wavenumber:22507.028014858326},{dark:341,nm:564.5962480879083,spectrum:619,spectrumDark:278,wavenumber:22516.823000261425},{dark:329,nm:564.9082894098825,spectrum:600,spectrumDark:271,wavenumber:22526.6065436134},{dark:330,nm:565.2203109139639,spectrum:579,spectrumDark:249,wavenumber:22536.37866423039},{dark:360,nm:565.5323125789929,spectrum:567,spectrumDark:207,wavenumber:22546.139381384943},{dark:328,nm:565.8442943838096,spectrum:575,spectrumDark:247,wavenumber:22555.88871430616},{dark:344,nm:566.1562563072541,spectrum:577,spectrumDark:233,wavenumber:22565.626682179813},{dark:341,nm:566.4681983281658,spectrum:559,spectrumDark:218,wavenumber:22575.353304148448},{dark:339,nm:566.7801204253843,spectrum:585,spectrumDark:246,wavenumber:22585.068599311544},{dark:333,nm:567.0920225777487,spectrum:556,spectrumDark:223,wavenumber:22594.7725867256},{dark:333,nm:567.403904764098,spectrum:588,spectrumDark:255,wavenumber:22604.465285404272},{dark:333,nm:567.7157669632707,spectrum:574,spectrumDark:241,wavenumber:22614.146714318485},{dark:320,nm:568.0276091541053,spectrum:560,spectrumDark:240,wavenumber:22623.816892396568},{dark:330,nm:568.3394313154399,spectrum:583,spectrumDark:253,wavenumber:22633.47583852434},{dark:340,nm:568.6512334261126,spectrum:546,spectrumDark:206,wavenumber:22643.12357154528},{dark:335,nm:568.9630154649609,spectrum:552,spectrumDark:217,wavenumber:22652.76011026059},{dark:333,nm:569.2747774108224,spectrum:545,spectrumDark:212,wavenumber:22662.385473429367},{dark:324,nm:569.5865192425339,spectrum:552,spectrumDark:228,wavenumber:22671.999679768665},{dark:326,nm:569.8982409389325,spectrum:581,spectrumDark:255,wavenumber:22681.602747953664},{dark:353,nm:570.2099424788552,spectrum:532,spectrumDark:179,wavenumber:22691.194696617757},{dark:324,nm:570.5216238411379,spectrum:571,spectrumDark:247,wavenumber:22700.775544352666},{dark:331,nm:570.833285004617,spectrum:525,spectrumDark:194,wavenumber:22710.345309708584},{dark:332,nm:571.1449259481283,spectrum:559,spectrumDark:227,wavenumber:22719.90401119425},{dark:334,nm:571.4565466505076,spectrum:544,spectrumDark:210,wavenumber:22729.451667277106},{dark:336,nm:571.7681470905901,spectrum:540,spectrumDark:204,wavenumber:22738.988296383384},{dark:334,nm:572.0797272472112,spectrum:549,spectrumDark:215,wavenumber:22748.51391689824},{dark:324,nm:572.3912870992054,spectrum:556,spectrumDark:232,wavenumber:22758.028547165835},{dark:342,nm:572.7028266254077,spectrum:539,spectrumDark:197,wavenumber:22767.532205489504},{dark:351,nm:573.0143458046524,spectrum:541,spectrumDark:190,wavenumber:22777.024910131815},{dark:331,nm:573.3258446157736,spectrum:536,spectrumDark:205,wavenumber:22786.506679314716},{dark:325,nm:573.637323037605,spectrum:527,spectrumDark:202,wavenumber:22795.97753121963},{dark:356,nm:573.9487810489805,spectrum:539,spectrumDark:183,wavenumber:22805.437483987575},{dark:337,nm:574.2602186287332,spectrum:532,spectrumDark:195,wavenumber:22814.886555719277},{dark:337,nm:574.5716357556965,spectrum:529,spectrumDark:192,wavenumber:22824.324764475285},{dark:318,nm:574.8830324087031,spectrum:536,spectrumDark:218,wavenumber:22833.752128276068},{dark:331,nm:575.1944085665854,spectrum:511,spectrumDark:180,wavenumber:22843.16866510213},{dark:343,nm:575.505764208176,spectrum:520,spectrumDark:177,wavenumber:22852.57439289415},{dark:337,nm:575.8170993123068,spectrum:555,spectrumDark:218,wavenumber:22861.969329553038},{dark:338,nm:576.1284138578098,spectrum:571,spectrumDark:233,wavenumber:22871.3534929401},{dark:340,nm:576.4397078235164,spectrum:549,spectrumDark:209,wavenumber:22880.726900877093},{dark:333,nm:576.7509811882582,spectrum:528,spectrumDark:195,wavenumber:22890.0895711464},{dark:348,nm:577.0622339308659,spectrum:541,spectrumDark:193,wavenumber:22899.441521491066},{dark:319,nm:577.3734660301703,spectrum:522,spectrumDark:203,wavenumber:22908.782769614958},{dark:324,nm:577.6846774650023,spectrum:522,spectrumDark:198,wavenumber:22918.113333182868},{dark:338,nm:577.9958682141918,spectrum:554,spectrumDark:216,wavenumber:22927.433229820585},{dark:324,nm:578.307038256569,spectrum:550,spectrumDark:226,wavenumber:22936.742477115047},{dark:336,nm:578.6181875709635,spectrum:532,spectrumDark:196,wavenumber:22946.041092614418},{dark:333,nm:578.929316136205,spectrum:522,spectrumDark:189,wavenumber:22955.329093828208},{dark:333,nm:579.2404239311226,spectrum:549,spectrumDark:216,wavenumber:22964.60649822737},{dark:339,nm:579.5515109345453,spectrum:543,spectrumDark:204,wavenumber:22973.87332324443},{dark:332,nm:579.8625771253019,spectrum:552,spectrumDark:220,wavenumber:22983.129586273546},{dark:342,nm:580.1736224822207,spectrum:506,spectrumDark:164,wavenumber:22992.375304670662},{dark:326,nm:580.48464698413,spectrum:527,spectrumDark:201,wavenumber:23001.610495753583},{dark:332,nm:580.7956506098577,spectrum:522,spectrumDark:190,wavenumber:23010.835176802095},{dark:334,nm:581.1066333382315,spectrum:521,spectrumDark:187,wavenumber:23020.049365058054},{dark:332,nm:581.4175951480788,spectrum:515,spectrumDark:183,wavenumber:23029.25307772551},{dark:331,nm:581.7285360182267,spectrum:498,spectrumDark:167,wavenumber:23038.446331970783},{dark:340,nm:582.0394559275022,spectrum:506,spectrumDark:166,wavenumber:23047.629144922605},{dark:334,nm:582.3503548547318,spectrum:525,spectrumDark:191,wavenumber:23056.801533672173},{dark:346,nm:582.6612327787419,spectrum:505,spectrumDark:159,wavenumber:23065.9635152733},{dark:328,nm:582.9720896783585,spectrum:542,spectrumDark:214,wavenumber:23075.115106742483},{dark:330,nm:583.2829255324077,spectrum:510,spectrumDark:180,wavenumber:23084.256325059025},{dark:332,nm:583.5937403197148,spectrum:509,spectrumDark:177,wavenumber:23093.38718716512},{dark:321,nm:583.9045340191052,spectrum:474,spectrumDark:153,wavenumber:23102.507709965976},{dark:337,nm:584.215306609404,spectrum:492,spectrumDark:155,wavenumber:23111.61791032989},{dark:338,nm:584.5260580694359,spectrum:498,spectrumDark:160,wavenumber:23120.717805088363},{dark:358,nm:584.8367883780254,spectrum:520,spectrumDark:162,wavenumber:23129.807411036207},{dark:325,nm:585.1474975139968,spectrum:509,spectrumDark:184,wavenumber:23138.88674493162},{dark:345,nm:585.458185456174,spectrum:519,spectrumDark:174,wavenumber:23147.95582349632},{dark:339,nm:585.7688521833807,spectrum:493,spectrumDark:154,wavenumber:23157.01466341561},{dark:314,nm:586.0794976744405,spectrum:500,spectrumDark:186,wavenumber:23166.06328133851},{dark:338,nm:586.3901219081764,spectrum:492,spectrumDark:154,wavenumber:23175.101693877812},{dark:345,nm:586.7007248634114,spectrum:504,spectrumDark:159,wavenumber:23184.129917610226},{dark:344,nm:587.0113065189682,spectrum:514,spectrumDark:170,wavenumber:23193.147969076454},{dark:342,nm:587.3218668536691,spectrum:480,spectrumDark:138,wavenumber:23202.155864781274},{dark:330,nm:587.6324058463364,spectrum:499,spectrumDark:169,wavenumber:23211.153621193676},{dark:333,nm:587.9429234757916,spectrum:511,spectrumDark:178,wavenumber:23220.14125474691},{dark:335,nm:588.2534197208565,spectrum:488,spectrumDark:153,wavenumber:23229.118781838628},{dark:333,nm:588.5638945603524,spectrum:494,spectrumDark:161,wavenumber:23238.086218830955},{dark:340,nm:588.8743479731003,spectrum:501,spectrumDark:161,wavenumber:23247.04358205058},{dark:324,nm:589.1847799379209,spectrum:476,spectrumDark:152,wavenumber:23255.99088778888},{dark:329,nm:589.4951904336348,spectrum:467,spectrumDark:138,wavenumber:23264.928152301985},{dark:323,nm:589.8055794390623,spectrum:492,spectrumDark:169,wavenumber:23273.855391810892},{dark:337,nm:590.1159469330231,spectrum:498,spectrumDark:161,wavenumber:23282.772622501543},{dark:324,nm:590.4262928943372,spectrum:485,spectrumDark:161,wavenumber:23291.67986052495},{dark:328,nm:590.7366173018238,spectrum:473,spectrumDark:145,wavenumber:23300.57712199724}];var mf=(()=>{let e=class e{constructor(r){this.httpClient=r,this.measurements=[]}getMeasurement(){return this.measurement?gt(this.measurement):this.readFile("20230625_000403_g300_s150_p20_f40_o40mm5x_Measurement 2030621.brane").pipe(Gi(r=>this.measurement=r))}getMeasurements(){return this.measurements.length!=0?gt(this.measurements):rE([this.readFile("20230625_000403_g300_s150_p20_f40_o40mm5x_Measurement 2030621.brane"),this.readFile("20230625_000403_g300_s150_p20_f40_o40mm5x_Measurement 2030621.brane"),this.readFile("20230625_131403_g300_s150_p20_f40_o40mm5x_Measurement 2030621.brane")]).pipe(Gi(r=>this.measurements=r))}readFile(r){return this.httpClient.get("assets/measurements/"+r,{responseType:"text"}).pipe(It(l=>{let c={dateTime:new Date,spectrum:[],spectrumDark:[],dark:[],wavenumber:[],nm:[]};return l.split(`
`).forEach(h=>{h.startsWith("[Spectrum]")&&c.spectrum.push(...this.lineToNumberArray("[Spectrum]",h)),h.startsWith("[Spectrum - Dark]")&&c.spectrumDark.push(...this.lineToNumberArray("[Spectrum - Dark]",h)),h.startsWith("[Dark]")&&c.dark.push(...this.lineToNumberArray("[Dark]",h)),h.startsWith("[Wavenumber]")&&c.wavenumber.push(...this.lineToNumberArray("[Wavenumber]",h)),h.startsWith("[nm]")&&c.nm.push(...this.lineToNumberArray("[nm]",h))}),c}))}lineToNumberArray(r,l){return l.split(r+"	")[1].split("	").map(c=>+c)}};e.\u0275fac=function(l){return new(l||e)(wt(x4))},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oq=(()=>{let e=class e{constructor(r){this.graphDataService=r,this.chartOptions=this.initChartOptions()}ngOnInit(){this.loadMeasurements()}initChartOptions(){let r={size:0},l={minSpacing:20};return this.loadMeasurements(),{data:sq,series:[{type:"line",xKey:"nm",yKey:"dark",marker:r,strokeWidth:1},{type:"line",xKey:"nm",yKey:"spectrum",marker:r,strokeWidth:1},{type:"line",xKey:"nm",yKey:"spectrumDark",marker:r,strokeWidth:1}],axes:[{type:"number",position:"left"},{type:"number",min:250,position:"bottom",tick:{interval:25}}]}}loadMeasurements(){this.graphDataService.getMeasurement().subscribe(r=>{this.chartOptions.data=ed.measurementToAgChartsDataPoints(r)})}};e.\u0275fac=function(l){return new(l||e)(dt(mf))},e.\u0275cmp=Nt({type:e,selectors:[["app-ag-chart-line-chart"]],standalone:!0,features:[ar],decls:1,vars:1,consts:[[3,"options"]],template:function(l,c){l&1&&vt(0,"ag-charts-angular",0),l&2&&_e("options",c.chartOptions)},dependencies:[rq]});let t=e;return t})();var B1=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},V1=class extends B1{constructor(e,n,r,l,c){super(),this.component=e,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=l,this.projectableNodes=c}},IO=class extends B1{constructor(e,n,r,l){super(),this.templateRef=e,this.viewContainerRef=n,this.context=r,this.injector=l}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},OO=class extends B1{constructor(e){super(),this.element=e instanceof _r?e.nativeElement:e}},RO=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof V1)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof IO)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof OO)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var yD=class extends RO{constructor(e,n,r,l,c){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=l,this.attachDomPortal=h=>{this._document;let p=h.element;p.parentNode;let m=this._document.createComment("dom-portal");p.parentNode.insertBefore(m,p),this.outletElement.appendChild(p),this._attachedPortal=h,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(p,m)})},this._document=c}attachComponentPortal(e){let r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),l;return e.viewContainerRef?(l=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>l.destroy())):(l=r.create(e.injector||this._defaultInjector||pu.NULL),this._appRef.attachView(l.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(l.hostView),l.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(l)),this._attachedPortal=e,l}attachTemplatePortal(e){let n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(l=>this.outletElement.appendChild(l)),r.detectChanges(),this.setDisposeFn(()=>{let l=n.indexOf(r);l!==-1&&n.remove(l)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var z1=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(z1||{});function H1(t,e){return{type:z1.Trigger,name:t,definitions:e,options:{}}}function L0(t,e=null){return{type:z1.Animate,styles:e,timings:t}}function hl(t){return{type:z1.Style,styles:t,offset:null}}function I0(t,e,n=null){return{type:z1.Transition,expr:t,animation:e,options:n}}var xD="http://www.w3.org/1999/xhtml",PO={svg:"http://www.w3.org/2000/svg",xhtml:xD,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fu(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),PO.hasOwnProperty(e)?{space:PO[e],local:t}:t}function R2e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===xD&&e.documentElement.namespaceURI===xD?e.createElement(t):e.createElementNS(n,t)}}function P2e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function bD(t){var e=Fu(t);return(e.local?P2e:R2e)(e)}function F2e(){}function gf(t){return t==null?F2e:function(){return this.querySelector(t)}}function aq(t){typeof t!="function"&&(t=gf(t));for(var e=this._groups,n=e.length,r=new Array(n),l=0;l<n;++l)for(var c=e[l],h=c.length,p=r[l]=new Array(h),m,g,y=0;y<h;++y)(m=c[y])&&(g=t.call(m,m.__data__,y,c))&&("__data__"in m&&(g.__data__=m.__data__),p[y]=g);return new $i(r,this._parents)}function FO(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function N2e(){return[]}function j1(t){return t==null?N2e:function(){return this.querySelectorAll(t)}}function B2e(t){return function(){return FO(t.apply(this,arguments))}}function lq(t){typeof t=="function"?t=B2e(t):t=j1(t);for(var e=this._groups,n=e.length,r=[],l=[],c=0;c<n;++c)for(var h=e[c],p=h.length,m,g=0;g<p;++g)(m=h[g])&&(r.push(t.call(m,m.__data__,g,h)),l.push(m));return new $i(r,l)}function G1(t){return function(){return this.matches(t)}}function _D(t){return function(e){return e.matches(t)}}var V2e=Array.prototype.find;function z2e(t){return function(){return V2e.call(this.children,t)}}function H2e(){return this.firstElementChild}function cq(t){return this.select(t==null?H2e:z2e(typeof t=="function"?t:_D(t)))}var j2e=Array.prototype.filter;function G2e(){return Array.from(this.children)}function W2e(t){return function(){return j2e.call(this.children,t)}}function uq(t){return this.selectAll(t==null?G2e:W2e(typeof t=="function"?t:_D(t)))}function hq(t){typeof t!="function"&&(t=G1(t));for(var e=this._groups,n=e.length,r=new Array(n),l=0;l<n;++l)for(var c=e[l],h=c.length,p=r[l]=[],m,g=0;g<h;++g)(m=c[g])&&t.call(m,m.__data__,g,c)&&p.push(m);return new $i(r,this._parents)}function wD(t){return new Array(t.length)}function dq(){return new $i(this._enter||this._groups.map(wD),this._parents)}function W1(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}W1.prototype={constructor:W1,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function pq(t){return function(){return t}}function U2e(t,e,n,r,l,c){for(var h=0,p,m=e.length,g=c.length;h<g;++h)(p=e[h])?(p.__data__=c[h],r[h]=p):n[h]=new W1(t,c[h]);for(;h<m;++h)(p=e[h])&&(l[h]=p)}function $2e(t,e,n,r,l,c,h){var p,m,g=new Map,y=e.length,_=c.length,C=new Array(y),S;for(p=0;p<y;++p)(m=e[p])&&(C[p]=S=h.call(m,m.__data__,p,e)+"",g.has(S)?l[p]=m:g.set(S,m));for(p=0;p<_;++p)S=h.call(t,c[p],p,c)+"",(m=g.get(S))?(r[p]=m,m.__data__=c[p],g.delete(S)):n[p]=new W1(t,c[p]);for(p=0;p<y;++p)(m=e[p])&&g.get(C[p])===m&&(l[p]=m)}function Y2e(t){return t.__data__}function fq(t,e){if(!arguments.length)return Array.from(this,Y2e);var n=e?$2e:U2e,r=this._parents,l=this._groups;typeof t!="function"&&(t=pq(t));for(var c=l.length,h=new Array(c),p=new Array(c),m=new Array(c),g=0;g<c;++g){var y=r[g],_=l[g],C=_.length,S=X2e(t.call(y,y&&y.__data__,g,r)),A=S.length,E=p[g]=new Array(A),L=h[g]=new Array(A),P=m[g]=new Array(C);n(y,_,E,L,P,S,e);for(var R=0,V=0,z,H;R<A;++R)if(z=E[R]){for(R>=V&&(V=R+1);!(H=L[V])&&++V<A;);z._next=H||null}}return h=new $i(h,r),h._enter=p,h._exit=m,h}function X2e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mq(){return new $i(this._exit||this._groups.map(wD),this._parents)}function gq(t,e,n){var r=this.enter(),l=this,c=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(l=e(l),l&&(l=l.selection())),n==null?c.remove():n(c),r&&l?r.merge(l).order():l}function vq(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,l=n.length,c=r.length,h=Math.min(l,c),p=new Array(l),m=0;m<h;++m)for(var g=n[m],y=r[m],_=g.length,C=p[m]=new Array(_),S,A=0;A<_;++A)(S=g[A]||y[A])&&(C[A]=S);for(;m<l;++m)p[m]=n[m];return new $i(p,this._parents)}function yq(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],l=r.length-1,c=r[l],h;--l>=0;)(h=r[l])&&(c&&h.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(h,c),c=h);return this}function xq(t){t||(t=q2e);function e(_,C){return _&&C?t(_.__data__,C.__data__):!_-!C}for(var n=this._groups,r=n.length,l=new Array(r),c=0;c<r;++c){for(var h=n[c],p=h.length,m=l[c]=new Array(p),g,y=0;y<p;++y)(g=h[y])&&(m[y]=g);m.sort(e)}return new $i(l,this._parents).order()}function q2e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function bq(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function _q(){return Array.from(this)}function wq(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],l=0,c=r.length;l<c;++l){var h=r[l];if(h)return h}return null}function Cq(){let t=0;for(let e of this)++t;return t}function kq(){return!this.node()}function Dq(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var l=e[n],c=0,h=l.length,p;c<h;++c)(p=l[c])&&t.call(p,p.__data__,c,l);return this}function K2e(t){return function(){this.removeAttribute(t)}}function Z2e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Q2e(t,e){return function(){this.setAttribute(t,e)}}function J2e(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function eCe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function tCe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Sq(t,e){var n=Fu(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Z2e:K2e:typeof e=="function"?n.local?tCe:eCe:n.local?J2e:Q2e)(n,e))}function CD(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function nCe(t){return function(){this.style.removeProperty(t)}}function iCe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function rCe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Tq(t,e,n){return arguments.length>1?this.each((e==null?nCe:typeof e=="function"?rCe:iCe)(t,e,n??"")):td(this.node(),t)}function td(t,e){return t.style.getPropertyValue(e)||CD(t).getComputedStyle(t,null).getPropertyValue(e)}function sCe(t){return function(){delete this[t]}}function oCe(t,e){return function(){this[t]=e}}function aCe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Aq(t,e){return arguments.length>1?this.each((e==null?sCe:typeof e=="function"?aCe:oCe)(t,e)):this.node()[t]}function Mq(t){return t.trim().split(/^|\s+/)}function NO(t){return t.classList||new Eq(t)}function Eq(t){this._node=t,this._names=Mq(t.getAttribute("class")||"")}Eq.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Lq(t,e){for(var n=NO(t),r=-1,l=e.length;++r<l;)n.add(e[r])}function Iq(t,e){for(var n=NO(t),r=-1,l=e.length;++r<l;)n.remove(e[r])}function lCe(t){return function(){Lq(this,t)}}function cCe(t){return function(){Iq(this,t)}}function uCe(t,e){return function(){(e.apply(this,arguments)?Lq:Iq)(this,t)}}function Oq(t,e){var n=Mq(t+"");if(arguments.length<2){for(var r=NO(this.node()),l=-1,c=n.length;++l<c;)if(!r.contains(n[l]))return!1;return!0}return this.each((typeof e=="function"?uCe:e?lCe:cCe)(n,e))}function hCe(){this.textContent=""}function dCe(t){return function(){this.textContent=t}}function pCe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Rq(t){return arguments.length?this.each(t==null?hCe:(typeof t=="function"?pCe:dCe)(t)):this.node().textContent}function fCe(){this.innerHTML=""}function mCe(t){return function(){this.innerHTML=t}}function gCe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Pq(t){return arguments.length?this.each(t==null?fCe:(typeof t=="function"?gCe:mCe)(t)):this.node().innerHTML}function vCe(){this.nextSibling&&this.parentNode.appendChild(this)}function Fq(){return this.each(vCe)}function yCe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Nq(){return this.each(yCe)}function Bq(t){var e=typeof t=="function"?t:bD(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function xCe(){return null}function Vq(t,e){var n=typeof t=="function"?t:bD(t),r=e==null?xCe:typeof e=="function"?e:gf(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function bCe(){var t=this.parentNode;t&&t.removeChild(this)}function zq(){return this.each(bCe)}function _Ce(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function wCe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Hq(t){return this.select(t?wCe:_Ce)}function jq(t){return arguments.length?this.property("__data__",t):this.node().__data__}function CCe(t){return function(e){t.call(this,e,this.__data__)}}function kCe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function DCe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,l=e.length,c;n<l;++n)c=e[n],(!t.type||c.type===t.type)&&c.name===t.name?this.removeEventListener(c.type,c.listener,c.options):e[++r]=c;++r?e.length=r:delete this.__on}}}function SCe(t,e,n){return function(){var r=this.__on,l,c=CCe(e);if(r){for(var h=0,p=r.length;h<p;++h)if((l=r[h]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=c,l.options=n),l.value=e;return}}this.addEventListener(t.type,c,n),l={type:t.type,name:t.name,value:e,listener:c,options:n},r?r.push(l):this.__on=[l]}}function Gq(t,e,n){var r=kCe(t+""),l,c=r.length,h;if(arguments.length<2){var p=this.node().__on;if(p){for(var m=0,g=p.length,y;m<g;++m)for(l=0,y=p[m];l<c;++l)if((h=r[l]).type===y.type&&h.name===y.name)return y.value}return}for(p=e?SCe:DCe,l=0;l<c;++l)this.each(p(r[l],e,n));return this}function Wq(t,e,n){var r=CD(t),l=r.CustomEvent;typeof l=="function"?l=new l(e,n):(l=r.document.createEvent("Event"),n?(l.initEvent(e,n.bubbles,n.cancelable),l.detail=n.detail):l.initEvent(e,!1,!1)),t.dispatchEvent(l)}function TCe(t,e){return function(){return Wq(this,t,e)}}function ACe(t,e){return function(){return Wq(this,t,e.apply(this,arguments))}}function Uq(t,e){return this.each((typeof e=="function"?ACe:TCe)(t,e))}function*$q(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],l=0,c=r.length,h;l<c;++l)(h=r[l])&&(yield h)}var BO=[null];function $i(t,e){this._groups=t,this._parents=e}function Yq(){return new $i([[document.documentElement]],BO)}function MCe(){return this}$i.prototype=Yq.prototype={constructor:$i,select:aq,selectAll:lq,selectChild:cq,selectChildren:uq,filter:hq,data:fq,enter:dq,exit:mq,join:gq,merge:vq,selection:MCe,order:yq,sort:xq,call:bq,nodes:_q,node:wq,size:Cq,empty:kq,each:Dq,attr:Sq,style:Tq,property:Aq,classed:Oq,text:Rq,html:Pq,raise:Fq,lower:Nq,append:Bq,insert:Vq,remove:zq,clone:Hq,datum:jq,on:Gq,dispatch:Uq,[Symbol.iterator]:$q};var Nu=Yq;function ms(t){return typeof t=="string"?new $i([[document.querySelector(t)]],[document.documentElement]):new $i([[t]],BO)}function Xq(t){let e;for(;e=t.sourceEvent;)t=e;return t}function kD(t,e){if(t=Xq(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}}return[t.pageX,t.pageY]}var ECe={value:()=>{}};function Kq(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new DD(n)}function DD(t){this._=t}function LCe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",l=n.indexOf(".");if(l>=0&&(r=n.slice(l+1),n=n.slice(0,l)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}DD.prototype=Kq.prototype={constructor:DD,on:function(t,e){var n=this._,r=LCe(t+"",n),l,c=-1,h=r.length;if(arguments.length<2){for(;++c<h;)if((l=(t=r[c]).type)&&(l=ICe(n[l],t.name)))return l;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++c<h;)if(l=(t=r[c]).type)n[l]=qq(n[l],t.name,e);else if(e==null)for(l in n)n[l]=qq(n[l],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new DD(t)},call:function(t,e){if((l=arguments.length-2)>0)for(var n=new Array(l),r=0,l,c;r<l;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(c=this._[t],r=0,l=c.length;r<l;++r)c[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],l=0,c=r.length;l<c;++l)r[l].value.apply(e,n)}};function ICe(t,e){for(var n=0,r=t.length,l;n<r;++n)if((l=t[n]).name===e)return l.value}function qq(t,e,n){for(var r=0,l=t.length;r<l;++r)if(t[r].name===e){t[r]=ECe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var U1=Kq;var SD={capture:!0,passive:!1};function TD(t){t.preventDefault(),t.stopImmediatePropagation()}function VO(t){var e=t.document.documentElement,n=ms(t).on("dragstart.drag",TD,SD);"onselectstart"in e?n.on("selectstart.drag",TD,SD):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function zO(t,e){var n=t.document.documentElement,r=ms(t).on("dragstart.drag",null);e&&(r.on("click.drag",TD,SD),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function AD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function HO(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function X1(){}var $1=.7,LD=1/$1,O0="\\s*([+-]?\\d+)\\s*",Y1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OCe=/^#([0-9a-f]{3,8})$/,RCe=new RegExp(`^rgb\\(${O0},${O0},${O0}\\)$`),PCe=new RegExp(`^rgb\\(${fc},${fc},${fc}\\)$`),FCe=new RegExp(`^rgba\\(${O0},${O0},${O0},${Y1}\\)$`),NCe=new RegExp(`^rgba\\(${fc},${fc},${fc},${Y1}\\)$`),BCe=new RegExp(`^hsl\\(${Y1},${fc},${fc}\\)$`),VCe=new RegExp(`^hsla\\(${Y1},${fc},${fc},${Y1}\\)$`),Zq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AD(X1,pl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Qq,formatHex:Qq,formatHex8:zCe,formatHsl:HCe,formatRgb:Jq,toString:Jq});function Qq(){return this.rgb().formatHex()}function zCe(){return this.rgb().formatHex8()}function HCe(){return sK(this).formatHsl()}function Jq(){return this.rgb().formatRgb()}function pl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=OCe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?eK(e):n===3?new so(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?MD(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?MD(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=RCe.exec(t))?new so(e[1],e[2],e[3],1):(e=PCe.exec(t))?new so(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=FCe.exec(t))?MD(e[1],e[2],e[3],e[4]):(e=NCe.exec(t))?MD(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=BCe.exec(t))?iK(e[1],e[2]/100,e[3]/100,1):(e=VCe.exec(t))?iK(e[1],e[2]/100,e[3]/100,e[4]):Zq.hasOwnProperty(t)?eK(Zq[t]):t==="transparent"?new so(NaN,NaN,NaN,0):null}function eK(t){return new so(t>>16&255,t>>8&255,t&255,1)}function MD(t,e,n,r){return r<=0&&(t=e=n=NaN),new so(t,e,n,r)}function jCe(t){return t instanceof X1||(t=pl(t)),t?(t=t.rgb(),new so(t.r,t.g,t.b,t.opacity)):new so}function R0(t,e,n,r){return arguments.length===1?jCe(t):new so(t,e,n,r??1)}function so(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}AD(so,R0,HO(X1,{brighter(t){return t=t==null?LD:Math.pow(LD,t),new so(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$1:Math.pow($1,t),new so(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new so(yf(this.r),yf(this.g),yf(this.b),ID(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tK,formatHex:tK,formatHex8:GCe,formatRgb:nK,toString:nK}));function tK(){return`#${vf(this.r)}${vf(this.g)}${vf(this.b)}`}function GCe(){return`#${vf(this.r)}${vf(this.g)}${vf(this.b)}${vf((isNaN(this.opacity)?1:this.opacity)*255)}`}function nK(){let t=ID(this.opacity);return`${t===1?"rgb(":"rgba("}${yf(this.r)}, ${yf(this.g)}, ${yf(this.b)}${t===1?")":`, ${t})`}`}function ID(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vf(t){return t=yf(t),(t<16?"0":"")+t.toString(16)}function iK(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new dl(t,e,n,r)}function sK(t){if(t instanceof dl)return new dl(t.h,t.s,t.l,t.opacity);if(t instanceof X1||(t=pl(t)),!t)return new dl;if(t instanceof dl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,l=Math.min(e,n,r),c=Math.max(e,n,r),h=NaN,p=c-l,m=(c+l)/2;return p?(e===c?h=(n-r)/p+(n<r)*6:n===c?h=(r-e)/p+2:h=(e-n)/p+4,p/=m<.5?c+l:2-c-l,h*=60):p=m>0&&m<1?0:h,new dl(h,p,m,t.opacity)}function oK(t,e,n,r){return arguments.length===1?sK(t):new dl(t,e,n,r??1)}function dl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}AD(dl,oK,HO(X1,{brighter(t){return t=t==null?LD:Math.pow(LD,t),new dl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$1:Math.pow($1,t),new dl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,l=2*n-r;return new so(jO(t>=240?t-240:t+120,l,r),jO(t,l,r),jO(t<120?t+240:t-120,l,r),this.opacity)},clamp(){return new dl(rK(this.h),ED(this.s),ED(this.l),ID(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=ID(this.opacity);return`${t===1?"hsl(":"hsla("}${rK(this.h)}, ${ED(this.s)*100}%, ${ED(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rK(t){return t=(t||0)%360,t<0?t+360:t}function ED(t){return Math.max(0,Math.min(1,t||0))}function jO(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function GO(t,e,n,r,l){var c=t*t,h=c*t;return((1-3*t+3*c-h)*e+(4-6*c+3*h)*n+(1+3*t+3*c-3*h)*r+h*l)/6}function aK(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),l=t[r],c=t[r+1],h=r>0?t[r-1]:2*l-c,p=r<e-1?t[r+2]:2*c-l;return GO((n-r/e)*e,h,l,c,p)}}function lK(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),l=t[(r+e-1)%e],c=t[r%e],h=t[(r+1)%e],p=t[(r+2)%e];return GO((n-r/e)*e,l,c,h,p)}}var q1=t=>()=>t;function WCe(t,e){return function(n){return t+n*e}}function UCe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cK(t){return(t=+t)==1?OD:function(e,n){return n-e?UCe(e,n,t):q1(isNaN(e)?n:e)}}function OD(t,e){var n=e-t;return n?WCe(t,n):q1(isNaN(t)?e:t)}var xf=function t(e){var n=cK(e);function r(l,c){var h=n((l=R0(l)).r,(c=R0(c)).r),p=n(l.g,c.g),m=n(l.b,c.b),g=OD(l.opacity,c.opacity);return function(y){return l.r=h(y),l.g=p(y),l.b=m(y),l.opacity=g(y),l+""}}return r.gamma=t,r}(1);function uK(t){return function(e){var n=e.length,r=new Array(n),l=new Array(n),c=new Array(n),h,p;for(h=0;h<n;++h)p=R0(e[h]),r[h]=p.r||0,l[h]=p.g||0,c[h]=p.b||0;return r=t(r),l=t(l),c=t(c),p.opacity=1,function(m){return p.r=r(m),p.g=l(m),p.b=c(m),p+""}}}var $Ce=uK(aK),YCe=uK(lK);function hK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),l;return function(c){for(l=0;l<n;++l)r[l]=t[l]*(1-c)+e[l]*c;return r}}function dK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pK(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,l=new Array(r),c=new Array(n),h;for(h=0;h<r;++h)l[h]=Bu(t[h],e[h]);for(;h<n;++h)c[h]=e[h];return function(p){for(h=0;h<r;++h)c[h]=l[h](p);return c}}function fK(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Jr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mK(t,e){var n={},r={},l;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(l in e)l in t?n[l]=Bu(t[l],e[l]):r[l]=e[l];return function(c){for(l in n)r[l]=n[l](c);return r}}var UO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WO=new RegExp(UO.source,"g");function XCe(t){return function(){return t}}function qCe(t){return function(e){return t(e)+""}}function K1(t,e){var n=UO.lastIndex=WO.lastIndex=0,r,l,c,h=-1,p=[],m=[];for(t=t+"",e=e+"";(r=UO.exec(t))&&(l=WO.exec(e));)(c=l.index)>n&&(c=e.slice(n,c),p[h]?p[h]+=c:p[++h]=c),(r=r[0])===(l=l[0])?p[h]?p[h]+=l:p[++h]=l:(p[++h]=null,m.push({i:h,x:Jr(r,l)})),n=WO.lastIndex;return n<e.length&&(c=e.slice(n),p[h]?p[h]+=c:p[++h]=c),p.length<2?m[0]?qCe(m[0].x):XCe(e):(e=m.length,function(g){for(var y=0,_;y<e;++y)p[(_=m[y]).i]=_.x(g);return p.join("")})}function Bu(t,e){var n=typeof e,r;return e==null||n==="boolean"?q1(e):(n==="number"?Jr:n==="string"?(r=pl(e))?(e=r,xf):K1:e instanceof pl?xf:e instanceof Date?fK:dK(e)?hK:Array.isArray(e)?pK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mK:Jr)(t,e)}function $O(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var gK=180/Math.PI,RD={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function YO(t,e,n,r,l,c){var h,p,m;return(h=Math.sqrt(t*t+e*e))&&(t/=h,e/=h),(m=t*n+e*r)&&(n-=t*m,r-=e*m),(p=Math.sqrt(n*n+r*r))&&(n/=p,r/=p,m/=p),t*r<e*n&&(t=-t,e=-e,m=-m,h=-h),{translateX:l,translateY:c,rotate:Math.atan2(e,t)*gK,skewX:Math.atan(m)*gK,scaleX:h,scaleY:p}}var PD;function vK(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?RD:YO(e.a,e.b,e.c,e.d,e.e,e.f)}function yK(t){return t==null?RD:(PD||(PD=document.createElementNS("http://www.w3.org/2000/svg","g")),PD.setAttribute("transform",t),(t=PD.transform.baseVal.consolidate())?(t=t.matrix,YO(t.a,t.b,t.c,t.d,t.e,t.f)):RD)}function xK(t,e,n,r){function l(g){return g.length?g.pop()+" ":""}function c(g,y,_,C,S,A){if(g!==_||y!==C){var E=S.push("translate(",null,e,null,n);A.push({i:E-4,x:Jr(g,_)},{i:E-2,x:Jr(y,C)})}else(_||C)&&S.push("translate("+_+e+C+n)}function h(g,y,_,C){g!==y?(g-y>180?y+=360:y-g>180&&(g+=360),C.push({i:_.push(l(_)+"rotate(",null,r)-2,x:Jr(g,y)})):y&&_.push(l(_)+"rotate("+y+r)}function p(g,y,_,C){g!==y?C.push({i:_.push(l(_)+"skewX(",null,r)-2,x:Jr(g,y)}):y&&_.push(l(_)+"skewX("+y+r)}function m(g,y,_,C,S,A){if(g!==_||y!==C){var E=S.push(l(S)+"scale(",null,",",null,")");A.push({i:E-4,x:Jr(g,_)},{i:E-2,x:Jr(y,C)})}else(_!==1||C!==1)&&S.push(l(S)+"scale("+_+","+C+")")}return function(g,y){var _=[],C=[];return g=t(g),y=t(y),c(g.translateX,g.translateY,y.translateX,y.translateY,_,C),h(g.rotate,y.rotate,_,C),p(g.skewX,y.skewX,_,C),m(g.scaleX,g.scaleY,y.scaleX,y.scaleY,_,C),g=y=null,function(S){for(var A=-1,E=C.length,L;++A<E;)_[(L=C[A]).i]=L.x(S);return _.join("")}}}var XO=xK(vK,"px, ","px)","deg)"),qO=xK(yK,", ",")",")");var P0=0,Q1=0,Z1=0,_K=1e3,FD,J1,ND=0,bf=0,BD=0,eb=typeof performance=="object"&&performance.now?performance:Date,wK=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function nb(){return bf||(wK(KCe),bf=eb.now()+BD)}function KCe(){bf=0}function tb(){this._call=this._time=this._next=null}tb.prototype=VD.prototype={constructor:tb,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?nb():+n)+(e==null?0:+e),!this._next&&J1!==this&&(J1?J1._next=this:FD=this,J1=this),this._call=t,this._time=n,KO()},stop:function(){this._call&&(this._call=null,this._time=1/0,KO())}};function VD(t,e,n){var r=new tb;return r.restart(t,e,n),r}function CK(){nb(),++P0;for(var t=FD,e;t;)(e=bf-t._time)>=0&&t._call.call(void 0,e),t=t._next;--P0}function bK(){bf=(ND=eb.now())+BD,P0=Q1=0;try{CK()}finally{P0=0,QCe(),bf=0}}function ZCe(){var t=eb.now(),e=t-ND;e>_K&&(BD-=e,ND=t)}function QCe(){for(var t,e=FD,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:FD=n);J1=t,KO(r)}function KO(t){if(!P0){Q1&&(Q1=clearTimeout(Q1));var e=t-bf;e>24?(t<1/0&&(Q1=setTimeout(bK,t-eb.now()-BD)),Z1&&(Z1=clearInterval(Z1))):(Z1||(ND=eb.now(),Z1=setInterval(ZCe,_K)),P0=1,wK(bK))}}function zD(t,e,n){var r=new tb;return e=e==null?0:+e,r.restart(l=>{r.stop(),t(l+e)},e,n),r}var JCe=U1("start","end","cancel","interrupt"),eke=[],SK=0,kK=1,jD=2,HD=3,DK=4,GD=5,ib=6;function nd(t,e,n,r,l,c){var h=t.__transition;if(!h)t.__transition={};else if(n in h)return;tke(t,n,{name:e,index:r,group:l,on:JCe,tween:eke,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:SK})}function rb(t,e){var n=Tr(t,e);if(n.state>SK)throw new Error("too late; already scheduled");return n}function es(t,e){var n=Tr(t,e);if(n.state>HD)throw new Error("too late; already running");return n}function Tr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function tke(t,e,n){var r=t.__transition,l;r[e]=n,n.timer=VD(c,0,n.time);function c(g){n.state=kK,n.timer.restart(h,n.delay,n.time),n.delay<=g&&h(g-n.delay)}function h(g){var y,_,C,S;if(n.state!==kK)return m();for(y in r)if(S=r[y],S.name===n.name){if(S.state===HD)return zD(h);S.state===DK?(S.state=ib,S.timer.stop(),S.on.call("interrupt",t,t.__data__,S.index,S.group),delete r[y]):+y<e&&(S.state=ib,S.timer.stop(),S.on.call("cancel",t,t.__data__,S.index,S.group),delete r[y])}if(zD(function(){n.state===HD&&(n.state=DK,n.timer.restart(p,n.delay,n.time),p(g))}),n.state=jD,n.on.call("start",t,t.__data__,n.index,n.group),n.state===jD){for(n.state=HD,l=new Array(C=n.tween.length),y=0,_=-1;y<C;++y)(S=n.tween[y].value.call(t,t.__data__,n.index,n.group))&&(l[++_]=S);l.length=_+1}}function p(g){for(var y=g<n.duration?n.ease.call(null,g/n.duration):(n.timer.restart(m),n.state=GD,1),_=-1,C=l.length;++_<C;)l[_].call(t,y);n.state===GD&&(n.on.call("end",t,t.__data__,n.index,n.group),m())}function m(){n.state=ib,n.timer.stop(),delete r[e];for(var g in r)return;delete t.__transition}}function F0(t,e){var n=t.__transition,r,l,c=!0,h;if(n){e=e==null?null:e+"";for(h in n){if((r=n[h]).name!==e){c=!1;continue}l=r.state>jD&&r.state<GD,r.state=ib,r.timer.stop(),r.on.call(l?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[h]}c&&delete t.__transition}}function TK(t){return this.each(function(){F0(this,t)})}function nke(t,e){var n,r;return function(){var l=es(this,t),c=l.tween;if(c!==n){r=n=c;for(var h=0,p=r.length;h<p;++h)if(r[h].name===e){r=r.slice(),r.splice(h,1);break}}l.tween=r}}function ike(t,e,n){var r,l;if(typeof n!="function")throw new Error;return function(){var c=es(this,t),h=c.tween;if(h!==r){l=(r=h).slice();for(var p={name:e,value:n},m=0,g=l.length;m<g;++m)if(l[m].name===e){l[m]=p;break}m===g&&l.push(p)}c.tween=l}}function AK(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Tr(this.node(),n).tween,l=0,c=r.length,h;l<c;++l)if((h=r[l]).name===t)return h.value;return null}return this.each((e==null?nke:ike)(n,t,e))}function N0(t,e,n){var r=t._id;return t.each(function(){var l=es(this,r);(l.value||(l.value={}))[e]=n.apply(this,arguments)}),function(l){return Tr(l,r).value[e]}}function WD(t,e){var n;return(typeof e=="number"?Jr:e instanceof pl?xf:(n=pl(e))?(e=n,xf):K1)(t,e)}function rke(t){return function(){this.removeAttribute(t)}}function ske(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oke(t,e,n){var r,l=n+"",c;return function(){var h=this.getAttribute(t);return h===l?null:h===r?c:c=e(r=h,n)}}function ake(t,e,n){var r,l=n+"",c;return function(){var h=this.getAttributeNS(t.space,t.local);return h===l?null:h===r?c:c=e(r=h,n)}}function lke(t,e,n){var r,l,c;return function(){var h,p=n(this),m;return p==null?void this.removeAttribute(t):(h=this.getAttribute(t),m=p+"",h===m?null:h===r&&m===l?c:(l=m,c=e(r=h,p)))}}function cke(t,e,n){var r,l,c;return function(){var h,p=n(this),m;return p==null?void this.removeAttributeNS(t.space,t.local):(h=this.getAttributeNS(t.space,t.local),m=p+"",h===m?null:h===r&&m===l?c:(l=m,c=e(r=h,p)))}}function MK(t,e){var n=Fu(t),r=n==="transform"?qO:WD;return this.attrTween(t,typeof e=="function"?(n.local?cke:lke)(n,r,N0(this,"attr."+t,e)):e==null?(n.local?ske:rke)(n):(n.local?ake:oke)(n,r,e))}function uke(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function hke(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function dke(t,e){var n,r;function l(){var c=e.apply(this,arguments);return c!==r&&(n=(r=c)&&hke(t,c)),n}return l._value=e,l}function pke(t,e){var n,r;function l(){var c=e.apply(this,arguments);return c!==r&&(n=(r=c)&&uke(t,c)),n}return l._value=e,l}function EK(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Fu(t);return this.tween(n,(r.local?dke:pke)(r,e))}function fke(t,e){return function(){rb(this,t).delay=+e.apply(this,arguments)}}function mke(t,e){return e=+e,function(){rb(this,t).delay=e}}function LK(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?fke:mke)(e,t)):Tr(this.node(),e).delay}function gke(t,e){return function(){es(this,t).duration=+e.apply(this,arguments)}}function vke(t,e){return e=+e,function(){es(this,t).duration=e}}function IK(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?gke:vke)(e,t)):Tr(this.node(),e).duration}function yke(t,e){if(typeof e!="function")throw new Error;return function(){es(this,t).ease=e}}function OK(t){var e=this._id;return arguments.length?this.each(yke(e,t)):Tr(this.node(),e).ease}function xke(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;es(this,t).ease=n}}function RK(t){if(typeof t!="function")throw new Error;return this.each(xke(this._id,t))}function PK(t){typeof t!="function"&&(t=G1(t));for(var e=this._groups,n=e.length,r=new Array(n),l=0;l<n;++l)for(var c=e[l],h=c.length,p=r[l]=[],m,g=0;g<h;++g)(m=c[g])&&t.call(m,m.__data__,g,c)&&p.push(m);return new Vs(r,this._parents,this._name,this._id)}function FK(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,l=n.length,c=Math.min(r,l),h=new Array(r),p=0;p<c;++p)for(var m=e[p],g=n[p],y=m.length,_=h[p]=new Array(y),C,S=0;S<y;++S)(C=m[S]||g[S])&&(_[S]=C);for(;p<r;++p)h[p]=e[p];return new Vs(h,this._parents,this._name,this._id)}function bke(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function _ke(t,e,n){var r,l,c=bke(e)?rb:es;return function(){var h=c(this,t),p=h.on;p!==r&&(l=(r=p).copy()).on(e,n),h.on=l}}function NK(t,e){var n=this._id;return arguments.length<2?Tr(this.node(),n).on.on(t):this.each(_ke(n,t,e))}function wke(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function BK(){return this.on("end.remove",wke(this._id))}function VK(t){var e=this._name,n=this._id;typeof t!="function"&&(t=gf(t));for(var r=this._groups,l=r.length,c=new Array(l),h=0;h<l;++h)for(var p=r[h],m=p.length,g=c[h]=new Array(m),y,_,C=0;C<m;++C)(y=p[C])&&(_=t.call(y,y.__data__,C,p))&&("__data__"in y&&(_.__data__=y.__data__),g[C]=_,nd(g[C],e,n,C,g,Tr(y,n)));return new Vs(c,this._parents,e,n)}function zK(t){var e=this._name,n=this._id;typeof t!="function"&&(t=j1(t));for(var r=this._groups,l=r.length,c=[],h=[],p=0;p<l;++p)for(var m=r[p],g=m.length,y,_=0;_<g;++_)if(y=m[_]){for(var C=t.call(y,y.__data__,_,m),S,A=Tr(y,n),E=0,L=C.length;E<L;++E)(S=C[E])&&nd(S,e,n,E,C,A);c.push(C),h.push(y)}return new Vs(c,h,e,n)}var Cke=Nu.prototype.constructor;function HK(){return new Cke(this._groups,this._parents)}function kke(t,e){var n,r,l;return function(){var c=td(this,t),h=(this.style.removeProperty(t),td(this,t));return c===h?null:c===n&&h===r?l:l=e(n=c,r=h)}}function jK(t){return function(){this.style.removeProperty(t)}}function Dke(t,e,n){var r,l=n+"",c;return function(){var h=td(this,t);return h===l?null:h===r?c:c=e(r=h,n)}}function Ske(t,e,n){var r,l,c;return function(){var h=td(this,t),p=n(this),m=p+"";return p==null&&(m=p=(this.style.removeProperty(t),td(this,t))),h===m?null:h===r&&m===l?c:(l=m,c=e(r=h,p))}}function Tke(t,e){var n,r,l,c="style."+e,h="end."+c,p;return function(){var m=es(this,t),g=m.on,y=m.value[c]==null?p||(p=jK(e)):void 0;(g!==n||l!==y)&&(r=(n=g).copy()).on(h,l=y),m.on=r}}function GK(t,e,n){var r=(t+="")=="transform"?XO:WD;return e==null?this.styleTween(t,kke(t,r)).on("end.style."+t,jK(t)):typeof e=="function"?this.styleTween(t,Ske(t,r,N0(this,"style."+t,e))).each(Tke(this._id,t)):this.styleTween(t,Dke(t,r,e),n).on("end.style."+t,null)}function Ake(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Mke(t,e,n){var r,l;function c(){var h=e.apply(this,arguments);return h!==l&&(r=(l=h)&&Ake(t,h,n)),r}return c._value=e,c}function WK(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Mke(t,e,n??""))}function Eke(t){return function(){this.textContent=t}}function Lke(t){return function(){var e=t(this);this.textContent=e??""}}function UK(t){return this.tween("text",typeof t=="function"?Lke(N0(this,"text",t)):Eke(t==null?"":t+""))}function Ike(t){return function(e){this.textContent=t.call(this,e)}}function Oke(t){var e,n;function r(){var l=t.apply(this,arguments);return l!==n&&(e=(n=l)&&Ike(l)),e}return r._value=t,r}function $K(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Oke(t))}function YK(){for(var t=this._name,e=this._id,n=UD(),r=this._groups,l=r.length,c=0;c<l;++c)for(var h=r[c],p=h.length,m,g=0;g<p;++g)if(m=h[g]){var y=Tr(m,e);nd(m,t,n,g,h,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new Vs(r,this._parents,t,n)}function XK(){var t,e,n=this,r=n._id,l=n.size();return new Promise(function(c,h){var p={value:h},m={value:function(){--l===0&&c()}};n.each(function(){var g=es(this,r),y=g.on;y!==t&&(e=(t=y).copy(),e._.cancel.push(p),e._.interrupt.push(p),e._.end.push(m)),g.on=e}),l===0&&c()})}var Rke=0;function Vs(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function qK(t){return Nu().transition(t)}function UD(){return++Rke}var Vu=Nu.prototype;Vs.prototype=qK.prototype={constructor:Vs,select:VK,selectAll:zK,selectChild:Vu.selectChild,selectChildren:Vu.selectChildren,filter:PK,merge:FK,selection:HK,transition:YK,call:Vu.call,nodes:Vu.nodes,node:Vu.node,size:Vu.size,empty:Vu.empty,each:Vu.each,on:NK,attr:MK,attrTween:EK,style:GK,styleTween:WK,text:UK,textTween:$K,remove:BK,tween:AK,delay:LK,duration:IK,ease:OK,easeVarying:RK,end:XK,[Symbol.iterator]:Vu[Symbol.iterator]};function $D(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Pke={time:null,delay:0,duration:250,ease:$D};function Fke(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function KK(t){var e,n;t instanceof Vs?(e=t._id,t=t._name):(e=UD(),(n=Pke).time=nb(),t=t==null?null:t+"");for(var r=this._groups,l=r.length,c=0;c<l;++c)for(var h=r[c],p=h.length,m,g=0;g<p;++g)(m=h[g])&&nd(m,t,e,g,h,n||Fke(m,e));return new Vs(r,this._parents,t,e)}Nu.prototype.interrupt=TK;Nu.prototype.transition=KK;var YD=t=>()=>t;function ZO(t,{sourceEvent:e,target:n,selection:r,mode:l,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}function ZK(t){t.stopImmediatePropagation()}function XD(t){t.preventDefault(),t.stopImmediatePropagation()}var QK={name:"drag"},QO={name:"space"},B0={name:"handle"},V0={name:"center"},{abs:JK,max:gs,min:vs}=Math;function eZ(t){return[+t[0],+t[1]]}function t8(t){return[eZ(t[0]),eZ(t[1])]}var qD={name:"x",handles:["w","e"].map(sb),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},JO={name:"y",handles:["n","s"].map(sb),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},rWe={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(sb),input:function(t){return t==null?null:t8(t)},output:function(t){return t}},zu={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},tZ={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},nZ={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Nke={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Bke={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function sb(t){return{type:t}}function Vke(t){return!t.ctrlKey&&!t.button}function zke(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Hke(){return navigator.maxTouchPoints||"ontouchstart"in this}function e8(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function jke(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function n8(){return Gke(qD)}function Gke(t){var e=zke,n=Vke,r=Hke,l=!0,c=U1("start","brush","end"),h=6,p;function m(L){var P=L.property("__brush",E).selectAll(".overlay").data([sb("overlay")]);P.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",zu.overlay).merge(P).each(function(){var V=e8(this).extent;ms(this).attr("x",V[0][0]).attr("y",V[0][1]).attr("width",V[1][0]-V[0][0]).attr("height",V[1][1]-V[0][1])}),L.selectAll(".selection").data([sb("selection")]).enter().append("rect").attr("class","selection").attr("cursor",zu.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var R=L.selectAll(".handle").data(t.handles,function(V){return V.type});R.exit().remove(),R.enter().append("rect").attr("class",function(V){return"handle handle--"+V.type}).attr("cursor",function(V){return zu[V.type]}),L.each(g).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",C).filter(r).on("touchstart.brush",C).on("touchmove.brush",S).on("touchend.brush touchcancel.brush",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.move=function(L,P,R){L.tween?L.on("start.brush",function(V){y(this,arguments).beforestart().start(V)}).on("interrupt.brush end.brush",function(V){y(this,arguments).end(V)}).tween("brush",function(){var V=this,z=V.__brush,H=y(V,arguments),U=z.selection,X=t.input(typeof P=="function"?P.apply(this,arguments):P,z.extent),Q=Bu(U,X);function Z(ie){z.selection=ie===1&&X===null?null:Q(ie),g.call(V),H.brush()}return U!==null&&X!==null?Z:Z(1)}):L.each(function(){var V=this,z=arguments,H=V.__brush,U=t.input(typeof P=="function"?P.apply(V,z):P,H.extent),X=y(V,z).beforestart();F0(V),H.selection=U===null?null:U,g.call(V),X.start(R).brush(R).end(R)})},m.clear=function(L,P){m.move(L,null,P)};function g(){var L=ms(this),P=e8(this).selection;P?(L.selectAll(".selection").style("display",null).attr("x",P[0][0]).attr("y",P[0][1]).attr("width",P[1][0]-P[0][0]).attr("height",P[1][1]-P[0][1]),L.selectAll(".handle").style("display",null).attr("x",function(R){return R.type[R.type.length-1]==="e"?P[1][0]-h/2:P[0][0]-h/2}).attr("y",function(R){return R.type[0]==="s"?P[1][1]-h/2:P[0][1]-h/2}).attr("width",function(R){return R.type==="n"||R.type==="s"?P[1][0]-P[0][0]+h:h}).attr("height",function(R){return R.type==="e"||R.type==="w"?P[1][1]-P[0][1]+h:h})):L.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function y(L,P,R){var V=L.__brush.emitter;return V&&(!R||!V.clean)?V:new _(L,P,R)}function _(L,P,R){this.that=L,this.args=P,this.state=L.__brush,this.active=0,this.clean=R}_.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(L,P){return this.starting?(this.starting=!1,this.emit("start",L,P)):this.emit("brush",L),this},brush:function(L,P){return this.emit("brush",L,P),this},end:function(L,P){return--this.active===0&&(delete this.state.emitter,this.emit("end",L,P)),this},emit:function(L,P,R){var V=ms(this.that).datum();c.call(L,this.that,new ZO(L,{sourceEvent:P,target:m,selection:t.output(this.state.selection),mode:R,dispatch:c}),V)}};function C(L){if(p&&!L.touches||!n.apply(this,arguments))return;var P=this,R=L.target.__data__.type,V=(l&&L.metaKey?R="overlay":R)==="selection"?QK:l&&L.altKey?V0:B0,z=t===JO?null:Nke[R],H=t===qD?null:Bke[R],U=e8(P),X=U.extent,Q=U.selection,Z=X[0][0],ie,ne,de=X[0][1],ue,ge,De=X[1][0],Ce,Pe,Ve=X[1][1],Ie,Ne,Xe=0,Qe=0,Wt,Ut=z&&H&&l&&L.shiftKey,rn,we,lt=Array.from(L.touches||[L],Je=>{let sn=Je.identifier;return Je=kD(Je,P),Je.point0=Je.slice(),Je.identifier=sn,Je});F0(P);var zt=y(P,arguments,!0).beforestart();if(R==="overlay"){Q&&(Wt=!0);let Je=[lt[0],lt[1]||lt[0]];U.selection=Q=[[ie=t===JO?Z:vs(Je[0][0],Je[1][0]),ue=t===qD?de:vs(Je[0][1],Je[1][1])],[Ce=t===JO?De:gs(Je[0][0],Je[1][0]),Ie=t===qD?Ve:gs(Je[0][1],Je[1][1])]],lt.length>1&&$t(L)}else ie=Q[0][0],ue=Q[0][1],Ce=Q[1][0],Ie=Q[1][1];ne=ie,ge=ue,Pe=Ce,Ne=Ie;var be=ms(P).attr("pointer-events","none"),Ge=be.selectAll(".overlay").attr("cursor",zu[R]);if(L.touches)zt.moved=me,zt.ended=At;else{var tt=ms(L.view).on("mousemove.brush",me,!0).on("mouseup.brush",At,!0);l&&tt.on("keydown.brush",Tn,!0).on("keyup.brush",Ai,!0),VO(L.view)}g.call(P),zt.start(L,V.name);function me(Je){for(let sn of Je.changedTouches||[Je])for(let uo of lt)uo.identifier===sn.identifier&&(uo.cur=kD(sn,P));if(Ut&&!rn&&!we&&lt.length===1){let sn=lt[0];JK(sn.cur[0]-sn[0])>JK(sn.cur[1]-sn[1])?we=!0:rn=!0}for(let sn of lt)sn.cur&&(sn[0]=sn.cur[0],sn[1]=sn.cur[1]);Wt=!0,XD(Je),$t(Je)}function $t(Je){let sn=lt[0],uo=sn.point0;var bs;switch(Xe=sn[0]-uo[0],Qe=sn[1]-uo[1],V){case QO:case QK:{z&&(Xe=gs(Z-ie,vs(De-Ce,Xe)),ne=ie+Xe,Pe=Ce+Xe),H&&(Qe=gs(de-ue,vs(Ve-Ie,Qe)),ge=ue+Qe,Ne=Ie+Qe);break}case B0:{lt[1]?(z&&(ne=gs(Z,vs(De,lt[0][0])),Pe=gs(Z,vs(De,lt[1][0])),z=1),H&&(ge=gs(de,vs(Ve,lt[0][1])),Ne=gs(de,vs(Ve,lt[1][1])),H=1)):(z<0?(Xe=gs(Z-ie,vs(De-ie,Xe)),ne=ie+Xe,Pe=Ce):z>0&&(Xe=gs(Z-Ce,vs(De-Ce,Xe)),ne=ie,Pe=Ce+Xe),H<0?(Qe=gs(de-ue,vs(Ve-ue,Qe)),ge=ue+Qe,Ne=Ie):H>0&&(Qe=gs(de-Ie,vs(Ve-Ie,Qe)),ge=ue,Ne=Ie+Qe));break}case V0:{z&&(ne=gs(Z,vs(De,ie-Xe*z)),Pe=gs(Z,vs(De,Ce+Xe*z))),H&&(ge=gs(de,vs(Ve,ue-Qe*H)),Ne=gs(de,vs(Ve,Ie+Qe*H)));break}}Pe<ne&&(z*=-1,bs=ie,ie=Ce,Ce=bs,bs=ne,ne=Pe,Pe=bs,R in tZ&&Ge.attr("cursor",zu[R=tZ[R]])),Ne<ge&&(H*=-1,bs=ue,ue=Ie,Ie=bs,bs=ge,ge=Ne,Ne=bs,R in nZ&&Ge.attr("cursor",zu[R=nZ[R]])),U.selection&&(Q=U.selection),rn&&(ne=Q[0][0],Pe=Q[1][0]),we&&(ge=Q[0][1],Ne=Q[1][1]),(Q[0][0]!==ne||Q[0][1]!==ge||Q[1][0]!==Pe||Q[1][1]!==Ne)&&(U.selection=[[ne,ge],[Pe,Ne]],g.call(P),zt.brush(Je,V.name))}function At(Je){if(ZK(Je),Je.touches){if(Je.touches.length)return;p&&clearTimeout(p),p=setTimeout(function(){p=null},500)}else zO(Je.view,Wt),tt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);be.attr("pointer-events","all"),Ge.attr("cursor",zu.overlay),U.selection&&(Q=U.selection),jke(Q)&&(U.selection=null,g.call(P)),zt.end(Je,V.name)}function Tn(Je){switch(Je.keyCode){case 16:{Ut=z&&H;break}case 18:{V===B0&&(z&&(Ce=Pe-Xe*z,ie=ne+Xe*z),H&&(Ie=Ne-Qe*H,ue=ge+Qe*H),V=V0,$t(Je));break}case 32:{(V===B0||V===V0)&&(z<0?Ce=Pe-Xe:z>0&&(ie=ne-Xe),H<0?Ie=Ne-Qe:H>0&&(ue=ge-Qe),V=QO,Ge.attr("cursor",zu.selection),$t(Je));break}default:return}XD(Je)}function Ai(Je){switch(Je.keyCode){case 16:{Ut&&(rn=we=Ut=!1,$t(Je));break}case 18:{V===V0&&(z<0?Ce=Pe:z>0&&(ie=ne),H<0?Ie=Ne:H>0&&(ue=ge),V=B0,$t(Je));break}case 32:{V===QO&&(Je.altKey?(z&&(Ce=Pe-Xe*z,ie=ne+Xe*z),H&&(Ie=Ne-Qe*H,ue=ge+Qe*H),V=V0):(z<0?Ce=Pe:z>0&&(ie=ne),H<0?Ie=Ne:H>0&&(ue=ge),V=B0),Ge.attr("cursor",zu[R]),$t(Je));break}default:return}XD(Je)}}function S(L){y(this,arguments).moved(L)}function A(L){y(this,arguments).ended(L)}function E(){var L=this.__brush||{selection:null};return L.extent=t8(e.apply(this,arguments)),L.dim=t,L}return m.extent=function(L){return arguments.length?(e=typeof L=="function"?L:YD(t8(L)),m):e},m.filter=function(L){return arguments.length?(n=typeof L=="function"?L:YD(!!L),m):n},m.touchable=function(L){return arguments.length?(r=typeof L=="function"?L:YD(!!L),m):r},m.handleSize=function(L){return arguments.length?(h=+L,m):h},m.keyModifiers=function(L){return arguments.length?(l=!!L,m):l},m.on=function(){var L=c.on.apply(c,arguments);return L===c?m:L},m}function mc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function i8(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _f(t){let e,n,r;t.length!==2?(e=mc,n=(p,m)=>mc(t(p),m),r=(p,m)=>t(p)-m):(e=t===mc||t===i8?t:Wke,n=t,r=t);function l(p,m,g=0,y=p.length){if(g<y){if(e(m,m)!==0)return y;do{let _=g+y>>>1;n(p[_],m)<0?g=_+1:y=_}while(g<y)}return g}function c(p,m,g=0,y=p.length){if(g<y){if(e(m,m)!==0)return y;do{let _=g+y>>>1;n(p[_],m)<=0?g=_+1:y=_}while(g<y)}return g}function h(p,m,g=0,y=p.length){let _=l(p,m,g,y-1);return _>g&&r(p[_-1],m)>-r(p[_],m)?_-1:_}return{left:l,center:h,right:c}}function Wke(){return 0}function ob(t){return t===null?NaN:+t}var iZ=_f(mc),rZ=iZ.right,Uke=iZ.left,$ke=_f(ob).center,ab=rZ;var z0=class extends Map{constructor(e,n=qke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let[r,l]of e)this.set(r,l)}get(e){return super.get(sZ(this,e))}has(e){return super.has(sZ(this,e))}set(e,n){return super.set(Yke(this,e),n)}delete(e){return super.delete(Xke(this,e))}};function sZ({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):n}function Yke({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Xke({_intern:t,_key:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function qke(t){return t!==null&&typeof t=="object"?t.valueOf():t}var Kke=Math.sqrt(50),Zke=Math.sqrt(10),Qke=Math.sqrt(2);function KD(t,e,n){let r=(e-t)/Math.max(0,n),l=Math.floor(Math.log10(r)),c=r/Math.pow(10,l),h=c>=Kke?10:c>=Zke?5:c>=Qke?2:1,p,m,g;return l<0?(g=Math.pow(10,-l)/h,p=Math.round(t*g),m=Math.round(e*g),p/g<t&&++p,m/g>e&&--m,g=-g):(g=Math.pow(10,l)*h,p=Math.round(t/g),m=Math.round(e/g),p*g<t&&++p,m*g>e&&--m),m<p&&.5<=n&&n<2?KD(t,e,n*2):[p,m,g]}function ZD(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];let r=e<t,[l,c,h]=r?KD(e,t,n):KD(t,e,n);if(!(c>=l))return[];let p=c-l+1,m=new Array(p);if(r)if(h<0)for(let g=0;g<p;++g)m[g]=(c-g)/-h;else for(let g=0;g<p;++g)m[g]=(c-g)*h;else if(h<0)for(let g=0;g<p;++g)m[g]=(l+g)/-h;else for(let g=0;g<p;++g)m[g]=(l+g)*h;return m}function lb(t,e,n){return e=+e,t=+t,n=+n,KD(t,e,n)[2]}function H0(t,e,n){e=+e,t=+t,n=+n;let r=e<t,l=r?lb(e,t,n):lb(t,e,n);return(r?-1:1)*(l<0?1/-l:l)}function r8(t,e,n=ob){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,l=(r-1)*e,c=Math.floor(l),h=+n(t[c],c,t),p=+n(t[c+1],c+1,t);return h+(p-h)*(l-c)}}function j0(t,e,n){t=+t,e=+e,n=(l=arguments.length)<2?(e=t,t=0,1):l<3?1:+n;for(var r=-1,l=Math.max(0,Math.ceil((e-t)/n))|0,c=new Array(l);++r<l;)c[r]=t+r*n;return c}function gc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}var s8=Symbol("implicit");function wf(){var t=new z0,e=[],n=[],r=s8;function l(c){let h=t.get(c);if(h===void 0){if(r!==s8)return r;t.set(c,h=e.push(c)-1)}return n[h%n.length]}return l.domain=function(c){if(!arguments.length)return e.slice();e=[],t=new z0;for(let h of c)t.has(h)||t.set(h,e.push(h)-1);return l},l.range=function(c){return arguments.length?(n=Array.from(c),l):n.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.copy=function(){return wf(e,n).unknown(r)},gc.apply(l,arguments),l}function G0(){var t=wf().unknown(void 0),e=t.domain,n=t.range,r=0,l=1,c,h,p=!1,m=0,g=0,y=.5;delete t.unknown;function _(){var C=e().length,S=l<r,A=S?l:r,E=S?r:l;c=(E-A)/Math.max(1,C-m+g*2),p&&(c=Math.floor(c)),A+=(E-A-c*(C-m))*y,h=c*(1-m),p&&(A=Math.round(A),h=Math.round(h));var L=j0(C).map(function(P){return A+c*P});return n(S?L.reverse():L)}return t.domain=function(C){return arguments.length?(e(C),_()):e()},t.range=function(C){return arguments.length?([r,l]=C,r=+r,l=+l,_()):[r,l]},t.rangeRound=function(C){return[r,l]=C,r=+r,l=+l,p=!0,_()},t.bandwidth=function(){return h},t.step=function(){return c},t.round=function(C){return arguments.length?(p=!!C,_()):p},t.padding=function(C){return arguments.length?(m=Math.min(1,g=+C),_()):m},t.paddingInner=function(C){return arguments.length?(m=Math.min(1,C),_()):m},t.paddingOuter=function(C){return arguments.length?(g=+C,_()):g},t.align=function(C){return arguments.length?(y=Math.max(0,Math.min(1,C)),_()):y},t.copy=function(){return G0(e(),[r,l]).round(p).paddingInner(m).paddingOuter(g).align(y)},gc.apply(_(),arguments)}function oZ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return oZ(e())},t}function QD(){return oZ(G0.apply(null,arguments).paddingInner(1))}function o8(t){return function(){return t}}function a8(t){return+t}var aZ=[0,1];function W0(t){return t}function l8(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:o8(isNaN(e)?NaN:.5)}function eDe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function tDe(t,e,n){var r=t[0],l=t[1],c=e[0],h=e[1];return l<r?(r=l8(l,r),c=n(h,c)):(r=l8(r,l),c=n(c,h)),function(p){return c(r(p))}}function nDe(t,e,n){var r=Math.min(t.length,e.length)-1,l=new Array(r),c=new Array(r),h=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++h<r;)l[h]=l8(t[h],t[h+1]),c[h]=n(e[h],e[h+1]);return function(p){var m=ab(t,p,1,r)-1;return c[m](l[m](p))}}function JD(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function iDe(){var t=aZ,e=aZ,n=Bu,r,l,c,h=W0,p,m,g;function y(){var C=Math.min(t.length,e.length);return h!==W0&&(h=eDe(t[0],t[C-1])),p=C>2?nDe:tDe,m=g=null,_}function _(C){return C==null||isNaN(C=+C)?c:(m||(m=p(t.map(r),e,n)))(r(h(C)))}return _.invert=function(C){return h(l((g||(g=p(e,t.map(r),Jr)))(C)))},_.domain=function(C){return arguments.length?(t=Array.from(C,a8),y()):t.slice()},_.range=function(C){return arguments.length?(e=Array.from(C),y()):e.slice()},_.rangeRound=function(C){return e=Array.from(C),n=$O,y()},_.clamp=function(C){return arguments.length?(h=C?!0:W0,y()):h!==W0},_.interpolate=function(C){return arguments.length?(n=C,y()):n},_.unknown=function(C){return arguments.length?(c=C,_):c},function(C,S){return r=C,l=S,y()}}function cb(){return iDe()(W0,W0)}function lZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vc(t){return t=Cf(Math.abs(t)),t?t[1]:NaN}function cZ(t,e){return function(n,r){for(var l=n.length,c=[],h=0,p=t[0],m=0;l>0&&p>0&&(m+p+1>r&&(p=Math.max(1,r-m)),c.push(n.substring(l-=p,l+p)),!((m+=p+1)>r));)p=t[h=(h+1)%t.length];return c.reverse().join(e)}}function uZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var rDe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function id(t){if(!(e=rDe.exec(t)))throw new Error("invalid format: "+t);var e;return new eS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}id.prototype=eS.prototype;function eS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}eS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hZ(t){e:for(var e=t.length,n=1,r=-1,l;n<e;++n)switch(t[n]){case".":r=l=n;break;case"0":r===0&&(r=n),l=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(l+1):t}var c8;function dZ(t,e){var n=Cf(t,e);if(!n)return t+"";var r=n[0],l=n[1],c=l-(c8=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,h=r.length;return c===h?r:c>h?r+new Array(c-h+1).join("0"):c>0?r.slice(0,c)+"."+r.slice(c):"0."+new Array(1-c).join("0")+Cf(t,Math.max(0,e+c-1))[0]}function u8(t,e){var n=Cf(t,e);if(!n)return t+"";var r=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+r:r.length>l+1?r.slice(0,l+1)+"."+r.slice(l+1):r+new Array(l-r.length+2).join("0")}var h8={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>u8(t*100,e),r:u8,s:dZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function d8(t){return t}var pZ=Array.prototype.map,fZ=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function mZ(t){var e=t.grouping===void 0||t.thousands===void 0?d8:cZ(pZ.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",l=t.decimal===void 0?".":t.decimal+"",c=t.numerals===void 0?d8:uZ(pZ.call(t.numerals,String)),h=t.percent===void 0?"%":t.percent+"",p=t.minus===void 0?"\u2212":t.minus+"",m=t.nan===void 0?"NaN":t.nan+"";function g(_){_=id(_);var C=_.fill,S=_.align,A=_.sign,E=_.symbol,L=_.zero,P=_.width,R=_.comma,V=_.precision,z=_.trim,H=_.type;H==="n"?(R=!0,H="g"):h8[H]||(V===void 0&&(V=12),z=!0,H="g"),(L||C==="0"&&S==="=")&&(L=!0,C="0",S="=");var U=E==="$"?n:E==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",X=E==="$"?r:/[%p]/.test(H)?h:"",Q=h8[H],Z=/[defgprs%]/.test(H);V=V===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,V)):Math.max(0,Math.min(20,V));function ie(ne){var de=U,ue=X,ge,De,Ce;if(H==="c")ue=Q(ne)+ue,ne="";else{ne=+ne;var Pe=ne<0||1/ne<0;if(ne=isNaN(ne)?m:Q(Math.abs(ne),V),z&&(ne=hZ(ne)),Pe&&+ne==0&&A!=="+"&&(Pe=!1),de=(Pe?A==="("?A:p:A==="-"||A==="("?"":A)+de,ue=(H==="s"?fZ[8+c8/3]:"")+ue+(Pe&&A==="("?")":""),Z){for(ge=-1,De=ne.length;++ge<De;)if(Ce=ne.charCodeAt(ge),48>Ce||Ce>57){ue=(Ce===46?l+ne.slice(ge+1):ne.slice(ge))+ue,ne=ne.slice(0,ge);break}}}R&&!L&&(ne=e(ne,1/0));var Ve=de.length+ne.length+ue.length,Ie=Ve<P?new Array(P-Ve+1).join(C):"";switch(R&&L&&(ne=e(Ie+ne,Ie.length?P-ue.length:1/0),Ie=""),S){case"<":ne=de+ne+ue+Ie;break;case"=":ne=de+Ie+ne+ue;break;case"^":ne=Ie.slice(0,Ve=Ie.length>>1)+de+ne+ue+Ie.slice(Ve);break;default:ne=Ie+de+ne+ue;break}return c(ne)}return ie.toString=function(){return _+""},ie}function y(_,C){var S=g((_=id(_),_.type="f",_)),A=Math.max(-8,Math.min(8,Math.floor(vc(C)/3)))*3,E=Math.pow(10,-A),L=fZ[8+A/3];return function(P){return S(E*P)+L}}return{format:g,formatPrefix:y}}var tS,nS,iS;p8({thousands:",",grouping:[3],currency:["$",""]});function p8(t){return tS=mZ(t),nS=tS.format,iS=tS.formatPrefix,tS}function f8(t){return Math.max(0,-vc(Math.abs(t)))}function m8(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vc(e)/3)))*3-vc(Math.abs(t)))}function g8(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vc(e)-vc(t))+1}function v8(t,e,n,r){var l=H0(t,e,n),c;switch(r=id(r??",f"),r.type){case"s":{var h=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(c=m8(l,h))&&(r.precision=c),iS(r,h)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(c=g8(l,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=c-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(c=f8(l))&&(r.precision=c-(r.type==="%")*2);break}}return nS(r)}function sDe(t){var e=t.domain;return t.ticks=function(n){var r=e();return ZD(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var l=e();return v8(l[0],l[l.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),l=0,c=r.length-1,h=r[l],p=r[c],m,g,y=10;for(p<h&&(g=h,h=p,p=g,g=l,l=c,c=g);y-- >0;){if(g=lb(h,p,n),g===m)return r[l]=h,r[c]=p,e(r);if(g>0)h=Math.floor(h/g)*g,p=Math.ceil(p/g)*g;else if(g<0)h=Math.ceil(h*g)/g,p=Math.floor(p*g)/g;else break;m=g}return t},t}function yc(){var t=cb();return t.copy=function(){return JD(t,yc())},gc.apply(t,arguments),sDe(t)}function y8(t,e){t=t.slice();var n=0,r=t.length-1,l=t[n],c=t[r],h;return c<l&&(h=n,n=r,r=h,h=l,l=c,c=h),t[n]=e.floor(l),t[r]=e.ceil(c),t}function ub(){var t=[],e=[],n=[],r;function l(){var h=0,p=Math.max(1,e.length);for(n=new Array(p-1);++h<p;)n[h-1]=r8(t,h/p);return c}function c(h){return h==null||isNaN(h=+h)?r:e[ab(n,h)]}return c.invertExtent=function(h){var p=e.indexOf(h);return p<0?[NaN,NaN]:[p>0?n[p-1]:t[0],p<n.length?n[p]:t[t.length-1]]},c.domain=function(h){if(!arguments.length)return t.slice();t=[];for(let p of h)p!=null&&!isNaN(p=+p)&&t.push(p);return t.sort(mc),l()},c.range=function(h){return arguments.length?(e=Array.from(h),l()):e.slice()},c.unknown=function(h){return arguments.length?(r=h,c):r},c.quantiles=function(){return n.slice()},c.copy=function(){return ub().domain(t).range(e).unknown(r)},gc.apply(c,arguments)}var x8=new Date,b8=new Date;function ri(t,e,n,r){function l(c){return t(c=arguments.length===0?new Date:new Date(+c)),c}return l.floor=c=>(t(c=new Date(+c)),c),l.ceil=c=>(t(c=new Date(c-1)),e(c,1),t(c),c),l.round=c=>{let h=l(c),p=l.ceil(c);return c-h<p-c?h:p},l.offset=(c,h)=>(e(c=new Date(+c),h==null?1:Math.floor(h)),c),l.range=(c,h,p)=>{let m=[];if(c=l.ceil(c),p=p==null?1:Math.floor(p),!(c<h)||!(p>0))return m;let g;do m.push(g=new Date(+c)),e(c,p),t(c);while(g<c&&c<h);return m},l.filter=c=>ri(h=>{if(h>=h)for(;t(h),!c(h);)h.setTime(h-1)},(h,p)=>{if(h>=h)if(p<0)for(;++p<=0;)for(;e(h,-1),!c(h););else for(;--p>=0;)for(;e(h,1),!c(h););}),n&&(l.count=(c,h)=>(x8.setTime(+c),b8.setTime(+h),t(x8),t(b8),Math.floor(n(x8,b8))),l.every=c=>(c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?l.filter(r?h=>r(h)%c===0:h=>l.count(0,h)%c===0):l)),l}var hb=ri(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ri(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):hb);var ZUe=hb.range;var xc=ri(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),gZ=xc.range;var U0=ri(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),oDe=U0.range,rS=ri(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),aDe=rS.range;var $0=ri(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),lDe=$0.range,sS=ri(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),cDe=sS.range;var Y0=ri(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),uDe=Y0.range,vZ=ri(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),hDe=vZ.range,oS=ri(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),dDe=oS.range;function Sf(t){return ri(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}var Tf=Sf(0),xZ=Sf(1),bZ=Sf(2),_Z=Sf(3),wZ=Sf(4),CZ=Sf(5),kZ=Sf(6),DZ=Tf.range,pDe=xZ.range,fDe=bZ.range,mDe=_Z.range,gDe=wZ.range,vDe=CZ.range,yDe=kZ.range;function Af(t){return ri(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/6048e5)}var pb=Af(0),SZ=Af(1),TZ=Af(2),AZ=Af(3),MZ=Af(4),EZ=Af(5),LZ=Af(6),IZ=pb.range,xDe=SZ.range,bDe=TZ.range,_De=AZ.range,wDe=MZ.range,CDe=EZ.range,kDe=LZ.range;var X0=ri(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),DDe=X0.range,aS=ri(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),SDe=aS.range;var Mf=ri(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Mf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ri(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});var TDe=Mf.range,fb=ri(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fb.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ri(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});var ADe=fb.range;function RZ(t,e,n,r,l,c){let h=[[xc,1,1e3],[xc,5,5*1e3],[xc,15,15*1e3],[xc,30,30*1e3],[c,1,6e4],[c,5,5*6e4],[c,15,15*6e4],[c,30,30*6e4],[l,1,36e5],[l,3,3*36e5],[l,6,6*36e5],[l,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[e,1,2592e6],[e,3,3*2592e6],[t,1,31536e6]];function p(g,y,_){let C=y<g;C&&([g,y]=[y,g]);let S=_&&typeof _.range=="function"?_:m(g,y,_),A=S?S.range(g,+y+1):[];return C?A.reverse():A}function m(g,y,_){let C=Math.abs(y-g)/_,S=_f(([,,L])=>L).right(h,C);if(S===h.length)return t.every(H0(g/31536e6,y/31536e6,_));if(S===0)return hb.every(Math.max(H0(g,y,_),1));let[A,E]=h[C/h[S-1][2]<h[S][2]/C?S-1:S];return A.every(E)}return[p,m]}var[EDe,LDe]=RZ(fb,aS,pb,oS,sS,rS),[_8,w8]=RZ(Mf,X0,Tf,Y0,$0,U0);var C8=new Date,k8=new Date;function ys(t,e,n,r){function l(c){return t(c=arguments.length===0?new Date:new Date(+c)),c}return l.floor=function(c){return t(c=new Date(+c)),c},l.ceil=function(c){return t(c=new Date(c-1)),e(c,1),t(c),c},l.round=function(c){var h=l(c),p=l.ceil(c);return c-h<p-c?h:p},l.offset=function(c,h){return e(c=new Date(+c),h==null?1:Math.floor(h)),c},l.range=function(c,h,p){var m=[],g;if(c=l.ceil(c),p=p==null?1:Math.floor(p),!(c<h)||!(p>0))return m;do m.push(g=new Date(+c)),e(c,p),t(c);while(g<c&&c<h);return m},l.filter=function(c){return ys(function(h){if(h>=h)for(;t(h),!c(h);)h.setTime(h-1)},function(h,p){if(h>=h)if(p<0)for(;++p<=0;)for(;e(h,-1),!c(h););else for(;--p>=0;)for(;e(h,1),!c(h););})},n&&(l.count=function(c,h){return C8.setTime(+c),k8.setTime(+h),t(C8),t(k8),Math.floor(n(C8,k8))},l.every=function(c){return c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?l.filter(r?function(h){return r(h)%c===0}:function(h){return l.count(0,h)%c===0}):l}),l}var PZ=ys(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),lS=PZ,RDe=PZ.range;function Ef(t){return ys(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5})}var mb=Ef(0),q0=Ef(1),FZ=Ef(2),NZ=Ef(3),rd=Ef(4),BZ=Ef(5),VZ=Ef(6),zZ=mb.range,FDe=q0.range,NDe=FZ.range,BDe=NZ.range,VDe=rd.range,zDe=BZ.range,HDe=VZ.range;var D8=ys(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});D8.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:ys(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};var Lf=D8,jDe=D8.range;var HZ=ys(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),cS=HZ,GDe=HZ.range;function If(t){return ys(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/6048e5})}var gb=If(0),K0=If(1),jZ=If(2),GZ=If(3),sd=If(4),WZ=If(5),UZ=If(6),$Z=gb.range,WDe=K0.range,UDe=jZ.range,$De=GZ.range,YDe=sd.range,XDe=WZ.range,qDe=UZ.range;var S8=ys(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});S8.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:ys(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};var Of=S8,KDe=S8.range;function T8(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function A8(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vb(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function M8(t){var e=t.dateTime,n=t.date,r=t.time,l=t.periods,c=t.days,h=t.shortDays,p=t.months,m=t.shortMonths,g=yb(l),y=xb(l),_=yb(c),C=xb(c),S=yb(h),A=xb(h),E=yb(p),L=xb(p),P=yb(m),R=xb(m),V={a:Pe,A:Ve,b:Ie,B:Ne,c:null,d:QZ,e:QZ,f:xSe,g:MSe,G:LSe,H:gSe,I:vSe,j:ySe,L:iQ,m:bSe,M:_Se,p:Xe,q:Qe,Q:tQ,s:nQ,S:wSe,u:CSe,U:kSe,V:DSe,w:SSe,W:TSe,x:null,X:null,y:ASe,Y:ESe,Z:ISe,"%":eQ},z={a:Wt,A:Ut,b:rn,B:we,c:null,d:JZ,e:JZ,f:FSe,g:$Se,G:XSe,H:OSe,I:RSe,j:PSe,L:sQ,m:NSe,M:BSe,p:lt,q:zt,Q:tQ,s:nQ,S:VSe,u:zSe,U:HSe,V:jSe,w:GSe,W:WSe,x:null,X:null,y:USe,Y:YSe,Z:qSe,"%":eQ},H={a:ie,A:ne,b:de,B:ue,c:ge,d:KZ,e:KZ,f:dSe,g:qZ,G:XZ,H:ZZ,I:ZZ,j:lSe,L:hSe,m:aSe,M:cSe,p:Z,q:oSe,Q:fSe,s:mSe,S:uSe,u:tSe,U:nSe,V:iSe,w:eSe,W:rSe,x:De,X:Ce,y:qZ,Y:XZ,Z:sSe,"%":pSe};V.x=U(n,V),V.X=U(r,V),V.c=U(e,V),z.x=U(n,z),z.X=U(r,z),z.c=U(e,z);function U(be,Ge){return function(tt){var me=[],$t=-1,At=0,Tn=be.length,Ai,Je,sn;for(tt instanceof Date||(tt=new Date(+tt));++$t<Tn;)be.charCodeAt($t)===37&&(me.push(be.slice(At,$t)),(Je=YZ[Ai=be.charAt(++$t)])!=null?Ai=be.charAt(++$t):Je=Ai==="e"?" ":"0",(sn=Ge[Ai])&&(Ai=sn(tt,Je)),me.push(Ai),At=$t+1);return me.push(be.slice(At,$t)),me.join("")}}function X(be,Ge){return function(tt){var me=vb(1900,void 0,1),$t=Q(me,be,tt+="",0),At,Tn;if($t!=tt.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Ge&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(At=A8(vb(me.y,0,1)),Tn=At.getUTCDay(),At=Tn>4||Tn===0?K0.ceil(At):K0(At),At=cS.offset(At,(me.V-1)*7),me.y=At.getUTCFullYear(),me.m=At.getUTCMonth(),me.d=At.getUTCDate()+(me.w+6)%7):(At=T8(vb(me.y,0,1)),Tn=At.getDay(),At=Tn>4||Tn===0?q0.ceil(At):q0(At),At=lS.offset(At,(me.V-1)*7),me.y=At.getFullYear(),me.m=At.getMonth(),me.d=At.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Tn="Z"in me?A8(vb(me.y,0,1)).getUTCDay():T8(vb(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Tn+5)%7:me.w+me.U*7-(Tn+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,A8(me)):T8(me)}}function Q(be,Ge,tt,me){for(var $t=0,At=Ge.length,Tn=tt.length,Ai,Je;$t<At;){if(me>=Tn)return-1;if(Ai=Ge.charCodeAt($t++),Ai===37){if(Ai=Ge.charAt($t++),Je=H[Ai in YZ?Ge.charAt($t++):Ai],!Je||(me=Je(be,tt,me))<0)return-1}else if(Ai!=tt.charCodeAt(me++))return-1}return me}function Z(be,Ge,tt){var me=g.exec(Ge.slice(tt));return me?(be.p=y.get(me[0].toLowerCase()),tt+me[0].length):-1}function ie(be,Ge,tt){var me=S.exec(Ge.slice(tt));return me?(be.w=A.get(me[0].toLowerCase()),tt+me[0].length):-1}function ne(be,Ge,tt){var me=_.exec(Ge.slice(tt));return me?(be.w=C.get(me[0].toLowerCase()),tt+me[0].length):-1}function de(be,Ge,tt){var me=P.exec(Ge.slice(tt));return me?(be.m=R.get(me[0].toLowerCase()),tt+me[0].length):-1}function ue(be,Ge,tt){var me=E.exec(Ge.slice(tt));return me?(be.m=L.get(me[0].toLowerCase()),tt+me[0].length):-1}function ge(be,Ge,tt){return Q(be,e,Ge,tt)}function De(be,Ge,tt){return Q(be,n,Ge,tt)}function Ce(be,Ge,tt){return Q(be,r,Ge,tt)}function Pe(be){return h[be.getDay()]}function Ve(be){return c[be.getDay()]}function Ie(be){return m[be.getMonth()]}function Ne(be){return p[be.getMonth()]}function Xe(be){return l[+(be.getHours()>=12)]}function Qe(be){return 1+~~(be.getMonth()/3)}function Wt(be){return h[be.getUTCDay()]}function Ut(be){return c[be.getUTCDay()]}function rn(be){return m[be.getUTCMonth()]}function we(be){return p[be.getUTCMonth()]}function lt(be){return l[+(be.getUTCHours()>=12)]}function zt(be){return 1+~~(be.getUTCMonth()/3)}return{format:function(be){var Ge=U(be+="",V);return Ge.toString=function(){return be},Ge},parse:function(be){var Ge=X(be+="",!1);return Ge.toString=function(){return be},Ge},utcFormat:function(be){var Ge=U(be+="",z);return Ge.toString=function(){return be},Ge},utcParse:function(be){var Ge=X(be+="",!0);return Ge.toString=function(){return be},Ge}}}var YZ={"-":"",_:" ",0:"0"},Br=/^\s*\d+/,ZDe=/^%/,QDe=/[\\^$*+?|[\]().{}]/g;function Vn(t,e,n){var r=t<0?"-":"",l=(r?-t:t)+"",c=l.length;return r+(c<n?new Array(n-c+1).join(e)+l:l)}function JDe(t){return t.replace(QDe,"\\$&")}function yb(t){return new RegExp("^(?:"+t.map(JDe).join("|")+")","i")}function xb(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function eSe(t,e,n){var r=Br.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function tSe(t,e,n){var r=Br.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nSe(t,e,n){var r=Br.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function iSe(t,e,n){var r=Br.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function rSe(t,e,n){var r=Br.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function XZ(t,e,n){var r=Br.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function qZ(t,e,n){var r=Br.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sSe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function oSe(t,e,n){var r=Br.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function aSe(t,e,n){var r=Br.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function KZ(t,e,n){var r=Br.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function lSe(t,e,n){var r=Br.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ZZ(t,e,n){var r=Br.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function cSe(t,e,n){var r=Br.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function uSe(t,e,n){var r=Br.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function hSe(t,e,n){var r=Br.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function dSe(t,e,n){var r=Br.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pSe(t,e,n){var r=ZDe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fSe(t,e,n){var r=Br.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function mSe(t,e,n){var r=Br.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function QZ(t,e){return Vn(t.getDate(),e,2)}function gSe(t,e){return Vn(t.getHours(),e,2)}function vSe(t,e){return Vn(t.getHours()%12||12,e,2)}function ySe(t,e){return Vn(1+lS.count(Lf(t),t),e,3)}function iQ(t,e){return Vn(t.getMilliseconds(),e,3)}function xSe(t,e){return iQ(t,e)+"000"}function bSe(t,e){return Vn(t.getMonth()+1,e,2)}function _Se(t,e){return Vn(t.getMinutes(),e,2)}function wSe(t,e){return Vn(t.getSeconds(),e,2)}function CSe(t){var e=t.getDay();return e===0?7:e}function kSe(t,e){return Vn(mb.count(Lf(t)-1,t),e,2)}function rQ(t){var e=t.getDay();return e>=4||e===0?rd(t):rd.ceil(t)}function DSe(t,e){return t=rQ(t),Vn(rd.count(Lf(t),t)+(Lf(t).getDay()===4),e,2)}function SSe(t){return t.getDay()}function TSe(t,e){return Vn(q0.count(Lf(t)-1,t),e,2)}function ASe(t,e){return Vn(t.getFullYear()%100,e,2)}function MSe(t,e){return t=rQ(t),Vn(t.getFullYear()%100,e,2)}function ESe(t,e){return Vn(t.getFullYear()%1e4,e,4)}function LSe(t,e){var n=t.getDay();return t=n>=4||n===0?rd(t):rd.ceil(t),Vn(t.getFullYear()%1e4,e,4)}function ISe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Vn(e/60|0,"0",2)+Vn(e%60,"0",2)}function JZ(t,e){return Vn(t.getUTCDate(),e,2)}function OSe(t,e){return Vn(t.getUTCHours(),e,2)}function RSe(t,e){return Vn(t.getUTCHours()%12||12,e,2)}function PSe(t,e){return Vn(1+cS.count(Of(t),t),e,3)}function sQ(t,e){return Vn(t.getUTCMilliseconds(),e,3)}function FSe(t,e){return sQ(t,e)+"000"}function NSe(t,e){return Vn(t.getUTCMonth()+1,e,2)}function BSe(t,e){return Vn(t.getUTCMinutes(),e,2)}function VSe(t,e){return Vn(t.getUTCSeconds(),e,2)}function zSe(t){var e=t.getUTCDay();return e===0?7:e}function HSe(t,e){return Vn(gb.count(Of(t)-1,t),e,2)}function oQ(t){var e=t.getUTCDay();return e>=4||e===0?sd(t):sd.ceil(t)}function jSe(t,e){return t=oQ(t),Vn(sd.count(Of(t),t)+(Of(t).getUTCDay()===4),e,2)}function GSe(t){return t.getUTCDay()}function WSe(t,e){return Vn(K0.count(Of(t)-1,t),e,2)}function USe(t,e){return Vn(t.getUTCFullYear()%100,e,2)}function $Se(t,e){return t=oQ(t),Vn(t.getUTCFullYear()%100,e,2)}function YSe(t,e){return Vn(t.getUTCFullYear()%1e4,e,4)}function XSe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?sd(t):sd.ceil(t),Vn(t.getUTCFullYear()%1e4,e,4)}function qSe(){return"+0000"}function eQ(){return"%"}function tQ(t){return+t}function nQ(t){return Math.floor(+t/1e3)}var Z0,uS,aQ,lQ,cQ;E8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function E8(t){return Z0=M8(t),uS=Z0.format,aQ=Z0.parse,lQ=Z0.utcFormat,cQ=Z0.utcParse,Z0}function KSe(t){return new Date(t)}function ZSe(t){return t instanceof Date?+t:+new Date(+t)}function uQ(t,e,n,r,l,c,h,p,m,g){var y=cb(),_=y.invert,C=y.domain,S=g(".%L"),A=g(":%S"),E=g("%I:%M"),L=g("%I %p"),P=g("%a %d"),R=g("%b %d"),V=g("%B"),z=g("%Y");function H(U){return(m(U)<U?S:p(U)<U?A:h(U)<U?E:c(U)<U?L:r(U)<U?l(U)<U?P:R:n(U)<U?V:z)(U)}return y.invert=function(U){return new Date(_(U))},y.domain=function(U){return arguments.length?C(Array.from(U,ZSe)):C().map(KSe)},y.ticks=function(U){var X=C();return t(X[0],X[X.length-1],U??10)},y.tickFormat=function(U,X){return X==null?H:g(X)},y.nice=function(U){var X=C();return(!U||typeof U.range!="function")&&(U=e(X[0],X[X.length-1],U??10)),U?C(y8(X,U)):y},y.copy=function(){return JD(y,uQ(t,e,n,r,l,c,h,p,m,g))},y}function bb(){return gc.apply(uQ(_8,w8,Mf,X0,Tf,Y0,$0,U0,xc,uS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mr(t){return function(){return t}}var L8=Math.PI,I8=2*L8,Rf=1e-6,QSe=I8-Rf;function hQ(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function JSe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hQ;let n=10**e;return function(r){this._+=r[0];for(let l=1,c=r.length;l<c;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}var Pf=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hQ:JSe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,l){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+l}`}bezierCurveTo(e,n,r,l,c,h){this._append`C${+e},${+n},${+r},${+l},${this._x1=+c},${this._y1=+h}`}arcTo(e,n,r,l,c){if(e=+e,n=+n,r=+r,l=+l,c=+c,c<0)throw new Error(`negative radius: ${c}`);let h=this._x1,p=this._y1,m=r-e,g=l-n,y=h-e,_=p-n,C=y*y+_*_;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(C>Rf)if(!(Math.abs(_*m-g*y)>Rf)||!c)this._append`L${this._x1=e},${this._y1=n}`;else{let S=r-h,A=l-p,E=m*m+g*g,L=S*S+A*A,P=Math.sqrt(E),R=Math.sqrt(C),V=c*Math.tan((L8-Math.acos((E+C-L)/(2*P*R)))/2),z=V/R,H=V/P;Math.abs(z-1)>Rf&&this._append`L${e+z*y},${n+z*_}`,this._append`A${c},${c},0,0,${+(_*S>y*A)},${this._x1=e+H*m},${this._y1=n+H*g}`}}arc(e,n,r,l,c,h){if(e=+e,n=+n,r=+r,h=!!h,r<0)throw new Error(`negative radius: ${r}`);let p=r*Math.cos(l),m=r*Math.sin(l),g=e+p,y=n+m,_=1^h,C=h?l-c:c-l;this._x1===null?this._append`M${g},${y}`:(Math.abs(this._x1-g)>Rf||Math.abs(this._y1-y)>Rf)&&this._append`L${g},${y}`,r&&(C<0&&(C=C%I8+I8),C>QSe?this._append`A${r},${r},0,1,${_},${e-p},${n-m}A${r},${r},0,1,${_},${this._x1=g},${this._y1=y}`:C>Rf&&this._append`A${r},${r},0,${+(C>=L8)},${_},${this._x1=e+r*Math.cos(c)},${this._y1=n+r*Math.sin(c)}`)}rect(e,n,r,l){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+l}h${-r}Z`}toString(){return this._}};function dQ(){return new Pf}dQ.prototype=Pf.prototype;function hS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Pf(e)}var CYe=Array.prototype.slice;function dS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pQ(t){this._context=t}pQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ff(t){return new pQ(t)}function pS(t){return t[0]}function fS(t){return t[1]}function _b(t,e){var n=mr(!0),r=null,l=Ff,c=null,h=hS(p);t=typeof t=="function"?t:t===void 0?pS:mr(t),e=typeof e=="function"?e:e===void 0?fS:mr(e);function p(m){var g,y=(m=dS(m)).length,_,C=!1,S;for(r==null&&(c=l(S=h())),g=0;g<=y;++g)!(g<y&&n(_=m[g],g,m))===C&&((C=!C)?c.lineStart():c.lineEnd()),C&&c.point(+t(_,g,m),+e(_,g,m));if(S)return c=null,S+""||null}return p.x=function(m){return arguments.length?(t=typeof m=="function"?m:mr(+m),p):t},p.y=function(m){return arguments.length?(e=typeof m=="function"?m:mr(+m),p):e},p.defined=function(m){return arguments.length?(n=typeof m=="function"?m:mr(!!m),p):n},p.curve=function(m){return arguments.length?(l=m,r!=null&&(c=l(r)),p):l},p.context=function(m){return arguments.length?(m==null?r=c=null:c=l(r=m),p):r},p}function mS(t,e,n){var r=null,l=mr(!0),c=null,h=Ff,p=null,m=hS(g);t=typeof t=="function"?t:t===void 0?pS:mr(+t),e=typeof e=="function"?e:e===void 0?mr(0):mr(+e),n=typeof n=="function"?n:n===void 0?fS:mr(+n);function g(_){var C,S,A,E=(_=dS(_)).length,L,P=!1,R,V=new Array(E),z=new Array(E);for(c==null&&(p=h(R=m())),C=0;C<=E;++C){if(!(C<E&&l(L=_[C],C,_))===P)if(P=!P)S=C,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),A=C-1;A>=S;--A)p.point(V[A],z[A]);p.lineEnd(),p.areaEnd()}P&&(V[C]=+t(L,C,_),z[C]=+e(L,C,_),p.point(r?+r(L,C,_):V[C],n?+n(L,C,_):z[C]))}if(R)return p=null,R+""||null}function y(){return _b().defined(l).curve(h).context(c)}return g.x=function(_){return arguments.length?(t=typeof _=="function"?_:mr(+_),r=null,g):t},g.x0=function(_){return arguments.length?(t=typeof _=="function"?_:mr(+_),g):t},g.x1=function(_){return arguments.length?(r=_==null?null:typeof _=="function"?_:mr(+_),g):r},g.y=function(_){return arguments.length?(e=typeof _=="function"?_:mr(+_),n=null,g):e},g.y0=function(_){return arguments.length?(e=typeof _=="function"?_:mr(+_),g):e},g.y1=function(_){return arguments.length?(n=_==null?null:typeof _=="function"?_:mr(+_),g):n},g.lineX0=g.lineY0=function(){return y().x(t).y(e)},g.lineY1=function(){return y().x(t).y(n)},g.lineX1=function(){return y().x(r).y(e)},g.defined=function(_){return arguments.length?(l=typeof _=="function"?_:mr(!!_),g):l},g.curve=function(_){return arguments.length?(h=_,c!=null&&(p=h(c)),g):h},g.context=function(_){return arguments.length?(_==null?c=p=null:p=h(c=_),g):c},g}var TQ=fV(mQ(),1);var oTe=["caretElm"],aTe=t=>({model:t});function lTe(t,e){}function cTe(t,e){if(t&1&&(Me(0,"span"),at(1,lTe,0,0,"ng-template",5),Ee()),t&2){let n=Oe();ye(),_e("ngTemplateOutlet",n.template)("ngTemplateOutletContext",a4(2,aTe,n.context))}}function uTe(t,e){if(t&1&&vt(0,"span",6),t&2){let n=Oe();_e("innerHTML",n.title,lj)}}function hTe(t,e){if(t&1&&(Me(0,"header",4)(1,"span",5),pi(2),Ee()()),t&2){let n=Oe();ye(2),Sh(n.title)}}function dTe(t,e){if(t&1){let n=ls();Me(0,"li",6)(1,"ngx-charts-legend-entry",7),qn("select",function(l){hi(n);let c=Oe();return di(c.labelClick.emit(l))})("activate",function(l){hi(n);let c=Oe();return di(c.activate(l))})("deactivate",function(l){hi(n);let c=Oe();return di(c.deactivate(l))}),Ee()()}if(t&2){let n=e.$implicit,r=Oe();ye(),_e("label",n.label)("formattedLabel",n.formattedLabel)("color",n.color)("isActive",r.isActive(n))}}var AQ=["*"];function pTe(t,e){if(t&1&&vt(0,"ngx-charts-scale-legend",4),t&2){let n=Oe();_e("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("valueRange",n.legendOptions.domain)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)}}function fTe(t,e){if(t&1){let n=ls();Me(0,"ngx-charts-legend",5),qn("labelClick",function(l){hi(n);let c=Oe();return di(c.legendLabelClick.emit(l))})("labelActivate",function(l){hi(n);let c=Oe();return di(c.legendLabelActivate.emit(l))})("labelDeactivate",function(l){hi(n);let c=Oe();return di(c.legendLabelDeactivate.emit(l))}),Ee()}if(t&2){let n=Oe();_e("horizontal",n.legendOptions&&n.legendOptions.position===n.LegendPosition.Below)("data",n.legendOptions.domain)("title",n.legendOptions.title)("colors",n.legendOptions.colors)("height",n.view[1])("width",n.legendWidth)("activeEntries",n.activeEntries)}}var mTe=["ngx-charts-axis-label",""],MQ=["ticksel"],gTe=["ngx-charts-x-axis-ticks",""];function vTe(t,e){t&1&&(st(),Wl(0))}function yTe(t,e){if(t&1&&(st(),Me(0,"tspan",10),pi(1),Ee()),t&2){let n=e.$implicit,r=e.index;Ot("y",r*12),ye(),qa(" ",n," ")}}function xTe(t,e){if(t&1&&(st(),ma(0),at(1,yTe,2,2,"tspan",9),ga()),t&2){let n=e.ngIf;ye(),_e("ngForOf",n)}}function bTe(t,e){if(t&1&&at(0,xTe,2,1,"ng-container",6),t&2){let n=Oe(2).$implicit,r=Oe();_e("ngIf",r.tickChunks(n))}}function _Te(t,e){if(t&1&&pi(0),t&2){let n=Oe().ngIf,r=Oe(2);qa(" ",r.tickTrim(n)," ")}}function wTe(t,e){if(t&1&&(st(),ma(0),Me(1,"title"),pi(2),Ee(),Me(3,"text",7),at(4,vTe,1,0,"ng-container",8),Ee(),at(5,bTe,1,1,"ng-template",null,1,Mg)(7,_Te,1,1,"ng-template",null,2,Mg),ga()),t&2){let n=e.ngIf,r=Ep(6),l=Ep(8),c=Oe(2);ye(2),Sh(n),ye(),Ot("text-anchor",c.textAnchor)("transform",c.textTransform),ye(),_e("ngIf",c.isWrapTicksSupported)("ngIfThen",r)("ngIfElse",l)}}function CTe(t,e){if(t&1&&(st(),Me(0,"g",5),at(1,wTe,9,6,"ng-container",6),Ee()),t&2){let n=e.$implicit,r=Oe();Ot("transform",r.tickTransform(n)),ye(),_e("ngIf",r.tickFormat(n))}}function kTe(t,e){if(t&1&&(st(),Me(0,"g"),vt(1,"line",11),Ee()),t&2){let n=Oe(2);Ot("transform",n.gridLineTransform()),ye(),Ot("y1",-n.gridLineHeight)}}function DTe(t,e){if(t&1&&(st(),Me(0,"g"),at(1,kTe,2,2,"g",6),Ee()),t&2){let n=e.$implicit,r=Oe();Ot("transform",r.tickTransform(n)),ye(),_e("ngIf",r.showGridLines)}}var STe=["ngx-charts-x-axis",""];function TTe(t,e){if(t&1){let n=ls();st(),Me(0,"g",2),qn("dimensionsChanged",function(l){hi(n);let c=Oe();return di(c.emitTicksHeight(l))}),Ee()}if(t&2){let n=Oe();_e("trimTicks",n.trimTicks)("rotateTicks",n.rotateTicks)("maxTickLength",n.maxTickLength)("tickFormatting",n.tickFormatting)("tickArguments",n.tickArguments)("tickStroke",n.tickStroke)("scale",n.xScale)("orient",n.xOrient)("showGridLines",n.showGridLines)("gridLineHeight",n.dims.height)("width",n.dims.width)("tickValues",n.ticks)("wrapTicks",n.wrapTicks)}}function ATe(t,e){if(t&1&&(st(),vt(0,"g",3)),t&2){let n=Oe();_e("label",n.labelText)("offset",n.labelOffset)("orient",n.orientation.Bottom)("height",n.dims.height)("width",n.dims.width)}}var MTe=["ngx-charts-y-axis-ticks",""];function ETe(t,e){t&1&&(st(),Wl(0))}function LTe(t,e){if(t&1&&(st(),Me(0,"tspan",12),pi(1),Ee()),t&2){let n=e.$implicit,r=e.index,l=Oe(6);Ot("y",r*(8+l.tickSpacing)),ye(),qa(" ",n," ")}}function ITe(t,e){if(t&1&&(st(),ma(0),at(1,LTe,2,2,"tspan",11),ga()),t&2){let n=Oe().ngIf;ye(),_e("ngForOf",n)}}function OTe(t,e){if(t&1&&(st(),ma(0),at(1,ITe,2,1,"ng-container",10),ga()),t&2){let n=e.ngIf;Oe(2);let r=Ep(8);ye(),_e("ngIf",n.length>1)("ngIfElse",r)}}function RTe(t,e){if(t&1&&at(0,OTe,2,2,"ng-container",7),t&2){let n=Oe(2).$implicit,r=Oe();_e("ngIf",r.tickChunks(n))}}function PTe(t,e){if(t&1&&pi(0),t&2){let n=Oe().ngIf,r=Oe(2);qa(" ",r.tickTrim(n)," ")}}function FTe(t,e){if(t&1&&(st(),ma(0),Me(1,"title"),pi(2),Ee(),Me(3,"text",8),at(4,ETe,1,0,"ng-container",9),Ee(),at(5,RTe,1,1,"ng-template",null,1,Mg)(7,PTe,1,1,"ng-template",null,2,Mg),ga()),t&2){let n=e.ngIf,r=Ep(6),l=Ep(8),c=Oe(2);ye(2),Sh(n),ye(),Js("font-size","12px"),Ot("dy",c.dy)("x",c.x1)("y",c.y1)("text-anchor",c.textAnchor),ye(),_e("ngIf",c.wrapTicks)("ngIfThen",r)("ngIfElse",l)}}function NTe(t,e){if(t&1&&(st(),Me(0,"g",6),at(1,FTe,9,10,"ng-container",7),Ee()),t&2){let n=e.$implicit,r=Oe();Ot("transform",r.transform(n)),ye(),_e("ngIf",r.tickFormat(n))}}function BTe(t,e){if(t&1&&(st(),vt(0,"path",13)),t&2){let n=Oe();Ot("d",n.referenceAreaPath)("transform",n.gridLineTransform())}}function VTe(t,e){if(t&1&&(st(),vt(0,"line",15)),t&2){let n=Oe(3);Ot("x2",n.gridLineWidth)}}function zTe(t,e){if(t&1&&(st(),vt(0,"line",15)),t&2){let n=Oe(3);Ot("x2",-n.gridLineWidth)}}function HTe(t,e){if(t&1&&(st(),Me(0,"g"),at(1,VTe,1,1,"line",14)(2,zTe,1,1,"line",14),Ee()),t&2){let n=Oe(2);Ot("transform",n.gridLineTransform()),ye(),_e("ngIf",n.orient===n.Orientation.Left),ye(),_e("ngIf",n.orient===n.Orientation.Right)}}function jTe(t,e){if(t&1&&(st(),Me(0,"g"),at(1,HTe,3,3,"g",7),Ee()),t&2){let n=e.$implicit,r=Oe();Ot("transform",r.transform(n)),ye(),_e("ngIf",r.showGridLines)}}function GTe(t,e){if(t&1&&(st(),Me(0,"g")(1,"title"),pi(2),Ee(),Me(3,"text",17),pi(4),Ee()()),t&2){let n=Oe(2).$implicit,r=Oe();ye(2),Sh(r.tickTrim(r.tickFormat(n.value))),ye(),Ot("dy",r.dy)("y",-6)("x",r.gridLineWidth)("text-anchor",r.textAnchor),ye(),qa(" ",n.name," ")}}function WTe(t,e){if(t&1&&(st(),Me(0,"g"),vt(1,"line",16),at(2,GTe,5,6,"g",7),Ee()),t&2){let n=Oe().$implicit,r=Oe();Ot("transform",r.transform(n.value)),ye(),Ot("x2",r.gridLineWidth)("transform",r.gridLineTransform()),ye(),_e("ngIf",r.showRefLabels)}}function UTe(t,e){if(t&1&&(st(),Me(0,"g"),at(1,WTe,3,4,"g",7),Ee()),t&2){let n=Oe();ye(),_e("ngIf",n.showRefLines)}}var $Te=["ngx-charts-y-axis",""];function YTe(t,e){if(t&1){let n=ls();st(),Me(0,"g",2),qn("dimensionsChanged",function(l){hi(n);let c=Oe();return di(c.emitTicksWidth(l))}),Ee()}if(t&2){let n=Oe();_e("trimTicks",n.trimTicks)("maxTickLength",n.maxTickLength)("tickFormatting",n.tickFormatting)("tickArguments",n.tickArguments)("tickValues",n.ticks)("tickStroke",n.tickStroke)("scale",n.yScale)("orient",n.yOrient)("showGridLines",n.showGridLines)("gridLineWidth",n.dims.width)("referenceLines",n.referenceLines)("showRefLines",n.showRefLines)("showRefLabels",n.showRefLabels)("height",n.dims.height)("wrapTicks",n.wrapTicks)}}function XTe(t,e){if(t&1&&(st(),vt(0,"g",3)),t&2){let n=Oe();_e("label",n.labelText)("offset",n.labelOffset)("orient",n.yOrient)("height",n.dims.height)("width",n.dims.width)}}var qTe=["ngx-charts-svg-linear-gradient",""];function KTe(t,e){if(t&1&&(st(),vt(0,"stop")),t&2){let n=e.$implicit;Js("stop-color",n.color)("stop-opacity",n.opacity),Ot("offset",n.offset+"%")}}var ZTe=["ngx-charts-circle",""],QTe=["ngx-charts-circle-series",""],JTe=t=>({name:t});function e3e(t,e){if(t&1&&(st(),vt(0,"rect",4)),t&2){let n=Oe(2);_e("@animationState","active"),Ot("x",n.circle.cx-n.circle.radius)("y",n.circle.cy)("width",n.circle.radius*2)("height",n.circle.height)("fill",n.gradientFill)}}function t3e(t,e){if(t&1&&(st(),vt(0,"rect",4)),t&2){let n=Oe(2);Ot("x",n.circle.cx-n.circle.radius)("y",n.circle.cy)("width",n.circle.radius*2)("height",n.circle.height)("fill",n.gradientFill)}}function n3e(t,e){if(t&1){let n=ls();st(),Me(0,"g")(1,"defs"),vt(2,"g",1),Ee(),at(3,e3e,1,6,"rect",2)(4,t3e,1,5,"rect",2),Me(5,"g",3),qn("select",function(){hi(n);let l=Oe();return di(l.onClick(l.circle.data))})("activate",function(){hi(n);let l=Oe();return di(l.activateCircle())})("deactivate",function(){hi(n);let l=Oe();return di(l.deactivateCircle())}),Ee()()}if(t&2){let n=Oe();ye(2),_e("orientation",n.barOrientation.Vertical)("name",n.gradientId)("stops",n.circle.gradientStops),ye(),_e("ngIf",!n.isSSR&&n.barVisible&&n.type==="standard"),ye(),_e("ngIf",n.isSSR&&n.barVisible&&n.type==="standard"),ye(),gu("active",n.isActive(a4(20,JTe,n.circle.seriesName))),_e("cx",n.circle.cx)("cy",n.circle.cy)("r",n.circle.radius)("fill",n.circle.color)("pointerEvents",n.circle.value===0?"none":"all")("data",n.circle.value)("classNames",n.circle.classNames)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.placementTypes.Top)("tooltipType",n.styleTypes.tooltip)("tooltipTitle",n.tooltipTemplate?void 0:n.getTooltipText(n.circle))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",n.circle.data)}}var i3e=["ngx-charts-area",""];function r3e(t,e){if(t&1&&(st(),Me(0,"defs"),vt(1,"g",2),Ee()),t&2){let n=Oe();ye(),_e("orientation",n.barOrientation.Vertical)("name",n.gradientId)("stops",n.gradientStops)}}var s3e=["tooltipAnchor"],o3e=["ngx-charts-tooltip-area",""];function a3e(t,e){if(t&1&&(Me(0,"div",6),vt(1,"span",7),pi(2),Ee()),t&2){let n=e.$implicit,r=Oe(2);ye(),Js("background-color",n.color),ye(),qa(" ",r.getToolTipText(n)," ")}}function l3e(t,e){if(t&1&&(Me(0,"div",4),at(1,a3e,3,3,"div",5),Ee()),t&2){let n=e.model;ye(),_e("ngForOf",n)}}var c3e=["ngx-charts-timeline",""];var u3e=["tooltipTemplate"],h3e=["seriesTooltipTemplate"],EQ=(t,e)=>[t,e];var d3e=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var p3e=["ngx-charts-line",""];function f3e(t,e){if(t&1&&(st(),Me(0,"g"),vt(1,"path",1),Ee()),t&2){let n=Oe();ye(),_e("@animationState","active"),Ot("d",n.initialPath)("fill",n.fill)("stroke",n.stroke)}}function m3e(t,e){if(t&1&&(st(),Me(0,"g"),vt(1,"path",1),Ee()),t&2){let n=Oe();ye(),Ot("d",n.initialPath)("fill",n.fill)("stroke",n.stroke)}}var g3e=["ngx-charts-line-series",""];function v3e(t,e){if(t&1&&(st(),vt(0,"g",4)),t&2){let n=Oe();_e("orientation",n.barOrientation.Vertical)("name",n.gradientId)("stops",n.gradientStops)}}function y3e(t,e){if(t&1&&(st(),vt(0,"g",5)),t&2){let n=Oe();gu("active",n.isActive(n.data))("inactive",n.isInactive(n.data)),_e("data",n.data)("path",n.outerPath)("fill",n.hasGradient?n.gradientUrl:n.colors.getColor(n.data.name))("opacity",n.rangeFillOpacity)("animations",n.animations)}}function x3e(t,e){if(t&1){let n=ls();st(),Me(0,"g",7),qn("dimensionsChanged",function(l){hi(n);let c=Oe();return di(c.updateXAxisHeight(l))}),Ee()}if(t&2){let n=Oe();_e("xScale",n.xScale)("dims",n.dims)("showGridLines",n.showGridLines)("showLabel",n.showXAxisLabel)("labelText",n.xAxisLabel)("trimTicks",n.trimXAxisTicks)("rotateTicks",n.rotateXAxisTicks)("maxTickLength",n.maxXAxisTickLength)("tickFormatting",n.xAxisTickFormatting)("ticks",n.xAxisTicks)("wrapTicks",n.wrapTicks)}}function b3e(t,e){if(t&1){let n=ls();st(),Me(0,"g",8),qn("dimensionsChanged",function(l){hi(n);let c=Oe();return di(c.updateYAxisWidth(l))}),Ee()}if(t&2){let n=Oe();_e("yScale",n.yScale)("dims",n.dims)("showGridLines",n.showGridLines)("showLabel",n.showYAxisLabel)("labelText",n.yAxisLabel)("trimTicks",n.trimYAxisTicks)("maxTickLength",n.maxYAxisTickLength)("tickFormatting",n.yAxisTickFormatting)("ticks",n.yAxisTicks)("referenceLines",n.referenceLines)("showRefLines",n.showRefLines)("showRefLabels",n.showRefLabels)("wrapTicks",n.wrapTicks)}}function _3e(t,e){if(t&1&&(st(),Me(0,"g"),vt(1,"g",10),Ee()),t&2){let n=e.$implicit,r=Oe(2);_e("@animationState","active"),ye(),_e("xScale",r.xScale)("yScale",r.yScale)("colors",r.colors)("data",n)("activeEntries",r.activeEntries)("scaleType",r.scaleType)("curve",r.curve)("rangeFillOpacity",r.rangeFillOpacity)("hasRange",r.hasRange)("animations",r.animations)}}function w3e(t,e){if(t&1&&(st(),Me(0,"g"),at(1,_3e,2,11,"g",9),Ee()),t&2){let n=Oe();ye(),_e("ngForOf",n.results)("ngForTrackBy",n.trackBy)}}function C3e(t,e){if(t&1&&(st(),Me(0,"g"),vt(1,"g",10),Ee()),t&2){let n=e.$implicit,r=Oe(2);ye(),_e("xScale",r.xScale)("yScale",r.yScale)("colors",r.colors)("data",n)("activeEntries",r.activeEntries)("scaleType",r.scaleType)("curve",r.curve)("rangeFillOpacity",r.rangeFillOpacity)("hasRange",r.hasRange)("animations",r.animations)}}function k3e(t,e){if(t&1&&(st(),Me(0,"g"),at(1,C3e,2,10,"g",9),Ee()),t&2){let n=Oe();ye(),_e("ngForOf",n.results)("ngForTrackBy",n.trackBy)}}function D3e(t,e){if(t&1){let n=ls();st(),Me(0,"g")(1,"g",14),qn("select",function(l){hi(n);let c=Oe(2);return di(c.onClick(l))})("activate",function(l){hi(n);let c=Oe(2);return di(c.onActivate(l))})("deactivate",function(l){hi(n);let c=Oe(2);return di(c.onDeactivate(l))}),Ee()()}if(t&2){let n=e.$implicit,r=Oe(2);ye(),_e("xScale",r.xScale)("yScale",r.yScale)("colors",r.colors)("data",n)("scaleType",r.scaleType)("visibleValue",r.hoveredVertical)("activeEntries",r.activeEntries)("tooltipDisabled",r.tooltipDisabled)("tooltipTemplate",r.tooltipTemplate)}}function S3e(t,e){if(t&1){let n=ls();st(),Me(0,"g",11),qn("mouseleave",function(){hi(n);let l=Oe();return di(l.hideCircles())}),Me(1,"g",12),qn("hover",function(l){hi(n);let c=Oe();return di(c.updateHoveredVertical(l))}),Ee(),at(2,D3e,2,9,"g",13),Ee()}if(t&2){let n=Oe();ye(),_e("dims",n.dims)("xSet",n.xSet)("xScale",n.xScale)("yScale",n.yScale)("results",n.results)("colors",n.colors)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.seriesTooltipTemplate),ye(),_e("ngForOf",n.results)}}function T3e(t,e){if(t&1&&(st(),Me(0,"g"),vt(1,"g",16),Ee()),t&2){let n=e.$implicit,r=Oe(2);ye(),_e("xScale",r.timelineXScale)("yScale",r.timelineYScale)("colors",r.colors)("data",n)("scaleType",r.scaleType)("curve",r.curve)("hasRange",r.hasRange)("animations",r.animations)}}function A3e(t,e){if(t&1){let n=ls();st(),Me(0,"g",15),qn("onDomainChange",function(l){hi(n);let c=Oe();return di(c.updateDomain(l))}),at(1,T3e,2,8,"g",9),Ee()}if(t&2){let n=Oe();_e("results",n.results)("view",l4(10,EQ,n.timelineWidth,n.height))("height",n.timelineHeight)("scheme",n.scheme)("customColors",n.customColors)("scaleType",n.scaleType)("legend",n.legend),Ot("transform",n.timelineTransform),ye(),_e("ngForOf",n.results)("ngForTrackBy",n.trackBy)}}function M3e(t,e,n){n=n||{};let r,l,c,h=null,p=0;function m(){p=n.leading===!1?0:+new Date,h=null,c=t.apply(r,l)}return function(){let g=+new Date;!p&&n.leading===!1&&(p=g);let y=e-(g-p);return r=this,l=arguments,y<=0?(clearTimeout(h),h=null,p=g,c=t.apply(r,l)):!h&&n.trailing!==!1&&(h=setTimeout(m,y)),c}}function E3e(t,e){return function(r,l,c){return{configurable:!0,enumerable:c.enumerable,get:function(){return Object.defineProperty(this,l,{configurable:!0,enumerable:c.enumerable,value:M3e(c.value,t,e)}),this[l]}}}}var ln=function(t){return t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.Center="center",t}(ln||{}),od=7;function gQ(t,e,n){if(n===ln.Top)return t.top-od;if(n===ln.Bottom)return t.top+t.height-e.height+od;if(n===ln.Center)return t.top+t.height/2-e.height/2}function vQ(t,e,n){if(n===ln.Left)return t.left-od;if(n===ln.Right)return t.left+t.width-e.width+od;if(n===ln.Center)return t.left+t.width/2-e.width/2}var Cb=class t{static calculateVerticalAlignment(e,n,r){let l=gQ(e,n,r);return l+n.height>window.innerHeight&&(l=window.innerHeight-n.height),l}static calculateVerticalCaret(e,n,r,l){let c;l===ln.Top&&(c=e.height/2-r.height/2+od),l===ln.Bottom&&(c=n.height-e.height/2-r.height/2-od),l===ln.Center&&(c=n.height/2-r.height/2);let h=gQ(e,n,l);return h+n.height>window.innerHeight&&(c+=h+n.height-window.innerHeight),c}static calculateHorizontalAlignment(e,n,r){let l=vQ(e,n,r);return l+n.width>window.innerWidth&&(l=window.innerWidth-n.width),l}static calculateHorizontalCaret(e,n,r,l){let c;l===ln.Left&&(c=e.width/2-r.width/2+od),l===ln.Right&&(c=n.width-e.width/2-r.width/2-od),l===ln.Center&&(c=n.width/2-r.width/2);let h=vQ(e,n,l);return h+n.width>window.innerWidth&&(c+=h+n.width-window.innerWidth),c}static shouldFlip(e,n,r,l){let c=!1;return r===ln.Right&&e.left+e.width+n.width+l>window.innerWidth&&(c=!0),r===ln.Left&&e.left-n.width-l<0&&(c=!0),r===ln.Top&&e.top-n.height-l<0&&(c=!0),r===ln.Bottom&&e.top+e.height+n.height+l>window.innerHeight&&(c=!0),c}static positionCaret(e,n,r,l,c){let h=0,p=0;return e===ln.Right?(p=-7,h=t.calculateVerticalCaret(r,n,l,c)):e===ln.Left?(p=n.width,h=t.calculateVerticalCaret(r,n,l,c)):e===ln.Top?(h=n.height,p=t.calculateHorizontalCaret(r,n,l,c)):e===ln.Bottom&&(h=-7,p=t.calculateHorizontalCaret(r,n,l,c)),{top:h,left:p}}static positionContent(e,n,r,l,c){let h=0,p=0;return e===ln.Right?(p=r.left+r.width+l,h=t.calculateVerticalAlignment(r,n,c)):e===ln.Left?(p=r.left-n.width-l,h=t.calculateVerticalAlignment(r,n,c)):e===ln.Top?(h=r.top-n.height-l,p=t.calculateHorizontalAlignment(r,n,c)):e===ln.Bottom&&(h=r.top+r.height+l,p=t.calculateHorizontalAlignment(r,n,c)),{top:h,left:p}}static determinePlacement(e,n,r,l){if(t.shouldFlip(r,n,e,l)){if(e===ln.Right)return ln.Left;if(e===ln.Left)return ln.Right;if(e===ln.Top)return ln.Bottom;if(e===ln.Bottom)return ln.Top}return e}},L3e=(()=>{class t{constructor(n,r,l){this.element=n,this.renderer=r,this.platformId=l}get cssClasses(){let n="ngx-charts-tooltip-content";return n+=` position-${this.placement}`,n+=` type-${this.type}`,n+=` ${this.cssClass}`,n}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Ah(this.platformId))return;let n=this.element.nativeElement,r=this.host.nativeElement.getBoundingClientRect();if(!r.height&&!r.width)return;let l=n.getBoundingClientRect();this.checkFlip(r,l),this.positionContent(n,r,l),this.showCaret&&this.positionCaret(r,l),setTimeout(()=>this.renderer.addClass(n,"animate"),1)}positionContent(n,r,l){let{top:c,left:h}=Cb.positionContent(this.placement,l,r,this.spacing,this.alignment);this.renderer.setStyle(n,"top",`${c}px`),this.renderer.setStyle(n,"left",`${h}px`)}positionCaret(n,r){let l=this.caretElm.nativeElement,c=l.getBoundingClientRect(),{top:h,left:p}=Cb.positionCaret(this.placement,r,n,c,this.alignment);this.renderer.setStyle(l,"top",`${h}px`),this.renderer.setStyle(l,"left",`${p}px`)}checkFlip(n,r){this.placement=Cb.determinePlacement(this.placement,r,n,this.spacing)}onWindowResize(){this.position()}}return t.\u0275fac=function(n){return new(n||t)(dt(_r),dt(Tg),dt(as))},t.\u0275cmp=Nt({type:t,selectors:[["ngx-tooltip-content"]],viewQuery:function(n,r){if(n&1&&Mp(oTe,5),n&2){let l;Ul(l=$l())&&(r.caretElm=l.first)}},hostVars:2,hostBindings:function(n,r){n&1&&qn("resize",function(){return r.onWindowResize()},!1,cj),n&2&&Qj(r.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(n,r){n&1&&(Me(0,"div"),vt(1,"span",1,0),Me(3,"div",2),at(4,cTe,2,4,"span",3)(5,uTe,1,1,"span",4),Ee()()),n&2&&(ye(),oG("tooltip-caret position-",r.placement,""),_e("hidden",!r.showCaret),ye(3),_e("ngIf",!r.title),ye(),_e("ngIf",r.title))},dependencies:[wr,TG],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2}),OV([E3e(100)],t.prototype,"onWindowResize",null),t})(),R8=class{constructor(e){this.injectionService=e,this.defaults={},this.components=new Map}getByType(e=this.type){return this.components.get(e)}create(e){return this.createByType(this.type,e)}createByType(e,n){n=this.assignDefaults(n);let r=this.injectComponent(e,n);return this.register(e,r),r}destroy(e){let n=this.components.get(e.componentType);if(n&&n.length){let r=n.indexOf(e);r>-1&&(n[r].destroy(),n.splice(r,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(e){let n=this.components.get(e);if(n&&n.length){let r=n.length-1;for(;r>=0;)this.destroy(n[r--])}}injectComponent(e,n){return this.injectionService.appendComponent(e,n)}assignDefaults(e){let n=Ue({},this.defaults.inputs),r=Ue({},this.defaults.outputs);return!e.inputs&&!e.outputs&&(e={inputs:e}),n&&(e.inputs=Ue(Ue({},n),e.inputs)),r&&(e.outputs=Ue(Ue({},r),e.outputs)),e}register(e,n){this.components.has(e)||this.components.set(e,[]),this.components.get(e).push(n)}};function I3e(t){return t.element}var LQ=(()=>{class t{constructor(n,r,l){this.applicationRef=n,this.componentFactoryResolver=r,this.injector=l}static setGlobalRootViewContainer(n){t.globalRootViewContainer=n}getRootViewContainer(){if(this._container)return this._container;if(t.globalRootViewContainer)return t.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(n){this._container=n}getComponentRootNode(n){return I3e(n)?n.element.nativeElement:n.hostView&&n.hostView.rootNodes.length>0?n.hostView.rootNodes[0]:n.location.nativeElement}getRootViewContainerNode(n){return this.getComponentRootNode(n)}projectComponentBindings(n,r){if(r){if(r.inputs!==void 0){let l=Object.getOwnPropertyNames(r.inputs);for(let c of l)n.instance[c]=r.inputs[c]}if(r.outputs!==void 0){let l=Object.getOwnPropertyNames(r.outputs);for(let c of l)n.instance[c]=r.outputs[c]}}return n}appendComponent(n,r={},l){l||(l=this.getRootViewContainer());let c=this.getComponentRootNode(l),h=new yD(c,this.componentFactoryResolver,this.applicationRef,this.injector),p=new V1(n),m=h.attach(p);return this.projectComponentBindings(m,r),m}}return t.globalRootViewContainer=null,t.\u0275fac=function(n){return new(n||t)(wt(Th),wt(Sg),wt(pu))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),N8=(()=>{class t extends R8{constructor(n){super(n),this.type=L3e}}return t.\u0275fac=function(n){return new(n||t)(wt(LQ))},t.\u0275prov=ut({token:t,factory:t.\u0275fac}),t})(),Nf=function(t){return t.Right="right",t.Below="below",t}(Nf||{}),wb=function(t){return t.ScaleLegend="scaleLegend",t.Legend="legend",t}(wb||{}),pt=function(t){return t.Time="time",t.Linear="linear",t.Ordinal="ordinal",t.Quantile="quantile",t}(pt||{}),O3e=(()=>{class t{constructor(){this.horizontal=!1}ngOnChanges(n){let r=this.gradientString(this.colors.range(),this.colors.domain()),l=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${l}, ${r})`}gradientString(n,r){r.push(1);let l=[];return n.reverse().forEach((c,h)=>{l.push(`${c} ${Math.round(r[h]*100)}%`)}),l.join(", ")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Nt({type:t,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[ki],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(n,r){n&1&&(Me(0,"div",0)(1,"div",1)(2,"span"),pi(3),Ee()(),vt(4,"div",2),Me(5,"div",1)(6,"span"),pi(7),Ee()()()),n&2&&(Js("height",r.horizontal?void 0:r.height,"px")("width",r.width,"px"),gu("horizontal-legend",r.horizontal),ye(3),Sh(r.valueRange[1].toLocaleString()),ye(),Js("background",r.gradient),ye(3),Sh(r.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0}),t})();function IQ(t){return t instanceof Date?t=t.toLocaleDateString():t=t.toLocaleString(),t}function yQ(t){return t.toLocaleString().replace(/[&'`"<>]/g,e=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[e])}var R3e=(()=>{class t{constructor(){this.isActive=!1,this.select=new Tt,this.activate=new Tt,this.deactivate=new Tt,this.toggle=new Tt}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Nt({type:t,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(n,r){n&1&&qn("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(n,r){n&1&&(Me(0,"span",0),qn("click",function(){return r.select.emit(r.formattedLabel)}),Me(1,"span",1),qn("click",function(){return r.toggle.emit(r.formattedLabel)}),Ee(),Me(2,"span",2),pi(3),Ee()()),n&2&&(gu("active",r.isActive),_e("title",r.formattedLabel),ye(),Js("background-color",r.color),ye(2),qa(" ",r.trimmedLabel," "))},encapsulation:2,changeDetection:0}),t})(),P3e=(()=>{class t{constructor(n){this.cd=n,this.horizontal=!1,this.labelClick=new Tt,this.labelActivate=new Tt,this.labelDeactivate=new Tt,this.legendEntries=[]}ngOnChanges(n){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let n=[];for(let r of this.data){let l=IQ(r);n.findIndex(h=>h.label===l)===-1&&n.push({label:r,formattedLabel:l,color:this.colors.getColor(r)})}return n}isActive(n){return this.activeEntries?this.activeEntries.find(l=>n.label===l.name)!==void 0:!1}activate(n){this.labelActivate.emit(n)}deactivate(n){this.labelDeactivate.emit(n)}trackBy(n,r){return r.label}}return t.\u0275fac=function(n){return new(n||t)(dt(vu))},t.\u0275cmp=Nt({type:t,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[ki],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(n,r){n&1&&(Me(0,"div"),at(1,hTe,3,1,"header",0),Me(2,"div",1)(3,"ul",2),at(4,dTe,2,4,"li",3),Ee()()()),n&2&&(Js("width",r.width,"px"),ye(),_e("ngIf",(r.title==null?null:r.title.length)>0),ye(2),Js("max-height",r.height-45,"px"),gu("horizontal-legend",r.horizontal),ye(),_e("ngForOf",r.legendEntries)("ngForTrackBy",r.trackBy))},dependencies:[R3e,wr,yu],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0}),t})(),F3e=(()=>{class t{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new Tt,this.legendLabelActivate=new Tt,this.legendLabelDeactivate=new Tt,this.LegendPosition=Nf,this.LegendType=wb}ngOnChanges(n){this.update()}update(){let n=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===Nf.Right)&&(this.legendType===wb.ScaleLegend?n=1:n=2));let r=12-n;this.chartWidth=Math.floor(this.view[0]*r/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===Nf.Right?Math.floor(this.view[0]*n/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===pt.Linear?wb.ScaleLegend:wb.Legend}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Nt({type:t,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[lG([N8]),ki],ngContentSelectors:AQ,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(n,r){n&1&&(s4(),Me(0,"div",0),st(),Me(1,"svg",1),o4(2),Ee(),at(3,pTe,1,5,"ngx-charts-scale-legend",2)(4,fTe,1,7,"ngx-charts-legend",3),Ee()),n&2&&(Js("width",r.view[0],"px")("height",r.view[1],"px"),ye(),Ot("width",r.chartWidth)("height",r.view[1]),ye(2),_e("ngIf",r.showLegend&&r.legendType===r.LegendType.ScaleLegend),ye(),_e("ngIf",r.showLegend&&r.legendType===r.LegendType.Legend))},dependencies:[O3e,P3e,wr],encapsulation:2,changeDetection:0}),t})(),N3e=(()=>{class t{constructor(n,r){this.element=n,this.zone=r,this.visible=new Tt,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let n=()=>{if(!this.element)return;let{offsetHeight:r,offsetWidth:l}=this.element.nativeElement;r&&l?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>n())})}}return t.\u0275fac=function(n){return new(n||t)(dt(_r),dt(ui))},t.\u0275dir=Gl({type:t,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),t})();function xQ(t){return toString.call(t)==="[object Date]"}var B3e=(()=>{class t{constructor(n,r,l,c){this.chartElement=n,this.zone=r,this.cd=l,this.platformId=c,this.scheme="cool",this.schemeType=pt.Ordinal,this.animations=!0,this.select=new Tt}ngOnInit(){xu(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new N3e(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(n){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let n=this.getContainerDims();n&&(this.width=n.width,this.height=n.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let n,r,l=this.chartElement.nativeElement;if(Ah(this.platformId)&&l.parentNode!==null){let c=l.parentNode.getBoundingClientRect();n=c.width,r=c.height}return n&&r?{width:n,height:r}:null}formatDates(){for(let n=0;n<this.results.length;n++){let r=this.results[n];if(r.label=r.name,xQ(r.label)&&(r.label=r.label.toLocaleDateString()),r.series)for(let l=0;l<r.series.length;l++){let c=r.series[l];c.label=c.name,xQ(c.label)&&(c.label=c.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!Ah(this.platformId))return;let r=My(window,"resize").pipe(sE(200)).subscribe(l=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=r}cloneData(n){let r=[];for(let l of n){let c={};if(l.name!==void 0&&(c.name=l.name),l.value!==void 0&&(c.value=l.value),l.series!==void 0){c.series=[];for(let h of l.series){let p=Object.assign({},h);c.series.push(p)}}l.extra!==void 0&&(c.extra=JSON.parse(JSON.stringify(l.extra))),l.source!==void 0&&(c.source=l.source),l.target!==void 0&&(c.target=l.target),r.push(c)}return r}}return t.\u0275fac=function(n){return new(n||t)(dt(_r),dt(ui),dt(vu),dt(as))},t.\u0275cmp=Nt({type:t,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[ki],decls:1,vars:0,template:function(n,r){n&1&&vt(0,"div")},encapsulation:2}),t})(),ts=function(t){return t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t}(ts||{}),OQ=(()=>{class t{constructor(n){this.textHeight=25,this.margin=5,this.element=n.nativeElement}ngOnChanges(n){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case ts.Top:this.y=this.offset,this.x=this.width/2;break;case ts.Bottom:this.y=this.offset,this.x=this.width/2;break;case ts.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case ts.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)";break;default:}}}return t.\u0275fac=function(n){return new(n||t)(dt(_r))},t.\u0275cmp=Nt({type:t,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[ki],attrs:mTe,decls:2,vars:6,template:function(n,r){n&1&&(st(),Me(0,"text"),pi(1),Ee()),n&2&&(Ot("stroke-width",r.strokeWidth)("x",r.x)("y",r.y)("text-anchor",r.textAnchor)("transform",r.transform),ye(),qa(" ",r.label," "))},encapsulation:2,changeDetection:0}),t})();function RQ(t,e=16){return typeof t!="string"?typeof t=="number"?t+"":"":(t=t.trim(),t.length<=e?t:`${t.slice(0,e)}...`)}function PQ(t,e){if(t.length>e){let n=[],r=Math.floor(t.length/e);for(let l=0;l<t.length;l++)l%r===0&&n.push(t[l]);t=n}return t}function FQ(t,e,n){let r=(t||"").toString(),l=[];if(/\s/.test(r))l=r.split(/\s+/).reduce((c,h)=>{let p=(c.pop()||"")+" ";return p.length+h.length>e?[...c,p.trim(),h.trim()]:[...c,p+h]},[]);else{let c=0;for(;c<r.length;)l.push(r.substring(c,c+e)),c+=e}return l.length>n&&(l=l.splice(0,n),l[l.length-1]+="..."),l}var Hu=function(t){return t.Start="start",t.Middle="middle",t.End="end",t}(Hu||{}),bQ=(()=>{class t{constructor(n){this.platformId=n,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new Tt,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=Hu.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(n){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Ah(this.platformId)){this.dimensionsChanged.emit({height:this.approxHeight});return}let n=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);n!==this.height&&(this.height=n,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){let n=this.scale;this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:n.tickFormat?this.tickFormat=n.tickFormat.apply(n,this.tickArguments):this.tickFormat=function(l){return l.constructor.name==="Date"?l.toLocaleDateString():l.toLocaleString()};let r=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(l){return this.scale(l)+this.scale.bandwidth()*.5}:this.scale,this.textTransform="",r&&r!==0?(this.textTransform=`rotate(${r})`,this.textAnchor=Hu.End,this.verticalSpacing=10):this.textAnchor=Hu.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(n){let r=0;this.maxTicksLength=0;for(let _=0;_<n.length;_++){let C=this.tickFormat(n[_]).toString(),S=C.length;this.trimTicks&&(S=this.tickTrim(C).length),S>this.maxTicksLength&&(this.maxTicksLength=S)}let l=Math.min(this.maxTicksLength,this.maxAllowedLength),c=7,h=l*c,p=h,m=Math.floor(this.width/n.length);for(;p>m&&r>-90;)r-=30,p=Math.cos(r*(Math.PI/180))*h;let g=14;if(this.isWrapTicksSupported){let _=this.ticks.reduce((S,A)=>A.length>S.length?A:S,"");g=14*(this.tickChunks(_).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(_)}let y=r!==0?Math.max(Math.abs(Math.sin(r*Math.PI/180))*this.maxTickLength*c,10):g;return this.approxHeight=Math.min(y,200),r}getTicks(){let n,r=this.getMaxTicks(20),l=this.getMaxTicks(100);return this.tickValues?n=this.tickValues:this.scale.ticks?n=this.scale.ticks.apply(this.scale,[l]):(n=this.scale.domain(),n=PQ(n,r)),n}getMaxTicks(n){return Math.floor(this.width/n)}tickTransform(n){return"translate("+this.adjustedScale(n)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(n){return this.trimTicks?RQ(n,this.maxTickLength):n}getMaxPossibleLengthForTick(n){if(this.scale.bandwidth){let l=Math.floor(this.scale.bandwidth()/7),c=n.slice(0,l);return Math.max(c.length,this.maxTickLength)}return this.maxTickLength}tickChunks(n){if(n.toString().length>this.maxTickLength&&this.scale.bandwidth){let l=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(l<=1)return[this.tickTrim(n)];let c=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return Ah(this.platformId)||(c=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),l=Math.min(l,5),FQ(n,c,l<1?1:l)}return[this.tickTrim(n)]}}return t.\u0275fac=function(n){return new(n||t)(dt(as))},t.\u0275cmp=Nt({type:t,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(n,r){if(n&1&&Mp(MQ,5),n&2){let l;Ul(l=$l())&&(r.ticksElement=l.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[ki],attrs:gTe,decls:4,vars:2,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(n,r){n&1&&(st(),Me(0,"g",null,0),at(2,CTe,2,2,"g",3),Ee(),at(3,DTe,2,2,"g",4)),n&2&&(ye(2),_e("ngForOf",r.ticks),ye(),_e("ngForOf",r.ticks))},dependencies:[yu,wr],encapsulation:2,changeDetection:0}),t})(),V3e=(()=>{class t{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=ts.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new Tt,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=ts}ngOnChanges(n){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:n}){let r=n+25+5;r!==this.labelOffset&&(this.labelOffset=r,setTimeout(()=>{this.dimensionsChanged.emit({height:n})},0))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Nt({type:t,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(n,r){if(n&1&&Mp(bQ,5),n&2){let l;Ul(l=$l())&&(r.ticksComponent=l.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[ki],attrs:STe,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"dimensionsChanged","trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,r){n&1&&(st(),Me(0,"g"),at(1,TTe,1,13,"g",0)(2,ATe,1,5,"g",1),Ee()),n&2&&(Ot("class",r.xAxisClassName)("transform",r.transform),ye(),_e("ngIf",r.xScale),ye(),_e("ngIf",r.showLabel))},dependencies:[bQ,OQ,wr],encapsulation:2,changeDetection:0}),t})();function z3e(t,e,n,r,l,[c,h,p,m]){let g="";return n=Math.floor(n),r=Math.floor(r),n=n===0?1:n,r=r===0?1:r,g=`M${[t+l,e]}`,g+=`h${n-2*l}`,h?g+=`a${[l,l]} 0 0 1 ${[l,l]}`:g+=`h${l}v${l}`,g+=`v${r-2*l}`,m?g+=`a${[l,l]} 0 0 1 ${[-l,l]}`:g+=`v${l}h${-l}`,g+=`h${2*l-n}`,p?g+=`a${[l,l]} 0 0 1 ${[-l,-l]}`:g+=`h${-l}v${-l}`,g+=`v${2*l-r}`,c?g+=`a${[l,l]} 0 0 1 ${[l,-l]}`:g+=`v${-l}h${l}`,g+="z",g}var _Q=(()=>{class t{constructor(n){this.platformId=n,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new Tt,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=Hu.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=ts}ngOnChanges(n){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Ah(this.platformId)){this.width=this.getApproximateAxisWidth(),this.dimensionsChanged.emit({width:this.width});return}let n=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);n!==this.width&&(this.width=n,this.dimensionsChanged.emit({width:n}),setTimeout(()=>this.updateDims()))}update(){let n=this.scale,r=this.orient===ts.Top||this.orient===ts.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:n.tickFormat?this.tickFormat=n.tickFormat.apply(n,this.tickArguments):this.tickFormat=function(l){return l.constructor.name==="Date"?l.toLocaleDateString():l.toLocaleString()},this.adjustedScale=n.bandwidth?l=>{let c=n(l)+n.bandwidth()*.5;if(this.wrapTicks&&l.toString().length>this.maxTickLength){let h=this.tickChunks(l).length;if(h===1)return c;let p=n.bandwidth(),m=h*8,g=p*.5-m*.5;return n(l)+g}return c}:n,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case ts.Top:this.transform=function(l){return"translate("+this.adjustedScale(l)+",0)"},this.textAnchor=Hu.Middle,this.y2=this.innerTickSize*r,this.y1=this.tickSpacing*r,this.dy=r<0?"0em":".71em";break;case ts.Bottom:this.transform=function(l){return"translate("+this.adjustedScale(l)+",0)"},this.textAnchor=Hu.Middle,this.y2=this.innerTickSize*r,this.y1=this.tickSpacing*r,this.dy=r<0?"0em":".71em";break;case ts.Left:this.transform=function(l){return"translate(0,"+this.adjustedScale(l)+")"},this.textAnchor=Hu.End,this.x2=this.innerTickSize*-r,this.x1=this.tickSpacing*-r,this.dy=".32em";break;case ts.Right:this.transform=function(l){return"translate(0,"+this.adjustedScale(l)+")"},this.textAnchor=Hu.Start,this.x2=this.innerTickSize*-r,this.x1=this.tickSpacing*-r,this.dy=".32em";break;default:}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(n=>n.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(n=>n.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=z3e(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let n,r=this.getMaxTicks(20),l=this.getMaxTicks(50);return this.tickValues?n=this.tickValues:this.scale.ticks?n=this.scale.ticks.apply(this.scale,[l]):(n=this.scale.domain(),n=PQ(n,r)),n}getMaxTicks(n){return Math.floor(this.height/n)}tickTransform(n){return`translate(${this.adjustedScale(n)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(n){return this.trimTicks?RQ(n,this.maxTickLength):n}getApproximateAxisWidth(){return Math.max(...this.ticks.map(l=>this.tickTrim(this.tickFormat(l)).length))*7}tickChunks(n){if(n.toString().length>this.maxTickLength&&this.scale.bandwidth){let r=this.maxTickLength,l=Math.floor(this.scale.bandwidth()/15);return l<=1?[this.tickTrim(n)]:FQ(n,r,Math.min(l,5))}return[this.tickFormat(n)]}}return t.\u0275fac=function(n){return new(n||t)(dt(as))},t.\u0275cmp=Nt({type:t,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(n,r){if(n&1&&Mp(MQ,5),n&2){let l;Ul(l=$l())&&(r.ticksElement=l.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[ki],attrs:MTe,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(n,r){n&1&&(st(),Me(0,"g",null,0),at(2,NTe,2,2,"g",3),Ee(),at(3,BTe,1,2,"path",4)(4,jTe,2,2,"g",5)(5,UTe,2,1,"g",5)),n&2&&(ye(2),_e("ngForOf",r.ticks),ye(),_e("ngIf",r.referenceLineLength>1&&r.refMax&&r.refMin&&r.showRefLines),ye(),_e("ngForOf",r.ticks),ye(),_e("ngForOf",r.referenceLines))},dependencies:[yu,wr],encapsulation:2,changeDetection:0}),t})(),H3e=(()=>{class t{constructor(){this.showGridLines=!1,this.yOrient=ts.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new Tt,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(n){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===ts.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,this.yAxisTickCount!==void 0&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:n}){n!==this.labelOffset&&this.yOrient===ts.Right?(this.labelOffset=n+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:n})},0)):n!==this.labelOffset&&(this.labelOffset=n,setTimeout(()=>{this.dimensionsChanged.emit({width:n})},0))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Nt({type:t,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(n,r){if(n&1&&Mp(_Q,5),n&2){let l;Ul(l=$l())&&(r.ticksComponent=l.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[ki],attrs:$Te,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"dimensionsChanged","trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(n,r){n&1&&(st(),Me(0,"g"),at(1,YTe,1,15,"g",0)(2,XTe,1,5,"g",1),Ee()),n&2&&(Ot("class",r.yAxisClassName)("transform",r.transform),ye(),_e("ngIf",r.yScale),ye(),_e("ngIf",r.showLabel))},dependencies:[_Q,OQ,wr],encapsulation:2,changeDetection:0}),t})(),wQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xa({type:t}),t.\u0275inj=Ya({imports:[[Og]]}),t})(),vS=function(t){return t.popover="popover",t.tooltip="tooltip",t}(vS||{}),J0=function(t){return t[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover",t}(J0||{}),NQ=(()=>{class t{constructor(n,r,l){this.tooltipService=n,this.viewContainerRef=r,this.renderer=l,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=ln.Top,this.tooltipAlignment=ln.Center,this.tooltipType=vS.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=J0.all,this.tooltipImmediateExit=!1,this.show=new Tt,this.hide=new Tt}get listensForFocus(){return this.tooltipShowEvent===J0.all||this.tooltipShowEvent===J0.focus}get listensForHover(){return this.tooltipShowEvent===J0.all||this.tooltipShowEvent===J0.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(n){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(n))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(n){if(this.component||this.tooltipDisabled)return;let r=n?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let l=this.createBoundOptions();this.component=this.tooltipService.create(l),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},r)}addHideListeners(n){this.mouseEnterContentEvent=this.renderer.listen(n,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(n,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",r=>{n.contains(r.target)||this.hideTooltip()}))}hideTooltip(n=!1){if(!this.component)return;let r=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),n?r():this.timeout=setTimeout(r,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return t.\u0275fac=function(n){return new(n||t)(dt(N8),dt(fa),dt(Tg))},t.\u0275dir=Gl({type:t,selectors:[["","ngx-tooltip",""]],hostBindings:function(n,r){n&1&&qn("focusin",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(c){return r.onMouseLeave(c.target)})("click",function(){return r.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),t})(),CQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xa({type:t}),t.\u0275inj=Ya({providers:[LQ,N8],imports:[[Og]]}),t})(),kQ={};function ev(){let t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return t=`a${t}`,kQ[t]?ev():(kQ[t]=!0,t)}var Bf=function(t){return t.Vertical="vertical",t.Horizontal="horizontal",t}(Bf||{}),B8=(()=>{class t{constructor(){this.orientation=Bf.Vertical}ngOnChanges(n){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===Bf.Horizontal?this.x2="100%":this.orientation===Bf.Vertical&&(this.y1="100%")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Nt({type:t,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[ki],attrs:qTe,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(n,r){n&1&&(st(),Me(0,"linearGradient",0),at(1,KTe,1,5,"stop",1),Ee()),n&2&&(_e("id",r.name),Ot("x1",r.x1)("y1",r.y1)("x2",r.x2)("y2",r.y2),ye(),_e("ngForOf",r.stops))},dependencies:[yu],encapsulation:2,changeDetection:0}),t})(),j3e=(()=>{class t{constructor(){this.select=new Tt,this.activate=new Tt,this.deactivate=new Tt}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}ngOnChanges(n){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Nt({type:t,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(n,r){n&1&&qn("click",function(){return r.onClick()})("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",classNames:"classNames",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[ki],attrs:ZTe,decls:1,vars:8,template:function(n,r){n&1&&(st(),vt(0,"circle")),n&2&&Ot("cx",r.cx)("cy",r.cy)("r",r.r)("fill",r.fill)("stroke",r.stroke)("opacity",r.circleOpacity)("class",r.classNames)("pointer-events",r.pointerEvents)},encapsulation:2,changeDetection:0}),t})(),gS=function(t){return t.Standard="standard",t.Stacked="stacked",t}(gS||{}),G3e=(()=>{class t{constructor(n){this.platformId=n,this.type=gS.Standard,this.tooltipDisabled=!1,this.select=new Tt,this.activate=new Tt,this.deactivate=new Tt,this.barVisible=!1,this.barOrientation=Bf,this.placementTypes=ln,this.styleTypes=vS,this.isSSR=!1}ngOnInit(){this.gradientId="grad"+ev().toString(),this.gradientFill=`url(#${this.gradientId})`,xu(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.circle=this.getActiveCircle()}getActiveCircle(){let n=this.data.series.findIndex(r=>{let l=r.name;return l&&this.visibleValue&&l.toString()===this.visibleValue.toString()&&r.value!==void 0});if(n!==-1)return this.mapDataPointToCircle(this.data.series[n],n)}mapDataPointToCircle(n,r){let l=this.data.name,c=n.value,h=n.name,p=IQ(h),m;this.scaleType===pt.Time?m=this.xScale(h):this.scaleType===pt.Linear?m=this.xScale(Number(h)):m=this.xScale(h);let g=this.yScale(this.type===gS.Standard?c:n.d1),y=5,_=this.yScale.range()[0]-g,C=1,S;this.colors.scaleType===pt.Linear?this.type===gS.Standard?S=this.colors.getColor(c):S=this.colors.getColor(n.d1):S=this.colors.getColor(l);let A=Object.assign({},n,{series:l,value:c,name:h});return{classNames:[`circle-data-${r}`],value:c,label:h,data:A,cx:m,cy:g,radius:y,height:_,tooltipLabel:p,color:S,opacity:C,seriesName:l,gradientStops:this.getGradientStops(S),min:n.min,max:n.max}}getTooltipText({tooltipLabel:n,value:r,seriesName:l,min:c,max:h}){return`
      <span class="tooltip-label">${yQ(l)} \u2022 ${yQ(n)}</span>
      <span class="tooltip-val">${r.toLocaleString()}${this.getTooltipMinMaxText(c,h)}</span>
    `}getTooltipMinMaxText(n,r){if(n!==void 0||r!==void 0){let l=" (";return n!==void 0?(r===void 0&&(l+="\u2265"),l+=n.toLocaleString(),r!==void 0&&(l+=" - ")):r!==void 0&&(l+="\u2264"),r!==void 0&&(l+=r.toLocaleString()),l+=")",l}else return""}getGradientStops(n){return[{offset:0,color:n,opacity:.2},{offset:100,color:n,opacity:1}]}onClick(n){this.select.emit(n)}isActive(n){return this.activeEntries?this.activeEntries.find(l=>n.name===l.name)!==void 0:!1}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name})}}return t.\u0275fac=function(n){return new(n||t)(dt(as))},t.\u0275cmp=Nt({type:t,selectors:[["g","ngx-charts-circle-series",""]],inputs:{data:"data",type:"type",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[ki],attrs:QTe,decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"select","activate","deactivate","cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext"],[1,"tooltip-bar"]],template:function(n,r){n&1&&at(0,n3e,6,22,"g",0),n&2&&_e("ngIf",r.circle)},dependencies:[B8,j3e,wr,NQ],encapsulation:2,data:{animation:[H1("animationState",[I0(":enter",[hl({opacity:0}),L0(250,hl({opacity:1}))])])]},changeDetection:0}),t})();var W3e=(()=>{class t{constructor(n){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new Tt,this.animationsLoaded=!1,this.hasGradient=!1,this.barOrientation=Bf,this.element=n.nativeElement}ngOnChanges(){this.update(),this.animationsLoaded||(this.loadAnimation(),this.animationsLoaded=!0)}update(){this.gradientId="grad"+ev().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.updatePathEl.bind(this),100)}updatePathEl(){let n=ms(this.element).select(".area");this.animations?n.transition().duration(750).attr("d",this.path):n.attr("d",this.path)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}]}}return t.\u0275fac=function(n){return new(n||t)(dt(_r))},t.\u0275cmp=Nt({type:t,selectors:[["g","ngx-charts-area",""]],inputs:{data:"data",path:"path",startingPath:"startingPath",fill:"fill",opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",stops:"stops",animations:"animations"},outputs:{select:"select"},features:[ki],attrs:i3e,decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(n,r){n&1&&(at(0,r3e,2,3,"defs",0),st(),vt(1,"path",1)),n&2&&(_e("ngIf",r.gradient),ye(),Js("opacity",r.opacity),Ot("d",r.areaPath)("fill",r.gradient?r.gradientFill:r.fill))},dependencies:[B8,wr],encapsulation:2,changeDetection:0}),t})();var P8;typeof window<"u"?P8=window:typeof global<"u"&&(P8=global);var DQ=P8.MouseEvent;function O8(t,e=!1,n=!0){if(typeof DQ=="function")return new DQ(t,{bubbles:e,cancelable:n});{let r=document.createEvent("MouseEvent");return r.initEvent(t,e,n),r}}var U3e=(()=>{class t{constructor(n){this.platformId=n,this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.placementTypes=ln,this.styleTypes=vS,this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new Tt}getValues(n){let r=[];for(let l of this.results){let c=l.series.find(p=>p.name.toString()===n.toString()),h=l.name;if(h instanceof Date&&(h=h.toLocaleDateString()),c){let p=c.name,m=c.value;this.showPercentage&&(m=(c.d1-c.d0).toFixed(2)+"%");let g;if(this.colors.scaleType===pt.Linear){let _=m;c.d1&&(_=c.d1),g=this.colors.getColor(_)}else g=this.colors.getColor(l.name);let y=Object.assign({},c,{value:m,name:p,series:h,min:c.min,max:c.max,color:g});r.push(y)}}return r}mouseMove(n){if(!Ah(this.platformId))return;let r=n.pageX-n.target.getBoundingClientRect().left,l=this.findClosestPointIndex(r),c=this.xSet[l];if(this.anchorPos=this.xScale(c),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(c),this.anchorPos!==this.lastAnchorPos){let h=O8("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(h),this.anchorOpacity=.7,this.hover.emit({value:c}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}}findClosestPointIndex(n){let r=0,l=this.xSet.length-1,c=Number.MAX_VALUE,h=0;for(;r<=l;){let p=(r+l)/2|0,m=this.xScale(this.xSet[p]),g=Math.abs(m-n);if(g<c&&(c=g,h=p),m<n)r=p+1;else if(m>n)l=p-1;else{c=0,h=p;break}}return h}showTooltip(){let n=O8("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(n)}hideTooltip(){let n=O8("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(n),this.anchorOpacity=0,this.lastAnchorPos=-1}getToolTipText(n){let r="";return n.series!==void 0?r+=n.series:r+="???",r+=": ",n.value!==void 0&&(r+=n.value.toLocaleString()),(n.min!==void 0||n.max!==void 0)&&(r+=" (",n.min!==void 0?(n.max===void 0&&(r+="\u2265"),r+=n.min.toLocaleString(),n.max!==void 0&&(r+=" - ")):n.max!==void 0&&(r+="\u2264"),n.max!==void 0&&(r+=n.max.toLocaleString()),r+=")"),r}}return t.\u0275fac=function(n){return new(n||t)(dt(as))},t.\u0275cmp=Nt({type:t,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(n,r){if(n&1&&Mp(s3e,5),n&2){let l;Ul(l=$l())&&(r.tooltipAnchor=l.first)}},inputs:{dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},attrs:o3e,decls:6,vars:18,consts:[["defaultTooltipTemplate",""],["tooltipAnchor",""],["y","0",1,"tooltip-area",2,"opacity","0","cursor","'auto'",3,"mousemove","mouseleave"],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(n,r){if(n&1){let l=ls();st(),Me(0,"g")(1,"rect",2),qn("mousemove",function(h){return hi(l),di(r.mouseMove(h))})("mouseleave",function(){return hi(l),di(r.hideTooltip())}),Ee(),at(2,l3e,2,1,"ng-template",null,0,Mg),vt(4,"rect",3,1),Ee()}if(n&2){let l=Ep(3);ye(),Ot("x",0)("width",r.dims.width)("height",r.dims.height),ye(3),Js("opacity",r.anchorOpacity)("pointer-events","none"),_e("@animationState",r.anchorOpacity!==0?"active":"inactive")("tooltipDisabled",r.tooltipDisabled)("tooltipPlacement",r.placementTypes.Right)("tooltipType",r.styleTypes.tooltip)("tooltipSpacing",15)("tooltipTemplate",r.tooltipTemplate?r.tooltipTemplate:l)("tooltipContext",r.anchorValues)("tooltipImmediateExit",!0),Ot("x",r.anchorPos)("width",1)("height",r.dims.height)}},dependencies:[yu,NQ],encapsulation:2,data:{animation:[H1("animationState",[I0("inactive => active",[hl({opacity:0}),L0(250,hl({opacity:.7}))]),I0("active => inactive",[hl({opacity:.7}),L0(250,hl({opacity:0}))])])]},changeDetection:0}),t})(),$3e=(()=>{class t{constructor(n,r){this.cd=r,this.height=50,this.select=new Tt,this.onDomainChange=new Tt,this.initialized=!1,this.element=n.nativeElement}ngOnChanges(n){this.update(),this.initialized||(this.addBrush(),this.initialized=!0)}update(){this.dims=this.getDims(),this.height=this.dims.height;let n=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${n})`,this.filterId="filter"+ev().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck()}getXDomain(){let n=[];for(let l of this.results)for(let c of l.series)n.includes(c.name)||n.push(c.name);let r=[];if(this.scaleType===pt.Time){let l=Math.min(...n),c=Math.max(...n);r=[l,c]}else if(this.scaleType===pt.Linear){n=n.map(h=>Number(h));let l=Math.min(...n),c=Math.max(...n);r=[l,c]}else r=n;return r}getXScale(){let n;return this.scaleType===pt.Time?n=bb().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===pt.Linear?n=yc().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===pt.Ordinal&&(n=QD().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),n}addBrush(){if(this.brush)return;let n=this.height,r=this.view[0];this.brush=n8().extent([[0,0],[r,n]]).on("brush end",({selection:l})=>{let h=(l||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(h),this.cd.markForCheck()}),ms(this.element).select(".brush").call(this.brush)}updateBrush(){if(!this.brush)return;let n=this.height,r=this.view[0];this.brush.extent([[0,0],[r,n]]),ms(this.element).select(".brush").call(this.brush),ms(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck()}getDims(){return{width:this.view[0],height:this.height}}}return t.\u0275fac=function(n){return new(n||t)(dt(_r),dt(vu))},t.\u0275cmp=Nt({type:t,selectors:[["g","ngx-charts-timeline",""]],inputs:{view:"view",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",autoScale:"autoScale",scaleType:"scaleType",height:"height"},outputs:{select:"select",onDomainChange:"onDomainChange"},features:[ki],attrs:c3e,ngContentSelectors:AQ,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(n,r){n&1&&(s4(),st(),Me(0,"g",0)(1,"filter"),vt(2,"feColorMatrix",1),Ee(),Me(3,"g",2),o4(4),Ee(),vt(5,"rect",3)(6,"g",4),Ee()),n&2&&(Ot("transform",r.transform),ye(),Ot("id",r.filterId),ye(4),Ot("width",r.view[0])("height",r.height))},styles:[`.timeline .brush-background{fill:#0000000d}.timeline .brush .selection{fill:#0000001a;stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}
`],encapsulation:2,changeDetection:0}),t})();var Y3e=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xa({type:t}),t.\u0275inj=Ya({imports:[[Og,wQ,CQ],Og,wQ,CQ]}),t})();function X3e({width:t,height:e,margins:n,showXAxis:r=!1,showYAxis:l=!1,xAxisHeight:c=0,yAxisWidth:h=0,showXLabel:p=!1,showYLabel:m=!1,showLegend:g=!1,legendType:y=pt.Ordinal,legendPosition:_=Nf.Right,columns:C=12}){let S=n[3],A=t,E=e-n[0]-n[2];return g&&_===Nf.Right&&(y===pt.Ordinal?C-=2:C-=1),A=A*C/12,A=A-n[1]-n[3],r&&(E-=5,E-=c,p&&(E-=30)),l&&(A-=5,A-=h,S+=h,S+=10,m&&(A-=30,S+=30)),A=Math.max(0,A),E=Math.max(0,E),{width:Math.floor(A),height:Math.floor(E),xOffset:Math.floor(S)}}var SQ=[{name:"vivid",selectable:!0,group:pt.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:pt.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:pt.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:pt.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:pt.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:pt.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:pt.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:pt.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:pt.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:pt.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:pt.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:pt.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:pt.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:pt.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:pt.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],F8=class{constructor(e,n,r,l){typeof e=="string"&&(e=SQ.find(c=>c.name===e)),this.colorDomain=e.domain,this.scaleType=n,this.domain=r,this.customColors=l,this.scale=this.generateColorScheme(e,n,this.domain)}generateColorScheme(e,n,r){typeof e=="string"&&(e=SQ.find(c=>c.name===e));let l;switch(n){case pt.Quantile:l=ub().range(e.domain).domain(r);break;case pt.Ordinal:l=wf().range(e.domain).domain(r);break;case pt.Linear:{let c=[...e.domain];c.length===1&&(c.push(c[0]),this.colorDomain=c);let h=j0(0,1,1/c.length);l=yc().range(c).domain(h)}break;default:break}return l}getColor(e){if(e==null)throw new Error("Value can not be null");if(this.scaleType===pt.Linear){let n=yc().domain(this.domain).range([0,1]);return this.scale(n(e))}else{if(typeof this.customColors=="function")return this.customColors(e);let n=e.toString(),r;return this.customColors&&this.customColors.length>0&&(r=this.customColors.find(l=>l.name.toLowerCase()===n.toLowerCase())),r?r.value:this.scale(e)}}getLinearGradientStops(e,n){n===void 0&&(n=this.domain[0]);let r=yc().domain(this.domain).range([0,1]),l=G0().domain(this.colorDomain).range([0,1]),c=this.getColor(e),h=r(n),p=this.getColor(n),m=r(e),g=1,y=h,_=[];for(_.push({color:p,offset:h,originalOffset:h,opacity:1});y<m&&g<this.colorDomain.length;){let C=this.colorDomain[g],S=l(C);if(S<=h){g++;continue}if(S.toFixed(4)>=(m-l.bandwidth()).toFixed(4))break;_.push({color:C,offset:S,opacity:1}),y=S,g++}if(_[_.length-1].offset<100&&_.push({color:c,offset:m,opacity:1}),m===h)_[0].offset=0,_[1].offset=100;else if(_[_.length-1].offset!==100)for(let C of _)C.offset=(C.offset-h)/(m-h)*100;return _}};function q3e(t){let e=new Set;for(let n of t)for(let r of n.series)e.add(r.name);return Array.from(e)}function K3e(t,e=!0){return e&&t.every(l=>l instanceof Date)?pt.Time:t.every(r=>typeof r=="number")?pt.Linear:pt.Ordinal}function Z3e(t,e,n="asc"){return t.sort((r,l)=>n==="asc"?r[e]-l[e]:l[e]-r[e])}function Q3e(t,e,n="asc",r){return t.sort((l,c)=>{let h=l[e],p=c[e],m=r.indexOf(h),g=r.indexOf(p);return n==="asc"?m-g:g-m})}function J3e(t,e,n="asc"){return t.sort((r,l)=>{let c=r[e].getTime(),h=l[e].getTime();return n==="asc"?c>h?1:h>c?-1:0:c>h?-1:h>c?1:0})}var zXe=(0,TQ.default)();var eAe=(()=>{class t{constructor(n,r){this.element=n,this.platformId=r,this.fill="none",this.animations=!0,this.initialized=!1,this.isSSR=!1}ngOnInit(){xu(this.platformId)&&(this.isSSR=!0)}ngOnChanges(n){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path)}updatePathEl(){let n=ms(this.element.nativeElement).select(".line");this.animations?n.transition().duration(750).attr("d",this.path):n.attr("d",this.path)}}return t.\u0275fac=function(n){return new(n||t)(dt(_r),dt(as))},t.\u0275cmp=Nt({type:t,selectors:[["g","ngx-charts-line",""]],inputs:{path:"path",stroke:"stroke",data:"data",fill:"fill",animations:"animations"},features:[ki],attrs:p3e,decls:2,vars:2,consts:[[4,"ngIf"],["stroke-width","1.5px",1,"line"]],template:function(n,r){n&1&&at(0,f3e,2,4,"g",0)(1,m3e,2,3,"g",0),n&2&&(_e("ngIf",!r.isSSR),ye(),_e("ngIf",r.isSSR))},dependencies:[wr],encapsulation:2,data:{animation:[H1("animationState",[I0(":enter",[hl({strokeDasharray:2e3,strokeDashoffset:2e3}),L0(1e3,hl({strokeDashoffset:0}))])])]},changeDetection:0}),t})(),tAe=(()=>{class t{constructor(){this.animations=!0,this.barOrientation=Bf}ngOnChanges(n){this.update()}update(){this.updateGradients();let n=this.sortData(this.data.series),r=this.getLineGenerator();this.path=r(n)||"";let l=this.getAreaGenerator();if(this.areaPath=l(n)||"",this.hasRange){let c=this.getRangeGenerator();this.outerPath=c(n)||""}if(this.hasGradient){this.stroke=this.gradientUrl;let c=this.data.series.map(m=>m.value),h=Math.max(...c),p=Math.min(...c);h===p&&(this.stroke=this.colors.getColor(h))}else this.stroke=this.colors.getColor(this.data.name)}getLineGenerator(){return _b().x(n=>{let r=n.name,l;return this.scaleType===pt.Time?l=this.xScale(r):this.scaleType===pt.Linear?l=this.xScale(Number(r)):l=this.xScale(r),l}).y(n=>this.yScale(n.value)).curve(this.curve)}getRangeGenerator(){return mS().x(n=>{let r=n.name,l;return this.scaleType===pt.Time?l=this.xScale(r):this.scaleType===pt.Linear?l=this.xScale(Number(r)):l=this.xScale(r),l}).y0(n=>this.yScale(typeof n.min=="number"?n.min:n.value)).y1(n=>this.yScale(typeof n.max=="number"?n.max:n.value)).curve(this.curve)}getAreaGenerator(){let n=r=>{let l=r.name;return this.xScale(l)};return mS().x(n).y0(()=>this.yScale.range()[0]).y1(r=>this.yScale(r.value)).curve(this.curve)}sortData(n){return this.scaleType===pt.Linear?n=Z3e(n,"name"):this.scaleType===pt.Time?n=J3e(n,"name"):n=Q3e(n,"name","asc",this.xScale.domain()),n}updateGradients(){if(this.colors.scaleType===pt.Linear){this.hasGradient=!0,this.gradientId="grad"+ev().toString(),this.gradientUrl=`url(#${this.gradientId})`;let n=this.data.series.map(c=>c.value),r=Math.max(...n),l=Math.min(...n);this.gradientStops=this.colors.getLinearGradientStops(r,l),this.areaGradientStops=this.colors.getLinearGradientStops(r)}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0}isActive(n){return this.activeEntries?this.activeEntries.find(l=>n.name===l.name)!==void 0:!1}isInactive(n){return!this.activeEntries||this.activeEntries.length===0?!1:this.activeEntries.find(l=>n.name===l.name)===void 0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Nt({type:t,selectors:[["g","ngx-charts-line-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange",animations:"animations"},features:[ki],attrs:g3e,decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(n,r){n&1&&(st(),Me(0,"g")(1,"defs"),at(2,v3e,1,3,"g",0),Ee(),vt(3,"g",1)(4,"g",2),at(5,y3e,1,9,"g",3),Ee()),n&2&&(ye(2),_e("ngIf",r.hasGradient),ye(),gu("active",r.isActive(r.data))("inactive",r.isInactive(r.data)),_e("data",r.data)("path",r.areaPath)("fill",r.hasGradient?r.gradientUrl:r.colors.getColor(r.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",r.areaGradientStops)("animations",r.animations),ye(),gu("active",r.isActive(r.data))("inactive",r.isInactive(r.data)),_e("data",r.data)("path",r.path)("stroke",r.stroke)("animations",r.animations),ye(),_e("ngIf",r.hasRange))},dependencies:[B8,W3e,eAe,wr],encapsulation:2,changeDetection:0}),t})(),BQ=(()=>{class t extends B3e{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition=Nf.Right,this.showGridLines=!0,this.curve=Ff,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.wrapTicks=!1,this.activate=new Tt,this.deactivate=new Tt,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.isSSR=!1}ngOnInit(){xu(this.platformId)&&(this.isSSR=!0)}update(){super.update(),this.dims=X3e({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+ev().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let n=q3e(this.results);this.scaleType=K3e(n);let r=[];this.scaleType===pt.Linear&&(n=n.map(h=>Number(h)));let l,c;return(this.scaleType===pt.Time||this.scaleType===pt.Linear)&&(l=this.xScaleMin?this.xScaleMin:Math.min(...n),c=this.xScaleMax?this.xScaleMax:Math.max(...n)),this.scaleType===pt.Time?(r=[new Date(l),new Date(c)],this.xSet=[...n].sort((h,p)=>{let m=h.getTime(),g=p.getTime();return m>g?1:g>m?-1:0})):this.scaleType===pt.Linear?(r=[l,c],this.xSet=[...n].sort((h,p)=>h-p)):(r=n,this.xSet=n),r}getYDomain(){let n=[];for(let h of this.results)for(let p of h.series)n.indexOf(p.value)<0&&n.push(p.value),p.min!==void 0&&(this.hasRange=!0,n.indexOf(p.min)<0&&n.push(p.min)),p.max!==void 0&&(this.hasRange=!0,n.indexOf(p.max)<0&&n.push(p.max));let r=[...n];this.autoScale||r.push(0);let l=this.yScaleMin?this.yScaleMin:Math.min(...r),c=this.yScaleMax?this.yScaleMax:Math.max(...r);return[l,c]}getSeriesDomain(){return this.results.map(n=>n.name)}getXScale(n,r){let l;return this.scaleType===pt.Time?l=bb().range([0,r]).domain(n):this.scaleType===pt.Linear?(l=yc().range([0,r]).domain(n),this.roundDomains&&(l=l.nice())):this.scaleType===pt.Ordinal&&(l=QD().range([0,r]).padding(.1).domain(n)),l}getYScale(n,r){let l=yc().range([r,0]).domain(n);return this.roundDomains?l.nice():l}updateDomain(n){this.filteredDomain=n,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(n){this.hoveredVertical=n.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(n){this.select.emit(n)}trackBy(n,r){return`${r.name}`}setColors(){let n;this.schemeType===pt.Ordinal?n=this.seriesDomain:n=this.yDomain,this.colors=new F8(this.scheme,this.schemeType,n,this.customColors)}getLegendOptions(){let n={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return n.scaleType===pt.Ordinal?(n.domain=this.seriesDomain,n.colors=this.colors,n.title=this.legendTitle):(n.domain=this.yDomain,n.colors=this.colors.scale),n}updateYAxisWidth({width:n}){this.yAxisWidth=n,this.update()}updateXAxisHeight({height:n}){this.xAxisHeight=n,this.update()}onActivate(n){this.deactivateAll(),!(this.activeEntries.findIndex(l=>l.name===n.name&&l.value===n.value)>-1)&&(this.activeEntries=[n],this.activate.emit({value:n,entries:this.activeEntries}))}onDeactivate(n){let r=this.activeEntries.findIndex(l=>l.name===n.name&&l.value===n.value);this.activeEntries.splice(r,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:n,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(let n of this.activeEntries)this.deactivate.emit({value:n,entries:[]});this.activeEntries=[]}}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=$y(t)))(r||t)}})(),t.\u0275cmp=Nt({type:t,selectors:[["ngx-charts-line-chart"]],contentQueries:function(n,r,l){if(n&1&&(TC(l,u3e,5),TC(l,h3e,5)),n&2){let c;Ul(c=$l())&&(r.tooltipTemplate=c.first),Ul(c=$l())&&(r.seriesTooltipTemplate=c.first)}},hostBindings:function(n,r){n&1&&qn("mouseleave",function(){return r.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",referenceLines:"referenceLines",showRefLabels:"showRefLabels",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[i4],decls:12,vars:20,consts:[[3,"legendLabelClick","legendLabelActivate","legendLabelDeactivate","view","showLegend","legendOptions","activeEntries","animations"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngIf"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"dimensionsChanged","xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks"],["ngx-charts-y-axis","",3,"dimensionsChanged","yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"hover","dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"select","activate","deactivate","xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate"],["ngx-charts-timeline","",3,"onDomainChange","results","view","height","scheme","customColors","scaleType","legend"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(n,r){n&1&&(Me(0,"ngx-charts-chart",0),qn("legendLabelClick",function(c){return r.onClick(c)})("legendLabelActivate",function(c){return r.onActivate(c)})("legendLabelDeactivate",function(c){return r.onDeactivate(c)}),st(),Me(1,"defs")(2,"clipPath"),vt(3,"rect"),Ee()(),Me(4,"g",1),at(5,x3e,1,11,"g",2)(6,b3e,1,13,"g",3),Me(7,"g"),at(8,w3e,2,2,"g",4)(9,k3e,2,2,"g",4)(10,S3e,3,9,"g",5),Ee()(),at(11,A3e,2,13,"g",6),Ee()),n&2&&(_e("view",l4(17,EQ,r.width,r.height))("showLegend",r.legend)("legendOptions",r.legendOptions)("activeEntries",r.activeEntries)("animations",r.animations),ye(2),Ot("id",r.clipPathId),ye(),Ot("width",r.dims.width+10)("height",r.dims.height+10)("transform","translate(-5, -5)"),ye(),Ot("transform",r.transform),ye(),_e("ngIf",r.xAxis),ye(),_e("ngIf",r.yAxis),ye(),Ot("clip-path",r.clipPath),ye(),_e("ngIf",!r.isSSR),ye(),_e("ngIf",r.isSSR),ye(),_e("ngIf",!r.tooltipDisabled),ye(),_e("ngIf",r.timeline&&r.scaleType!="ordinal"))},dependencies:[F3e,V3e,H3e,tAe,U3e,G3e,$3e,wr,yu],styles:[d3e],encapsulation:2,data:{animation:[H1("animationState",[I0(":leave",[hl({opacity:1}),L0(500,hl({opacity:0}))])])]},changeDetection:0}),t})(),VQ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xa({type:t}),t.\u0275inj=Ya({imports:[[Y3e]]}),t})();var HXe=2*Math.PI;var zQ=(()=>{let e=class e{constructor(r){this.graphDataService=r,this.multi=[],this.legend=!1,this.xAxis=!0,this.yAxis=!0,this.showYAxisLabel=!0,this.showXAxisLabel=!0,this.xAxisLabel="Wavelength [nm]",this.yAxisLabel="Intensity [AU]",this.timeline=!0,this.colorScheme={domain:["#5AA454","#E44D25","#CFC0BB","#7aa3e5","#a8385d","#aae3f5"]}}ngOnInit(){this.graphDataService.getMeasurement().subscribe(r=>{this.multi=ed.toNgxChartMultiSeries(r)})}};e.\u0275fac=function(l){return new(l||e)(dt(mf))},e.\u0275cmp=Nt({type:e,selectors:[["app-ngx-charts-line-chart"]],standalone:!0,features:[ar],decls:3,vars:9,consts:[["containerRef",""],[3,"legend","showXAxisLabel","showYAxisLabel","xAxis","yAxis","xAxisLabel","yAxisLabel","timeline","results"]],template:function(l,c){l&1&&(Me(0,"div",null,0),vt(2,"ngx-charts-line-chart",1),Ee()),l&2&&(ye(2),_e("legend",c.legend)("showXAxisLabel",c.showXAxisLabel)("showYAxisLabel",c.showYAxisLabel)("xAxis",c.xAxis)("yAxis",c.yAxis)("xAxisLabel",c.xAxisLabel)("yAxisLabel",c.yAxisLabel)("timeline",c.timeline)("results",c.multi))},dependencies:[VQ,BQ]});let t=e;return t})();function Sb(t){return t+.5|0}var ad=(t,e,n)=>Math.max(Math.min(t,n),e);function kb(t){return ad(Sb(t*2.55),0,255)}function ld(t){return ad(Sb(t*255),0,255)}function ju(t){return ad(Sb(t/2.55)/100,0,1)}function HQ(t){return ad(Sb(t*100),0,100)}var Ta={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},z8=[..."0123456789ABCDEF"],iAe=t=>z8[t&15],rAe=t=>z8[(t&240)>>4]+z8[t&15],yS=t=>(t&240)>>4===(t&15),sAe=t=>yS(t.r)&&yS(t.g)&&yS(t.b)&&yS(t.a);function oAe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ta[t[1]]*17,g:255&Ta[t[2]]*17,b:255&Ta[t[3]]*17,a:e===5?Ta[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ta[t[1]]<<4|Ta[t[2]],g:Ta[t[3]]<<4|Ta[t[4]],b:Ta[t[5]]<<4|Ta[t[6]],a:e===9?Ta[t[7]]<<4|Ta[t[8]]:255})),n}var aAe=(t,e)=>t<255?e(t):"";function lAe(t){var e=sAe(t)?iAe:rAe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+aAe(t.a,e):void 0}var cAe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function UQ(t,e,n){let r=e*Math.min(n,1-n),l=(c,h=(c+t/30)%12)=>n-r*Math.max(Math.min(h-3,9-h,1),-1);return[l(0),l(8),l(4)]}function uAe(t,e,n){let r=(l,c=(l+t/60)%6)=>n-n*e*Math.max(Math.min(c,4-c,1),0);return[r(5),r(3),r(1)]}function hAe(t,e,n){let r=UQ(t,1,.5),l;for(e+n>1&&(l=1/(e+n),e*=l,n*=l),l=0;l<3;l++)r[l]*=1-e-n,r[l]+=e;return r}function dAe(t,e,n,r,l){return t===l?(e-n)/r+(e<n?6:0):e===l?(n-t)/r+2:(t-e)/r+4}function H8(t){let n=t.r/255,r=t.g/255,l=t.b/255,c=Math.max(n,r,l),h=Math.min(n,r,l),p=(c+h)/2,m,g,y;return c!==h&&(y=c-h,g=p>.5?y/(2-c-h):y/(c+h),m=dAe(n,r,l,y,c),m=m*60+.5),[m|0,g||0,p]}function j8(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ld)}function G8(t,e,n){return j8(UQ,t,e,n)}function pAe(t,e,n){return j8(hAe,t,e,n)}function fAe(t,e,n){return j8(uAe,t,e,n)}function $Q(t){return(t%360+360)%360}function mAe(t){let e=cAe.exec(t),n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?kb(+e[5]):ld(+e[5]));let l=$Q(+e[2]),c=+e[3]/100,h=+e[4]/100;return e[1]==="hwb"?r=pAe(l,c,h):e[1]==="hsv"?r=fAe(l,c,h):r=G8(l,c,h),{r:r[0],g:r[1],b:r[2],a:n}}function gAe(t,e){var n=H8(t);n[0]=$Q(n[0]+e),n=G8(n),t.r=n[0],t.g=n[1],t.b=n[2]}function vAe(t){if(!t)return;let e=H8(t),n=e[0],r=HQ(e[1]),l=HQ(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${l}%, ${ju(t.a)})`:`hsl(${n}, ${r}%, ${l}%)`}var jQ={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},GQ={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function yAe(){let t={},e=Object.keys(GQ),n=Object.keys(jQ),r,l,c,h,p;for(r=0;r<e.length;r++){for(h=p=e[r],l=0;l<n.length;l++)c=n[l],p=p.replace(c,jQ[c]);c=parseInt(GQ[h],16),t[p]=[c>>16&255,c>>8&255,c&255]}return t}var xS;function xAe(t){xS||(xS=yAe(),xS.transparent=[0,0,0,0]);let e=xS[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var bAe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _Ae(t){let e=bAe.exec(t),n=255,r,l,c;if(e){if(e[7]!==r){let h=+e[7];n=e[8]?kb(h):ad(h*255,0,255)}return r=+e[1],l=+e[3],c=+e[5],r=255&(e[2]?kb(r):ad(r,0,255)),l=255&(e[4]?kb(l):ad(l,0,255)),c=255&(e[6]?kb(c):ad(c,0,255)),{r,g:l,b:c,a:n}}}function wAe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ju(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var V8=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,tv=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function CAe(t,e,n){let r=tv(ju(t.r)),l=tv(ju(t.g)),c=tv(ju(t.b));return{r:ld(V8(r+n*(tv(ju(e.r))-r))),g:ld(V8(l+n*(tv(ju(e.g))-l))),b:ld(V8(c+n*(tv(ju(e.b))-c))),a:t.a+n*(e.a-t.a)}}function bS(t,e,n){if(t){let r=H8(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=G8(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function YQ(t,e){return t&&Object.assign(e||{},t)}function WQ(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ld(t[3]))):(e=YQ(t,{r:0,g:0,b:0,a:1}),e.a=ld(e.a)),e}function kAe(t){return t.charAt(0)==="r"?_Ae(t):mAe(t)}var Db=class t{constructor(e){if(e instanceof t)return e;let n=typeof e,r;n==="object"?r=WQ(e):n==="string"&&(r=oAe(e)||xAe(e)||kAe(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=YQ(this._rgb);return e&&(e.a=ju(e.a)),e}set rgb(e){this._rgb=WQ(e)}rgbString(){return this._valid?wAe(this._rgb):void 0}hexString(){return this._valid?lAe(this._rgb):void 0}hslString(){return this._valid?vAe(this._rgb):void 0}mix(e,n){if(e){let r=this.rgb,l=e.rgb,c,h=n===c?.5:n,p=2*h-1,m=r.a-l.a,g=((p*m===-1?p:(p+m)/(1+p*m))+1)/2;c=1-g,r.r=255&g*r.r+c*l.r+.5,r.g=255&g*r.g+c*l.g+.5,r.b=255&g*r.b+c*l.b+.5,r.a=h*r.a+(1-h)*l.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=CAe(this._rgb,e._rgb,n)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=ld(e),this}clearer(e){let n=this._rgb;return n.a*=1-e,this}greyscale(){let e=this._rgb,n=Sb(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){let n=this._rgb;return n.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return bS(this._rgb,2,e),this}darken(e){return bS(this._rgb,2,-e),this}saturate(e){return bS(this._rgb,1,e),this}desaturate(e){return bS(this._rgb,1,-e),this}rotate(e){return gAe(this._rgb,e),this}};function Cc(){}var rJ=(()=>{let t=0;return()=>t++})();function Sn(t){return t===null||typeof t>"u"}function gi(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function cn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ni(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ao(t,e){return Ni(t)?t:e}function Et(t,e){return typeof t>"u"?e:t}var sJ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Y8=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function si(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Un(t,e,n,r){let l,c,h;if(gi(t))if(c=t.length,r)for(l=c-1;l>=0;l--)e.call(n,t[l],l);else for(l=0;l<c;l++)e.call(n,t[l],l);else if(cn(t))for(h=Object.keys(t),c=h.length,l=0;l<c;l++)e.call(n,t[h[l]],h[l])}function Mb(t,e){let n,r,l,c;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(l=t[n],c=e[n],l.datasetIndex!==c.datasetIndex||l.index!==c.index)return!1;return!0}function kS(t){if(gi(t))return t.map(kS);if(cn(t)){let e=Object.create(null),n=Object.keys(t),r=n.length,l=0;for(;l<r;++l)e[n[l]]=kS(t[n[l]]);return e}return t}function oJ(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function DAe(t,e,n,r){if(!oJ(t))return;let l=e[t],c=n[t];cn(l)&&cn(c)?iv(l,c,r):e[t]=kS(c)}function iv(t,e,n){let r=gi(e)?e:[e],l=r.length;if(!cn(t))return t;n=n||{};let c=n.merger||DAe,h;for(let p=0;p<l;++p){if(h=r[p],!cn(h))continue;let m=Object.keys(h);for(let g=0,y=m.length;g<y;++g)c(m[g],t,h,n)}return t}function sv(t,e){return iv(t,e,{merger:SAe})}function SAe(t,e,n){if(!oJ(t))return;let r=e[t],l=n[t];cn(r)&&cn(l)?sv(r,l):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=kS(l))}var XQ={"":t=>t,x:t=>t.x,y:t=>t.y};function TAe(t){let e=t.split("."),n=[],r="";for(let l of e)r+=l,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function AAe(t){let e=TAe(t);return n=>{for(let r of e){if(r==="")break;n=n&&n[r]}return n}}function Uu(t,e){return(XQ[e]||(XQ[e]=AAe(e)))(t)}function AS(t){return t.charAt(0).toUpperCase()+t.slice(1)}var ov=t=>typeof t<"u",Gu=t=>typeof t=="function",X8=(t,e)=>{if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0};function aJ(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var vi=Math.PI,yi=2*vi,MAe=yi+vi,DS=Number.POSITIVE_INFINITY,EAe=vi/180,Yi=vi/2,Vf=vi/4,qQ=vi*2/3,Wu=Math.log10,fl=Math.sign;function av(t,e,n){return Math.abs(t-e)<n}function q8(t){let e=Math.round(t);t=av(t,e,t/1e3)?e:t;let n=Math.pow(10,Math.floor(Wu(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function lJ(t){let e=[],n=Math.sqrt(t),r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((l,c)=>l-c).pop(),e}function jf(t){return!isNaN(parseFloat(t))&&isFinite(t)}function cJ(t,e){let n=Math.round(t);return n-e<=t&&n+e>=t}function K8(t,e,n){let r,l,c;for(r=0,l=t.length;r<l;r++)c=t[r][n],isNaN(c)||(e.min=Math.min(e.min,c),e.max=Math.max(e.max,c))}function Aa(t){return t*(vi/180)}function MS(t){return t*(180/vi)}function Z8(t){if(!Ni(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Q8(t,e){let n=e.x-t.x,r=e.y-t.y,l=Math.sqrt(n*n+r*r),c=Math.atan2(r,n);return c<-.5*vi&&(c+=yi),{angle:c,distance:l}}function SS(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function LAe(t,e){return(t-e+MAe)%yi-vi}function oo(t){return(t%yi+yi)%yi}function lv(t,e,n,r){let l=oo(t),c=oo(e),h=oo(n),p=oo(c-l),m=oo(h-l),g=oo(l-c),y=oo(l-h);return l===c||l===h||r&&c===h||p>m&&g<y}function Ar(t,e,n){return Math.max(e,Math.min(n,t))}function uJ(t){return Ar(t,-32768,32767)}function kc(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function ES(t,e,n){n=n||(h=>t[h]<e);let r=t.length-1,l=0,c;for(;r-l>1;)c=l+r>>1,n(c)?l=c:r=c;return{lo:l,hi:r}}var _c=(t,e,n,r)=>ES(t,n,r?l=>{let c=t[l][e];return c<n||c===n&&t[l+1][e]===n}:l=>t[l][e]<n),hJ=(t,e,n)=>ES(t,n,r=>t[r][e]>=n);function dJ(t,e,n){let r=0,l=t.length;for(;r<l&&t[r]<e;)r++;for(;l>r&&t[l-1]>n;)l--;return r>0||l<t.length?t.slice(r,l):t}var pJ=["push","pop","shift","splice","unshift"];function fJ(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),pJ.forEach(n=>{let r="_onData"+AS(n),l=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...c){let h=l.apply(this,c);return t._chartjs.listeners.forEach(p=>{typeof p[r]=="function"&&p[r](...c)}),h}})})}function J8(t,e){let n=t._chartjs;if(!n)return;let r=n.listeners,l=r.indexOf(e);l!==-1&&r.splice(l,1),!(r.length>0)&&(pJ.forEach(c=>{delete t[c]}),delete t._chartjs)}function e6(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var t6=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function n6(t,e){let n=[],r=!1;return function(...l){n=l,r||(r=!0,t6.call(window,()=>{r=!1,t.apply(e,n)}))}}function mJ(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}var LS=t=>t==="start"?"left":t==="end"?"right":"center",ns=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,gJ=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function i6(t,e,n){let r=e.length,l=0,c=r;if(t._sorted){let{iScale:h,_parsed:p}=t,m=h.axis,{min:g,max:y,minDefined:_,maxDefined:C}=h.getUserBounds();_&&(l=Ar(Math.min(_c(p,m,g).lo,n?r:_c(e,m,h.getPixelForValue(g)).lo),0,r-1)),C?c=Ar(Math.max(_c(p,h.axis,y,!0).hi+1,n?0:_c(e,m,h.getPixelForValue(y),!0).hi+1),l,r)-l:c=r-l}return{start:l,count:c}}function r6(t){let{xScale:e,yScale:n,_scaleRanges:r}=t,l={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=l,!0;let c=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,l),c}var _S=t=>t===0||t===1,KQ=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*yi/n)),ZQ=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*yi/n)+1,nv={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Yi)+1,easeOutSine:t=>Math.sin(t*Yi),easeInOutSine:t=>-.5*(Math.cos(vi*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>_S(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>_S(t)?t:KQ(t,.075,.3),easeOutElastic:t=>_S(t)?t:ZQ(t,.075,.3),easeInOutElastic(t){return _S(t)?t:t<.5?.5*KQ(t*2,.1125,.45):.5+.5*ZQ(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-nv.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?nv.easeInBounce(t*2)*.5:nv.easeOutBounce(t*2-1)*.5+.5};function s6(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function o6(t){return s6(t)?t:new Db(t)}function W8(t){return s6(t)?t:new Db(t).saturate(.5).darken(.1).hexString()}var IAe=["x","y","borderWidth","radius","tension"],OAe=["color","borderColor","backgroundColor"];function RAe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:OAe},numbers:{type:"number",properties:IAe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function PAe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var QQ=new Map;function FAe(t,e){e=e||{};let n=t+JSON.stringify(e),r=QQ.get(n);return r||(r=new Intl.NumberFormat(t,e),QQ.set(n,r)),r}function cv(t,e,n){return FAe(e,n).format(t)}var vJ={values(t){return gi(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";let r=this.chart.options.locale,l,c=t;if(n.length>1){let g=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(g<1e-4||g>1e15)&&(l="scientific"),c=NAe(t,n)}let h=Wu(Math.abs(c)),p=isNaN(h)?1:Math.max(Math.min(-1*Math.floor(h),20),0),m={notation:l,minimumFractionDigits:p,maximumFractionDigits:p};return Object.assign(m,this.options.ticks.format),cv(t,r,m)},logarithmic(t,e,n){if(t===0)return"0";let r=n[e].significand||t/Math.pow(10,Math.floor(Wu(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?vJ.numeric.call(this,t,e,n):""}};function NAe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Eb={formatters:vJ};function BAe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Eb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var ud=Object.create(null),IS=Object.create(null);function Tb(t,e){if(!e)return t;let n=e.split(".");for(let r=0,l=n.length;r<l;++r){let c=n[r];t=t[c]||(t[c]=Object.create(null))}return t}function U8(t,e,n){return typeof e=="string"?iv(Tb(t,e),n):iv(Tb(t,""),e)}var $8=class{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,l)=>W8(l.backgroundColor),this.hoverBorderColor=(r,l)=>W8(l.borderColor),this.hoverColor=(r,l)=>W8(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return U8(this,e,n)}get(e){return Tb(this,e)}describe(e,n){return U8(IS,e,n)}override(e,n){return U8(ud,e,n)}route(e,n,r,l){let c=Tb(this,e),h=Tb(this,r),p="_"+n;Object.defineProperties(c,{[p]:{value:c[n],writable:!0},[n]:{enumerable:!0,get(){let m=this[p],g=h[l];return cn(m)?Object.assign({},g,m):Et(m,g)},set(m){this[p]=m}}})}apply(e){e.forEach(n=>n(this))}},Bi=new $8({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[RAe,PAe,BAe]);function VAe(t){return!t||Sn(t.size)||Sn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ab(t,e,n,r,l){let c=e[l];return c||(c=e[l]=t.measureText(l).width,n.push(l)),c>r&&(r=c),r}function yJ(t,e,n,r){r=r||{};let l=r.data=r.data||{},c=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(l=r.data={},c=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let h=0,p=n.length,m,g,y,_,C;for(m=0;m<p;m++)if(_=n[m],_!=null&&!gi(_))h=Ab(t,l,c,h,_);else if(gi(_))for(g=0,y=_.length;g<y;g++)C=_[g],C!=null&&!gi(C)&&(h=Ab(t,l,c,h,C));t.restore();let S=c.length/2;if(S>n.length){for(m=0;m<S;m++)delete l[c[m]];c.splice(0,S)}return h}function hd(t,e,n){let r=t.currentDevicePixelRatio,l=n!==0?Math.max(n/2,.5):0;return Math.round((e-l)*r)/r+l}function a6(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function OS(t,e,n,r){l6(t,e,n,r,null)}function l6(t,e,n,r,l){let c,h,p,m,g,y,_,C,S=e.pointStyle,A=e.rotation,E=e.radius,L=(A||0)*EAe;if(S&&typeof S=="object"&&(c=S.toString(),c==="[object HTMLImageElement]"||c==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(L),t.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),t.restore();return}if(!(isNaN(E)||E<=0)){switch(t.beginPath(),S){default:l?t.ellipse(n,r,l/2,E,0,0,yi):t.arc(n,r,E,0,yi),t.closePath();break;case"triangle":y=l?l/2:E,t.moveTo(n+Math.sin(L)*y,r-Math.cos(L)*E),L+=qQ,t.lineTo(n+Math.sin(L)*y,r-Math.cos(L)*E),L+=qQ,t.lineTo(n+Math.sin(L)*y,r-Math.cos(L)*E),t.closePath();break;case"rectRounded":g=E*.516,m=E-g,h=Math.cos(L+Vf)*m,_=Math.cos(L+Vf)*(l?l/2-g:m),p=Math.sin(L+Vf)*m,C=Math.sin(L+Vf)*(l?l/2-g:m),t.arc(n-_,r-p,g,L-vi,L-Yi),t.arc(n+C,r-h,g,L-Yi,L),t.arc(n+_,r+p,g,L,L+Yi),t.arc(n-C,r+h,g,L+Yi,L+vi),t.closePath();break;case"rect":if(!A){m=Math.SQRT1_2*E,y=l?l/2:m,t.rect(n-y,r-m,2*y,2*m);break}L+=Vf;case"rectRot":_=Math.cos(L)*(l?l/2:E),h=Math.cos(L)*E,p=Math.sin(L)*E,C=Math.sin(L)*(l?l/2:E),t.moveTo(n-_,r-p),t.lineTo(n+C,r-h),t.lineTo(n+_,r+p),t.lineTo(n-C,r+h),t.closePath();break;case"crossRot":L+=Vf;case"cross":_=Math.cos(L)*(l?l/2:E),h=Math.cos(L)*E,p=Math.sin(L)*E,C=Math.sin(L)*(l?l/2:E),t.moveTo(n-_,r-p),t.lineTo(n+_,r+p),t.moveTo(n+C,r-h),t.lineTo(n-C,r+h);break;case"star":_=Math.cos(L)*(l?l/2:E),h=Math.cos(L)*E,p=Math.sin(L)*E,C=Math.sin(L)*(l?l/2:E),t.moveTo(n-_,r-p),t.lineTo(n+_,r+p),t.moveTo(n+C,r-h),t.lineTo(n-C,r+h),L+=Vf,_=Math.cos(L)*(l?l/2:E),h=Math.cos(L)*E,p=Math.sin(L)*E,C=Math.sin(L)*(l?l/2:E),t.moveTo(n-_,r-p),t.lineTo(n+_,r+p),t.moveTo(n+C,r-h),t.lineTo(n-C,r+h);break;case"line":h=l?l/2:Math.cos(L)*E,p=Math.sin(L)*E,t.moveTo(n-h,r-p),t.lineTo(n+h,r+p);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(L)*(l?l/2:E),r+Math.sin(L)*E);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function wc(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Lb(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ib(t){t.restore()}function xJ(t,e,n,r,l){if(!e)return t.lineTo(n.x,n.y);if(l==="middle"){let c=(e.x+n.x)/2;t.lineTo(c,e.y),t.lineTo(c,n.y)}else l==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function bJ(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function zAe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Sn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function HAe(t,e,n,r,l){if(l.strikethrough||l.underline){let c=t.measureText(r),h=e-c.actualBoundingBoxLeft,p=e+c.actualBoundingBoxRight,m=n-c.actualBoundingBoxAscent,g=n+c.actualBoundingBoxDescent,y=l.strikethrough?(m+g)/2:g;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=l.decorationWidth||2,t.moveTo(h,y),t.lineTo(p,y),t.stroke()}}function jAe(t,e){let n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function dd(t,e,n,r,l,c={}){let h=gi(e)?e:[e],p=c.strokeWidth>0&&c.strokeColor!=="",m,g;for(t.save(),t.font=l.string,zAe(t,c),m=0;m<h.length;++m)g=h[m],c.backdrop&&jAe(t,c.backdrop),p&&(c.strokeColor&&(t.strokeStyle=c.strokeColor),Sn(c.strokeWidth)||(t.lineWidth=c.strokeWidth),t.strokeText(g,n,r,c.maxWidth)),t.fillText(g,n,r,c.maxWidth),HAe(t,n,r,g,c),r+=Number(l.lineHeight);t.restore()}function uv(t,e){let{x:n,y:r,w:l,h:c,radius:h}=e;t.arc(n+h.topLeft,r+h.topLeft,h.topLeft,1.5*vi,vi,!0),t.lineTo(n,r+c-h.bottomLeft),t.arc(n+h.bottomLeft,r+c-h.bottomLeft,h.bottomLeft,vi,Yi,!0),t.lineTo(n+l-h.bottomRight,r+c),t.arc(n+l-h.bottomRight,r+c-h.bottomRight,h.bottomRight,Yi,0,!0),t.lineTo(n+l,r+h.topRight),t.arc(n+l-h.topRight,r+h.topRight,h.topRight,0,-Yi,!0),t.lineTo(n+h.topLeft,r)}var GAe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,WAe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function UAe(t,e){let n=(""+t).match(GAe);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}var $Ae=t=>+t||0;function RS(t,e){let n={},r=cn(e),l=r?Object.keys(e):e,c=cn(t)?r?h=>Et(t[h],t[e[h]]):h=>t[h]:()=>t;for(let h of l)n[h]=$Ae(c(h));return n}function c6(t){return RS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function pd(t){return RS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function is(t){let e=c6(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function gr(t,e){t=t||{},e=e||Bi.font;let n=Et(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Et(t.style,e.style);r&&!(""+r).match(WAe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let l={family:Et(t.family,e.family),lineHeight:UAe(Et(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Et(t.weight,e.weight),string:""};return l.string=VAe(l),l}function hv(t,e,n,r){let l=!0,c,h,p;for(c=0,h=t.length;c<h;++c)if(p=t[c],p!==void 0&&(e!==void 0&&typeof p=="function"&&(p=p(e),l=!1),n!==void 0&&gi(p)&&(p=p[n%p.length],l=!1),p!==void 0))return r&&!l&&(r.cacheable=!1),p}function _J(t,e,n){let{min:r,max:l}=t,c=Y8(e,(l-r)/2),h=(p,m)=>n&&p===0?0:p+m;return{min:h(r,-Math.abs(c)),max:h(l,c)}}function $u(t,e){return Object.assign(Object.create(t),e)}function PS(t,e=[""],n,r,l=()=>t[0]){let c=n||t;typeof r>"u"&&(r=kJ("_fallback",t));let h={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:c,_fallback:r,_getTarget:l,override:p=>PS([p,...t],e,c,r)};return new Proxy(h,{deleteProperty(p,m){return delete p[m],delete p._keys,delete t[0][m],!0},get(p,m){return wJ(p,m,()=>eMe(m,e,t,p))},getOwnPropertyDescriptor(p,m){return Reflect.getOwnPropertyDescriptor(p._scopes[0],m)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(p,m){return eJ(p).includes(m)},ownKeys(p){return eJ(p)},set(p,m,g){let y=p._storage||(p._storage=l());return p[m]=y[m]=g,delete p._keys,!0}})}function Hf(t,e,n,r){let l={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:u6(t,r),setContext:c=>Hf(t,c,n,r),override:c=>Hf(t.override(c),e,n,r)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete t[h],!0},get(c,h,p){return wJ(c,h,()=>XAe(c,h,p))},getOwnPropertyDescriptor(c,h){return c._descriptors.allKeys?Reflect.has(t,h)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,h)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(c,h){return Reflect.has(t,h)},ownKeys(){return Reflect.ownKeys(t)},set(c,h,p){return t[h]=p,delete c[h],!0}})}function u6(t,e={scriptable:!0,indexable:!0}){let{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:l=e.allKeys}=t;return{allKeys:l,scriptable:n,indexable:r,isScriptable:Gu(n)?n:()=>n,isIndexable:Gu(r)?r:()=>r}}var YAe=(t,e)=>t?t+AS(e):e,h6=(t,e)=>cn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function wJ(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];let r=n();return t[e]=r,r}function XAe(t,e,n){let{_proxy:r,_context:l,_subProxy:c,_descriptors:h}=t,p=r[e];return Gu(p)&&h.isScriptable(e)&&(p=qAe(e,p,t,n)),gi(p)&&p.length&&(p=KAe(e,p,t,h.isIndexable)),h6(e,p)&&(p=Hf(p,l,c&&c[e],h)),p}function qAe(t,e,n,r){let{_proxy:l,_context:c,_subProxy:h,_stack:p}=n;if(p.has(t))throw new Error("Recursion detected: "+Array.from(p).join("->")+"->"+t);p.add(t);let m=e(c,h||r);return p.delete(t),h6(t,m)&&(m=d6(l._scopes,l,t,m)),m}function KAe(t,e,n,r){let{_proxy:l,_context:c,_subProxy:h,_descriptors:p}=n;if(typeof c.index<"u"&&r(t))return e[c.index%e.length];if(cn(e[0])){let m=e,g=l._scopes.filter(y=>y!==m);e=[];for(let y of m){let _=d6(g,l,t,y);e.push(Hf(_,c,h&&h[t],p))}}return e}function CJ(t,e,n){return Gu(t)?t(e,n):t}var ZAe=(t,e)=>t===!0?e:typeof t=="string"?Uu(e,t):void 0;function QAe(t,e,n,r,l){for(let c of e){let h=ZAe(n,c);if(h){t.add(h);let p=CJ(h._fallback,n,l);if(typeof p<"u"&&p!==n&&p!==r)return p}else if(h===!1&&typeof r<"u"&&n!==r)return null}return!1}function d6(t,e,n,r){let l=e._rootScopes,c=CJ(e._fallback,n,r),h=[...t,...l],p=new Set;p.add(r);let m=JQ(p,h,n,c||n,r);return m===null||typeof c<"u"&&c!==n&&(m=JQ(p,h,c,m,r),m===null)?!1:PS(Array.from(p),[""],l,c,()=>JAe(e,n,r))}function JQ(t,e,n,r,l){for(;n;)n=QAe(t,e,n,r,l);return n}function JAe(t,e,n){let r=t._getTarget();e in r||(r[e]={});let l=r[e];return gi(l)&&cn(n)?n:l||{}}function eMe(t,e,n,r){let l;for(let c of e)if(l=kJ(YAe(c,t),n),typeof l<"u")return h6(t,l)?d6(n,r,t,l):l}function kJ(t,e){for(let n of e){if(!n)continue;let r=n[t];if(typeof r<"u")return r}}function eJ(t){let e=t._keys;return e||(e=t._keys=tMe(t._scopes)),e}function tMe(t){let e=new Set;for(let n of t)for(let r of Object.keys(n).filter(l=>!l.startsWith("_")))e.add(r);return Array.from(e)}function p6(t,e,n,r){let{iScale:l}=t,{key:c="r"}=this._parsing,h=new Array(r),p,m,g,y;for(p=0,m=r;p<m;++p)g=p+n,y=e[g],h[p]={r:l.parse(Uu(y,c),g)};return h}var nMe=Number.EPSILON||1e-14,rv=(t,e)=>e<t.length&&!t[e].skip&&t[e],DJ=t=>t==="x"?"y":"x";function iMe(t,e,n,r){let l=t.skip?e:t,c=e,h=n.skip?e:n,p=SS(c,l),m=SS(h,c),g=p/(p+m),y=m/(p+m);g=isNaN(g)?0:g,y=isNaN(y)?0:y;let _=r*g,C=r*y;return{previous:{x:c.x-_*(h.x-l.x),y:c.y-_*(h.y-l.y)},next:{x:c.x+C*(h.x-l.x),y:c.y+C*(h.y-l.y)}}}function rMe(t,e,n){let r=t.length,l,c,h,p,m,g=rv(t,0);for(let y=0;y<r-1;++y)if(m=g,g=rv(t,y+1),!(!m||!g)){if(av(e[y],0,nMe)){n[y]=n[y+1]=0;continue}l=n[y]/e[y],c=n[y+1]/e[y],p=Math.pow(l,2)+Math.pow(c,2),!(p<=9)&&(h=3/Math.sqrt(p),n[y]=l*h*e[y],n[y+1]=c*h*e[y])}}function sMe(t,e,n="x"){let r=DJ(n),l=t.length,c,h,p,m=rv(t,0);for(let g=0;g<l;++g){if(h=p,p=m,m=rv(t,g+1),!p)continue;let y=p[n],_=p[r];h&&(c=(y-h[n])/3,p[`cp1${n}`]=y-c,p[`cp1${r}`]=_-c*e[g]),m&&(c=(m[n]-y)/3,p[`cp2${n}`]=y+c,p[`cp2${r}`]=_+c*e[g])}}function oMe(t,e="x"){let n=DJ(e),r=t.length,l=Array(r).fill(0),c=Array(r),h,p,m,g=rv(t,0);for(h=0;h<r;++h)if(p=m,m=g,g=rv(t,h+1),!!m){if(g){let y=g[e]-m[e];l[h]=y!==0?(g[n]-m[n])/y:0}c[h]=p?g?fl(l[h-1])!==fl(l[h])?0:(l[h-1]+l[h])/2:l[h-1]:l[h]}rMe(t,l,c),sMe(t,c,e)}function wS(t,e,n){return Math.max(Math.min(t,n),e)}function aMe(t,e){let n,r,l,c,h,p=wc(t[0],e);for(n=0,r=t.length;n<r;++n)h=c,c=p,p=n<r-1&&wc(t[n+1],e),c&&(l=t[n],h&&(l.cp1x=wS(l.cp1x,e.left,e.right),l.cp1y=wS(l.cp1y,e.top,e.bottom)),p&&(l.cp2x=wS(l.cp2x,e.left,e.right),l.cp2y=wS(l.cp2y,e.top,e.bottom)))}function SJ(t,e,n,r,l){let c,h,p,m;if(e.spanGaps&&(t=t.filter(g=>!g.skip)),e.cubicInterpolationMode==="monotone")oMe(t,l);else{let g=r?t[t.length-1]:t[0];for(c=0,h=t.length;c<h;++c)p=t[c],m=iMe(g,p,t[Math.min(c+1,h-(r?0:1))%h],e.tension),p.cp1x=m.previous.x,p.cp1y=m.previous.y,p.cp2x=m.next.x,p.cp2y=m.next.y,g=p}e.capBezierPoints&&aMe(t,n)}function FS(){return typeof window<"u"&&typeof document<"u"}function NS(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function TS(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}var BS=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function lMe(t,e){return BS(t).getPropertyValue(e)}var cMe=["top","right","bottom","left"];function zf(t,e,n){let r={};n=n?"-"+n:"";for(let l=0;l<4;l++){let c=cMe[l];r[c]=parseFloat(t[e+"-"+c+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var uMe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function hMe(t,e){let n=t.touches,r=n&&n.length?n[0]:t,{offsetX:l,offsetY:c}=r,h=!1,p,m;if(uMe(l,c,t.target))p=l,m=c;else{let g=e.getBoundingClientRect();p=r.clientX-g.left,m=r.clientY-g.top,h=!0}return{x:p,y:m,box:h}}function fd(t,e){if("native"in t)return t;let{canvas:n,currentDevicePixelRatio:r}=e,l=BS(n),c=l.boxSizing==="border-box",h=zf(l,"padding"),p=zf(l,"border","width"),{x:m,y:g,box:y}=hMe(t,n),_=h.left+(y&&p.left),C=h.top+(y&&p.top),{width:S,height:A}=e;return c&&(S-=h.width+p.width,A-=h.height+p.height),{x:Math.round((m-_)/S*n.width/r),y:Math.round((g-C)/A*n.height/r)}}function dMe(t,e,n){let r,l;if(e===void 0||n===void 0){let c=NS(t);if(!c)e=t.clientWidth,n=t.clientHeight;else{let h=c.getBoundingClientRect(),p=BS(c),m=zf(p,"border","width"),g=zf(p,"padding");e=h.width-g.width-m.width,n=h.height-g.height-m.height,r=TS(p.maxWidth,c,"clientWidth"),l=TS(p.maxHeight,c,"clientHeight")}}return{width:e,height:n,maxWidth:r||DS,maxHeight:l||DS}}var CS=t=>Math.round(t*10)/10;function TJ(t,e,n,r){let l=BS(t),c=zf(l,"margin"),h=TS(l.maxWidth,t,"clientWidth")||DS,p=TS(l.maxHeight,t,"clientHeight")||DS,m=dMe(t,e,n),{width:g,height:y}=m;if(l.boxSizing==="content-box"){let C=zf(l,"border","width"),S=zf(l,"padding");g-=S.width+C.width,y-=S.height+C.height}return g=Math.max(0,g-c.width),y=Math.max(0,r?g/r:y-c.height),g=CS(Math.min(g,h,m.maxWidth)),y=CS(Math.min(y,p,m.maxHeight)),g&&!y&&(y=CS(g/2)),(e!==void 0||n!==void 0)&&r&&m.height&&y>m.height&&(y=m.height,g=CS(Math.floor(y*r))),{width:g,height:y}}function f6(t,e,n){let r=e||1,l=Math.floor(t.height*r),c=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let h=t.canvas;return h.style&&(n||!h.style.height&&!h.style.width)&&(h.style.height=`${t.height}px`,h.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||h.height!==l||h.width!==c?(t.currentDevicePixelRatio=r,h.height=l,h.width=c,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}var AJ=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};FS()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function m6(t,e){let n=lMe(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function cd(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function MJ(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function EJ(t,e,n,r){let l={x:t.cp2x,y:t.cp2y},c={x:e.cp1x,y:e.cp1y},h=cd(t,l,n),p=cd(l,c,n),m=cd(c,e,n),g=cd(h,p,n),y=cd(p,m,n);return cd(g,y,n)}var pMe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},fMe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Gf(t,e,n){return t?pMe(e,n):fMe()}function g6(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function v6(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function LJ(t){return t==="angle"?{between:lv,compare:LAe,normalize:oo}:{between:kc,compare:(e,n)=>e-n,normalize:e=>e}}function tJ({start:t,end:e,count:n,loop:r,style:l}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:l}}function mMe(t,e,n){let{property:r,start:l,end:c}=n,{between:h,normalize:p}=LJ(r),m=e.length,{start:g,end:y,loop:_}=t,C,S;if(_){for(g+=m,y+=m,C=0,S=m;C<S&&h(p(e[g%m][r]),l,c);++C)g--,y--;g%=m,y%=m}return y<g&&(y+=m),{start:g,end:y,loop:_,style:t.style}}function y6(t,e,n){if(!n)return[t];let{property:r,start:l,end:c}=n,h=e.length,{compare:p,between:m,normalize:g}=LJ(r),{start:y,end:_,loop:C,style:S}=mMe(t,e,n),A=[],E=!1,L=null,P,R,V,z=()=>m(l,V,P)&&p(l,V)!==0,H=()=>p(c,P)===0||m(c,V,P),U=()=>E||z(),X=()=>!E||H();for(let Q=y,Z=y;Q<=_;++Q)R=e[Q%h],!R.skip&&(P=g(R[r]),P!==V&&(E=m(P,l,c),L===null&&U()&&(L=p(P,l)===0?Q:Z),L!==null&&X()&&(A.push(tJ({start:L,end:Q,loop:C,count:h,style:S})),L=null),Z=Q,V=P));return L!==null&&A.push(tJ({start:L,end:_,loop:C,count:h,style:S})),A}function x6(t,e){let n=[],r=t.segments;for(let l=0;l<r.length;l++){let c=y6(r[l],t.points,e);c.length&&n.push(...c)}return n}function gMe(t,e,n,r){let l=0,c=e-1;if(n&&!r)for(;l<e&&!t[l].skip;)l++;for(;l<e&&t[l].skip;)l++;for(l%=e,n&&(c+=l);c>l&&t[c%e].skip;)c--;return c%=e,{start:l,end:c}}function vMe(t,e,n,r){let l=t.length,c=[],h=e,p=t[e],m;for(m=e+1;m<=n;++m){let g=t[m%l];g.skip||g.stop?p.skip||(r=!1,c.push({start:e%l,end:(m-1)%l,loop:r}),e=h=g.stop?m:null):(h=m,p.skip&&(e=m)),p=g}return h!==null&&c.push({start:e%l,end:h%l,loop:r}),c}function IJ(t,e){let n=t.points,r=t.options.spanGaps,l=n.length;if(!l)return[];let c=!!t._loop,{start:h,end:p}=gMe(n,l,c,r);if(r===!0)return nJ(t,[{start:h,end:p,loop:c}],n,e);let m=p<h?p+l:p,g=!!t._fullLoop&&h===0&&p===l-1;return nJ(t,vMe(n,h,m,g),n,e)}function nJ(t,e,n,r){return!r||!r.setContext||!n?e:yMe(t,e,n,r)}function yMe(t,e,n,r){let l=t._chart.getContext(),c=iJ(t.options),{_datasetIndex:h,options:{spanGaps:p}}=t,m=n.length,g=[],y=c,_=e[0].start,C=_;function S(A,E,L,P){let R=p?-1:1;if(A!==E){for(A+=m;n[A%m].skip;)A-=R;for(;n[E%m].skip;)E+=R;A%m!==E%m&&(g.push({start:A%m,end:E%m,loop:L,style:P}),y=P,_=E%m)}}for(let A of e){_=p?_:A.start;let E=n[_%m],L;for(C=_+1;C<=A.end;C++){let P=n[C%m];L=iJ(r.setContext($u(l,{type:"segment",p0:E,p1:P,p0DataIndex:(C-1)%m,p1DataIndex:C%m,datasetIndex:h}))),xMe(L,y)&&S(_,C-1,A.loop,y),E=P,y=L}_<C-1&&S(_,C-1,A.loop,y)}return g}function iJ(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function xMe(t,e){if(!e)return!1;let n=[],r=function(l,c){return s6(c)?(n.includes(c)||n.push(c),n.indexOf(c)):c};return JSON.stringify(t,r)!==JSON.stringify(e,r)}var M6=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,l){let c=n.listeners[l],h=n.duration;c.forEach(p=>p({chart:e,initial:n.initial,numSteps:h,currentStep:Math.min(r-n.start,h)}))}_refresh(){this._request||(this._running=!0,this._request=t6.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,l)=>{if(!r.running||!r.items.length)return;let c=r.items,h=c.length-1,p=!1,m;for(;h>=0;--h)m=c[h],m._active?(m._total>r.duration&&(r.duration=m._total),m.tick(e),p=!0):(c[h]=c[c.length-1],c.pop());p&&(l.draw(),this._notify(l,r,e,"progress")),c.length||(r.running=!1,this._notify(l,r,e,"complete"),r.initial=!1),n+=c.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){let n=this._charts,r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){let n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,l)=>Math.max(r,l._duration),0),this._refresh())}running(e){if(!this._running)return!1;let n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){let n=this._charts.get(e);if(!n||!n.items.length)return;let r=n.items,l=r.length-1;for(;l>=0;--l)r[l].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Yu=new M6,OJ="transparent",bMe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){let r=o6(t||OJ),l=r.valid&&o6(e||OJ);return l&&l.valid?l.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}},E6=class{constructor(e,n,r,l){let c=n[r];l=hv([e.to,l,c,e.from]);let h=hv([e.from,c,l]);this._active=!0,this._fn=e.fn||bMe[e.type||typeof h],this._easing=nv[e.easing]||nv.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=h,this._to=l,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);let l=this._target[this._prop],c=r-this._start,h=this._duration-c;this._start=r,this._duration=Math.floor(Math.max(h,e.duration)),this._total+=c,this._loop=!!e.loop,this._to=hv([e.to,n,l,e.from]),this._from=hv([e.from,l,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let n=e-this._start,r=this._duration,l=this._prop,c=this._from,h=this._loop,p=this._to,m;if(this._active=c!==p&&(h||n<r),!this._active){this._target[l]=p,this._notify(!0);return}if(n<0){this._target[l]=c;return}m=n/r%2,m=h&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[l]=this._fn(c,p,m)}wait(){let e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){let n=e?"res":"rej",r=this._promises||[];for(let l=0;l<r.length;l++)r[l][n]()}},XS=class{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!cn(e))return;let n=Object.keys(Bi.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(l=>{let c=e[l];if(!cn(c))return;let h={};for(let p of n)h[p]=c[p];(gi(c.properties)&&c.properties||[l]).forEach(p=>{(p===l||!r.has(p))&&r.set(p,h)})})}_animateOptions(e,n){let r=n.options,l=wMe(e,r);if(!l)return[];let c=this._createAnimations(l,r);return r.$shared&&_Me(e.options.$animations,r).then(()=>{e.options=r},()=>{}),c}_createAnimations(e,n){let r=this._properties,l=[],c=e.$animations||(e.$animations={}),h=Object.keys(n),p=Date.now(),m;for(m=h.length-1;m>=0;--m){let g=h[m];if(g.charAt(0)==="$")continue;if(g==="options"){l.push(...this._animateOptions(e,n));continue}let y=n[g],_=c[g],C=r.get(g);if(_)if(C&&_.active()){_.update(C,y,p);continue}else _.cancel();if(!C||!C.duration){e[g]=y;continue}c[g]=_=new E6(C,e,g,y),l.push(_)}return l}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}let r=this._createAnimations(e,n);if(r.length)return Yu.add(this._chart,r),!0}};function _Me(t,e){let n=[],r=Object.keys(e);for(let l=0;l<r.length;l++){let c=t[r[l]];c&&c.active()&&n.push(c.wait())}return Promise.all(n)}function wMe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function RJ(t,e){let n=t&&t.options||{},r=n.reverse,l=n.min===void 0?e:0,c=n.max===void 0?e:0;return{start:r?c:l,end:r?l:c}}function CMe(t,e,n){if(n===!1)return!1;let r=RJ(t,n),l=RJ(e,n);return{top:l.end,right:r.end,bottom:l.start,left:r.start}}function kMe(t){let e,n,r,l;return cn(t)?(e=t.top,n=t.right,r=t.bottom,l=t.left):e=n=r=l=t,{top:e,right:n,bottom:r,left:l,disabled:t===!1}}function Ree(t,e){let n=[],r=t._getSortedDatasetMetas(e),l,c;for(l=0,c=r.length;l<c;++l)n.push(r[l].index);return n}function PJ(t,e,n,r={}){let l=t.keys,c=r.mode==="single",h,p,m,g;if(e!==null){for(h=0,p=l.length;h<p;++h){if(m=+l[h],m===n){if(r.all)continue;break}g=t.values[m],Ni(g)&&(c||e===0||fl(e)===fl(g))&&(e+=g)}return e}}function DMe(t){let e=Object.keys(t),n=new Array(e.length),r,l,c;for(r=0,l=e.length;r<l;++r)c=e[r],n[r]={x:c,y:t[c]};return n}function FJ(t,e){let n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function SMe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function TMe(t){let{min:e,max:n,minDefined:r,maxDefined:l}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:l?n:Number.POSITIVE_INFINITY}}function AMe(t,e,n){let r=t[e]||(t[e]={});return r[n]||(r[n]={})}function NJ(t,e,n,r){for(let l of e.getMatchingVisibleMetas(r).reverse()){let c=t[l.index];if(n&&c>0||!n&&c<0)return l.index}return null}function BJ(t,e){let{chart:n,_cachedMeta:r}=t,l=n._stacks||(n._stacks={}),{iScale:c,vScale:h,index:p}=r,m=c.axis,g=h.axis,y=SMe(c,h,r),_=e.length,C;for(let S=0;S<_;++S){let A=e[S],{[m]:E,[g]:L}=A,P=A._stacks||(A._stacks={});C=P[g]=AMe(l,y,E),C[p]=L,C._top=NJ(C,h,!0,r.type),C._bottom=NJ(C,h,!1,r.type);let R=C._visualValues||(C._visualValues={});R[p]=L}}function b6(t,e){let n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function MMe(t,e){return $u(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function EMe(t,e,n){return $u(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ob(t,e){let n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(let l of e){let c=l._stacks;if(!c||c[r]===void 0||c[r][n]===void 0)return;delete c[r][n],c[r]._visualValues!==void 0&&c[r]._visualValues[n]!==void 0&&delete c[r]._visualValues[n]}}}var _6=t=>t==="reset"||t==="none",VJ=(t,e)=>e?t:Object.assign({},t),LMe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Ree(n,!0),values:null},gd=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,r){this.chart=n,this._ctx=n.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=FJ(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&Ob(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,r=this._cachedMeta,l=this.getDataset(),c=(C,S,A,E)=>C==="x"?S:C==="r"?E:A,h=r.xAxisID=Et(l.xAxisID,b6(n,"x")),p=r.yAxisID=Et(l.yAxisID,b6(n,"y")),m=r.rAxisID=Et(l.rAxisID,b6(n,"r")),g=r.indexAxis,y=r.iAxisID=c(g,h,p,m),_=r.vAxisID=c(g,p,h,m);r.xScale=this.getScaleForId(h),r.yScale=this.getScaleForId(p),r.rScale=this.getScaleForId(m),r.iScale=this.getScaleForId(y),r.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let r=this._cachedMeta;return n===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&J8(this._data,this),n._stacked&&Ob(n)}_dataCheck(){let n=this.getDataset(),r=n.data||(n.data=[]),l=this._data;if(cn(r))this._data=DMe(r);else if(l!==r){if(l){J8(l,this);let c=this._cachedMeta;Ob(c),c._parsed=[]}r&&Object.isExtensible(r)&&fJ(r,this),this._syncList=[],this._data=r}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let r=this._cachedMeta,l=this.getDataset(),c=!1;this._dataCheck();let h=r._stacked;r._stacked=FJ(r.vScale,r),r.stack!==l.stack&&(c=!0,Ob(r),r.stack=l.stack),this._resyncElements(n),(c||h!==r._stacked)&&BJ(this,r._parsed)}configure(){let n=this.chart.config,r=n.datasetScopeKeys(this._type),l=n.getOptionScopes(this.getDataset(),r,!0);this.options=n.createResolver(l,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,r){let{_cachedMeta:l,_data:c}=this,{iScale:h,_stacked:p}=l,m=h.axis,g=n===0&&r===c.length?!0:l._sorted,y=n>0&&l._parsed[n-1],_,C,S;if(this._parsing===!1)l._parsed=c,l._sorted=!0,S=c;else{gi(c[n])?S=this.parseArrayData(l,c,n,r):cn(c[n])?S=this.parseObjectData(l,c,n,r):S=this.parsePrimitiveData(l,c,n,r);let A=()=>C[m]===null||y&&C[m]<y[m];for(_=0;_<r;++_)l._parsed[_+n]=C=S[_],g&&(A()&&(g=!1),y=C);l._sorted=g}p&&BJ(this,S)}parsePrimitiveData(n,r,l,c){let{iScale:h,vScale:p}=n,m=h.axis,g=p.axis,y=h.getLabels(),_=h===p,C=new Array(c),S,A,E;for(S=0,A=c;S<A;++S)E=S+l,C[S]={[m]:_||h.parse(y[E],E),[g]:p.parse(r[E],E)};return C}parseArrayData(n,r,l,c){let{xScale:h,yScale:p}=n,m=new Array(c),g,y,_,C;for(g=0,y=c;g<y;++g)_=g+l,C=r[_],m[g]={x:h.parse(C[0],_),y:p.parse(C[1],_)};return m}parseObjectData(n,r,l,c){let{xScale:h,yScale:p}=n,{xAxisKey:m="x",yAxisKey:g="y"}=this._parsing,y=new Array(c),_,C,S,A;for(_=0,C=c;_<C;++_)S=_+l,A=r[S],y[_]={x:h.parse(Uu(A,m),S),y:p.parse(Uu(A,g),S)};return y}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,r,l){let c=this.chart,h=this._cachedMeta,p=r[n.axis],m={keys:Ree(c,!0),values:r._stacks[n.axis]._visualValues};return PJ(m,p,h.index,{mode:l})}updateRangeFromParsed(n,r,l,c){let h=l[r.axis],p=h===null?NaN:h,m=c&&l._stacks[r.axis];c&&m&&(c.values=m,p=PJ(c,h,this._cachedMeta.index)),n.min=Math.min(n.min,p),n.max=Math.max(n.max,p)}getMinMax(n,r){let l=this._cachedMeta,c=l._parsed,h=l._sorted&&n===l.iScale,p=c.length,m=this._getOtherScale(n),g=LMe(r,l,this.chart),y={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:C}=TMe(m),S,A;function E(){A=c[S];let L=A[m.axis];return!Ni(A[n.axis])||_>L||C<L}for(S=0;S<p&&!(!E()&&(this.updateRangeFromParsed(y,n,A,g),h));++S);if(h){for(S=p-1;S>=0;--S)if(!E()){this.updateRangeFromParsed(y,n,A,g);break}}return y}getAllParsedValues(n){let r=this._cachedMeta._parsed,l=[],c,h,p;for(c=0,h=r.length;c<h;++c)p=r[c][n.axis],Ni(p)&&l.push(p);return l}getMaxOverflow(){return!1}getLabelAndValue(n){let r=this._cachedMeta,l=r.iScale,c=r.vScale,h=this.getParsed(n);return{label:l?""+l.getLabelForValue(h[l.axis]):"",value:c?""+c.getLabelForValue(h[c.axis]):""}}_update(n){let r=this._cachedMeta;this.update(n||"default"),r._clip=kMe(Et(this.options.clip,CMe(r.xScale,r.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,r=this.chart,l=this._cachedMeta,c=l.data||[],h=r.chartArea,p=[],m=this._drawStart||0,g=this._drawCount||c.length-m,y=this.options.drawActiveElementsOnTop,_;for(l.dataset&&l.dataset.draw(n,h,m,g),_=m;_<m+g;++_){let C=c[_];C.hidden||(C.active&&y?p.push(C):C.draw(n,h))}for(_=0;_<p.length;++_)p[_].draw(n,h)}getStyle(n,r){let l=r?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(l):this.resolveDataElementOptions(n||0,l)}getContext(n,r,l){let c=this.getDataset(),h;if(n>=0&&n<this._cachedMeta.data.length){let p=this._cachedMeta.data[n];h=p.$context||(p.$context=EMe(this.getContext(),n,p)),h.parsed=this.getParsed(n),h.raw=c.data[n],h.index=h.dataIndex=n}else h=this.$context||(this.$context=MMe(this.chart.getContext(),this.index)),h.dataset=c,h.index=h.datasetIndex=this.index;return h.active=!!r,h.mode=l,h}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,r){return this._resolveElementOptions(this.dataElementType.id,r,n)}_resolveElementOptions(n,r="default",l){let c=r==="active",h=this._cachedDataOpts,p=n+"-"+r,m=h[p],g=this.enableOptionSharing&&ov(l);if(m)return VJ(m,g);let y=this.chart.config,_=y.datasetElementScopeKeys(this._type,n),C=c?[`${n}Hover`,"hover",n,""]:[n,""],S=y.getOptionScopes(this.getDataset(),_),A=Object.keys(Bi.elements[n]),E=()=>this.getContext(l,c,r),L=y.resolveNamedOptions(S,A,E,C);return L.$shared&&(L.$shared=g,h[p]=Object.freeze(VJ(L,g))),L}_resolveAnimations(n,r,l){let c=this.chart,h=this._cachedDataOpts,p=`animation-${r}`,m=h[p];if(m)return m;let g;if(c.options.animation!==!1){let _=this.chart.config,C=_.datasetAnimationScopeKeys(this._type,r),S=_.getOptionScopes(this.getDataset(),C);g=_.createResolver(S,this.getContext(n,l,r))}let y=new XS(c,g&&g.animations);return g&&g._cacheable&&(h[p]=Object.freeze(y)),y}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,r){return!r||_6(n)||this.chart._animationsDisabled}_getSharedOptions(n,r){let l=this.resolveDataElementOptions(n,r),c=this._sharedOptions,h=this.getSharedOptions(l),p=this.includeOptions(r,h)||h!==c;return this.updateSharedOptions(h,r,l),{sharedOptions:h,includeOptions:p}}updateElement(n,r,l,c){_6(c)?Object.assign(n,l):this._resolveAnimations(r,c).update(n,l)}updateSharedOptions(n,r,l){n&&!_6(r)&&this._resolveAnimations(void 0,r).update(n,l)}_setStyle(n,r,l,c){n.active=c;let h=this.getStyle(r,c);this._resolveAnimations(r,l,c).update(n,{options:!c&&this.getSharedOptions(h)||h})}removeHoverStyle(n,r,l){this._setStyle(n,l,"active",!1)}setHoverStyle(n,r,l){this._setStyle(n,l,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let r=this._data,l=this._cachedMeta.data;for(let[m,g,y]of this._syncList)this[m](g,y);this._syncList=[];let c=l.length,h=r.length,p=Math.min(h,c);p&&this.parse(0,p),h>c?this._insertElements(c,h-c,n):h<c&&this._removeElements(h,c-h)}_insertElements(n,r,l=!0){let c=this._cachedMeta,h=c.data,p=n+r,m,g=y=>{for(y.length+=r,m=y.length-1;m>=p;m--)y[m]=y[m-r]};for(g(h),m=n;m<p;++m)h[m]=new this.dataElementType;this._parsing&&g(c._parsed),this.parse(n,r),l&&this.updateElements(h,n,r,"reset")}updateElements(n,r,l,c){}_removeElements(n,r){let l=this._cachedMeta;if(this._parsing){let c=l._parsed.splice(n,r);l._stacked&&Ob(l,c)}l.data.splice(n,r)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[r,l,c]=n;this[r](l,c)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,r){r&&this._sync(["_removeElements",n,r]);let l=arguments.length-2;l&&this._sync(["_insertElements",n,l])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function IMe(t,e){if(!t._cache.$bar){let n=t.getMatchingVisibleMetas(e),r=[];for(let l=0,c=n.length;l<c;l++)r=r.concat(n[l].controller.getAllParsedValues(t));t._cache.$bar=e6(r.sort((l,c)=>l-c))}return t._cache.$bar}function OMe(t){let e=t.iScale,n=IMe(e,t.type),r=e._length,l,c,h,p,m=()=>{h===32767||h===-32768||(ov(p)&&(r=Math.min(r,Math.abs(h-p)||r)),p=h)};for(l=0,c=n.length;l<c;++l)h=e.getPixelForValue(n[l]),m();for(p=void 0,l=0,c=e.ticks.length;l<c;++l)h=e.getPixelForTick(l),m();return r}function RMe(t,e,n,r){let l=n.barThickness,c,h;return Sn(l)?(c=e.min*n.categoryPercentage,h=n.barPercentage):(c=l*r,h=1),{chunk:c/r,ratio:h,start:e.pixels[t]-c/2}}function PMe(t,e,n,r){let l=e.pixels,c=l[t],h=t>0?l[t-1]:null,p=t<l.length-1?l[t+1]:null,m=n.categoryPercentage;h===null&&(h=c-(p===null?e.end-e.start:p-c)),p===null&&(p=c+c-h);let g=c-(c-Math.min(h,p))/2*m;return{chunk:Math.abs(p-h)/2*m/r,ratio:n.barPercentage,start:g}}function FMe(t,e,n,r){let l=n.parse(t[0],r),c=n.parse(t[1],r),h=Math.min(l,c),p=Math.max(l,c),m=h,g=p;Math.abs(h)>Math.abs(p)&&(m=p,g=h),e[n.axis]=g,e._custom={barStart:m,barEnd:g,start:l,end:c,min:h,max:p}}function Pee(t,e,n,r){return gi(t)?FMe(t,e,n,r):e[n.axis]=n.parse(t,r),e}function zJ(t,e,n,r){let l=t.iScale,c=t.vScale,h=l.getLabels(),p=l===c,m=[],g,y,_,C;for(g=n,y=n+r;g<y;++g)C=e[g],_={},_[l.axis]=p||l.parse(h[g],g),m.push(Pee(C,_,c,g));return m}function w6(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function NMe(t,e,n){return t!==0?fl(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function BMe(t){let e,n,r,l,c;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(l="end",c="start"):(l="start",c="end"),{start:n,end:r,reverse:e,top:l,bottom:c}}function VMe(t,e,n,r){let l=e.borderSkipped,c={};if(!l){t.borderSkipped=c;return}if(l===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:h,end:p,reverse:m,top:g,bottom:y}=BMe(t);l==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?l=g:(n._bottom||0)===r?l=y:(c[HJ(y,h,p,m)]=!0,l=g)),c[HJ(l,h,p,m)]=!0,t.borderSkipped=c}function HJ(t,e,n,r){return r?(t=zMe(t,e,n),t=jJ(t,n,e)):t=jJ(t,e,n),t}function zMe(t,e,n){return t===e?n:t===n?e:t}function jJ(t,e,n){return t==="start"?e:t==="end"?n:t}function HMe(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}var jMe=(()=>{class t extends gd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,r,l,c){return zJ(n,r,l,c)}parseArrayData(n,r,l,c){return zJ(n,r,l,c)}parseObjectData(n,r,l,c){let{iScale:h,vScale:p}=n,{xAxisKey:m="x",yAxisKey:g="y"}=this._parsing,y=h.axis==="x"?m:g,_=p.axis==="x"?m:g,C=[],S,A,E,L;for(S=l,A=l+c;S<A;++S)L=r[S],E={},E[h.axis]=h.parse(Uu(L,y),S),C.push(Pee(Uu(L,_),E,p,S));return C}updateRangeFromParsed(n,r,l,c){super.updateRangeFromParsed(n,r,l,c);let h=l._custom;h&&r===this._cachedMeta.vScale&&(n.min=Math.min(n.min,h.min),n.max=Math.max(n.max,h.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let r=this._cachedMeta,{iScale:l,vScale:c}=r,h=this.getParsed(n),p=h._custom,m=w6(p)?"["+p.start+", "+p.end+"]":""+c.getLabelForValue(h[c.axis]);return{label:""+l.getLabelForValue(h[l.axis]),value:m}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,n)}updateElements(n,r,l,c){let h=c==="reset",{index:p,_cachedMeta:{vScale:m}}=this,g=m.getBasePixel(),y=m.isHorizontal(),_=this._getRuler(),{sharedOptions:C,includeOptions:S}=this._getSharedOptions(r,c);for(let A=r;A<r+l;A++){let E=this.getParsed(A),L=h||Sn(E[m.axis])?{base:g,head:g}:this._calculateBarValuePixels(A),P=this._calculateBarIndexPixels(A,_),R=(E._stacks||{})[m.axis],V={horizontal:y,base:L.base,enableBorderRadius:!R||w6(E._custom)||p===R._top||p===R._bottom,x:y?L.head:P.center,y:y?P.center:L.head,height:y?P.size:Math.abs(L.size),width:y?Math.abs(L.size):P.size};S&&(V.options=C||this.resolveDataElementOptions(A,n[A].active?"active":c));let z=V.options||n[A].options;VMe(V,z,R,p),HMe(V,z,_.ratio),this.updateElement(n[A],A,V,c)}}_getStacks(n,r){let{iScale:l}=this._cachedMeta,c=l.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),h=l.options.stacked,p=[],m=g=>{let y=g.controller.getParsed(r),_=y&&y[g.vScale.axis];if(Sn(_)||isNaN(_))return!0};for(let g of c)if(!(r!==void 0&&m(g))&&((h===!1||p.indexOf(g.stack)===-1||h===void 0&&g.stack===void 0)&&p.push(g.stack),g.index===n))break;return p.length||p.push(void 0),p}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,r,l){let c=this._getStacks(n,l),h=r!==void 0?c.indexOf(r):-1;return h===-1?c.length-1:h}_getRuler(){let n=this.options,r=this._cachedMeta,l=r.iScale,c=[],h,p;for(h=0,p=r.data.length;h<p;++h)c.push(l.getPixelForValue(this.getParsed(h)[l.axis],h));let m=n.barThickness;return{min:m||OMe(r),pixels:c,start:l._startPixel,end:l._endPixel,stackCount:this._getStackCount(),scale:l,grouped:n.grouped,ratio:m?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:r,_stacked:l,index:c},options:{base:h,minBarLength:p}}=this,m=h||0,g=this.getParsed(n),y=g._custom,_=w6(y),C=g[r.axis],S=0,A=l?this.applyStack(r,g,l):C,E,L;A!==C&&(S=A-C,A=C),_&&(C=y.barStart,A=y.barEnd-y.barStart,C!==0&&fl(C)!==fl(y.barEnd)&&(S=0),S+=C);let P=!Sn(h)&&!_?h:S,R=r.getPixelForValue(P);if(this.chart.getDataVisibility(n)?E=r.getPixelForValue(S+A):E=R,L=E-R,Math.abs(L)<p){L=NMe(L,r,m)*p,C===m&&(R-=L/2);let V=r.getPixelForDecimal(0),z=r.getPixelForDecimal(1),H=Math.min(V,z),U=Math.max(V,z);R=Math.max(Math.min(R,U),H),E=R+L,l&&!_&&(g._stacks[r.axis]._visualValues[c]=r.getValueForPixel(E)-r.getValueForPixel(R))}if(R===r.getPixelForValue(m)){let V=fl(L)*r.getLineWidthForValue(m)/2;R+=V,L-=V}return{size:L,base:R,head:E,center:E+L/2}}_calculateBarIndexPixels(n,r){let l=r.scale,c=this.options,h=c.skipNull,p=Et(c.maxBarThickness,1/0),m,g;if(r.grouped){let y=h?this._getStackCount(n):r.stackCount,_=c.barThickness==="flex"?PMe(n,r,c,y):RMe(n,r,c,y),C=this._getStackIndex(this.index,this._cachedMeta.stack,h?n:void 0);m=_.start+_.chunk*C+_.chunk/2,g=Math.min(p,_.chunk*_.ratio)}else m=l.getPixelForValue(this.getParsed(n)[l.axis],n),g=Math.min(p,r.min*r.ratio);return{base:m-g/2,head:m+g/2,center:m,size:g}}draw(){let n=this._cachedMeta,r=n.vScale,l=n.data,c=l.length,h=0;for(;h<c;++h)this.getParsed(h)[r.axis]!==null&&l[h].draw(this._ctx)}}return t})(),GMe=(()=>{class t extends gd{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,r,l,c){let h=super.parsePrimitiveData(n,r,l,c);for(let p=0;p<h.length;p++)h[p]._custom=this.resolveDataElementOptions(p+l).radius;return h}parseArrayData(n,r,l,c){let h=super.parseArrayData(n,r,l,c);for(let p=0;p<h.length;p++){let m=r[l+p];h[p]._custom=Et(m[2],this.resolveDataElementOptions(p+l).radius)}return h}parseObjectData(n,r,l,c){let h=super.parseObjectData(n,r,l,c);for(let p=0;p<h.length;p++){let m=r[l+p];h[p]._custom=Et(m&&m.r&&+m.r,this.resolveDataElementOptions(p+l).radius)}return h}getMaxOverflow(){let n=this._cachedMeta.data,r=0;for(let l=n.length-1;l>=0;--l)r=Math.max(r,n[l].size(this.resolveDataElementOptions(l))/2);return r>0&&r}getLabelAndValue(n){let r=this._cachedMeta,l=this.chart.data.labels||[],{xScale:c,yScale:h}=r,p=this.getParsed(n),m=c.getLabelForValue(p.x),g=h.getLabelForValue(p.y),y=p._custom;return{label:l[n]||"",value:"("+m+", "+g+(y?", "+y:"")+")"}}update(n){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,n)}updateElements(n,r,l,c){let h=c==="reset",{iScale:p,vScale:m}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(r,c),_=p.axis,C=m.axis;for(let S=r;S<r+l;S++){let A=n[S],E=!h&&this.getParsed(S),L={},P=L[_]=h?p.getPixelForDecimal(.5):p.getPixelForValue(E[_]),R=L[C]=h?m.getBasePixel():m.getPixelForValue(E[C]);L.skip=isNaN(P)||isNaN(R),y&&(L.options=g||this.resolveDataElementOptions(S,A.active?"active":c),h&&(L.options.radius=0)),this.updateElement(A,S,L,c)}}resolveDataElementOptions(n,r){let l=this.getParsed(n),c=super.resolveDataElementOptions(n,r);c.$shared&&(c=Object.assign({},c,{$shared:!1}));let h=c.radius;return r!=="active"&&(c.radius=0),c.radius+=Et(l&&l._custom,h),c}}return t})();function WMe(t,e,n){let r=1,l=1,c=0,h=0;if(e<yi){let p=t,m=p+e,g=Math.cos(p),y=Math.sin(p),_=Math.cos(m),C=Math.sin(m),S=(V,z,H)=>lv(V,p,m,!0)?1:Math.max(z,z*n,H,H*n),A=(V,z,H)=>lv(V,p,m,!0)?-1:Math.min(z,z*n,H,H*n),E=S(0,g,_),L=S(Yi,y,C),P=A(vi,g,_),R=A(vi+Yi,y,C);r=(E-P)/2,l=(L-R)/2,c=-(E+P)/2,h=-(L+R)/2}return{ratioX:r,ratioY:l,offsetX:c,offsetY:h}}var K6=(()=>{class t extends gd{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let r=n.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:l,color:c}}=n.legend.options;return r.labels.map((h,p)=>{let g=n.getDatasetMeta(0).controller.getStyle(p);return{text:h,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:c,lineWidth:g.borderWidth,pointStyle:l,hidden:!n.getDataVisibility(p),index:p}})}return[]}},onClick(n,r,l){l.chart.toggleDataVisibility(r.index),l.chart.update()}}}};constructor(n,r){super(n,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,r){let l=this.getDataset().data,c=this._cachedMeta;if(this._parsing===!1)c._parsed=l;else{let h=g=>+l[g];if(cn(l[n])){let{key:g="value"}=this._parsing;h=y=>+Uu(l[y],g)}let p,m;for(p=n,m=n+r;p<m;++p)c._parsed[p]=h(p)}}_getRotation(){return Aa(this.options.rotation-90)}_getCircumference(){return Aa(this.options.circumference)}_getRotationExtents(){let n=yi,r=-yi;for(let l=0;l<this.chart.data.datasets.length;++l)if(this.chart.isDatasetVisible(l)&&this.chart.getDatasetMeta(l).type===this._type){let c=this.chart.getDatasetMeta(l).controller,h=c._getRotation(),p=c._getCircumference();n=Math.min(n,h),r=Math.max(r,h+p)}return{rotation:n,circumference:r-n}}update(n){let r=this.chart,{chartArea:l}=r,c=this._cachedMeta,h=c.data,p=this.getMaxBorderWidth()+this.getMaxOffset(h)+this.options.spacing,m=Math.max((Math.min(l.width,l.height)-p)/2,0),g=Math.min(sJ(this.options.cutout,m),1),y=this._getRingWeight(this.index),{circumference:_,rotation:C}=this._getRotationExtents(),{ratioX:S,ratioY:A,offsetX:E,offsetY:L}=WMe(C,_,g),P=(l.width-p)/S,R=(l.height-p)/A,V=Math.max(Math.min(P,R)/2,0),z=Y8(this.options.radius,V),H=Math.max(z*g,0),U=(z-H)/this._getVisibleDatasetWeightTotal();this.offsetX=E*z,this.offsetY=L*z,c.total=this.calculateTotal(),this.outerRadius=z-U*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-U*y,0),this.updateElements(h,0,h.length,n)}_circumference(n,r){let l=this.options,c=this._cachedMeta,h=this._getCircumference();return r&&l.animation.animateRotate||!this.chart.getDataVisibility(n)||c._parsed[n]===null||c.data[n].hidden?0:this.calculateCircumference(c._parsed[n]*h/yi)}updateElements(n,r,l,c){let h=c==="reset",p=this.chart,m=p.chartArea,y=p.options.animation,_=(m.left+m.right)/2,C=(m.top+m.bottom)/2,S=h&&y.animateScale,A=S?0:this.innerRadius,E=S?0:this.outerRadius,{sharedOptions:L,includeOptions:P}=this._getSharedOptions(r,c),R=this._getRotation(),V;for(V=0;V<r;++V)R+=this._circumference(V,h);for(V=r;V<r+l;++V){let z=this._circumference(V,h),H=n[V],U={x:_+this.offsetX,y:C+this.offsetY,startAngle:R,endAngle:R+z,circumference:z,outerRadius:E,innerRadius:A};P&&(U.options=L||this.resolveDataElementOptions(V,H.active?"active":c)),R+=z,this.updateElement(H,V,U,c)}}calculateTotal(){let n=this._cachedMeta,r=n.data,l=0,c;for(c=0;c<r.length;c++){let h=n._parsed[c];h!==null&&!isNaN(h)&&this.chart.getDataVisibility(c)&&!r[c].hidden&&(l+=Math.abs(h))}return l}calculateCircumference(n){let r=this._cachedMeta.total;return r>0&&!isNaN(n)?yi*(Math.abs(n)/r):0}getLabelAndValue(n){let r=this._cachedMeta,l=this.chart,c=l.data.labels||[],h=cv(r._parsed[n],l.options.locale);return{label:c[n]||"",value:h}}getMaxBorderWidth(n){let r=0,l=this.chart,c,h,p,m,g;if(!n){for(c=0,h=l.data.datasets.length;c<h;++c)if(l.isDatasetVisible(c)){p=l.getDatasetMeta(c),n=p.data,m=p.controller;break}}if(!n)return 0;for(c=0,h=n.length;c<h;++c)g=m.resolveDataElementOptions(c),g.borderAlign!=="inner"&&(r=Math.max(r,g.borderWidth||0,g.hoverBorderWidth||0));return r}getMaxOffset(n){let r=0;for(let l=0,c=n.length;l<c;++l){let h=this.resolveDataElementOptions(l);r=Math.max(r,h.offset||0,h.hoverOffset||0)}return r}_getRingWeightOffset(n){let r=0;for(let l=0;l<n;++l)this.chart.isDatasetVisible(l)&&(r+=this._getRingWeight(l));return r}_getRingWeight(n){return Math.max(Et(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),UMe=(()=>{class t extends gd{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let r=this._cachedMeta,{dataset:l,data:c=[],_dataset:h}=r,p=this.chart._animationsDisabled,{start:m,count:g}=i6(r,c,p);this._drawStart=m,this._drawCount=g,r6(r)&&(m=0,g=c.length),l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!h._decimated,l.points=c;let y=this.resolveDatasetElementOptions(n);this.options.showLine||(y.borderWidth=0),y.segment=this.options.segment,this.updateElement(l,void 0,{animated:!p,options:y},n),this.updateElements(c,m,g,n)}updateElements(n,r,l,c){let h=c==="reset",{iScale:p,vScale:m,_stacked:g,_dataset:y}=this._cachedMeta,{sharedOptions:_,includeOptions:C}=this._getSharedOptions(r,c),S=p.axis,A=m.axis,{spanGaps:E,segment:L}=this.options,P=jf(E)?E:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||h||c==="none",V=r+l,z=n.length,H=r>0&&this.getParsed(r-1);for(let U=0;U<z;++U){let X=n[U],Q=R?X:{};if(U<r||U>=V){Q.skip=!0;continue}let Z=this.getParsed(U),ie=Sn(Z[A]),ne=Q[S]=p.getPixelForValue(Z[S],U),de=Q[A]=h||ie?m.getBasePixel():m.getPixelForValue(g?this.applyStack(m,Z,g):Z[A],U);Q.skip=isNaN(ne)||isNaN(de)||ie,Q.stop=U>0&&Math.abs(Z[S]-H[S])>P,L&&(Q.parsed=Z,Q.raw=y.data[U]),C&&(Q.options=_||this.resolveDataElementOptions(U,X.active?"active":c)),R||this.updateElement(X,U,Q,c),H=Z}}getMaxOverflow(){let n=this._cachedMeta,r=n.dataset,l=r.options&&r.options.borderWidth||0,c=n.data||[];if(!c.length)return l;let h=c[0].size(this.resolveDataElementOptions(0)),p=c[c.length-1].size(this.resolveDataElementOptions(c.length-1));return Math.max(l,h,p)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}return t})(),Fee=(()=>{class t extends gd{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let r=n.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:l,color:c}}=n.legend.options;return r.labels.map((h,p)=>{let g=n.getDatasetMeta(0).controller.getStyle(p);return{text:h,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:c,lineWidth:g.borderWidth,pointStyle:l,hidden:!n.getDataVisibility(p),index:p}})}return[]}},onClick(n,r,l){l.chart.toggleDataVisibility(r.index),l.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(n,r){super(n,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let r=this._cachedMeta,l=this.chart,c=l.data.labels||[],h=cv(r._parsed[n].r,l.options.locale);return{label:c[n]||"",value:h}}parseObjectData(n,r,l,c){return p6.bind(this)(n,r,l,c)}update(n){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,n)}getMinMax(){let n=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((l,c)=>{let h=this.getParsed(c).r;!isNaN(h)&&this.chart.getDataVisibility(c)&&(h<r.min&&(r.min=h),h>r.max&&(r.max=h))}),r}_updateRadius(){let n=this.chart,r=n.chartArea,l=n.options,c=Math.min(r.right-r.left,r.bottom-r.top),h=Math.max(c/2,0),p=Math.max(l.cutoutPercentage?h/100*l.cutoutPercentage:1,0),m=(h-p)/n.getVisibleDatasetCount();this.outerRadius=h-m*this.index,this.innerRadius=this.outerRadius-m}updateElements(n,r,l,c){let h=c==="reset",p=this.chart,g=p.options.animation,y=this._cachedMeta.rScale,_=y.xCenter,C=y.yCenter,S=y.getIndexAngle(0)-.5*vi,A=S,E,L=360/this.countVisibleElements();for(E=0;E<r;++E)A+=this._computeAngle(E,c,L);for(E=r;E<r+l;E++){let P=n[E],R=A,V=A+this._computeAngle(E,c,L),z=p.getDataVisibility(E)?y.getDistanceFromCenterForValue(this.getParsed(E).r):0;A=V,h&&(g.animateScale&&(z=0),g.animateRotate&&(R=V=S));let H={x:_,y:C,innerRadius:0,outerRadius:z,startAngle:R,endAngle:V,options:this.resolveDataElementOptions(E,P.active?"active":c)};this.updateElement(P,E,H,c)}}countVisibleElements(){let n=this._cachedMeta,r=0;return n.data.forEach((l,c)=>{!isNaN(this.getParsed(c).r)&&this.chart.getDataVisibility(c)&&r++}),r}_computeAngle(n,r,l){return this.chart.getDataVisibility(n)?Aa(this.resolveDataElementOptions(n,r).angle||l):0}}return t})(),$Me=(()=>{class t extends K6{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),YMe=(()=>{class t extends gd{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(n){let r=this._cachedMeta.vScale,l=this.getParsed(n);return{label:r.getLabels()[n],value:""+r.getLabelForValue(l[r.axis])}}parseObjectData(n,r,l,c){return p6.bind(this)(n,r,l,c)}update(n){let r=this._cachedMeta,l=r.dataset,c=r.data||[],h=r.iScale.getLabels();if(l.points=c,n!=="resize"){let p=this.resolveDatasetElementOptions(n);this.options.showLine||(p.borderWidth=0);let m={_loop:!0,_fullLoop:h.length===c.length,options:p};this.updateElement(l,void 0,m,n)}this.updateElements(c,0,c.length,n)}updateElements(n,r,l,c){let h=this._cachedMeta.rScale,p=c==="reset";for(let m=r;m<r+l;m++){let g=n[m],y=this.resolveDataElementOptions(m,g.active?"active":c),_=h.getPointPositionForValue(m,this.getParsed(m).r),C=p?h.xCenter:_.x,S=p?h.yCenter:_.y,A={x:C,y:S,angle:_.angle,skip:isNaN(C)||isNaN(S),options:y};this.updateElement(g,m,A,c)}}}return t})(),XMe=(()=>{class t extends gd{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(n){let r=this._cachedMeta,l=this.chart.data.labels||[],{xScale:c,yScale:h}=r,p=this.getParsed(n),m=c.getLabelForValue(p.x),g=h.getLabelForValue(p.y);return{label:l[n]||"",value:"("+m+", "+g+")"}}update(n){let r=this._cachedMeta,{data:l=[]}=r,c=this.chart._animationsDisabled,{start:h,count:p}=i6(r,l,c);if(this._drawStart=h,this._drawCount=p,r6(r)&&(h=0,p=l.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:m,_dataset:g}=r;m._chart=this.chart,m._datasetIndex=this.index,m._decimated=!!g._decimated,m.points=l;let y=this.resolveDatasetElementOptions(n);y.segment=this.options.segment,this.updateElement(m,void 0,{animated:!c,options:y},n)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(l,h,p,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(n,r,l,c){let h=c==="reset",{iScale:p,vScale:m,_stacked:g,_dataset:y}=this._cachedMeta,_=this.resolveDataElementOptions(r,c),C=this.getSharedOptions(_),S=this.includeOptions(c,C),A=p.axis,E=m.axis,{spanGaps:L,segment:P}=this.options,R=jf(L)?L:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||h||c==="none",z=r>0&&this.getParsed(r-1);for(let H=r;H<r+l;++H){let U=n[H],X=this.getParsed(H),Q=V?U:{},Z=Sn(X[E]),ie=Q[A]=p.getPixelForValue(X[A],H),ne=Q[E]=h||Z?m.getBasePixel():m.getPixelForValue(g?this.applyStack(m,X,g):X[E],H);Q.skip=isNaN(ie)||isNaN(ne)||Z,Q.stop=H>0&&Math.abs(X[A]-z[A])>R,P&&(Q.parsed=X,Q.raw=y.data[H]),S&&(Q.options=C||this.resolveDataElementOptions(H,U.active?"active":c)),V||this.updateElement(U,H,Q,c),z=X}this.updateSharedOptions(C,c,_)}getMaxOverflow(){let n=this._cachedMeta,r=n.data||[];if(!this.options.showLine){let m=0;for(let g=r.length-1;g>=0;--g)m=Math.max(m,r[g].size(this.resolveDataElementOptions(g))/2);return m>0&&m}let l=n.dataset,c=l.options&&l.options.borderWidth||0;if(!r.length)return c;let h=r[0].size(this.resolveDataElementOptions(0)),p=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(c,h,p)/2}}return t})(),qMe=Object.freeze({__proto__:null,BarController:jMe,BubbleController:GMe,DoughnutController:K6,LineController:UMe,PieController:$Me,PolarAreaController:Fee,RadarController:YMe,ScatterController:XMe});function Wf(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var L6=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Wf()}parse(){return Wf()}format(){return Wf()}add(){return Wf()}diff(){return Wf()}startOf(){return Wf()}endOf(){return Wf()}},KMe={_date:L6};function ZMe(t,e,n,r){let{controller:l,data:c,_sorted:h}=t,p=l._cachedMeta.iScale;if(p&&e===p.axis&&e!=="r"&&h&&c.length){let m=p._reversePixels?hJ:_c;if(r){if(l._sharedOptions){let g=c[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){let _=m(c,e,n-y),C=m(c,e,n+y);return{lo:_.lo,hi:C.hi}}}}else return m(c,e,n)}return{lo:0,hi:c.length-1}}function Gb(t,e,n,r,l){let c=t.getSortedVisibleDatasetMetas(),h=n[e];for(let p=0,m=c.length;p<m;++p){let{index:g,data:y}=c[p],{lo:_,hi:C}=ZMe(c[p],e,h,l);for(let S=_;S<=C;++S){let A=y[S];A.skip||r(A,g,S)}}}function QMe(t){let e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,l){let c=e?Math.abs(r.x-l.x):0,h=n?Math.abs(r.y-l.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(h,2))}}function C6(t,e,n,r,l){let c=[];return!l&&!t.isPointInArea(e)||Gb(t,n,e,function(p,m,g){!l&&!wc(p,t.chartArea,0)||p.inRange(e.x,e.y,r)&&c.push({element:p,datasetIndex:m,index:g})},!0),c}function JMe(t,e,n,r){let l=[];function c(h,p,m){let{startAngle:g,endAngle:y}=h.getProps(["startAngle","endAngle"],r),{angle:_}=Q8(h,{x:e.x,y:e.y});lv(_,g,y)&&l.push({element:h,datasetIndex:p,index:m})}return Gb(t,n,e,c),l}function eEe(t,e,n,r,l,c){let h=[],p=QMe(n),m=Number.POSITIVE_INFINITY;function g(y,_,C){let S=y.inRange(e.x,e.y,l);if(r&&!S)return;let A=y.getCenterPoint(l);if(!(!!c||t.isPointInArea(A))&&!S)return;let L=p(e,A);L<m?(h=[{element:y,datasetIndex:_,index:C}],m=L):L===m&&h.push({element:y,datasetIndex:_,index:C})}return Gb(t,n,e,g),h}function k6(t,e,n,r,l,c){return!c&&!t.isPointInArea(e)?[]:n==="r"&&!r?JMe(t,e,n,l):eEe(t,e,n,r,l,c)}function GJ(t,e,n,r,l){let c=[],h=n==="x"?"inXRange":"inYRange",p=!1;return Gb(t,n,e,(m,g,y)=>{m[h](e[n],l)&&(c.push({element:m,datasetIndex:g,index:y}),p=p||m.inRange(e.x,e.y,l))}),r&&!p?[]:c}var tEe={evaluateInteractionItems:Gb,modes:{index(t,e,n,r){let l=fd(e,t),c=n.axis||"x",h=n.includeInvisible||!1,p=n.intersect?C6(t,l,c,r,h):k6(t,l,c,!1,r,h),m=[];return p.length?(t.getSortedVisibleDatasetMetas().forEach(g=>{let y=p[0].index,_=g.data[y];_&&!_.skip&&m.push({element:_,datasetIndex:g.index,index:y})}),m):[]},dataset(t,e,n,r){let l=fd(e,t),c=n.axis||"xy",h=n.includeInvisible||!1,p=n.intersect?C6(t,l,c,r,h):k6(t,l,c,!1,r,h);if(p.length>0){let m=p[0].datasetIndex,g=t.getDatasetMeta(m).data;p=[];for(let y=0;y<g.length;++y)p.push({element:g[y],datasetIndex:m,index:y})}return p},point(t,e,n,r){let l=fd(e,t),c=n.axis||"xy",h=n.includeInvisible||!1;return C6(t,l,c,r,h)},nearest(t,e,n,r){let l=fd(e,t),c=n.axis||"xy",h=n.includeInvisible||!1;return k6(t,l,c,n.intersect,r,h)},x(t,e,n,r){let l=fd(e,t);return GJ(t,l,"x",n.intersect,r)},y(t,e,n,r){let l=fd(e,t);return GJ(t,l,"y",n.intersect,r)}}},Nee=["left","top","right","bottom"];function Rb(t,e){return t.filter(n=>n.pos===e)}function WJ(t,e){return t.filter(n=>Nee.indexOf(n.pos)===-1&&n.box.axis===e)}function Pb(t,e){return t.sort((n,r)=>{let l=e?r:n,c=e?n:r;return l.weight===c.weight?l.index-c.index:l.weight-c.weight})}function nEe(t){let e=[],n,r,l,c,h,p;for(n=0,r=(t||[]).length;n<r;++n)l=t[n],{position:c,options:{stack:h,stackWeight:p=1}}=l,e.push({index:n,box:l,pos:c,horizontal:l.isHorizontal(),weight:l.weight,stack:h&&c+h,stackWeight:p});return e}function iEe(t){let e={};for(let n of t){let{stack:r,pos:l,stackWeight:c}=n;if(!r||!Nee.includes(l))continue;let h=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});h.count++,h.weight+=c}return e}function rEe(t,e){let n=iEe(t),{vBoxMaxWidth:r,hBoxMaxHeight:l}=e,c,h,p;for(c=0,h=t.length;c<h;++c){p=t[c];let{fullSize:m}=p.box,g=n[p.stack],y=g&&p.stackWeight/g.weight;p.horizontal?(p.width=y?y*r:m&&e.availableWidth,p.height=l):(p.width=r,p.height=y?y*l:m&&e.availableHeight)}return n}function sEe(t){let e=nEe(t),n=Pb(e.filter(g=>g.box.fullSize),!0),r=Pb(Rb(e,"left"),!0),l=Pb(Rb(e,"right")),c=Pb(Rb(e,"top"),!0),h=Pb(Rb(e,"bottom")),p=WJ(e,"x"),m=WJ(e,"y");return{fullSize:n,leftAndTop:r.concat(c),rightAndBottom:l.concat(m).concat(h).concat(p),chartArea:Rb(e,"chartArea"),vertical:r.concat(l).concat(m),horizontal:c.concat(h).concat(p)}}function UJ(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Bee(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function oEe(t,e,n,r){let{pos:l,box:c}=n,h=t.maxPadding;if(!cn(l)){n.size&&(t[l]-=n.size);let _=r[n.stack]||{size:0,count:1};_.size=Math.max(_.size,n.horizontal?c.height:c.width),n.size=_.size/_.count,t[l]+=n.size}c.getPadding&&Bee(h,c.getPadding());let p=Math.max(0,e.outerWidth-UJ(h,t,"left","right")),m=Math.max(0,e.outerHeight-UJ(h,t,"top","bottom")),g=p!==t.w,y=m!==t.h;return t.w=p,t.h=m,n.horizontal?{same:g,other:y}:{same:y,other:g}}function aEe(t){let e=t.maxPadding;function n(r){let l=Math.max(e[r]-t[r],0);return t[r]+=l,l}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function lEe(t,e){let n=e.maxPadding;function r(l){let c={left:0,top:0,right:0,bottom:0};return l.forEach(h=>{c[h]=Math.max(e[h],n[h])}),c}return r(t?["left","right"]:["top","bottom"])}function Bb(t,e,n,r){let l=[],c,h,p,m,g,y;for(c=0,h=t.length,g=0;c<h;++c){p=t[c],m=p.box,m.update(p.width||e.w,p.height||e.h,lEe(p.horizontal,e));let{same:_,other:C}=oEe(e,n,p,r);g|=_&&l.length,y=y||C,m.fullSize||l.push(p)}return g&&Bb(l,e,n,r)||y}function VS(t,e,n,r,l){t.top=n,t.left=e,t.right=e+r,t.bottom=n+l,t.width=r,t.height=l}function $J(t,e,n,r){let l=n.padding,{x:c,y:h}=e;for(let p of t){let m=p.box,g=r[p.stack]||{count:1,placed:0,weight:1},y=p.stackWeight/g.weight||1;if(p.horizontal){let _=e.w*y,C=g.size||m.height;ov(g.start)&&(h=g.start),m.fullSize?VS(m,l.left,h,n.outerWidth-l.right-l.left,C):VS(m,e.left+g.placed,h,_,C),g.start=h,g.placed+=_,h=m.bottom}else{let _=e.h*y,C=g.size||m.width;ov(g.start)&&(c=g.start),m.fullSize?VS(m,c,l.top,C,n.outerHeight-l.bottom-l.top):VS(m,c,e.top+g.placed,C,_),g.start=c,g.placed+=_,c=m.right}}e.x=c,e.y=h}var xs={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){let n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;let l=is(t.options.layout.padding),c=Math.max(e-l.width,0),h=Math.max(n-l.height,0),p=sEe(t.boxes),m=p.vertical,g=p.horizontal;Un(t.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});let y=m.reduce((E,L)=>L.box.options&&L.box.options.display===!1?E:E+1,0)||1,_=Object.freeze({outerWidth:e,outerHeight:n,padding:l,availableWidth:c,availableHeight:h,vBoxMaxWidth:c/2/y,hBoxMaxHeight:h/2}),C=Object.assign({},l);Bee(C,is(r));let S=Object.assign({maxPadding:C,w:c,h,x:l.left,y:l.top},l),A=rEe(m.concat(g),_);Bb(p.fullSize,S,_,A),Bb(m,S,_,A),Bb(g,S,_,A)&&Bb(m,S,_,A),aEe(S),$J(p.leftAndTop,S,_,A),S.x+=S.w,S.y+=S.h,$J(p.rightAndBottom,S,_,A),t.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Un(p.chartArea,E=>{let L=E.box;Object.assign(L,t.chartArea),L.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}},qS=class{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,l){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,l?Math.floor(n/l):r)}}isAttached(e){return!0}updateConfig(e){}},I6=class extends qS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},$S="$chartjs",cEe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},YJ=t=>t===null||t==="";function uEe(t,e){let n=t.style,r=t.getAttribute("height"),l=t.getAttribute("width");if(t[$S]={initial:{height:r,width:l,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",YJ(l)){let c=m6(t,"width");c!==void 0&&(t.width=c)}if(YJ(r))if(t.style.height==="")t.height=t.width/(e||2);else{let c=m6(t,"height");c!==void 0&&(t.height=c)}return t}var Vee=AJ?{passive:!0}:!1;function hEe(t,e,n){t&&t.addEventListener(e,n,Vee)}function dEe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Vee)}function pEe(t,e){let n=cEe[t.type]||t.type,{x:r,y:l}=fd(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:l!==void 0?l:null}}function KS(t,e){for(let n of t)if(n===e||n.contains(e))return!0}function fEe(t,e,n){let r=t.canvas,l=new MutationObserver(c=>{let h=!1;for(let p of c)h=h||KS(p.addedNodes,r),h=h&&!KS(p.removedNodes,r);h&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}function mEe(t,e,n){let r=t.canvas,l=new MutationObserver(c=>{let h=!1;for(let p of c)h=h||KS(p.removedNodes,r),h=h&&!KS(p.addedNodes,r);h&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}var zb=new Map,XJ=0;function zee(){let t=window.devicePixelRatio;t!==XJ&&(XJ=t,zb.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function gEe(t,e){zb.size||window.addEventListener("resize",zee),zb.set(t,e)}function vEe(t){zb.delete(t),zb.size||window.removeEventListener("resize",zee)}function yEe(t,e,n){let r=t.canvas,l=r&&NS(r);if(!l)return;let c=n6((p,m)=>{let g=l.clientWidth;n(p,m),g<l.clientWidth&&n()},window),h=new ResizeObserver(p=>{let m=p[0],g=m.contentRect.width,y=m.contentRect.height;g===0&&y===0||c(g,y)});return h.observe(l),gEe(t,c),h}function D6(t,e,n){n&&n.disconnect(),e==="resize"&&vEe(t)}function xEe(t,e,n){let r=t.canvas,l=n6(c=>{t.ctx!==null&&n(pEe(c,t))},t);return hEe(r,e,l),l}var O6=class extends qS{acquireContext(e,n){let r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(uEe(e,n),r):null}releaseContext(e){let n=e.canvas;if(!n[$S])return!1;let r=n[$S].initial;["height","width"].forEach(c=>{let h=r[c];Sn(h)?n.removeAttribute(c):n.setAttribute(c,h)});let l=r.style||{};return Object.keys(l).forEach(c=>{n.style[c]=l[c]}),n.width=n.width,delete n[$S],!0}addEventListener(e,n,r){this.removeEventListener(e,n);let l=e.$proxies||(e.$proxies={}),h={attach:fEe,detach:mEe,resize:yEe}[n]||xEe;l[n]=h(e,n,r)}removeEventListener(e,n){let r=e.$proxies||(e.$proxies={}),l=r[n];if(!l)return;({attach:D6,detach:D6,resize:D6}[n]||dEe)(e,n,l),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,l){return TJ(e,n,r,l)}isAttached(e){let n=NS(e);return!!(n&&n.isConnected)}};function bEe(t){return!FS()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?I6:O6}var ml=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return jf(this.x)&&jf(this.y)}getProps(e,n){let r=this.$animations;if(!n||!r)return this;let l={};return e.forEach(c=>{l[c]=r[c]&&r[c].active()?r[c]._to:this[c]}),l}};function _Ee(t,e){let n=t.options.ticks,r=wEe(t),l=Math.min(n.maxTicksLimit||r,r),c=n.major.enabled?kEe(e):[],h=c.length,p=c[0],m=c[h-1],g=[];if(h>l)return DEe(e,g,c,h/l),g;let y=CEe(c,e,l);if(h>0){let _,C,S=h>1?Math.round((m-p)/(h-1)):null;for(zS(e,g,y,Sn(S)?0:p-S,p),_=0,C=h-1;_<C;_++)zS(e,g,y,c[_],c[_+1]);return zS(e,g,y,m,Sn(S)?e.length:m+S),g}return zS(e,g,y),g}function wEe(t){let e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),l=t._maxLength/n;return Math.floor(Math.min(r,l))}function CEe(t,e,n){let r=SEe(t),l=e.length/n;if(!r)return Math.max(l,1);let c=lJ(r);for(let h=0,p=c.length-1;h<p;h++){let m=c[h];if(m>l)return m}return Math.max(l,1)}function kEe(t){let e=[],n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function DEe(t,e,n,r){let l=0,c=n[0],h;for(r=Math.ceil(r),h=0;h<t.length;h++)h===c&&(e.push(t[h]),l++,c=n[l*r])}function zS(t,e,n,r,l){let c=Et(r,0),h=Math.min(Et(l,t.length),t.length),p=0,m,g,y;for(n=Math.ceil(n),l&&(m=l-r,n=m/Math.floor(m/n)),y=c;y<0;)p++,y=Math.round(c+p*n);for(g=Math.max(c,0);g<h;g++)g===y&&(e.push(t[g]),p++,y=Math.round(c+p*n))}function SEe(t){let e=t.length,n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}var TEe=t=>t==="left"?"right":t==="right"?"left":t,qJ=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,KJ=(t,e)=>Math.min(e||t,t);function ZJ(t,e){let n=[],r=t.length/e,l=t.length,c=0;for(;c<l;c+=r)n.push(t[Math.floor(c)]);return n}function AEe(t,e,n){let r=t.ticks.length,l=Math.min(e,r-1),c=t._startPixel,h=t._endPixel,p=1e-6,m=t.getPixelForTick(l),g;if(!(n&&(r===1?g=Math.max(m-c,h-m):e===0?g=(t.getPixelForTick(1)-m)/2:g=(m-t.getPixelForTick(l-1))/2,m+=l<e?g:-g,m<c-p||m>h+p)))return m}function MEe(t,e){Un(t,n=>{let r=n.gc,l=r.length/2,c;if(l>e){for(c=0;c<l;++c)delete n.data[r[c]];r.splice(0,l)}})}function Fb(t){return t.drawTicks?t.tickLength:0}function QJ(t,e){if(!t.display)return 0;let n=gr(t.font,e),r=is(t.padding);return(gi(t.text)?t.text.length:1)*n.lineHeight+r.height}function EEe(t,e){return $u(t,{scale:e,type:"scale"})}function LEe(t,e,n){return $u(t,{tick:n,index:e,type:"tick"})}function IEe(t,e,n){let r=LS(t);return(n&&e!=="right"||!n&&e==="right")&&(r=TEe(r)),r}function OEe(t,e,n,r){let{top:l,left:c,bottom:h,right:p,chart:m}=t,{chartArea:g,scales:y}=m,_=0,C,S,A,E=h-l,L=p-c;if(t.isHorizontal()){if(S=ns(r,c,p),cn(n)){let P=Object.keys(n)[0],R=n[P];A=y[P].getPixelForValue(R)+E-e}else n==="center"?A=(g.bottom+g.top)/2+E-e:A=qJ(t,n,e);C=p-c}else{if(cn(n)){let P=Object.keys(n)[0],R=n[P];S=y[P].getPixelForValue(R)-L+e}else n==="center"?S=(g.left+g.right)/2-L+e:S=qJ(t,n,e);A=ns(r,h,l),_=n==="left"?-Yi:Yi}return{titleX:S,titleY:A,maxWidth:C,rotation:_}}var $f=class t extends ml{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:l}=this;return e=ao(e,Number.POSITIVE_INFINITY),n=ao(n,Number.NEGATIVE_INFINITY),r=ao(r,Number.POSITIVE_INFINITY),l=ao(l,Number.NEGATIVE_INFINITY),{min:ao(e,r),max:ao(n,l),minDefined:Ni(e),maxDefined:Ni(n)}}getMinMax(e){let{min:n,max:r,minDefined:l,maxDefined:c}=this.getUserBounds(),h;if(l&&c)return{min:n,max:r};let p=this.getMatchingVisibleMetas();for(let m=0,g=p.length;m<g;++m)h=p[m].controller.getMinMax(this,e),l||(n=Math.min(n,h.min)),c||(r=Math.max(r,h.max));return n=c&&n>r?r:n,r=l&&n>r?n:r,{min:ao(n,ao(r,n)),max:ao(r,ao(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){si(this.options.beforeUpdate,[this])}update(e,n,r){let{beginAtZero:l,grace:c,ticks:h}=this.options,p=h.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_J(this,c,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let m=p<this.ticks.length;this._convertTicksToLabels(m?ZJ(this.ticks,p):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),h.display&&(h.autoSkip||h.source==="auto")&&(this.ticks=_Ee(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){si(this.options.afterUpdate,[this])}beforeSetDimensions(){si(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){si(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),si(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){si(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let n=this.options.ticks,r,l,c;for(r=0,l=e.length;r<l;r++)c=e[r],c.label=si(n.callback,[c.value,r,e],this)}afterTickToLabelConversion(){si(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){si(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,n=e.ticks,r=KJ(this.ticks.length,e.ticks.maxTicksLimit),l=n.minRotation||0,c=n.maxRotation,h=l,p,m,g;if(!this._isVisible()||!n.display||l>=c||r<=1||!this.isHorizontal()){this.labelRotation=l;return}let y=this._getLabelSizes(),_=y.widest.width,C=y.highest.height,S=Ar(this.chart.width-_,0,this.maxWidth);p=e.offset?this.maxWidth/r:S/(r-1),_+6>p&&(p=S/(r-(e.offset?.5:1)),m=this.maxHeight-Fb(e.grid)-n.padding-QJ(e.title,this.chart.options.font),g=Math.sqrt(_*_+C*C),h=MS(Math.min(Math.asin(Ar((y.highest.height+6)/p,-1,1)),Math.asin(Ar(m/g,-1,1))-Math.asin(Ar(C/g,-1,1)))),h=Math.max(l,Math.min(c,h))),this.labelRotation=h}afterCalculateLabelRotation(){si(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){si(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:n,options:{ticks:r,title:l,grid:c}}=this,h=this._isVisible(),p=this.isHorizontal();if(h){let m=QJ(l,n.options.font);if(p?(e.width=this.maxWidth,e.height=Fb(c)+m):(e.height=this.maxHeight,e.width=Fb(c)+m),r.display&&this.ticks.length){let{first:g,last:y,widest:_,highest:C}=this._getLabelSizes(),S=r.padding*2,A=Aa(this.labelRotation),E=Math.cos(A),L=Math.sin(A);if(p){let P=r.mirror?0:L*_.width+E*C.height;e.height=Math.min(this.maxHeight,e.height+P+S)}else{let P=r.mirror?0:E*_.width+L*C.height;e.width=Math.min(this.maxWidth,e.width+P+S)}this._calculatePadding(g,y,L,E)}}this._handleMargins(),p?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,l){let{ticks:{align:c,padding:h},position:p}=this.options,m=this.labelRotation!==0,g=p!=="top"&&this.axis==="x";if(this.isHorizontal()){let y=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1),C=0,S=0;m?g?(C=l*e.width,S=r*n.height):(C=r*e.height,S=l*n.width):c==="start"?S=n.width:c==="end"?C=e.width:c!=="inner"&&(C=e.width/2,S=n.width/2),this.paddingLeft=Math.max((C-y+h)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-_+h)*this.width/(this.width-_),0)}else{let y=n.height/2,_=e.height/2;c==="start"?(y=0,_=e.height):c==="end"&&(y=n.height,_=0),this.paddingTop=y+h,this.paddingBottom=_+h}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){si(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Sn(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let n=this.options.ticks.sampleSize,r=this.ticks;n<r.length&&(r=ZJ(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){let{ctx:l,_longestTextCache:c}=this,h=[],p=[],m=Math.floor(n/KJ(n,r)),g=0,y=0,_,C,S,A,E,L,P,R,V,z,H;for(_=0;_<n;_+=m){if(A=e[_].label,E=this._resolveTickFontOptions(_),l.font=L=E.string,P=c[L]=c[L]||{data:{},gc:[]},R=E.lineHeight,V=z=0,!Sn(A)&&!gi(A))V=Ab(l,P.data,P.gc,V,A),z=R;else if(gi(A))for(C=0,S=A.length;C<S;++C)H=A[C],!Sn(H)&&!gi(H)&&(V=Ab(l,P.data,P.gc,V,H),z+=R);h.push(V),p.push(z),g=Math.max(V,g),y=Math.max(z,y)}MEe(c,n);let U=h.indexOf(g),X=p.indexOf(y),Q=Z=>({width:h[Z]||0,height:p[Z]||0});return{first:Q(0),last:Q(n-1),widest:Q(U),highest:Q(X),widths:h,heights:p}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let n=this._startPixel+e*this._length;return uJ(this._alignToPixels?hd(this.chart,n,0):n)}getDecimalForPixel(e){let n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){let n=this.ticks||[];if(e>=0&&e<n.length){let r=n[e];return r.$context||(r.$context=LEe(this.getContext(),e,r))}return this.$context||(this.$context=EEe(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,n=Aa(this.labelRotation),r=Math.abs(Math.cos(n)),l=Math.abs(Math.sin(n)),c=this._getLabelSizes(),h=e.autoSkipPadding||0,p=c?c.widest.width+h:0,m=c?c.highest.height+h:0;return this.isHorizontal()?m*r>p*l?p/r:m/l:m*l<p*r?m/r:p/l}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let n=this.axis,r=this.chart,l=this.options,{grid:c,position:h,border:p}=l,m=c.offset,g=this.isHorizontal(),_=this.ticks.length+(m?1:0),C=Fb(c),S=[],A=p.setContext(this.getContext()),E=A.display?A.width:0,L=E/2,P=function(Ce){return hd(r,Ce,E)},R,V,z,H,U,X,Q,Z,ie,ne,de,ue;if(h==="top")R=P(this.bottom),X=this.bottom-C,Z=R-L,ne=P(e.top)+L,ue=e.bottom;else if(h==="bottom")R=P(this.top),ne=e.top,ue=P(e.bottom)-L,X=R+L,Z=this.top+C;else if(h==="left")R=P(this.right),U=this.right-C,Q=R-L,ie=P(e.left)+L,de=e.right;else if(h==="right")R=P(this.left),ie=e.left,de=P(e.right)-L,U=R+L,Q=this.left+C;else if(n==="x"){if(h==="center")R=P((e.top+e.bottom)/2+.5);else if(cn(h)){let Ce=Object.keys(h)[0],Pe=h[Ce];R=P(this.chart.scales[Ce].getPixelForValue(Pe))}ne=e.top,ue=e.bottom,X=R+L,Z=X+C}else if(n==="y"){if(h==="center")R=P((e.left+e.right)/2);else if(cn(h)){let Ce=Object.keys(h)[0],Pe=h[Ce];R=P(this.chart.scales[Ce].getPixelForValue(Pe))}U=R-L,Q=U-C,ie=e.left,de=e.right}let ge=Et(l.ticks.maxTicksLimit,_),De=Math.max(1,Math.ceil(_/ge));for(V=0;V<_;V+=De){let Ce=this.getContext(V),Pe=c.setContext(Ce),Ve=p.setContext(Ce),Ie=Pe.lineWidth,Ne=Pe.color,Xe=Ve.dash||[],Qe=Ve.dashOffset,Wt=Pe.tickWidth,Ut=Pe.tickColor,rn=Pe.tickBorderDash||[],we=Pe.tickBorderDashOffset;z=AEe(this,V,m),z!==void 0&&(H=hd(r,z,Ie),g?U=Q=ie=de=H:X=Z=ne=ue=H,S.push({tx1:U,ty1:X,tx2:Q,ty2:Z,x1:ie,y1:ne,x2:de,y2:ue,width:Ie,color:Ne,borderDash:Xe,borderDashOffset:Qe,tickWidth:Wt,tickColor:Ut,tickBorderDash:rn,tickBorderDashOffset:we}))}return this._ticksLength=_,this._borderValue=R,S}_computeLabelItems(e){let n=this.axis,r=this.options,{position:l,ticks:c}=r,h=this.isHorizontal(),p=this.ticks,{align:m,crossAlign:g,padding:y,mirror:_}=c,C=Fb(r.grid),S=C+y,A=_?-y:S,E=-Aa(this.labelRotation),L=[],P,R,V,z,H,U,X,Q,Z,ie,ne,de,ue="middle";if(l==="top")U=this.bottom-A,X=this._getXAxisLabelAlignment();else if(l==="bottom")U=this.top+A,X=this._getXAxisLabelAlignment();else if(l==="left"){let De=this._getYAxisLabelAlignment(C);X=De.textAlign,H=De.x}else if(l==="right"){let De=this._getYAxisLabelAlignment(C);X=De.textAlign,H=De.x}else if(n==="x"){if(l==="center")U=(e.top+e.bottom)/2+S;else if(cn(l)){let De=Object.keys(l)[0],Ce=l[De];U=this.chart.scales[De].getPixelForValue(Ce)+S}X=this._getXAxisLabelAlignment()}else if(n==="y"){if(l==="center")H=(e.left+e.right)/2-S;else if(cn(l)){let De=Object.keys(l)[0],Ce=l[De];H=this.chart.scales[De].getPixelForValue(Ce)}X=this._getYAxisLabelAlignment(C).textAlign}n==="y"&&(m==="start"?ue="top":m==="end"&&(ue="bottom"));let ge=this._getLabelSizes();for(P=0,R=p.length;P<R;++P){V=p[P],z=V.label;let De=c.setContext(this.getContext(P));Q=this.getPixelForTick(P)+c.labelOffset,Z=this._resolveTickFontOptions(P),ie=Z.lineHeight,ne=gi(z)?z.length:1;let Ce=ne/2,Pe=De.color,Ve=De.textStrokeColor,Ie=De.textStrokeWidth,Ne=X;h?(H=Q,X==="inner"&&(P===R-1?Ne=this.options.reverse?"left":"right":P===0?Ne=this.options.reverse?"right":"left":Ne="center"),l==="top"?g==="near"||E!==0?de=-ne*ie+ie/2:g==="center"?de=-ge.highest.height/2-Ce*ie+ie:de=-ge.highest.height+ie/2:g==="near"||E!==0?de=ie/2:g==="center"?de=ge.highest.height/2-Ce*ie:de=ge.highest.height-ne*ie,_&&(de*=-1),E!==0&&!De.showLabelBackdrop&&(H+=ie/2*Math.sin(E))):(U=Q,de=(1-ne)*ie/2);let Xe;if(De.showLabelBackdrop){let Qe=is(De.backdropPadding),Wt=ge.heights[P],Ut=ge.widths[P],rn=de-Qe.top,we=0-Qe.left;switch(ue){case"middle":rn-=Wt/2;break;case"bottom":rn-=Wt;break}switch(X){case"center":we-=Ut/2;break;case"right":we-=Ut;break;case"inner":P===R-1?we-=Ut:P>0&&(we-=Ut/2);break}Xe={left:we,top:rn,width:Ut+Qe.width,height:Wt+Qe.height,color:De.backdropColor}}L.push({label:z,font:Z,textOffset:de,options:{rotation:E,color:Pe,strokeColor:Ve,strokeWidth:Ie,textAlign:Ne,textBaseline:ue,translation:[H,U],backdrop:Xe}})}return L}_getXAxisLabelAlignment(){let{position:e,ticks:n}=this.options;if(-Aa(this.labelRotation))return e==="top"?"left":"right";let l="center";return n.align==="start"?l="left":n.align==="end"?l="right":n.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(e){let{position:n,ticks:{crossAlign:r,mirror:l,padding:c}}=this.options,h=this._getLabelSizes(),p=e+c,m=h.widest.width,g,y;return n==="left"?l?(y=this.right+c,r==="near"?g="left":r==="center"?(g="center",y+=m/2):(g="right",y+=m)):(y=this.right-p,r==="near"?g="right":r==="center"?(g="center",y-=m/2):(g="left",y=this.left)):n==="right"?l?(y=this.left+c,r==="near"?g="right":r==="center"?(g="center",y-=m/2):(g="left",y-=m)):(y=this.left+p,r==="near"?g="left":r==="center"?(g="center",y+=m/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:n},left:r,top:l,width:c,height:h}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,l,c,h),e.restore())}getLineWidthForValue(e){let n=this.options.grid;if(!this._isVisible()||!n.display)return 0;let l=this.ticks.findIndex(c=>c.value===e);return l>=0?n.setContext(this.getContext(l)).lineWidth:0}drawGrid(e){let n=this.options.grid,r=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),c,h,p=(m,g,y)=>{!y.width||!y.color||(r.save(),r.lineWidth=y.width,r.strokeStyle=y.color,r.setLineDash(y.borderDash||[]),r.lineDashOffset=y.borderDashOffset,r.beginPath(),r.moveTo(m.x,m.y),r.lineTo(g.x,g.y),r.stroke(),r.restore())};if(n.display)for(c=0,h=l.length;c<h;++c){let m=l[c];n.drawOnChartArea&&p({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),n.drawTicks&&p({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:n,options:{border:r,grid:l}}=this,c=r.setContext(this.getContext()),h=r.display?c.width:0;if(!h)return;let p=l.setContext(this.getContext(0)).lineWidth,m=this._borderValue,g,y,_,C;this.isHorizontal()?(g=hd(e,this.left,h)-h/2,y=hd(e,this.right,p)+p/2,_=C=m):(_=hd(e,this.top,h)-h/2,C=hd(e,this.bottom,p)+p/2,g=y=m),n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.beginPath(),n.moveTo(g,_),n.lineTo(y,C),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;let r=this.ctx,l=this._computeLabelArea();l&&Lb(r,l);let c=this.getLabelItems(e);for(let h of c){let p=h.options,m=h.font,g=h.label,y=h.textOffset;dd(r,g,0,y,m,p)}l&&Ib(r)}drawTitle(){let{ctx:e,options:{position:n,title:r,reverse:l}}=this;if(!r.display)return;let c=gr(r.font),h=is(r.padding),p=r.align,m=c.lineHeight/2;n==="bottom"||n==="center"||cn(n)?(m+=h.bottom,gi(r.text)&&(m+=c.lineHeight*(r.text.length-1))):m+=h.top;let{titleX:g,titleY:y,maxWidth:_,rotation:C}=OEe(this,m,n,p);dd(e,r.text,0,0,c,{color:r.color,maxWidth:_,rotation:C,textAlign:IEe(p,n,l),textBaseline:"middle",translation:[g,y]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,n=e.ticks&&e.ticks.z||0,r=Et(e.grid&&e.grid.z,-1),l=Et(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:n,draw:c=>{this.draw(c)}}]:[{z:r,draw:c=>{this.drawBackground(),this.drawGrid(c),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:n,draw:c=>{this.drawLabels(c)}}]}getMatchingVisibleMetas(e){let n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",l=[],c,h;for(c=0,h=n.length;c<h;++c){let p=n[c];p[r]===this.id&&(!e||p.type===e)&&l.push(p)}return l}_resolveTickFontOptions(e){let n=this.options.ticks.setContext(this.getContext(e));return gr(n.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},pv=class{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let n=Object.getPrototypeOf(e),r;FEe(n)&&(r=this.register(n));let l=this.items,c=e.id,h=this.scope+"."+c;if(!c)throw new Error("class does not have id: "+e);return c in l||(l[c]=e,REe(e,h,r),this.override&&Bi.override(e.id,e.overrides)),h}get(e){return this.items[e]}unregister(e){let n=this.items,r=e.id,l=this.scope;r in n&&delete n[r],l&&r in Bi[l]&&(delete Bi[l][r],this.override&&delete ud[r])}};function REe(t,e,n){let r=iv(Object.create(null),[n?Bi.get(n):{},Bi.get(e),t.defaults]);Bi.set(e,r),t.defaultRoutes&&PEe(e,t.defaultRoutes),t.descriptors&&Bi.describe(e,t.descriptors)}function PEe(t,e){Object.keys(e).forEach(n=>{let r=n.split("."),l=r.pop(),c=[t].concat(r).join("."),h=e[n].split("."),p=h.pop(),m=h.join(".");Bi.route(c,l,m,p)})}function FEe(t){return"id"in t&&"defaults"in t}var R6=class{constructor(){this.controllers=new pv(gd,"datasets",!0),this.elements=new pv(ml,"elements"),this.plugins=new pv(Object,"plugins"),this.scales=new pv($f,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(l=>{let c=r||this._getRegistryForType(l);r||c.isForType(l)||c===this.plugins&&l.id?this._exec(e,c,l):Un(l,h=>{let p=r||this._getRegistryForType(h);this._exec(e,p,h)})})}_exec(e,n,r){let l=AS(e);si(r["before"+l],[],r),n[e](r),si(r["after"+l],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){let r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){let l=n.get(e);if(l===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return l}},Sc=new R6,P6=class{constructor(){this._init=[]}notify(e,n,r,l){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let c=l?this._descriptors(e).filter(l):this._descriptors(e),h=this._notify(c,e,n,r);return n==="afterDestroy"&&(this._notify(c,e,"stop"),this._notify(this._init,e,"uninstall")),h}_notify(e,n,r,l){l=l||{};for(let c of e){let h=c.plugin,p=h[r],m=[n,l,c.options];if(si(p,m,h)===!1&&l.cancelable)return!1}return!0}invalidate(){Sn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){let r=e&&e.config,l=Et(r.options&&r.options.plugins,{}),c=NEe(r);return l===!1&&!n?[]:VEe(e,c,l,n)}_notifyStateChanges(e){let n=this._oldCache||[],r=this._cache,l=(c,h)=>c.filter(p=>!h.some(m=>p.plugin.id===m.plugin.id));this._notify(l(n,r),e,"stop"),this._notify(l(r,n),e,"start")}};function NEe(t){let e={},n=[],r=Object.keys(Sc.plugins.items);for(let c=0;c<r.length;c++)n.push(Sc.getPlugin(r[c]));let l=t.plugins||[];for(let c=0;c<l.length;c++){let h=l[c];n.indexOf(h)===-1&&(n.push(h),e[h.id]=!0)}return{plugins:n,localIds:e}}function BEe(t,e){return!e&&t===!1?null:t===!0?{}:t}function VEe(t,{plugins:e,localIds:n},r,l){let c=[],h=t.getContext();for(let p of e){let m=p.id,g=BEe(r[m],l);g!==null&&c.push({plugin:p,options:zEe(t.config,{plugin:p,local:n[m]},g,h)})}return c}function zEe(t,{plugin:e,local:n},r,l){let c=t.pluginScopeKeys(e),h=t.getOptionScopes(r,c);return n&&e.defaults&&h.push(e.defaults),t.createResolver(h,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function F6(t,e){let n=Bi.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function HEe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function jEe(t,e){return t===e?"_index_":"_value_"}function JJ(t){if(t==="x"||t==="y"||t==="r")return t}function GEe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function N6(t,...e){if(JJ(t))return t;for(let n of e){let r=n.axis||GEe(n.position)||t.length>1&&JJ(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function eee(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function WEe(t,e){if(e.data&&e.data.datasets){let n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return eee(t,"x",n[0])||eee(t,"y",n[0])}return{}}function UEe(t,e){let n=ud[t.type]||{scales:{}},r=e.scales||{},l=F6(t.type,e),c=Object.create(null);return Object.keys(r).forEach(h=>{let p=r[h];if(!cn(p))return console.error(`Invalid scale configuration for scale: ${h}`);if(p._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${h}`);let m=N6(h,p,WEe(h,t),Bi.scales[p.type]),g=jEe(m,l),y=n.scales||{};c[h]=sv(Object.create(null),[{axis:m},p,y[m],y[g]])}),t.data.datasets.forEach(h=>{let p=h.type||t.type,m=h.indexAxis||F6(p,e),y=(ud[p]||{}).scales||{};Object.keys(y).forEach(_=>{let C=HEe(_,m),S=h[C+"AxisID"]||C;c[S]=c[S]||Object.create(null),sv(c[S],[{axis:C},r[S],y[_]])})}),Object.keys(c).forEach(h=>{let p=c[h];sv(p,[Bi.scales[p.type],Bi.scale])}),c}function Hee(t){let e=t.options||(t.options={});e.plugins=Et(e.plugins,{}),e.scales=UEe(t,e)}function jee(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function $Ee(t){return t=t||{},t.data=jee(t.data),Hee(t),t}var tee=new Map,Gee=new Set;function HS(t,e){let n=tee.get(t);return n||(n=e(),tee.set(t,n),Gee.add(n)),n}var Nb=(t,e,n)=>{let r=Uu(e,n);r!==void 0&&t.add(r)},B6=class{constructor(e){this._config=$Ee(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=jee(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),Hee(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return HS(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return HS(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return HS(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){let n=e.id,r=this.type;return HS(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){let r=this._scopeCache,l=r.get(e);return(!l||n)&&(l=new Map,r.set(e,l)),l}getOptionScopes(e,n,r){let{options:l,type:c}=this,h=this._cachedScopes(e,r),p=h.get(n);if(p)return p;let m=new Set;n.forEach(y=>{e&&(m.add(e),y.forEach(_=>Nb(m,e,_))),y.forEach(_=>Nb(m,l,_)),y.forEach(_=>Nb(m,ud[c]||{},_)),y.forEach(_=>Nb(m,Bi,_)),y.forEach(_=>Nb(m,IS,_))});let g=Array.from(m);return g.length===0&&g.push(Object.create(null)),Gee.has(n)&&h.set(n,g),g}chartOptionScopes(){let{options:e,type:n}=this;return[e,ud[n]||{},Bi.datasets[n]||{},{type:n},Bi,IS]}resolveNamedOptions(e,n,r,l=[""]){let c={$shared:!0},{resolver:h,subPrefixes:p}=nee(this._resolverCache,e,l),m=h;if(XEe(h,n)){c.$shared=!1,r=Gu(r)?r():r;let g=this.createResolver(e,r,p);m=Hf(h,r,g)}for(let g of n)c[g]=m[g];return c}createResolver(e,n,r=[""],l){let{resolver:c}=nee(this._resolverCache,e,r);return cn(n)?Hf(c,n,void 0,l):c}};function nee(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));let l=n.join(),c=r.get(l);return c||(c={resolver:PS(e,n),subPrefixes:n.filter(p=>!p.toLowerCase().includes("hover"))},r.set(l,c)),c}var YEe=t=>cn(t)&&Object.getOwnPropertyNames(t).some(e=>Gu(t[e]));function XEe(t,e){let{isScriptable:n,isIndexable:r}=u6(t);for(let l of e){let c=n(l),h=r(l),p=(h||c)&&t[l];if(c&&(Gu(p)||YEe(p))||h&&gi(p))return!0}return!1}var qEe="4.4.2",KEe=["top","bottom","left","right","chartArea"];function iee(t,e){return t==="top"||t==="bottom"||KEe.indexOf(t)===-1&&e==="x"}function ree(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function see(t){let e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),si(n&&n.onComplete,[t],e)}function ZEe(t){let e=t.chart,n=e.options.animation;si(n&&n.onProgress,[t],e)}function Wee(t){return FS()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var YS={},oee=t=>{let e=Wee(t);return Object.values(YS).filter(n=>n.canvas===e).pop()};function QEe(t,e,n){let r=Object.keys(t);for(let l of r){let c=+l;if(c>=e){let h=t[l];delete t[l],(n>0||c>e)&&(t[c+n]=h)}}}function JEe(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function jS(t,e,n){return t.options.clip?t[n]:e[n]}function e5e(t,e){let{xScale:n,yScale:r}=t;return n&&r?{left:jS(n,e,"left"),right:jS(n,e,"right"),top:jS(r,e,"top"),bottom:jS(r,e,"bottom")}:e}var eT=(()=>{class t{static defaults=Bi;static instances=YS;static overrides=ud;static registry=Sc;static version=qEe;static getChart=oee;static register(...n){Sc.add(...n),aee()}static unregister(...n){Sc.remove(...n),aee()}constructor(n,r){let l=this.config=new B6(r),c=Wee(n),h=oee(c);if(h)throw new Error("Canvas is already in use. Chart with ID '"+h.id+"' must be destroyed before the canvas with ID '"+h.canvas.id+"' can be reused.");let p=l.createResolver(l.chartOptionScopes(),this.getContext());this.platform=new(l.platform||bEe(c)),this.platform.updateConfig(l);let m=this.platform.acquireContext(c,p.aspectRatio),g=m&&m.canvas,y=g&&g.height,_=g&&g.width;if(this.id=rJ(),this.ctx=m,this.canvas=g,this.width=_,this.height=y,this._options=p,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new P6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mJ(C=>this.update(C),p.resizeDelay||0),this._dataChanges=[],YS[this.id]=this,!m||!g){console.error("Failed to create chart: can't acquire context from the given item");return}Yu.listen(this,"complete",see),Yu.listen(this,"progress",ZEe),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:r},width:l,height:c,_aspectRatio:h}=this;return Sn(n)?r&&h?h:c?l/c:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return Sc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():f6(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return a6(this.canvas,this.ctx),this}stop(){return Yu.stop(this),this}resize(n,r){Yu.running(this)?this._resizeBeforeDraw={width:n,height:r}:this._resize(n,r)}_resize(n,r){let l=this.options,c=this.canvas,h=l.maintainAspectRatio&&this.aspectRatio,p=this.platform.getMaximumSize(c,n,r,h),m=l.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=p.width,this.height=p.height,this._aspectRatio=this.aspectRatio,f6(this,m,!0)&&(this.notifyPlugins("resize",{size:p}),si(l.onResize,[this,p],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};Un(r,(l,c)=>{l.id=c})}buildOrUpdateScales(){let n=this.options,r=n.scales,l=this.scales,c=Object.keys(l).reduce((p,m)=>(p[m]=!1,p),{}),h=[];r&&(h=h.concat(Object.keys(r).map(p=>{let m=r[p],g=N6(p,m),y=g==="r",_=g==="x";return{options:m,dposition:y?"chartArea":_?"bottom":"left",dtype:y?"radialLinear":_?"category":"linear"}}))),Un(h,p=>{let m=p.options,g=m.id,y=N6(g,m),_=Et(m.type,p.dtype);(m.position===void 0||iee(m.position,y)!==iee(p.dposition))&&(m.position=p.dposition),c[g]=!0;let C=null;if(g in l&&l[g].type===_)C=l[g];else{let S=Sc.getScale(_);C=new S({id:g,type:_,ctx:this.ctx,chart:this}),l[C.id]=C}C.init(m,n)}),Un(c,(p,m)=>{p||delete l[m]}),Un(l,p=>{xs.configure(this,p,p.options),xs.addBox(this,p)})}_updateMetasets(){let n=this._metasets,r=this.data.datasets.length,l=n.length;if(n.sort((c,h)=>c.index-h.index),l>r){for(let c=r;c<l;++c)this._destroyDatasetMeta(c);n.splice(r,l-r)}this._sortedMetasets=n.slice(0).sort(ree("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:r}}=this;n.length>r.length&&delete this._stacks,n.forEach((l,c)=>{r.filter(h=>h===l._dataset).length===0&&this._destroyDatasetMeta(c)})}buildOrUpdateControllers(){let n=[],r=this.data.datasets,l,c;for(this._removeUnreferencedMetasets(),l=0,c=r.length;l<c;l++){let h=r[l],p=this.getDatasetMeta(l),m=h.type||this.config.type;if(p.type&&p.type!==m&&(this._destroyDatasetMeta(l),p=this.getDatasetMeta(l)),p.type=m,p.indexAxis=h.indexAxis||F6(m,this.options),p.order=h.order||0,p.index=l,p.label=""+h.label,p.visible=this.isDatasetVisible(l),p.controller)p.controller.updateIndex(l),p.controller.linkScales();else{let g=Sc.getController(m),{datasetElementType:y,dataElementType:_}=Bi.datasets[m];Object.assign(g,{dataElementType:Sc.getElement(_),datasetElementType:y&&Sc.getElement(y)}),p.controller=new g(this,l),n.push(p.controller)}}return this._updateMetasets(),n}_resetElements(){Un(this.data.datasets,(n,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let r=this.config;r.update();let l=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),c=this._animationsDisabled=!l.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let h=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let p=0;for(let y=0,_=this.data.datasets.length;y<_;y++){let{controller:C}=this.getDatasetMeta(y),S=!c&&h.indexOf(C)===-1;C.buildOrUpdateElements(S),p=Math.max(+C.getMaxOverflow(),p)}p=this._minPadding=l.layout.autoPadding?p:0,this._updateLayout(p),c||Un(h,y=>{y.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(ree("z","_idx"));let{_active:m,_lastEvent:g}=this;g?this._eventHandler(g,!0):m.length&&this._updateHoverStyles(m,m,!0),this.render()}_updateScales(){Un(this.scales,n=>{xs.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,r=new Set(Object.keys(this._listeners)),l=new Set(n.events);(!X8(r,l)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,r=this._getUniformDataChanges()||[];for(let{method:l,start:c,count:h}of r){let p=l==="_removeElements"?-h:h;QEe(n,c,p)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let r=this.data.datasets.length,l=h=>new Set(n.filter(p=>p[0]===h).map((p,m)=>m+","+p.splice(1).join(","))),c=l(0);for(let h=1;h<r;h++)if(!X8(c,l(h)))return;return Array.from(c).map(h=>h.split(",")).map(h=>({method:h[1],start:+h[2],count:+h[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xs.update(this,this.width,this.height,n);let r=this.chartArea,l=r.width<=0||r.height<=0;this._layers=[],Un(this.boxes,c=>{l&&c.position==="chartArea"||(c.configure&&c.configure(),this._layers.push(...c._layers()))},this),this._layers.forEach((c,h)=>{c._idx=h}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let r=0,l=this.data.datasets.length;r<l;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,l=this.data.datasets.length;r<l;++r)this._updateDataset(r,Gu(n)?n({datasetIndex:r}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,r){let l=this.getDatasetMeta(n),c={meta:l,index:n,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",c)!==!1&&(l.controller._update(r),c.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",c))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Yu.has(this)?this.attached&&!Yu.running(this)&&Yu.start(this):(this.draw(),see({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:l,height:c}=this._resizeBeforeDraw;this._resize(l,c),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(n=0;n<r.length&&r[n].z<=0;++n)r[n].draw(this.chartArea);for(this._drawDatasets();n<r.length;++n)r[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let r=this._sortedMetasets,l=[],c,h;for(c=0,h=r.length;c<h;++c){let p=r[c];(!n||p.visible)&&l.push(p)}return l}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r)this._drawDataset(n[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let r=this.ctx,l=n._clip,c=!l.disabled,h=e5e(n,this.chartArea),p={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",p)!==!1&&(c&&Lb(r,{left:l.left===!1?0:h.left-l.left,right:l.right===!1?this.width:h.right+l.right,top:l.top===!1?0:h.top-l.top,bottom:l.bottom===!1?this.height:h.bottom+l.bottom}),n.controller.draw(),c&&Ib(r),p.cancelable=!1,this.notifyPlugins("afterDatasetDraw",p))}isPointInArea(n){return wc(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,r,l,c){let h=tEe.modes[r];return typeof h=="function"?h(this,n,l,c):[]}getDatasetMeta(n){let r=this.data.datasets[n],l=this._metasets,c=l.filter(h=>h&&h._dataset===r).pop();return c||(c={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:n,_dataset:r,_parsed:[],_sorted:!1},l.push(c)),c}getContext(){return this.$context||(this.$context=$u(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let r=this.data.datasets[n];if(!r)return!1;let l=this.getDatasetMeta(n);return typeof l.hidden=="boolean"?!l.hidden:!r.hidden}setDatasetVisibility(n,r){let l=this.getDatasetMeta(n);l.hidden=!r}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,r,l){let c=l?"show":"hide",h=this.getDatasetMeta(n),p=h.controller._resolveAnimations(void 0,c);ov(r)?(h.data[r].hidden=!l,this.update()):(this.setDatasetVisibility(n,l),p.update(h,{visible:l}),this.update(m=>m.datasetIndex===n?c:void 0))}hide(n,r){this._updateVisibility(n,r,!1)}show(n,r){this._updateVisibility(n,r,!0)}_destroyDatasetMeta(n){let r=this._metasets[n];r&&r.controller&&r.controller._destroy(),delete this._metasets[n]}_stop(){let n,r;for(this.stop(),Yu.remove(this),n=0,r=this.data.datasets.length;n<r;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:r}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),a6(n,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete YS[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,r=this.platform,l=(h,p)=>{r.addEventListener(this,h,p),n[h]=p},c=(h,p,m)=>{h.offsetX=p,h.offsetY=m,this._eventHandler(h)};Un(this.options.events,h=>l(h,c))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,r=this.platform,l=(g,y)=>{r.addEventListener(this,g,y),n[g]=y},c=(g,y)=>{n[g]&&(r.removeEventListener(this,g,y),delete n[g])},h=(g,y)=>{this.canvas&&this.resize(g,y)},p,m=()=>{c("attach",m),this.attached=!0,this.resize(),l("resize",h),l("detach",p)};p=()=>{this.attached=!1,c("resize",h),this._stop(),this._resize(0,0),l("attach",m)},r.isAttached(this.canvas)?m():p()}unbindEvents(){Un(this._listeners,(n,r)=>{this.platform.removeEventListener(this,r,n)}),this._listeners={},Un(this._responsiveListeners,(n,r)=>{this.platform.removeEventListener(this,r,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,r,l){let c=l?"set":"remove",h,p,m,g;for(r==="dataset"&&(h=this.getDatasetMeta(n[0].datasetIndex),h.controller["_"+c+"DatasetHoverStyle"]()),m=0,g=n.length;m<g;++m){p=n[m];let y=p&&this.getDatasetMeta(p.datasetIndex).controller;y&&y[c+"HoverStyle"](p.element,p.datasetIndex,p.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let r=this._active||[],l=n.map(({datasetIndex:h,index:p})=>{let m=this.getDatasetMeta(h);if(!m)throw new Error("No dataset found at index "+h);return{datasetIndex:h,element:m.data[p],index:p}});!Mb(l,r)&&(this._active=l,this._lastEvent=null,this._updateHoverStyles(l,r))}notifyPlugins(n,r,l){return this._plugins.notify(this,n,r,l)}isPluginEnabled(n){return this._plugins._cache.filter(r=>r.plugin.id===n).length===1}_updateHoverStyles(n,r,l){let c=this.options.hover,h=(g,y)=>g.filter(_=>!y.some(C=>_.datasetIndex===C.datasetIndex&&_.index===C.index)),p=h(r,n),m=l?n:h(n,r);p.length&&this.updateHoverStyle(p,c.mode,!1),m.length&&c.mode&&this.updateHoverStyle(m,c.mode,!0)}_eventHandler(n,r){let l={event:n,replay:r,cancelable:!0,inChartArea:this.isPointInArea(n)},c=p=>(p.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",l,c)===!1)return;let h=this._handleEvent(n,r,l.inChartArea);return l.cancelable=!1,this.notifyPlugins("afterEvent",l,c),(h||l.changed)&&this.render(),this}_handleEvent(n,r,l){let{_active:c=[],options:h}=this,p=r,m=this._getActiveElements(n,c,l,p),g=aJ(n),y=JEe(n,this._lastEvent,l,g);l&&(this._lastEvent=null,si(h.onHover,[n,m,this],this),g&&si(h.onClick,[n,m,this],this));let _=!Mb(m,c);return(_||r)&&(this._active=m,this._updateHoverStyles(m,c,r)),this._lastEvent=y,_}_getActiveElements(n,r,l,c){if(n.type==="mouseout")return[];if(!l)return r;let h=this.options.hover;return this.getElementsAtEventForMode(n,h.mode,h,c)}}return t})();function aee(){return Un(eT.instances,t=>t._plugins.invalidate())}function t5e(t,e,n){let{startAngle:r,pixelMargin:l,x:c,y:h,outerRadius:p,innerRadius:m}=e,g=l/p;t.beginPath(),t.arc(c,h,p,r-g,n+g),m>l?(g=l/m,t.arc(c,h,m,n+g,r-g,!0)):t.arc(c,h,l,n+Yi,r-Yi),t.closePath(),t.clip()}function n5e(t){return RS(t,["outerStart","outerEnd","innerStart","innerEnd"])}function i5e(t,e,n,r){let l=n5e(t.options.borderRadius),c=(n-e)/2,h=Math.min(c,r*e/2),p=m=>{let g=(n-Math.min(c,m))*r/2;return Ar(m,0,Math.min(c,g))};return{outerStart:p(l.outerStart),outerEnd:p(l.outerEnd),innerStart:Ar(l.innerStart,0,h),innerEnd:Ar(l.innerEnd,0,h)}}function dv(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function ZS(t,e,n,r,l,c){let{x:h,y:p,startAngle:m,pixelMargin:g,innerRadius:y}=e,_=Math.max(e.outerRadius+r+n-g,0),C=y>0?y+r+n+g:0,S=0,A=l-m;if(r){let De=y>0?y-r:0,Ce=_>0?_-r:0,Pe=(De+Ce)/2,Ve=Pe!==0?A*Pe/(Pe+r):A;S=(A-Ve)/2}let E=Math.max(.001,A*_-n/vi)/_,L=(A-E)/2,P=m+L+S,R=l-L-S,{outerStart:V,outerEnd:z,innerStart:H,innerEnd:U}=i5e(e,C,_,R-P),X=_-V,Q=_-z,Z=P+V/X,ie=R-z/Q,ne=C+H,de=C+U,ue=P+H/ne,ge=R-U/de;if(t.beginPath(),c){let De=(Z+ie)/2;if(t.arc(h,p,_,Z,De),t.arc(h,p,_,De,ie),z>0){let Ie=dv(Q,ie,h,p);t.arc(Ie.x,Ie.y,z,ie,R+Yi)}let Ce=dv(de,R,h,p);if(t.lineTo(Ce.x,Ce.y),U>0){let Ie=dv(de,ge,h,p);t.arc(Ie.x,Ie.y,U,R+Yi,ge+Math.PI)}let Pe=(R-U/C+(P+H/C))/2;if(t.arc(h,p,C,R-U/C,Pe,!0),t.arc(h,p,C,Pe,P+H/C,!0),H>0){let Ie=dv(ne,ue,h,p);t.arc(Ie.x,Ie.y,H,ue+Math.PI,P-Yi)}let Ve=dv(X,P,h,p);if(t.lineTo(Ve.x,Ve.y),V>0){let Ie=dv(X,Z,h,p);t.arc(Ie.x,Ie.y,V,P-Yi,Z)}}else{t.moveTo(h,p);let De=Math.cos(Z)*_+h,Ce=Math.sin(Z)*_+p;t.lineTo(De,Ce);let Pe=Math.cos(ie)*_+h,Ve=Math.sin(ie)*_+p;t.lineTo(Pe,Ve)}t.closePath()}function r5e(t,e,n,r,l){let{fullCircles:c,startAngle:h,circumference:p}=e,m=e.endAngle;if(c){ZS(t,e,n,r,m,l);for(let g=0;g<c;++g)t.fill();isNaN(p)||(m=h+(p%yi||yi))}return ZS(t,e,n,r,m,l),t.fill(),m}function s5e(t,e,n,r,l){let{fullCircles:c,startAngle:h,circumference:p,options:m}=e,{borderWidth:g,borderJoinStyle:y,borderDash:_,borderDashOffset:C}=m,S=m.borderAlign==="inner";if(!g)return;t.setLineDash(_||[]),t.lineDashOffset=C,S?(t.lineWidth=g*2,t.lineJoin=y||"round"):(t.lineWidth=g,t.lineJoin=y||"bevel");let A=e.endAngle;if(c){ZS(t,e,n,r,A,l);for(let E=0;E<c;++E)t.stroke();isNaN(p)||(A=h+(p%yi||yi))}S&&t5e(t,e,A),c||(ZS(t,e,n,r,A,l),t.stroke())}var V6=class extends ml{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){let l=this.getProps(["x","y"],r),{angle:c,distance:h}=Q8(l,{x:e,y:n}),{startAngle:p,endAngle:m,innerRadius:g,outerRadius:y,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),C=(this.options.spacing+this.options.borderWidth)/2,A=Et(_,m-p)>=yi||lv(c,p,m),E=kc(h,g+C,y+C);return A&&E}getCenterPoint(e){let{x:n,y:r,startAngle:l,endAngle:c,innerRadius:h,outerRadius:p}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:m,spacing:g}=this.options,y=(l+c)/2,_=(h+p+g+m)/2;return{x:n+Math.cos(y)*_,y:r+Math.sin(y)*_}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:n,circumference:r}=this,l=(n.offset||0)/4,c=(n.spacing||0)/2,h=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>yi?Math.floor(r/yi):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let p=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(p)*l,Math.sin(p)*l);let m=1-Math.sin(Math.min(vi,r||0)),g=l*m;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,r5e(e,this,g,c,h),s5e(e,this,g,c,h),e.restore()}};function Uee(t,e,n=e){t.lineCap=Et(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Et(n.borderDash,e.borderDash)),t.lineDashOffset=Et(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Et(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Et(n.borderWidth,e.borderWidth),t.strokeStyle=Et(n.borderColor,e.borderColor)}function o5e(t,e,n){t.lineTo(n.x,n.y)}function a5e(t){return t.stepped?xJ:t.tension||t.cubicInterpolationMode==="monotone"?bJ:o5e}function $ee(t,e,n={}){let r=t.length,{start:l=0,end:c=r-1}=n,{start:h,end:p}=e,m=Math.max(l,h),g=Math.min(c,p),y=l<h&&c<h||l>p&&c>p;return{count:r,start:m,loop:e.loop,ilen:g<m&&!y?r+g-m:g-m}}function l5e(t,e,n,r){let{points:l,options:c}=e,{count:h,start:p,loop:m,ilen:g}=$ee(l,n,r),y=a5e(c),{move:_=!0,reverse:C}=r||{},S,A,E;for(S=0;S<=g;++S)A=l[(p+(C?g-S:S))%h],!A.skip&&(_?(t.moveTo(A.x,A.y),_=!1):y(t,E,A,C,c.stepped),E=A);return m&&(A=l[(p+(C?g:0))%h],y(t,E,A,C,c.stepped)),!!m}function c5e(t,e,n,r){let l=e.points,{count:c,start:h,ilen:p}=$ee(l,n,r),{move:m=!0,reverse:g}=r||{},y=0,_=0,C,S,A,E,L,P,R=z=>(h+(g?p-z:z))%c,V=()=>{E!==L&&(t.lineTo(y,L),t.lineTo(y,E),t.lineTo(y,P))};for(m&&(S=l[R(0)],t.moveTo(S.x,S.y)),C=0;C<=p;++C){if(S=l[R(C)],S.skip)continue;let z=S.x,H=S.y,U=z|0;U===A?(H<E?E=H:H>L&&(L=H),y=(_*y+z)/++_):(V(),t.lineTo(z,H),A=U,_=0,E=L=H),P=H}V()}function z6(t){let e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?c5e:l5e}function u5e(t){return t.stepped?MJ:t.tension||t.cubicInterpolationMode==="monotone"?EJ:cd}function h5e(t,e,n,r){let l=e._path;l||(l=e._path=new Path2D,e.path(l,n,r)&&l.closePath()),Uee(t,e.options),t.stroke(l)}function d5e(t,e,n,r){let{segments:l,options:c}=e,h=z6(e);for(let p of l)Uee(t,c,p.style),t.beginPath(),h(t,e,p,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}var p5e=typeof Path2D=="function";function f5e(t,e,n,r){p5e&&!e.options.segment?h5e(t,e,n,r):d5e(t,e,n,r)}var tT=(()=>{class t extends ml{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,r){let l=this.options;if((l.tension||l.cubicInterpolationMode==="monotone")&&!l.stepped&&!this._pointsUpdated){let c=l.spanGaps?this._loop:this._fullLoop;SJ(this._points,l,n,c,r),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=IJ(this,this.options.segment))}first(){let n=this.segments,r=this.points;return n.length&&r[n[0].start]}last(){let n=this.segments,r=this.points,l=n.length;return l&&r[n[l-1].end]}interpolate(n,r){let l=this.options,c=n[r],h=this.points,p=x6(this,{property:r,start:c,end:c});if(!p.length)return;let m=[],g=u5e(l),y,_;for(y=0,_=p.length;y<_;++y){let{start:C,end:S}=p[y],A=h[C],E=h[S];if(A===E){m.push(A);continue}let L=Math.abs((c-A[r])/(E[r]-A[r])),P=g(A,E,L,l.stepped);P[r]=n[r],m.push(P)}return m.length===1?m[0]:m}pathSegment(n,r,l){return z6(this)(n,this,r,l)}path(n,r,l){let c=this.segments,h=z6(this),p=this._loop;r=r||0,l=l||this.points.length-r;for(let m of c)p&=h(n,this,m,{start:r,end:r+l-1});return!!p}draw(n,r,l,c){let h=this.options||{};(this.points||[]).length&&h.borderWidth&&(n.save(),f5e(n,this,l,c),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function lee(t,e,n,r){let l=t.options,{[n]:c}=t.getProps([n],r);return Math.abs(e-c)<l.radius+l.hitRadius}var m5e=(()=>{class t extends ml{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,l){let c=this.options,{x:h,y:p}=this.getProps(["x","y"],l);return Math.pow(n-h,2)+Math.pow(r-p,2)<Math.pow(c.hitRadius+c.radius,2)}inXRange(n,r){return lee(this,n,"x",r)}inYRange(n,r){return lee(this,n,"y",r)}getCenterPoint(n){let{x:r,y:l}=this.getProps(["x","y"],n);return{x:r,y:l}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);let l=r&&n.borderWidth||0;return(r+l)*2}draw(n,r){let l=this.options;this.skip||l.radius<.1||!wc(this,r,this.size(l)/2)||(n.strokeStyle=l.borderColor,n.lineWidth=l.borderWidth,n.fillStyle=l.backgroundColor,OS(n,l,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}return t})();function Yee(t,e){let{x:n,y:r,base:l,width:c,height:h}=t.getProps(["x","y","base","width","height"],e),p,m,g,y,_;return t.horizontal?(_=h/2,p=Math.min(n,l),m=Math.max(n,l),g=r-_,y=r+_):(_=c/2,p=n-_,m=n+_,g=Math.min(r,l),y=Math.max(r,l)),{left:p,top:g,right:m,bottom:y}}function md(t,e,n,r){return t?0:Ar(e,n,r)}function g5e(t,e,n){let r=t.options.borderWidth,l=t.borderSkipped,c=c6(r);return{t:md(l.top,c.top,0,n),r:md(l.right,c.right,0,e),b:md(l.bottom,c.bottom,0,n),l:md(l.left,c.left,0,e)}}function v5e(t,e,n){let{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),l=t.options.borderRadius,c=pd(l),h=Math.min(e,n),p=t.borderSkipped,m=r||cn(l);return{topLeft:md(!m||p.top||p.left,c.topLeft,0,h),topRight:md(!m||p.top||p.right,c.topRight,0,h),bottomLeft:md(!m||p.bottom||p.left,c.bottomLeft,0,h),bottomRight:md(!m||p.bottom||p.right,c.bottomRight,0,h)}}function y5e(t){let e=Yee(t),n=e.right-e.left,r=e.bottom-e.top,l=g5e(t,n/2,r/2),c=v5e(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:c},inner:{x:e.left+l.l,y:e.top+l.t,w:n-l.l-l.r,h:r-l.t-l.b,radius:{topLeft:Math.max(0,c.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,c.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,c.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,c.bottomRight-Math.max(l.b,l.r))}}}}function S6(t,e,n,r){let l=e===null,c=n===null,p=t&&!(l&&c)&&Yee(t,r);return p&&(l||kc(e,p.left,p.right))&&(c||kc(n,p.top,p.bottom))}function x5e(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function b5e(t,e){t.rect(e.x,e.y,e.w,e.h)}function T6(t,e,n={}){let r=t.x!==n.x?-e:0,l=t.y!==n.y?-e:0,c=(t.x+t.w!==n.x+n.w?e:0)-r,h=(t.y+t.h!==n.y+n.h?e:0)-l;return{x:t.x+r,y:t.y+l,w:t.w+c,h:t.h+h,radius:t.radius}}var H6=class extends ml{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:n,options:{borderColor:r,backgroundColor:l}}=this,{inner:c,outer:h}=y5e(this),p=x5e(h.radius)?uv:b5e;e.save(),(h.w!==c.w||h.h!==c.h)&&(e.beginPath(),p(e,T6(h,n,c)),e.clip(),p(e,T6(c,-n,h)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),p(e,T6(c,n)),e.fillStyle=l,e.fill(),e.restore()}inRange(e,n,r){return S6(this,e,n,r)}inXRange(e,n){return S6(this,e,null,n)}inYRange(e,n){return S6(this,null,e,n)}getCenterPoint(e){let{x:n,y:r,base:l,horizontal:c}=this.getProps(["x","y","base","horizontal"],e);return{x:c?(n+l)/2:n,y:c?r:(r+l)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},_5e=Object.freeze({__proto__:null,ArcElement:V6,BarElement:H6,LineElement:tT,PointElement:m5e}),j6=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],cee=j6.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Xee(t){return j6[t%j6.length]}function qee(t){return cee[t%cee.length]}function w5e(t,e){return t.borderColor=Xee(e),t.backgroundColor=qee(e),++e}function C5e(t,e){return t.backgroundColor=t.data.map(()=>Xee(e++)),e}function k5e(t,e){return t.backgroundColor=t.data.map(()=>qee(e++)),e}function D5e(t){let e=0;return(n,r)=>{let l=t.getDatasetMeta(r).controller;l instanceof K6?e=C5e(n,e):l instanceof Fee?e=k5e(n,e):l&&(e=w5e(n,e))}}function uee(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function S5e(t){return t&&(t.borderColor||t.backgroundColor)}var T5e={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;let{data:{datasets:r},options:l}=t.config,{elements:c}=l;if(!n.forceOverride&&(uee(r)||S5e(l)||c&&uee(c)))return;let h=D5e(t);r.forEach(h)}};function A5e(t,e,n,r,l){let c=l.samples||r;if(c>=n)return t.slice(e,e+n);let h=[],p=(n-2)/(c-2),m=0,g=e+n-1,y=e,_,C,S,A,E;for(h[m++]=t[y],_=0;_<c-2;_++){let L=0,P=0,R,V=Math.floor((_+1)*p)+1+e,z=Math.min(Math.floor((_+2)*p)+1,n)+e,H=z-V;for(R=V;R<z;R++)L+=t[R].x,P+=t[R].y;L/=H,P/=H;let U=Math.floor(_*p)+1+e,X=Math.min(Math.floor((_+1)*p)+1,n)+e,{x:Q,y:Z}=t[y];for(S=A=-1,R=U;R<X;R++)A=.5*Math.abs((Q-L)*(t[R].y-Z)-(Q-t[R].x)*(P-Z)),A>S&&(S=A,C=t[R],E=R);h[m++]=C,y=E}return h[m++]=t[g],h}function M5e(t,e,n,r){let l=0,c=0,h,p,m,g,y,_,C,S,A,E,L=[],P=e+n-1,R=t[e].x,z=t[P].x-R;for(h=e;h<e+n;++h){p=t[h],m=(p.x-R)/z*r,g=p.y;let H=m|0;if(H===y)g<A?(A=g,_=h):g>E&&(E=g,C=h),l=(c*l+p.x)/++c;else{let U=h-1;if(!Sn(_)&&!Sn(C)){let X=Math.min(_,C),Q=Math.max(_,C);X!==S&&X!==U&&L.push(ti(Ue({},t[X]),{x:l})),Q!==S&&Q!==U&&L.push(ti(Ue({},t[Q]),{x:l}))}h>0&&U!==S&&L.push(t[U]),L.push(p),y=H,c=0,A=E=g,_=C=S=h}}return L}function Kee(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function hee(t){t.data.datasets.forEach(e=>{Kee(e)})}function E5e(t,e){let n=e.length,r=0,l,{iScale:c}=t,{min:h,max:p,minDefined:m,maxDefined:g}=c.getUserBounds();return m&&(r=Ar(_c(e,c.axis,h).lo,0,n-1)),g?l=Ar(_c(e,c.axis,p).hi+1,r,n)-r:l=n-r,{start:r,count:l}}var L5e={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){hee(t);return}let r=t.width;t.data.datasets.forEach((l,c)=>{let{_data:h,indexAxis:p}=l,m=t.getDatasetMeta(c),g=h||l.data;if(hv([p,t.options.indexAxis])==="y"||!m.controller.supportsDecimation)return;let y=t.scales[m.xAxisID];if(y.type!=="linear"&&y.type!=="time"||t.options.parsing)return;let{start:_,count:C}=E5e(m,g),S=n.threshold||4*r;if(C<=S){Kee(l);return}Sn(h)&&(l._data=g,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(E){this._data=E}}));let A;switch(n.algorithm){case"lttb":A=A5e(g,_,C,r,n);break;case"min-max":A=M5e(g,_,C,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}l._decimated=A})},destroy(t){hee(t)}};function I5e(t,e,n){let r=t.segments,l=t.points,c=e.points,h=[];for(let p of r){let{start:m,end:g}=p;g=Z6(m,g,l);let y=G6(n,l[m],l[g],p.loop);if(!e.segments){h.push({source:p,target:y,start:l[m],end:l[g]});continue}let _=x6(e,y);for(let C of _){let S=G6(n,c[C.start],c[C.end],C.loop),A=y6(p,l,S);for(let E of A)h.push({source:E,target:C,start:{[n]:dee(y,S,"start",Math.max)},end:{[n]:dee(y,S,"end",Math.min)}})}}return h}function G6(t,e,n,r){if(r)return;let l=e[t],c=n[t];return t==="angle"&&(l=oo(l),c=oo(c)),{property:t,start:l,end:c}}function O5e(t,e){let{x:n=null,y:r=null}=t||{},l=e.points,c=[];return e.segments.forEach(({start:h,end:p})=>{p=Z6(h,p,l);let m=l[h],g=l[p];r!==null?(c.push({x:m.x,y:r}),c.push({x:g.x,y:r})):n!==null&&(c.push({x:n,y:m.y}),c.push({x:n,y:g.y}))}),c}function Z6(t,e,n){for(;e>t;e--){let r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function dee(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function Zee(t,e){let n=[],r=!1;return gi(t)?(r=!0,n=t):n=O5e(t,e),n.length?new tT({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function pee(t){return t&&t.fill!==!1}function R5e(t,e,n){let l=t[e].fill,c=[e],h;if(!n)return l;for(;l!==!1&&c.indexOf(l)===-1;){if(!Ni(l))return l;if(h=t[l],!h)return!1;if(h.visible)return l;c.push(l),l=h.fill}return!1}function P5e(t,e,n){let r=V5e(t);if(cn(r))return isNaN(r.value)?!1:r;let l=parseFloat(r);return Ni(l)&&Math.floor(l)===l?F5e(r[0],e,l,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function F5e(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function N5e(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:cn(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function B5e(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:cn(t)?r=t.value:r=e.getBaseValue(),r}function V5e(t){let e=t.options,n=e.fill,r=Et(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function z5e(t){let{scale:e,index:n,line:r}=t,l=[],c=r.segments,h=r.points,p=H5e(e,n);p.push(Zee({x:null,y:e.bottom},r));for(let m=0;m<c.length;m++){let g=c[m];for(let y=g.start;y<=g.end;y++)j5e(l,h[y],p)}return new tT({points:l,options:{}})}function H5e(t,e){let n=[],r=t.getMatchingVisibleMetas("line");for(let l=0;l<r.length;l++){let c=r[l];if(c.index===e)break;c.hidden||n.unshift(c.dataset)}return n}function j5e(t,e,n){let r=[];for(let l=0;l<n.length;l++){let c=n[l],{first:h,last:p,point:m}=G5e(c,e,"x");if(!(!m||h&&p)){if(h)r.unshift(m);else if(t.push(m),!p)break}}t.push(...r)}function G5e(t,e,n){let r=t.interpolate(e,n);if(!r)return{};let l=r[n],c=t.segments,h=t.points,p=!1,m=!1;for(let g=0;g<c.length;g++){let y=c[g],_=h[y.start][n],C=h[y.end][n];if(kc(l,_,C)){p=l===_,m=l===C;break}}return{first:p,last:m,point:r}}var QS=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){let{x:l,y:c,radius:h}=this;return n=n||{start:0,end:yi},e.arc(l,c,h,n.end,n.start,!0),!r.bounds}interpolate(e){let{x:n,y:r,radius:l}=this,c=e.angle;return{x:n+Math.cos(c)*l,y:r+Math.sin(c)*l,angle:c}}};function W5e(t){let{chart:e,fill:n,line:r}=t;if(Ni(n))return U5e(e,n);if(n==="stack")return z5e(t);if(n==="shape")return!0;let l=$5e(t);return l instanceof QS?l:Zee(l,r)}function U5e(t,e){let n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function $5e(t){return(t.scale||{}).getPointPositionForValue?X5e(t):Y5e(t)}function Y5e(t){let{scale:e={},fill:n}=t,r=N5e(n,e);if(Ni(r)){let l=e.isHorizontal();return{x:l?r:null,y:l?null:r}}return null}function X5e(t){let{scale:e,fill:n}=t,r=e.options,l=e.getLabels().length,c=r.reverse?e.max:e.min,h=B5e(n,e,c),p=[];if(r.grid.circular){let m=e.getPointPositionForValue(0,c);return new QS({x:m.x,y:m.y,radius:e.getDistanceFromCenterForValue(h)})}for(let m=0;m<l;++m)p.push(e.getPointPositionForValue(m,h));return p}function A6(t,e,n){let r=W5e(e),{line:l,scale:c,axis:h}=e,p=l.options,m=p.fill,g=p.backgroundColor,{above:y=g,below:_=g}=m||{};r&&l.points.length&&(Lb(t,n),q5e(t,{line:l,target:r,above:y,below:_,area:n,scale:c,axis:h}),Ib(t))}function q5e(t,e){let{line:n,target:r,above:l,below:c,area:h,scale:p}=e,m=n._loop?"angle":e.axis;t.save(),m==="x"&&c!==l&&(fee(t,r,h.top),mee(t,{line:n,target:r,color:l,scale:p,property:m}),t.restore(),t.save(),fee(t,r,h.bottom)),mee(t,{line:n,target:r,color:c,scale:p,property:m}),t.restore()}function fee(t,e,n){let{segments:r,points:l}=e,c=!0,h=!1;t.beginPath();for(let p of r){let{start:m,end:g}=p,y=l[m],_=l[Z6(m,g,l)];c?(t.moveTo(y.x,y.y),c=!1):(t.lineTo(y.x,n),t.lineTo(y.x,y.y)),h=!!e.pathSegment(t,p,{move:h}),h?t.closePath():t.lineTo(_.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function mee(t,e){let{line:n,target:r,property:l,color:c,scale:h}=e,p=I5e(n,r,l);for(let{source:m,target:g,start:y,end:_}of p){let{style:{backgroundColor:C=c}={}}=m,S=r!==!0;t.save(),t.fillStyle=C,K5e(t,h,S&&G6(l,y,_)),t.beginPath();let A=!!n.pathSegment(t,m),E;if(S){A?t.closePath():gee(t,r,_,l);let L=!!r.pathSegment(t,g,{move:A,reverse:!0});E=A&&L,E||gee(t,r,y,l)}t.closePath(),t.fill(E?"evenodd":"nonzero"),t.restore()}}function K5e(t,e,n){let{top:r,bottom:l}=e.chart.chartArea,{property:c,start:h,end:p}=n||{};c==="x"&&(t.beginPath(),t.rect(h,r,p-h,l-r),t.clip())}function gee(t,e,n,r){let l=e.interpolate(n,r);l&&t.lineTo(l.x,l.y)}var Z5e={id:"filler",afterDatasetsUpdate(t,e,n){let r=(t.data.datasets||[]).length,l=[],c,h,p,m;for(h=0;h<r;++h)c=t.getDatasetMeta(h),p=c.dataset,m=null,p&&p.options&&p instanceof tT&&(m={visible:t.isDatasetVisible(h),index:h,fill:P5e(p,h,r),chart:t,axis:c.controller.options.indexAxis,scale:c.vScale,line:p}),c.$filler=m,l.push(m);for(h=0;h<r;++h)m=l[h],!(!m||m.fill===!1)&&(m.fill=R5e(l,h,n.propagate))},beforeDraw(t,e,n){let r=n.drawTime==="beforeDraw",l=t.getSortedVisibleDatasetMetas(),c=t.chartArea;for(let h=l.length-1;h>=0;--h){let p=l[h].$filler;p&&(p.line.updateControlPoints(c,p.axis),r&&p.fill&&A6(t.ctx,p,c))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;let r=t.getSortedVisibleDatasetMetas();for(let l=r.length-1;l>=0;--l){let c=r[l].$filler;pee(c)&&A6(t.ctx,c,t.chartArea)}},beforeDatasetDraw(t,e,n){let r=e.meta.$filler;!pee(r)||n.drawTime!=="beforeDatasetDraw"||A6(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},vee=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Q5e=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,JS=class extends ml{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},n=si(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,l)=>e.sort(r,l,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){let{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}let r=e.labels,l=gr(r.font),c=l.size,h=this._computeTitleHeight(),{boxWidth:p,itemHeight:m}=vee(r,c),g,y;n.font=l.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(h,c,p,m)+10):(y=this.maxHeight,g=this._fitCols(h,l,p,m)+10),this.width=Math.min(g,e.maxWidth||this.maxWidth),this.height=Math.min(y,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,l){let{ctx:c,maxWidth:h,options:{labels:{padding:p}}}=this,m=this.legendHitBoxes=[],g=this.lineWidths=[0],y=l+p,_=e;c.textAlign="left",c.textBaseline="middle";let C=-1,S=-y;return this.legendItems.forEach((A,E)=>{let L=r+n/2+c.measureText(A.text).width;(E===0||g[g.length-1]+L+2*p>h)&&(_+=y,g[g.length-(E>0?0:1)]=0,S+=y,C++),m[E]={left:0,top:S,row:C,width:L,height:l},g[g.length-1]+=L+p}),_}_fitCols(e,n,r,l){let{ctx:c,maxHeight:h,options:{labels:{padding:p}}}=this,m=this.legendHitBoxes=[],g=this.columnSizes=[],y=h-e,_=p,C=0,S=0,A=0,E=0;return this.legendItems.forEach((L,P)=>{let{itemWidth:R,itemHeight:V}=J5e(r,n,c,L,l);P>0&&S+V+2*p>y&&(_+=C+p,g.push({width:C,height:S}),A+=C+p,E++,C=S=0),m[P]={left:A,top:S,col:E,width:R,height:V},C=Math.max(C,R),S+=V+p}),_+=C,g.push({width:C,height:S}),_}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:l},rtl:c}}=this,h=Gf(c,this.left,this.width);if(this.isHorizontal()){let p=0,m=ns(r,this.left+l,this.right-this.lineWidths[p]);for(let g of n)p!==g.row&&(p=g.row,m=ns(r,this.left+l,this.right-this.lineWidths[p])),g.top+=this.top+e+l,g.left=h.leftForLtr(h.x(m),g.width),m+=g.width+l}else{let p=0,m=ns(r,this.top+e+l,this.bottom-this.columnSizes[p].height);for(let g of n)g.col!==p&&(p=g.col,m=ns(r,this.top+e+l,this.bottom-this.columnSizes[p].height)),g.top=m,g.left+=this.left+l,g.left=h.leftForLtr(h.x(g.left),g.width),m+=g.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Lb(e,this),this._draw(),Ib(e)}}_draw(){let{options:e,columnSizes:n,lineWidths:r,ctx:l}=this,{align:c,labels:h}=e,p=Bi.color,m=Gf(e.rtl,this.left,this.width),g=gr(h.font),{padding:y}=h,_=g.size,C=_/2,S;this.drawTitle(),l.textAlign=m.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=g.string;let{boxWidth:A,boxHeight:E,itemHeight:L}=vee(h,_),P=function(U,X,Q){if(isNaN(A)||A<=0||isNaN(E)||E<0)return;l.save();let Z=Et(Q.lineWidth,1);if(l.fillStyle=Et(Q.fillStyle,p),l.lineCap=Et(Q.lineCap,"butt"),l.lineDashOffset=Et(Q.lineDashOffset,0),l.lineJoin=Et(Q.lineJoin,"miter"),l.lineWidth=Z,l.strokeStyle=Et(Q.strokeStyle,p),l.setLineDash(Et(Q.lineDash,[])),h.usePointStyle){let ie={radius:E*Math.SQRT2/2,pointStyle:Q.pointStyle,rotation:Q.rotation,borderWidth:Z},ne=m.xPlus(U,A/2),de=X+C;l6(l,ie,ne,de,h.pointStyleWidth&&A)}else{let ie=X+Math.max((_-E)/2,0),ne=m.leftForLtr(U,A),de=pd(Q.borderRadius);l.beginPath(),Object.values(de).some(ue=>ue!==0)?uv(l,{x:ne,y:ie,w:A,h:E,radius:de}):l.rect(ne,ie,A,E),l.fill(),Z!==0&&l.stroke()}l.restore()},R=function(U,X,Q){dd(l,Q.text,U,X+L/2,g,{strikethrough:Q.hidden,textAlign:m.textAlign(Q.textAlign)})},V=this.isHorizontal(),z=this._computeTitleHeight();V?S={x:ns(c,this.left+y,this.right-r[0]),y:this.top+y+z,line:0}:S={x:this.left+y,y:ns(c,this.top+z+y,this.bottom-n[0].height),line:0},g6(this.ctx,e.textDirection);let H=L+y;this.legendItems.forEach((U,X)=>{l.strokeStyle=U.fontColor,l.fillStyle=U.fontColor;let Q=l.measureText(U.text).width,Z=m.textAlign(U.textAlign||(U.textAlign=h.textAlign)),ie=A+C+Q,ne=S.x,de=S.y;m.setWidth(this.width),V?X>0&&ne+ie+y>this.right&&(de=S.y+=H,S.line++,ne=S.x=ns(c,this.left+y,this.right-r[S.line])):X>0&&de+H>this.bottom&&(ne=S.x=ne+n[S.line].width+y,S.line++,de=S.y=ns(c,this.top+z+y,this.bottom-n[S.line].height));let ue=m.x(ne);if(P(ue,de,U),ne=gJ(Z,ne+A+C,V?ne+ie:this.right,e.rtl),R(m.x(ne),de,U),V)S.x+=ie+y;else if(typeof U.text!="string"){let ge=g.lineHeight;S.y+=Qee(U,ge)+y}else S.y+=H}),v6(this.ctx,e.textDirection)}drawTitle(){let e=this.options,n=e.title,r=gr(n.font),l=is(n.padding);if(!n.display)return;let c=Gf(e.rtl,this.left,this.width),h=this.ctx,p=n.position,m=r.size/2,g=l.top+m,y,_=this.left,C=this.width;if(this.isHorizontal())C=Math.max(...this.lineWidths),y=this.top+g,_=ns(e.align,_,this.right-C);else{let A=this.columnSizes.reduce((E,L)=>Math.max(E,L.height),0);y=g+ns(e.align,this.top,this.bottom-A-e.labels.padding-this._computeTitleHeight())}let S=ns(p,_,_+C);h.textAlign=c.textAlign(LS(p)),h.textBaseline="middle",h.strokeStyle=n.color,h.fillStyle=n.color,h.font=r.string,dd(h,n.text,S,y,r)}_computeTitleHeight(){let e=this.options.title,n=gr(e.font),r=is(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,l,c;if(kc(e,this.left,this.right)&&kc(n,this.top,this.bottom)){for(c=this.legendHitBoxes,r=0;r<c.length;++r)if(l=c[r],kc(e,l.left,l.left+l.width)&&kc(n,l.top,l.top+l.height))return this.legendItems[r]}return null}handleEvent(e){let n=this.options;if(!n4e(e.type,n))return;let r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let l=this._hoveredItem,c=Q5e(l,r);l&&!c&&si(n.onLeave,[e,l,this],this),this._hoveredItem=r,r&&!c&&si(n.onHover,[e,r,this],this)}else r&&si(n.onClick,[e,r,this],this)}};function J5e(t,e,n,r,l){let c=e4e(r,t,e,n),h=t4e(l,r,e.lineHeight);return{itemWidth:c,itemHeight:h}}function e4e(t,e,n,r){let l=t.text;return l&&typeof l!="string"&&(l=l.reduce((c,h)=>c.length>h.length?c:h)),e+n.size/2+r.measureText(l).width}function t4e(t,e,n){let r=t;return typeof e.text!="string"&&(r=Qee(e,n)),r}function Qee(t,e){let n=t.text?t.text.length:0;return e*n}function n4e(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var i4e={id:"legend",_element:JS,start(t,e,n){let r=t.legend=new JS({ctx:t.ctx,options:n,chart:t});xs.configure(t,r,n),xs.addBox(t,r)},stop(t){xs.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){let r=t.legend;xs.configure(t,r,n),r.options=n},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){let r=e.datasetIndex,l=n.chart;l.isDatasetVisible(r)?(l.hide(r),e.hidden=!0):(l.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:l,color:c,useBorderRadius:h,borderRadius:p}}=t.legend.options;return t._getSortedDatasetMetas().map(m=>{let g=m.controller.getStyle(n?0:void 0),y=is(g.borderWidth);return{text:e[m.index].label,fillStyle:g.backgroundColor,fontColor:c,hidden:!m.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:r||g.pointStyle,rotation:g.rotation,textAlign:l||g.textAlign,borderRadius:h&&(p||g.borderRadius),datasetIndex:m.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},Hb=class extends ml{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;let l=gi(r.text)?r.text.length:1;this._padding=is(r.padding);let c=l*gr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=c:this.width=c}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:n,left:r,bottom:l,right:c,options:h}=this,p=h.align,m=0,g,y,_;return this.isHorizontal()?(y=ns(p,r,c),_=n+e,g=c-r):(h.position==="left"?(y=r+e,_=ns(p,l,n),m=vi*-.5):(y=c-e,_=ns(p,n,l),m=vi*.5),g=l-n),{titleX:y,titleY:_,maxWidth:g,rotation:m}}draw(){let e=this.ctx,n=this.options;if(!n.display)return;let r=gr(n.font),c=r.lineHeight/2+this._padding.top,{titleX:h,titleY:p,maxWidth:m,rotation:g}=this._drawArgs(c);dd(e,n.text,0,0,r,{color:n.color,maxWidth:m,rotation:g,textAlign:LS(n.align),textBaseline:"middle",translation:[h,p]})}};function r4e(t,e){let n=new Hb({ctx:t.ctx,options:e,chart:t});xs.configure(t,n,e),xs.addBox(t,n),t.titleBlock=n}var s4e={id:"title",_element:Hb,start(t,e,n){r4e(t,n)},stop(t){let e=t.titleBlock;xs.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){let r=t.titleBlock;xs.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},GS=new WeakMap,o4e={id:"subtitle",start(t,e,n){let r=new Hb({ctx:t.ctx,options:n,chart:t});xs.configure(t,r,n),xs.addBox(t,r),GS.set(t,r)},stop(t){xs.removeBox(t,GS.get(t)),GS.delete(t)},beforeUpdate(t,e,n){let r=GS.get(t);xs.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Vb={average(t){if(!t.length)return!1;let e,n,r=new Set,l=0,c=0;for(e=0,n=t.length;e<n;++e){let p=t[e].element;if(p&&p.hasValue()){let m=p.tooltipPosition();r.add(m.x),l+=m.y,++c}}return{x:[...r].reduce((p,m)=>p+m)/r.size,y:l/c}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,l=Number.POSITIVE_INFINITY,c,h,p;for(c=0,h=t.length;c<h;++c){let m=t[c].element;if(m&&m.hasValue()){let g=m.getCenterPoint(),y=SS(e,g);y<l&&(l=y,p=m)}}if(p){let m=p.tooltipPosition();n=m.x,r=m.y}return{x:n,y:r}}};function Dc(t,e){return e&&(gi(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Xu(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function a4e(t,e){let{element:n,datasetIndex:r,index:l}=e,c=t.getDatasetMeta(r).controller,{label:h,value:p}=c.getLabelAndValue(l);return{chart:t,label:h,parsed:c.getParsed(l),raw:t.data.datasets[r].data[l],formattedValue:p,dataset:c.getDataset(),dataIndex:l,datasetIndex:r,element:n}}function yee(t,e){let n=t.chart.ctx,{body:r,footer:l,title:c}=t,{boxWidth:h,boxHeight:p}=e,m=gr(e.bodyFont),g=gr(e.titleFont),y=gr(e.footerFont),_=c.length,C=l.length,S=r.length,A=is(e.padding),E=A.height,L=0,P=r.reduce((z,H)=>z+H.before.length+H.lines.length+H.after.length,0);if(P+=t.beforeBody.length+t.afterBody.length,_&&(E+=_*g.lineHeight+(_-1)*e.titleSpacing+e.titleMarginBottom),P){let z=e.displayColors?Math.max(p,m.lineHeight):m.lineHeight;E+=S*z+(P-S)*m.lineHeight+(P-1)*e.bodySpacing}C&&(E+=e.footerMarginTop+C*y.lineHeight+(C-1)*e.footerSpacing);let R=0,V=function(z){L=Math.max(L,n.measureText(z).width+R)};return n.save(),n.font=g.string,Un(t.title,V),n.font=m.string,Un(t.beforeBody.concat(t.afterBody),V),R=e.displayColors?h+2+e.boxPadding:0,Un(r,z=>{Un(z.before,V),Un(z.lines,V),Un(z.after,V)}),R=0,n.font=y.string,Un(t.footer,V),n.restore(),L+=A.width,{width:L,height:E}}function l4e(t,e){let{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function c4e(t,e,n,r){let{x:l,width:c}=r,h=n.caretSize+n.caretPadding;if(t==="left"&&l+c+h>e.width||t==="right"&&l-c-h<0)return!0}function u4e(t,e,n,r){let{x:l,width:c}=n,{width:h,chartArea:{left:p,right:m}}=t,g="center";return r==="center"?g=l<=(p+m)/2?"left":"right":l<=c/2?g="left":l>=h-c/2&&(g="right"),c4e(g,t,e,n)&&(g="center"),g}function xee(t,e,n){let r=n.yAlign||e.yAlign||l4e(t,n);return{xAlign:n.xAlign||e.xAlign||u4e(t,e,n,r),yAlign:r}}function h4e(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function d4e(t,e,n){let{y:r,height:l}=t;return e==="top"?r+=n:e==="bottom"?r-=l+n:r-=l/2,r}function bee(t,e,n,r){let{caretSize:l,caretPadding:c,cornerRadius:h}=t,{xAlign:p,yAlign:m}=n,g=l+c,{topLeft:y,topRight:_,bottomLeft:C,bottomRight:S}=pd(h),A=h4e(e,p),E=d4e(e,m,g);return m==="center"?p==="left"?A+=g:p==="right"&&(A-=g):p==="left"?A-=Math.max(y,C)+l:p==="right"&&(A+=Math.max(_,S)+l),{x:Ar(A,0,r.width-e.width),y:Ar(E,0,r.height-e.height)}}function WS(t,e,n){let r=is(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function _ee(t){return Dc([],Xu(t))}function p4e(t,e,n){return $u(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function wee(t,e){let n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var Jee={beforeTitle:Cc,title(t){if(t.length>0){let e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Cc,beforeBody:Cc,beforeLabel:Cc,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let n=t.formattedValue;return Sn(n)||(e+=n),e},labelColor(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Cc,afterBody:Cc,beforeFooter:Cc,footer:Cc,afterFooter:Cc};function lo(t,e,n,r){let l=t[e].call(n,r);return typeof l>"u"?Jee[e].call(n,r):l}var Cee=(()=>{class t extends ml{static positioners=Vb;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let r=this.chart,l=this.options.setContext(this.getContext()),c=l.enabled&&r.options.animation&&l.animations,h=new XS(this.chart,c);return c._cacheable&&(this._cachedAnimations=Object.freeze(h)),h}getContext(){return this.$context||(this.$context=p4e(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,r){let{callbacks:l}=r,c=lo(l,"beforeTitle",this,n),h=lo(l,"title",this,n),p=lo(l,"afterTitle",this,n),m=[];return m=Dc(m,Xu(c)),m=Dc(m,Xu(h)),m=Dc(m,Xu(p)),m}getBeforeBody(n,r){return _ee(lo(r.callbacks,"beforeBody",this,n))}getBody(n,r){let{callbacks:l}=r,c=[];return Un(n,h=>{let p={before:[],lines:[],after:[]},m=wee(l,h);Dc(p.before,Xu(lo(m,"beforeLabel",this,h))),Dc(p.lines,lo(m,"label",this,h)),Dc(p.after,Xu(lo(m,"afterLabel",this,h))),c.push(p)}),c}getAfterBody(n,r){return _ee(lo(r.callbacks,"afterBody",this,n))}getFooter(n,r){let{callbacks:l}=r,c=lo(l,"beforeFooter",this,n),h=lo(l,"footer",this,n),p=lo(l,"afterFooter",this,n),m=[];return m=Dc(m,Xu(c)),m=Dc(m,Xu(h)),m=Dc(m,Xu(p)),m}_createItems(n){let r=this._active,l=this.chart.data,c=[],h=[],p=[],m=[],g,y;for(g=0,y=r.length;g<y;++g)m.push(a4e(this.chart,r[g]));return n.filter&&(m=m.filter((_,C,S)=>n.filter(_,C,S,l))),n.itemSort&&(m=m.sort((_,C)=>n.itemSort(_,C,l))),Un(m,_=>{let C=wee(n.callbacks,_);c.push(lo(C,"labelColor",this,_)),h.push(lo(C,"labelPointStyle",this,_)),p.push(lo(C,"labelTextColor",this,_))}),this.labelColors=c,this.labelPointStyles=h,this.labelTextColors=p,this.dataPoints=m,m}update(n,r){let l=this.options.setContext(this.getContext()),c=this._active,h,p=[];if(!c.length)this.opacity!==0&&(h={opacity:0});else{let m=Vb[l.position].call(this,c,this._eventPosition);p=this._createItems(l),this.title=this.getTitle(p,l),this.beforeBody=this.getBeforeBody(p,l),this.body=this.getBody(p,l),this.afterBody=this.getAfterBody(p,l),this.footer=this.getFooter(p,l);let g=this._size=yee(this,l),y=Object.assign({},m,g),_=xee(this.chart,l,y),C=bee(l,y,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,h={opacity:1,x:C.x,y:C.y,width:g.width,height:g.height,caretX:m.x,caretY:m.y}}this._tooltipItems=p,this.$context=void 0,h&&this._resolveAnimations().update(this,h),n&&l.external&&l.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(n,r,l,c){let h=this.getCaretPosition(n,l,c);r.lineTo(h.x1,h.y1),r.lineTo(h.x2,h.y2),r.lineTo(h.x3,h.y3)}getCaretPosition(n,r,l){let{xAlign:c,yAlign:h}=this,{caretSize:p,cornerRadius:m}=l,{topLeft:g,topRight:y,bottomLeft:_,bottomRight:C}=pd(m),{x:S,y:A}=n,{width:E,height:L}=r,P,R,V,z,H,U;return h==="center"?(H=A+L/2,c==="left"?(P=S,R=P-p,z=H+p,U=H-p):(P=S+E,R=P+p,z=H-p,U=H+p),V=P):(c==="left"?R=S+Math.max(g,_)+p:c==="right"?R=S+E-Math.max(y,C)-p:R=this.caretX,h==="top"?(z=A,H=z-p,P=R-p,V=R+p):(z=A+L,H=z+p,P=R+p,V=R-p),U=z),{x1:P,x2:R,x3:V,y1:z,y2:H,y3:U}}drawTitle(n,r,l){let c=this.title,h=c.length,p,m,g;if(h){let y=Gf(l.rtl,this.x,this.width);for(n.x=WS(this,l.titleAlign,l),r.textAlign=y.textAlign(l.titleAlign),r.textBaseline="middle",p=gr(l.titleFont),m=l.titleSpacing,r.fillStyle=l.titleColor,r.font=p.string,g=0;g<h;++g)r.fillText(c[g],y.x(n.x),n.y+p.lineHeight/2),n.y+=p.lineHeight+m,g+1===h&&(n.y+=l.titleMarginBottom-m)}}_drawColorBox(n,r,l,c,h){let p=this.labelColors[l],m=this.labelPointStyles[l],{boxHeight:g,boxWidth:y}=h,_=gr(h.bodyFont),C=WS(this,"left",h),S=c.x(C),A=g<_.lineHeight?(_.lineHeight-g)/2:0,E=r.y+A;if(h.usePointStyle){let L={radius:Math.min(y,g)/2,pointStyle:m.pointStyle,rotation:m.rotation,borderWidth:1},P=c.leftForLtr(S,y)+y/2,R=E+g/2;n.strokeStyle=h.multiKeyBackground,n.fillStyle=h.multiKeyBackground,OS(n,L,P,R),n.strokeStyle=p.borderColor,n.fillStyle=p.backgroundColor,OS(n,L,P,R)}else{n.lineWidth=cn(p.borderWidth)?Math.max(...Object.values(p.borderWidth)):p.borderWidth||1,n.strokeStyle=p.borderColor,n.setLineDash(p.borderDash||[]),n.lineDashOffset=p.borderDashOffset||0;let L=c.leftForLtr(S,y),P=c.leftForLtr(c.xPlus(S,1),y-2),R=pd(p.borderRadius);Object.values(R).some(V=>V!==0)?(n.beginPath(),n.fillStyle=h.multiKeyBackground,uv(n,{x:L,y:E,w:y,h:g,radius:R}),n.fill(),n.stroke(),n.fillStyle=p.backgroundColor,n.beginPath(),uv(n,{x:P,y:E+1,w:y-2,h:g-2,radius:R}),n.fill()):(n.fillStyle=h.multiKeyBackground,n.fillRect(L,E,y,g),n.strokeRect(L,E,y,g),n.fillStyle=p.backgroundColor,n.fillRect(P,E+1,y-2,g-2))}n.fillStyle=this.labelTextColors[l]}drawBody(n,r,l){let{body:c}=this,{bodySpacing:h,bodyAlign:p,displayColors:m,boxHeight:g,boxWidth:y,boxPadding:_}=l,C=gr(l.bodyFont),S=C.lineHeight,A=0,E=Gf(l.rtl,this.x,this.width),L=function(Z){r.fillText(Z,E.x(n.x+A),n.y+S/2),n.y+=S+h},P=E.textAlign(p),R,V,z,H,U,X,Q;for(r.textAlign=p,r.textBaseline="middle",r.font=C.string,n.x=WS(this,P,l),r.fillStyle=l.bodyColor,Un(this.beforeBody,L),A=m&&P!=="right"?p==="center"?y/2+_:y+2+_:0,H=0,X=c.length;H<X;++H){for(R=c[H],V=this.labelTextColors[H],r.fillStyle=V,Un(R.before,L),z=R.lines,m&&z.length&&(this._drawColorBox(r,n,H,E,l),S=Math.max(C.lineHeight,g)),U=0,Q=z.length;U<Q;++U)L(z[U]),S=C.lineHeight;Un(R.after,L)}A=0,S=C.lineHeight,Un(this.afterBody,L),n.y-=h}drawFooter(n,r,l){let c=this.footer,h=c.length,p,m;if(h){let g=Gf(l.rtl,this.x,this.width);for(n.x=WS(this,l.footerAlign,l),n.y+=l.footerMarginTop,r.textAlign=g.textAlign(l.footerAlign),r.textBaseline="middle",p=gr(l.footerFont),r.fillStyle=l.footerColor,r.font=p.string,m=0;m<h;++m)r.fillText(c[m],g.x(n.x),n.y+p.lineHeight/2),n.y+=p.lineHeight+l.footerSpacing}}drawBackground(n,r,l,c){let{xAlign:h,yAlign:p}=this,{x:m,y:g}=n,{width:y,height:_}=l,{topLeft:C,topRight:S,bottomLeft:A,bottomRight:E}=pd(c.cornerRadius);r.fillStyle=c.backgroundColor,r.strokeStyle=c.borderColor,r.lineWidth=c.borderWidth,r.beginPath(),r.moveTo(m+C,g),p==="top"&&this.drawCaret(n,r,l,c),r.lineTo(m+y-S,g),r.quadraticCurveTo(m+y,g,m+y,g+S),p==="center"&&h==="right"&&this.drawCaret(n,r,l,c),r.lineTo(m+y,g+_-E),r.quadraticCurveTo(m+y,g+_,m+y-E,g+_),p==="bottom"&&this.drawCaret(n,r,l,c),r.lineTo(m+A,g+_),r.quadraticCurveTo(m,g+_,m,g+_-A),p==="center"&&h==="left"&&this.drawCaret(n,r,l,c),r.lineTo(m,g+C),r.quadraticCurveTo(m,g,m+C,g),r.closePath(),r.fill(),c.borderWidth>0&&r.stroke()}_updateAnimationTarget(n){let r=this.chart,l=this.$animations,c=l&&l.x,h=l&&l.y;if(c||h){let p=Vb[n.position].call(this,this._active,this._eventPosition);if(!p)return;let m=this._size=yee(this,n),g=Object.assign({},p,this._size),y=xee(r,n,g),_=bee(n,g,y,r);(c._to!==_.x||h._to!==_.y)&&(this.xAlign=y.xAlign,this.yAlign=y.yAlign,this.width=m.width,this.height=m.height,this.caretX=p.x,this.caretY=p.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(n){let r=this.options.setContext(this.getContext()),l=this.opacity;if(!l)return;this._updateAnimationTarget(r);let c={width:this.width,height:this.height},h={x:this.x,y:this.y};l=Math.abs(l)<.001?0:l;let p=is(r.padding),m=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&m&&(n.save(),n.globalAlpha=l,this.drawBackground(h,n,c,r),g6(n,r.textDirection),h.y+=p.top,this.drawTitle(h,n,r),this.drawBody(h,n,r),this.drawFooter(h,n,r),v6(n,r.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,r){let l=this._active,c=n.map(({datasetIndex:m,index:g})=>{let y=this.chart.getDatasetMeta(m);if(!y)throw new Error("Cannot find a dataset at index "+m);return{datasetIndex:m,element:y.data[g],index:g}}),h=!Mb(l,c),p=this._positionChanged(c,r);(h||p)&&(this._active=c,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,r,l=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let c=this.options,h=this._active||[],p=this._getActiveElements(n,h,r,l),m=this._positionChanged(p,n),g=r||!Mb(p,h)||m;return g&&(this._active=p,(c.enabled||c.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,r))),g}_getActiveElements(n,r,l,c){let h=this.options;if(n.type==="mouseout")return[];if(!c)return r.filter(m=>this.chart.data.datasets[m.datasetIndex]&&this.chart.getDatasetMeta(m.datasetIndex).controller.getParsed(m.index)!==void 0);let p=this.chart.getElementsAtEventForMode(n,h.mode,h,l);return h.reverse&&p.reverse(),p}_positionChanged(n,r){let{caretX:l,caretY:c,options:h}=this,p=Vb[h.position].call(this,n,r);return p!==!1&&(l!==p.x||c!==p.y)}}return t})(),f4e={id:"tooltip",_element:Cee,positioners:Vb,afterInit(t,e,n){n&&(t.tooltip=new Cee({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",ti(Ue({},n),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){let n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Jee},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},m4e=Object.freeze({__proto__:null,Colors:T5e,Decimation:L5e,Filler:Z5e,Legend:i4e,SubTitle:o4e,Title:s4e,Tooltip:f4e}),g4e=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function v4e(t,e,n,r){let l=t.indexOf(e);if(l===-1)return g4e(t,e,n,r);let c=t.lastIndexOf(e);return l!==c?n:l}var y4e=(t,e)=>t===null?null:Ar(Math.round(t),0,e);function kee(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var x4e=(()=>{class t extends $f{static id="category";static defaults={ticks:{callback:kee}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let r=this._addedLabels;if(r.length){let l=this.getLabels();for(let{index:c,label:h}of r)l[c]===h&&l.splice(c,1);this._addedLabels=[]}super.init(n)}parse(n,r){if(Sn(n))return null;let l=this.getLabels();return r=isFinite(r)&&l[r]===n?r:v4e(l,n,Et(r,n),this._addedLabels),y4e(r,l.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:r}=this.getUserBounds(),{min:l,max:c}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(l=0),r||(c=this.getLabels().length-1)),this.min=l,this.max=c}buildTicks(){let n=this.min,r=this.max,l=this.options.offset,c=[],h=this.getLabels();h=n===0&&r===h.length-1?h:h.slice(n,r+1),this._valueRange=Math.max(h.length-(l?0:1),1),this._startValue=this.min-(l?.5:0);for(let p=n;p<=r;p++)c.push({value:p});return c}getLabelForValue(n){return kee.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let r=this.ticks;return n<0||n>r.length-1?null:this.getPixelForValue(r[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function b4e(t,e){let n=[],{bounds:l,step:c,min:h,max:p,precision:m,count:g,maxTicks:y,maxDigits:_,includeBounds:C}=t,S=c||1,A=y-1,{min:E,max:L}=e,P=!Sn(h),R=!Sn(p),V=!Sn(g),z=(L-E)/(_+1),H=q8((L-E)/A/S)*S,U,X,Q,Z;if(H<1e-14&&!P&&!R)return[{value:E},{value:L}];Z=Math.ceil(L/H)-Math.floor(E/H),Z>A&&(H=q8(Z*H/A/S)*S),Sn(m)||(U=Math.pow(10,m),H=Math.ceil(H*U)/U),l==="ticks"?(X=Math.floor(E/H)*H,Q=Math.ceil(L/H)*H):(X=E,Q=L),P&&R&&c&&cJ((p-h)/c,H/1e3)?(Z=Math.round(Math.min((p-h)/H,y)),H=(p-h)/Z,X=h,Q=p):V?(X=P?h:X,Q=R?p:Q,Z=g-1,H=(Q-X)/Z):(Z=(Q-X)/H,av(Z,Math.round(Z),H/1e3)?Z=Math.round(Z):Z=Math.ceil(Z));let ie=Math.max(Z8(H),Z8(X));U=Math.pow(10,Sn(m)?ie:m),X=Math.round(X*U)/U,Q=Math.round(Q*U)/U;let ne=0;for(P&&(C&&X!==h?(n.push({value:h}),X<h&&ne++,av(Math.round((X+ne*H)*U)/U,h,Dee(h,z,t))&&ne++):X<h&&ne++);ne<Z;++ne){let de=Math.round((X+ne*H)*U)/U;if(R&&de>p)break;n.push({value:de})}return R&&C&&Q!==p?n.length&&av(n[n.length-1].value,p,Dee(p,z,t))?n[n.length-1].value=p:n.push({value:p}):(!R||Q===p)&&n.push({value:Q}),n}function Dee(t,e,{horizontal:n,minRotation:r}){let l=Aa(r),c=(n?Math.sin(l):Math.cos(l))||.001,h=.75*e*(""+t).length;return Math.min(e/c,h)}var fv=class extends $f{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Sn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds(),{min:l,max:c}=this,h=m=>l=n?l:m,p=m=>c=r?c:m;if(e){let m=fl(l),g=fl(c);m<0&&g<0?p(0):m>0&&g>0&&h(0)}if(l===c){let m=c===0?1:Math.abs(c*.05);p(c+m),e||h(l-m)}this.min=l,this.max=c}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:n,stepSize:r}=e,l;return r?(l=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),n=n||11),n&&(l=Math.min(n,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,n=e.ticks,r=this.getTickLimit();r=Math.max(2,r);let l={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},c=this._range||this,h=b4e(l,c);return e.bounds==="ticks"&&K8(h,this,"value"),e.reverse?(h.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),h}configure(){let e=this.ticks,n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){let l=(r-n)/Math.max(e.length-1,1)/2;n-=l,r+=l}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return cv(e,this.chart.options.locale,this.options.ticks.format)}},W6=class extends fv{static id="linear";static defaults={ticks:{callback:Eb.formatters.numeric}};determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=Ni(e)?e:0,this.max=Ni(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),n=e?this.width:this.height,r=Aa(this.options.ticks.minRotation),l=(e?Math.sin(r):Math.cos(r))||.001,c=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,c.lineHeight/l))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},jb=t=>Math.floor(Wu(t)),Uf=(t,e)=>Math.pow(10,jb(t)+e);function See(t){return t/Math.pow(10,jb(t))===1}function Tee(t,e,n){let r=Math.pow(10,n),l=Math.floor(t/r);return Math.ceil(e/r)-l}function _4e(t,e){let n=e-t,r=jb(n);for(;Tee(t,e,r)>10;)r++;for(;Tee(t,e,r)<10;)r--;return Math.min(r,jb(t))}function w4e(t,{min:e,max:n}){e=ao(t.min,e);let r=[],l=jb(e),c=_4e(e,n),h=c<0?Math.pow(10,Math.abs(c)):1,p=Math.pow(10,c),m=l>c?Math.pow(10,l):0,g=Math.round((e-m)*h)/h,y=Math.floor((e-m)/p/10)*p*10,_=Math.floor((g-y)/Math.pow(10,c)),C=ao(t.min,Math.round((m+y+_*Math.pow(10,c))*h)/h);for(;C<n;)r.push({value:C,major:See(C),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(c++,_=2,h=c>=0?1:h),C=Math.round((m+y+_*Math.pow(10,c))*h)/h;let S=ao(t.max,C);return r.push({value:S,major:See(S),significand:_}),r}var U6=class extends $f{static id="logarithmic";static defaults={ticks:{callback:Eb.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){let r=fv.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return Ni(r)&&r>0?r:null}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=Ni(e)?Math.max(0,e):null,this.max=Ni(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ni(this._userMin)&&(this.min=e===Uf(this.min,0)?Uf(this.min,-1):Uf(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),r=this.min,l=this.max,c=p=>r=e?r:p,h=p=>l=n?l:p;r===l&&(r<=0?(c(1),h(10)):(c(Uf(r,-1)),h(Uf(l,1)))),r<=0&&c(Uf(l,-1)),l<=0&&h(Uf(r,1)),this.min=r,this.max=l}buildTicks(){let e=this.options,n={min:this._userMin,max:this._userMax},r=w4e(n,this);return e.bounds==="ticks"&&K8(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":cv(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Wu(e),this._valueRange=Wu(this.max)-Wu(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Wu(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}};function $6(t){let e=t.ticks;if(e.display&&t.display){let n=is(e.backdropPadding);return Et(e.font&&e.font.size,Bi.font.size)+n.height}return 0}function C4e(t,e,n){return n=gi(n)?n:[n],{w:yJ(t,e.string,n),h:n.length*e.lineHeight}}function Aee(t,e,n,r,l){return t===r||t===l?{start:e-n/2,end:e+n/2}:t<r||t>l?{start:e-n,end:e}:{start:e,end:e+n}}function k4e(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],l=[],c=t._pointLabels.length,h=t.options.pointLabels,p=h.centerPointLabels?vi/c:0;for(let m=0;m<c;m++){let g=h.setContext(t.getPointLabelContext(m));l[m]=g.padding;let y=t.getPointPosition(m,t.drawingArea+l[m],p),_=gr(g.font),C=C4e(t.ctx,_,t._pointLabels[m]);r[m]=C;let S=oo(t.getIndexAngle(m)+p),A=Math.round(MS(S)),E=Aee(A,y.x,C.w,0,180),L=Aee(A,y.y,C.h,90,270);D4e(n,e,S,E,L)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=A4e(t,r,l)}function D4e(t,e,n,r,l){let c=Math.abs(Math.sin(n)),h=Math.abs(Math.cos(n)),p=0,m=0;r.start<e.l?(p=(e.l-r.start)/c,t.l=Math.min(t.l,e.l-p)):r.end>e.r&&(p=(r.end-e.r)/c,t.r=Math.max(t.r,e.r+p)),l.start<e.t?(m=(e.t-l.start)/h,t.t=Math.min(t.t,e.t-m)):l.end>e.b&&(m=(l.end-e.b)/h,t.b=Math.max(t.b,e.b+m))}function S4e(t,e,n){let r=t.drawingArea,{extra:l,additionalAngle:c,padding:h,size:p}=n,m=t.getPointPosition(e,r+l+h,c),g=Math.round(MS(oo(m.angle+Yi))),y=L4e(m.y,p.h,g),_=M4e(g),C=E4e(m.x,p.w,_);return{visible:!0,x:m.x,y,textAlign:_,left:C,top:y,right:C+p.w,bottom:y+p.h}}function T4e(t,e){if(!e)return!0;let{left:n,top:r,right:l,bottom:c}=t;return!(wc({x:n,y:r},e)||wc({x:n,y:c},e)||wc({x:l,y:r},e)||wc({x:l,y:c},e))}function A4e(t,e,n){let r=[],l=t._pointLabels.length,c=t.options,{centerPointLabels:h,display:p}=c.pointLabels,m={extra:$6(c)/2,additionalAngle:h?vi/l:0},g;for(let y=0;y<l;y++){m.padding=n[y],m.size=e[y];let _=S4e(t,y,m);r.push(_),p==="auto"&&(_.visible=T4e(_,g),_.visible&&(g=_))}return r}function M4e(t){return t===0||t===180?"center":t<180?"left":"right"}function E4e(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function L4e(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function I4e(t,e,n){let{left:r,top:l,right:c,bottom:h}=n,{backdropColor:p}=e;if(!Sn(p)){let m=pd(e.borderRadius),g=is(e.backdropPadding);t.fillStyle=p;let y=r-g.left,_=l-g.top,C=c-r+g.width,S=h-l+g.height;Object.values(m).some(A=>A!==0)?(t.beginPath(),uv(t,{x:y,y:_,w:C,h:S,radius:m}),t.fill()):t.fillRect(y,_,C,S)}}function O4e(t,e){let{ctx:n,options:{pointLabels:r}}=t;for(let l=e-1;l>=0;l--){let c=t._pointLabelItems[l];if(!c.visible)continue;let h=r.setContext(t.getPointLabelContext(l));I4e(n,h,c);let p=gr(h.font),{x:m,y:g,textAlign:y}=c;dd(n,t._pointLabels[l],m,g+p.lineHeight/2,p,{color:h.color,textAlign:y,textBaseline:"middle"})}}function ete(t,e,n,r){let{ctx:l}=t;if(n)l.arc(t.xCenter,t.yCenter,e,0,yi);else{let c=t.getPointPosition(0,e);l.moveTo(c.x,c.y);for(let h=1;h<r;h++)c=t.getPointPosition(h,e),l.lineTo(c.x,c.y)}}function R4e(t,e,n,r,l){let c=t.ctx,h=e.circular,{color:p,lineWidth:m}=e;!h&&!r||!p||!m||n<0||(c.save(),c.strokeStyle=p,c.lineWidth=m,c.setLineDash(l.dash),c.lineDashOffset=l.dashOffset,c.beginPath(),ete(t,n,h,r),c.closePath(),c.stroke(),c.restore())}function P4e(t,e,n){return $u(t,{label:n,index:e,type:"pointLabel"})}var Y6=class extends fv{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Eb.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=is($6(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!1);this.min=Ni(e)&&!isNaN(e)?e:0,this.max=Ni(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/$6(this.options))}generateTickLabels(e){fv.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{let l=si(this.options.pointLabels.callback,[n,r],this);return l||l===0?l:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){let e=this.options;e.display&&e.pointLabels.display?k4e(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,l){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-l)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,l))}getIndexAngle(e){let n=yi/(this._pointLabels.length||1),r=this.options.startAngle||0;return oo(e*n+Aa(r))}getDistanceFromCenterForValue(e){if(Sn(e))return NaN;let n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Sn(e))return NaN;let n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){let n=this._pointLabels||[];if(e>=0&&e<n.length){let r=n[e];return P4e(this.getContext(),e,r)}}getPointPosition(e,n,r=0){let l=this.getIndexAngle(e)-Yi+r;return{x:Math.cos(l)*n+this.xCenter,y:Math.sin(l)*n+this.yCenter,angle:l}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:n,top:r,right:l,bottom:c}=this._pointLabelItems[e];return{left:n,top:r,right:l,bottom:c}}drawBackground(){let{backgroundColor:e,grid:{circular:n}}=this.options;if(e){let r=this.ctx;r.save(),r.beginPath(),ete(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){let e=this.ctx,n=this.options,{angleLines:r,grid:l,border:c}=n,h=this._pointLabels.length,p,m,g;if(n.pointLabels.display&&O4e(this,h),l.display&&this.ticks.forEach((y,_)=>{if(_!==0||_===0&&this.min<0){m=this.getDistanceFromCenterForValue(y.value);let C=this.getContext(_),S=l.setContext(C),A=c.setContext(C);R4e(this,S,m,h,A)}}),r.display){for(e.save(),p=h-1;p>=0;p--){let y=r.setContext(this.getPointLabelContext(p)),{color:_,lineWidth:C}=y;!C||!_||(e.lineWidth=C,e.strokeStyle=_,e.setLineDash(y.borderDash),e.lineDashOffset=y.borderDashOffset,m=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),g=this.getPointPosition(p,m),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(g.x,g.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;let l=this.getIndexAngle(0),c,h;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(l),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((p,m)=>{if(m===0&&this.min>=0&&!n.reverse)return;let g=r.setContext(this.getContext(m)),y=gr(g.font);if(c=this.getDistanceFromCenterForValue(this.ticks[m].value),g.showLabelBackdrop){e.font=y.string,h=e.measureText(p.label).width,e.fillStyle=g.backdropColor;let _=is(g.backdropPadding);e.fillRect(-h/2-_.left,-c-y.size/2-_.top,h+_.width,y.size+_.height)}dd(e,p.label,0,-c,y,{color:g.color,strokeColor:g.textStrokeColor,strokeWidth:g.textStrokeWidth})}),e.restore()}drawTitle(){}},nT={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},co=Object.keys(nT);function Mee(t,e){return t-e}function Eee(t,e){if(Sn(e))return null;let n=t._adapter,{parser:r,round:l,isoWeekday:c}=t._parseOpts,h=e;return typeof r=="function"&&(h=r(h)),Ni(h)||(h=typeof r=="string"?n.parse(h,r):n.parse(h)),h===null?null:(l&&(h=l==="week"&&(jf(c)||c===!0)?n.startOf(h,"isoWeek",c):n.startOf(h,l)),+h)}function Lee(t,e,n,r){let l=co.length;for(let c=co.indexOf(t);c<l-1;++c){let h=nT[co[c]],p=h.steps?h.steps:Number.MAX_SAFE_INTEGER;if(h.common&&Math.ceil((n-e)/(p*h.size))<=r)return co[c]}return co[l-1]}function F4e(t,e,n,r,l){for(let c=co.length-1;c>=co.indexOf(n);c--){let h=co[c];if(nT[h].common&&t._adapter.diff(l,r,h)>=e-1)return h}return co[n?co.indexOf(n):0]}function N4e(t){for(let e=co.indexOf(t)+1,n=co.length;e<n;++e)if(nT[co[e]].common)return co[e]}function Iee(t,e,n){if(!n)t[e]=!0;else if(n.length){let{lo:r,hi:l}=ES(n,e),c=n[r]>=e?n[r]:n[l];t[c]=!0}}function B4e(t,e,n,r){let l=t._adapter,c=+l.startOf(e[0].value,r),h=e[e.length-1].value,p,m;for(p=c;p<=h;p=+l.add(p,1,r))m=n[p],m>=0&&(e[m].major=!0);return e}function Oee(t,e,n){let r=[],l={},c=e.length,h,p;for(h=0;h<c;++h)p=e[h],l[p]=h,r.push({value:p,major:!1});return c===0||!n?r:B4e(t,r,l,n)}var X6=(()=>{class t extends $f{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,r={}){let l=n.time||(n.time={}),c=this._adapter=new KMe._date(n.adapters.date);c.init(r),sv(l.displayFormats,c.formats()),this._parseOpts={parser:l.parser,round:l.round,isoWeekday:l.isoWeekday},super.init(n),this._normalized=r.normalized}parse(n,r){return n===void 0?null:Eee(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,r=this._adapter,l=n.time.unit||"day",{min:c,max:h,minDefined:p,maxDefined:m}=this.getUserBounds();function g(y){!p&&!isNaN(y.min)&&(c=Math.min(c,y.min)),!m&&!isNaN(y.max)&&(h=Math.max(h,y.max))}(!p||!m)&&(g(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&g(this.getMinMax(!1))),c=Ni(c)&&!isNaN(c)?c:+r.startOf(Date.now(),l),h=Ni(h)&&!isNaN(h)?h:+r.endOf(Date.now(),l)+1,this.min=Math.min(c,h-1),this.max=Math.max(c+1,h)}_getLabelBounds(){let n=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY;return n.length&&(r=n[0],l=n[n.length-1]),{min:r,max:l}}buildTicks(){let n=this.options,r=n.time,l=n.ticks,c=l.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&c.length&&(this.min=this._userMin||c[0],this.max=this._userMax||c[c.length-1]);let h=this.min,p=this.max,m=dJ(c,h,p);return this._unit=r.unit||(l.autoSkip?Lee(r.minUnit,this.min,this.max,this._getLabelCapacity(h)):F4e(this,m.length,r.minUnit,this.min,this.max)),this._majorUnit=!l.major.enabled||this._unit==="year"?void 0:N4e(this._unit),this.initOffsets(c),n.reverse&&m.reverse(),Oee(this,m,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let r=0,l=0,c,h;this.options.offset&&n.length&&(c=this.getDecimalForValue(n[0]),n.length===1?r=1-c:r=(this.getDecimalForValue(n[1])-c)/2,h=this.getDecimalForValue(n[n.length-1]),n.length===1?l=h:l=(h-this.getDecimalForValue(n[n.length-2]))/2);let p=n.length<3?.5:.25;r=Ar(r,0,p),l=Ar(l,0,p),this._offsets={start:r,end:l,factor:1/(r+1+l)}}_generate(){let n=this._adapter,r=this.min,l=this.max,c=this.options,h=c.time,p=h.unit||Lee(h.minUnit,r,l,this._getLabelCapacity(r)),m=Et(c.ticks.stepSize,1),g=p==="week"?h.isoWeekday:!1,y=jf(g)||g===!0,_={},C=r,S,A;if(y&&(C=+n.startOf(C,"isoWeek",g)),C=+n.startOf(C,y?"day":p),n.diff(l,r,p)>1e5*m)throw new Error(r+" and "+l+" are too far apart with stepSize of "+m+" "+p);let E=c.ticks.source==="data"&&this.getDataTimestamps();for(S=C,A=0;S<l;S=+n.add(S,m,p),A++)Iee(_,S,E);return(S===l||c.bounds==="ticks"||A===1)&&Iee(_,S,E),Object.keys(_).sort(Mee).map(L=>+L)}getLabelForValue(n){let r=this._adapter,l=this.options.time;return l.tooltipFormat?r.format(n,l.tooltipFormat):r.format(n,l.displayFormats.datetime)}format(n,r){let c=this.options.time.displayFormats,h=this._unit,p=r||c[h];return this._adapter.format(n,p)}_tickFormatFunction(n,r,l,c){let h=this.options,p=h.ticks.callback;if(p)return si(p,[n,r,l],this);let m=h.time.displayFormats,g=this._unit,y=this._majorUnit,_=g&&m[g],C=y&&m[y],S=l[r],A=y&&C&&S&&S.major;return this._adapter.format(n,c||(A?C:_))}generateTickLabels(n){let r,l,c;for(r=0,l=n.length;r<l;++r)c=n[r],c.label=this._tickFormatFunction(c.value,r,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let r=this._offsets,l=this.getDecimalForValue(n);return this.getPixelForDecimal((r.start+l)*r.factor)}getValueForPixel(n){let r=this._offsets,l=this.getDecimalForPixel(n)/r.factor-r.end;return this.min+l*(this.max-this.min)}_getLabelSize(n){let r=this.options.ticks,l=this.ctx.measureText(n).width,c=Aa(this.isHorizontal()?r.maxRotation:r.minRotation),h=Math.cos(c),p=Math.sin(c),m=this._resolveTickFontOptions(0).size;return{w:l*h+m*p,h:l*p+m*h}}_getLabelCapacity(n){let r=this.options.time,l=r.displayFormats,c=l[r.unit]||l.millisecond,h=this._tickFormatFunction(n,0,Oee(this,[n],this._majorUnit),c),p=this._getLabelSize(h),m=Math.floor(this.isHorizontal()?this.width/p.w:this.height/p.h)-1;return m>0?m:1}getDataTimestamps(){let n=this._cache.data||[],r,l;if(n.length)return n;let c=this.getMatchingVisibleMetas();if(this._normalized&&c.length)return this._cache.data=c[0].controller.getAllParsedValues(this);for(r=0,l=c.length;r<l;++r)n=n.concat(c[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],r,l;if(n.length)return n;let c=this.getLabels();for(r=0,l=c.length;r<l;++r)n.push(Eee(this,c[r]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return e6(n.sort(Mee))}}return t})();function US(t,e,n){let r=0,l=t.length-1,c,h,p,m;n?(e>=t[r].pos&&e<=t[l].pos&&({lo:r,hi:l}=_c(t,"pos",e)),{pos:c,time:p}=t[r],{pos:h,time:m}=t[l]):(e>=t[r].time&&e<=t[l].time&&({lo:r,hi:l}=_c(t,"time",e)),{time:c,pos:p}=t[r],{time:h,pos:m}=t[l]);let g=h-c;return g?p+(m-p)*(e-c)/g:p}var q6=class extends X6{static id="timeseries";static defaults=X6.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=US(n,this.min),this._tableRange=US(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:n,max:r}=this,l=[],c=[],h,p,m,g,y;for(h=0,p=e.length;h<p;++h)g=e[h],g>=n&&g<=r&&l.push(g);if(l.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(h=0,p=l.length;h<p;++h)y=l[h+1],m=l[h-1],g=l[h],Math.round((y+m)/2)!==g&&c.push({time:g,pos:h/(p-1)});return c}_generate(){let e=this.min,n=this.max,r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((l,c)=>l-c)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(US(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return US(this._table,r*this._tableRange+this._minPos,!0)}},V4e=Object.freeze({__proto__:null,CategoryScale:x4e,LinearScale:W6,LogarithmicScale:U6,RadialLinearScale:Y6,TimeScale:X6,TimeSeriesScale:q6}),tte=[qMe,_5e,m4e,V4e];eT.register(...tte);var ite=fV(nte());var rte=(()=>{let e=class e{constructor(r){this.graphDataService=r}ngOnInit(){this.graphDataService.getMeasurements().subscribe(r=>{this.createChart(r)})}createChart(r){this.chart=new ite.Chart("chartDiv",{debug:!0,type:"heatmap solid",margin_right:20,annotations:[{label_text:"Heatmap Data"}],defaultSeries:{opacity:1,mouseTracking_enabled:!1},defaultPoint:{outline_color:"none",states_mute_enabled:!1,states_hover_enabled:!1,states_select_enabled:!1},xAxis_label_text:"Wavelength [nm]",yAxis_label_text:"Measurement",zAxis_label_text:"Heat Delta",palette:{pointValue:function(l){return l.options("z")},colors:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#b00026"]},series:[{points:ed.toJsChartsHeatMap(r)}],toolbar_visible:!1})}generateData(r,l){for(var c=function(_,C){var S=C[0]-_[0];S=S*S;var A=C[1]-_[1];return A=A*A,Math.sqrt(S+A)},h=[],p=[r/2,l/2],m=0;m<r;m++)for(var g=0;g<l;g++){var y=c([m,g],p);h.push({x:m,y:g,z:Math.sin(m/3)+Math.cos((g+m)/2.5)+Math.sin(y/6),attributes:{dist:y}})}return h}};e.\u0275fac=function(l){return new(l||e)(dt(mf))},e.\u0275cmp=Nt({type:e,selectors:[["app-js-charting-heatmap"]],standalone:!0,features:[ar],decls:1,vars:0,consts:[["id","chartDiv"]],template:function(l,c){l&1&&vt(0,"div",0)},styles:["#chartDiv[_ngcontent-%COMP%]{aspect-ratio:16 / 8}"]});let t=e;return t})();var vd=(()=>{let e=class e{constructor(){this.fullScreenChartSubject=new br(null)}getFullScreenChart(){return this.fullScreenChartSubject}getMainChart(){return gt({component:zQ,inputs:{}})}getPreviewCharts(){return gt([{component:oq,inputs:{}},{component:rte,inputs:{}}])}openFullScreenChart(r){this.fullScreenChartSubject.next(r)}closeFullScreenChart(){this.fullScreenChartSubject.next(null)}};e.\u0275fac=function(l){return new(l||e)},e.\u0275prov=ut({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function z4e(t,e){t&1&&Wl(0)}function H4e(t,e){if(t&1){let n=ls();ma(0),Me(1,"h1"),pi(2,"Letzte Messung"),Ee(),Me(3,"button",2),qn("click",function(){hi(n);let l=Oe();return di(l.openFullScreen(l.mainChart))}),pi(4,"Open Full Screen"),Ee(),at(5,z4e,1,0,"ng-container",3),ga()}if(t&2){let n=Oe();ye(5),_e("ngComponentOutlet",n.mainChart.component)("ngComponentOutletInputs",n.mainChart.inputs)}}var ste=(()=>{let e=class e{constructor(r){this.chartProviderService=r}ngOnInit(){this.chartProviderService.getMainChart().subscribe(r=>{this.mainChart=r})}openFullScreen(r){this.chartProviderService.openFullScreenChart(r)}};e.\u0275fac=function(l){return new(l||e)(dt(vd))},e.\u0275cmp=Nt({type:e,selectors:[["app-main-chart"]],standalone:!0,features:[ar],decls:2,vars:1,consts:[[1,"chart-container"],[4,"ngIf"],[1,"full-screen-button",3,"click"],[4,"ngComponentOutlet","ngComponentOutletInputs"]],template:function(l,c){l&1&&(Me(0,"div",0),at(1,H4e,6,2,"ng-container",1),Ee()),l&2&&(ye(),_e("ngIf",c.mainChart))},dependencies:[wr,Ig],styles:[".chart-container[_ngcontent-%COMP%]{padding:2rem;background-color:var(--color-chart-background);position:relative}.chart-container[_ngcontent-%COMP%]   .full-screen-button[_ngcontent-%COMP%]{position:absolute;right:2rem;top:1.5rem}"]});let t=e;return t})();var ote=(()=>{let e=class e{};e.\u0275fac=function(l){return new(l||e)},e.\u0275cmp=Nt({type:e,selectors:[["app-navbar"]],standalone:!0,features:[ar],decls:14,vars:0,consts:[["select",""],["src","assets/images/artha-logo.png"],["id","station-select"],["name","station"],[1,"bi","bi-chevron-down","select-icon"],[1,"bi","bi-info-circle"]],template:function(l,c){l&1&&(Me(0,"nav"),vt(1,"img",1),Me(2,"div",2)(3,"select",3,0)(5,"option"),pi(6,"Niederegg ARA"),Ee(),Me(7,"option"),pi(8,"Quelle Obhuusen"),Ee(),Me(9,"option"),pi(10,"Wasserzentrum G\xE4lligen"),Ee()(),vt(11,"i",4),Ee(),Me(12,"div"),vt(13,"i",5),Ee()())},styles:["nav[_ngcontent-%COMP%]{padding:0 1rem;display:grid;height:var(--height-navbar);background-color:var(--color-dark-gray);grid-template-columns:2fr 3fr 7fr;grid-template-rows:6rem;color:#fff}nav[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:calc(100% - 2em)}nav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:1em;filter:invert() hue-rotate(180deg) brightness(125%)}nav[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(select, div)[_ngcontent-%COMP%]{margin:1em}nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:end}nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2em;line-height:4rem;color:inherit}nav[_ngcontent-%COMP%]   #station-select[_ngcontent-%COMP%]{cursor:pointer;font-size:var(--font-size-x-large);color:var(--color-font-on-dark);background-color:var(--color-dark-gray);position:relative}nav[_ngcontent-%COMP%]   #station-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;height:100%;background-color:inherit;color:inherit;appearance:none;font-size:inherit;padding-left:.5rem;margin:0;cursor:inherit}nav[_ngcontent-%COMP%]   #station-select[_ngcontent-%COMP%]   .select-icon[_ngcontent-%COMP%]{color:#fff;font-size:inherit;padding-inline-end:.5rem;position:absolute;right:.5em;top:50%;transform:translateY(-50%);cursor:inherit;pointer-events:none}"]});let t=e;return t})();function j4e(t,e){t&1&&Wl(0)}function G4e(t,e){if(t&1){let n=ls();Me(0,"div",2)(1,"button",3),qn("click",function(){let l=hi(n).$implicit,c=Oe();return di(c.openFullScreen(l))}),pi(2,"Open Full Screen"),Ee(),at(3,j4e,1,0,"ng-container",4),Ee()}if(t&2){let n=e.$implicit;ye(3),_e("ngComponentOutlet",n.component)("ngComponentOutletInputs",n.inputs)}}var ate=(()=>{let e=class e{constructor(r){this.chartProviderService=r,this.previewCharts=[]}ngOnInit(){this.chartProviderService.getPreviewCharts().subscribe(r=>{this.previewCharts=r})}openFullScreen(r){this.chartProviderService.openFullScreenChart(r)}};e.\u0275fac=function(l){return new(l||e)(dt(vd))},e.\u0275cmp=Nt({type:e,selectors:[["app-chart-preview"]],standalone:!0,features:[ar],decls:2,vars:1,consts:[["id","chart-preview-wrapper"],["class","preview-chart",4,"ngFor","ngForOf"],[1,"preview-chart"],[1,"full-screen-button",3,"click"],[4,"ngComponentOutlet","ngComponentOutletInputs"]],template:function(l,c){l&1&&(Me(0,"div",0),at(1,G4e,4,2,"div",1),Ee()),l&2&&(ye(),_e("ngForOf",c.previewCharts))},dependencies:[Ig,yu],styles:["#chart-preview-wrapper[_ngcontent-%COMP%]:has(.preview-chart:nth-child(1)){--n-charts: 1}#chart-preview-wrapper[_ngcontent-%COMP%]:has(.preview-chart:nth-child(2)){--n-charts: 2}#chart-preview-wrapper[_ngcontent-%COMP%]:has(.preview-chart:nth-child(3)){--n-charts: 3}#chart-preview-wrapper[_ngcontent-%COMP%]:has(.preview-chart:nth-child(4)){--n-charts: 4}#chart-preview-wrapper[_ngcontent-%COMP%]{--gap: 2rem;display:flex;flex-wrap:nowrap;gap:2rem;margin:2rem 0}#chart-preview-wrapper[_ngcontent-%COMP%]   .preview-chart[_ngcontent-%COMP%]{flex-grow:1;max-width:calc((100% - (var(--n-charts) - 1) * var(--gap)) / var(--n-charts));padding:3rem 1rem 1rem;box-sizing:border-box;background-color:var(--color-chart-background);position:relative}#chart-preview-wrapper[_ngcontent-%COMP%]   .preview-chart[_ngcontent-%COMP%]   .full-screen-button[_ngcontent-%COMP%]{position:absolute;right:2rem;top:1.5rem}"]});let t=e;return t})();function W4e(t,e){t&1&&Wl(0)}function U4e(t,e){if(t&1&&(ma(0),at(1,W4e,1,0,"ng-container",3),ga()),t&2){let n=Oe();ye(),_e("ngComponentOutlet",n.fullScreenChart.component)("ngComponentOutletInputs",n.fullScreenChart.inputs)}}var lte=(()=>{let e=class e{constructor(r){this.chartProviderService=r}ngOnInit(){this.chartProviderService.getFullScreenChart().subscribe(r=>{this.fullScreenChart=r||void 0})}close(){this.chartProviderService.closeFullScreenChart()}};e.\u0275fac=function(l){return new(l||e)(dt(vd))},e.\u0275cmp=Nt({type:e,selectors:[["app-full-screen-chart"]],standalone:!0,features:[ar],decls:4,vars:1,consts:[["id","fullscreen-container"],[4,"ngIf"],["id","close-button",3,"click"],[4,"ngComponentOutlet","ngComponentOutletInputs"]],template:function(l,c){l&1&&(Me(0,"div",0),at(1,U4e,2,2,"ng-container",1),Me(2,"button",2),qn("click",function(){return c.close()}),pi(3,"Close"),Ee()()),l&2&&(ye(),_e("ngIf",c.fullScreenChart))},dependencies:[Ig,wr],styles:["#fullscreen-container[_ngcontent-%COMP%]{height:100%;box-sizing:border-box;padding:6rem 4rem 1rem}#fullscreen-container[_ngcontent-%COMP%]   #close-button[_ngcontent-%COMP%]{position:absolute;right:2rem;top:2rem}"]});let t=e;return t})();function $4e(t,e){t&1&&vt(0,"app-full-screen-chart")}var cte=(()=>{let e=class e{constructor(r){this.chartProvider=r,this.fullScreenChartRendered=!1}ngOnInit(){this.chartProvider.getFullScreenChart().subscribe(r=>{this.fullScreenChartRendered=r!==null})}};e.\u0275fac=function(l){return new(l||e)(dt(vd))},e.\u0275cmp=Nt({type:e,selectors:[["app-root"]],standalone:!0,features:[ar],decls:6,vars:1,consts:[[1,"main",2,"height","900px"],[4,"ngIf"]],template:function(l,c){l&1&&(vt(0,"app-navbar"),Me(1,"main",0),vt(2,"app-chart-preview")(3,"app-main-chart"),at(4,$4e,1,0,"app-full-screen-chart",1),Ee(),vt(5,"router-outlet")),l&2&&(ye(4),_e("ngIf",c.fullScreenChartRendered))},dependencies:[aL,ste,ote,ate,lte,wr],styles:["main[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center}main[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(app-main-chart, app-chart-preview)[_ngcontent-%COMP%]{width:var(--width-main-content)}main[_ngcontent-%COMP%]   app-full-screen-chart[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:calc(100vh - var(--height-navbar));background-color:#fff}"]});let t=e;return t})();UG(cte,MW).catch(t=>console.error(t));
